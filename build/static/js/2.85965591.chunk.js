/*! For license information please see 2.85965591.chunk.js.LICENSE.txt */
(this["webpackJsonpstorybook-demo-app"]=this["webpackJsonpstorybook-demo-app"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(206)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _e})),n.d(t,"b",(function(){return Pe})),n.d(t,"c",(function(){return be})),n.d(t,"e",(function(){return Ne}));var r=n(79),i=n(0),a=n.n(i),o=n(181),s=n.n(o),l=n(182),c=n(106),u=n(153),d=n(67),f=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},v=Object.freeze([]),g=Object.freeze({});function b(e){return"function"==typeof e}function C(e){return e.displayName||e.name||"Component"}function y(e){return e&&"string"==typeof e.styledComponentId}var S="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",w="undefined"!=typeof window&&"HTMLElement"in window,T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),I={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),R=new Map,k=new Map,M=1,_=function(e){if(R.has(e))return R.get(e);for(;k.has(M);)M++;var t=M++;return R.set(e,t),k.set(t,e),t},A=function(e){return k.get(e)},x=function(e,t){t>=M&&(M=t+1),R.set(e,t),k.set(t,e)},D="style["+S+'][data-styled-version="5.3.1"]',j=new RegExp("^"+S+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),P=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},N=function(e,t){for(var n=(t.innerHTML||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(j);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(x(c,l),P(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},U=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(S))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(S,"active"),r.setAttribute("data-styled-version","5.3.1");var o=L();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},F=function(){function e(e){var t=this.element=U(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),W=function(){function e(e){var t=this.element=U(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=w,z={isServer:!w,useCSSOMInjection:!T},H=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=h({},z,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&w&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(D),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(S)&&(N(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return _(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new F(i):new W(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(_(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(_(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(_(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=A(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=S+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),q=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function J(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(q,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Z=function(e){return Y(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!y(n))return!1}return!0}var $=Z("5.3.1"),Q=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&K(e),this.componentId=t,this.baseHash=Y($,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ve(this.rules,e,t,n).join(""),o=J(Y(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=Y(this.baseHash,n.hash),u="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)u+=f;else if(f){var h=ve(f,e,t,n),p=Array.isArray(h)?h.join(""):h;c=Y(c,p+d),u+=p}}if(u){var m=J(c>>>0);if(!t.hasNameForId(r,m)){var v=n(u,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),X=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?g:e,o=a.options,s=void 0===o?g:o,c=a.plugins,u=void 0===c?v:c,d=new l.a(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function m(e,a,o,s){void 0===s&&(s="&");var l=e.replace(X,""),c=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(o||!a?"":a,c)}return d.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),m.hash=u.length?u.reduce((function(e,t){return t.name||O(15),Y(e,t.name)}),5381).toString():"",m}var ne=a.a.createContext(),re=(ne.Consumer,a.a.createContext()),ie=(re.Consumer,new H),ae=te();function oe(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||ae}function le(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=oe(),l=Object(i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(ne.Provider,{value:l},a.a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),ue=/([A-Z])/,de=/([A-Z])/g,fe=/^ms-/,he=function(e){return"-"+e.toLowerCase()};function pe(e){return ue.test(e)?e.replace(de,he).replace(fe,"-ms-"):e}var me=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ve(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return me(e)?"":y(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!me(t[o])&&(Array.isArray(t[o])&&t[o].isCss||b(t[o])?a.push(pe(o)+":",t[o],";"):m(t[o])?a.push.apply(a,e(t[o],o)):a.push(pe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||m(e)?ge(ve(p(v,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(ve(p(e,n)))}new Set;var Ce=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Se=/(^-|-$)/g;function we(e){return e.replace(ye,"-").replace(Se,"")}var Te=function(e){return J(Z(e)>>>0)};function Ie(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Re(e,t,n){var r=e[n];Oe(t)&&Oe(r)?ke(r,t):e[n]=t}function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Oe(o))for(var s in o)Ee(s)&&Re(e,o[s],s)}return e}var Me=a.a.createContext();Me.Consumer;function _e(e){var t=Object(i.useContext)(Me),n=Object(i.useMemo)((function(){return function(e,t){return e?b(e)?e(t):Array.isArray(e)||"object"!=typeof e?O(8):t?h({},t,{},e):e:O(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.a.createElement(Me.Provider,{value:n},e.children):null}var Ae={};function xe(e,t,n){var r=y(e),o=!Ie(e),s=t.attrs,l=void 0===s?v:s,c=t.componentId,d=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);Ae[n]=(Ae[n]||0)+1;var r=n+"-"+Te("5.3.1"+n+Ae[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,m=void 0===p?function(e){return Ie(e)?"styled."+e:"Styled("+C(e)+")"}(e):p,S=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||d,w=r&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,T=t.shouldForwardProp;r&&e.shouldForwardProp&&(T=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var I,O=new Q(n,S,r?e.componentStyle:void 0),E=O.isStatic&&0===l.length,R=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=h({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in b(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Ce(t,Object(i.useContext)(Me),s)||g,t,a),m=p[0],v=p[1],C=function(e,t,n,r){var i=oe(),a=se();return t?e.generateAndInjectStyles(g,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,m),y=n,S=v.$as||t.$as||v.as||t.as||f,w=Ie(S),T=v!==t?h({},t,{},v):t,I={};for(var O in T)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?I.as=T[O]:(c?c(O,u.a,S):!w||Object(u.a)(O))&&(I[O]=T[O]));return t.style&&v.style!==t.style&&(I.style=h({},t.style,{},v.style)),I.className=Array.prototype.concat(l,d,C!==d?C:null,t.className,v.className).filter(Boolean).join(" "),I.ref=y,Object(i.createElement)(S,I)}(I,e,t,E)};return R.displayName=m,(I=a.a.forwardRef(R)).attrs=w,I.componentStyle=O,I.displayName=m,I.shouldForwardProp=T,I.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,I.styledComponentId=S,I.target=r?e.target:e,I.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ie(e)?e:we(C(e)));return xe(e,h({},i,{attrs:w,componentId:a}),n)},Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?ke({},e.defaultProps,t):t}}),I.toString=function(){return"."+I.styledComponentId},o&&f()(I,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),I}var De=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return O(1,String(n));var a=function(){return t(n,i,be.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,h({},i,{},r))},a.attrs=function(r){return e(t,n,h({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(xe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){De[e]=De(e)}));var je=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=be.apply(void 0,[e].concat(n)),s="sc-global-"+Te(JSON.stringify(o)),l=new je(o,s);function c(e){var t=oe(),n=se(),r=Object(i.useContext)(Me),a=Object(i.useRef)(t.allocateGSInstance(s)).current;return t.server&&u(a,e,t,r,n),Object(i.useLayoutEffect)((function(){if(!t.server)return u(a,e,t,r,n),function(){return l.removeStyles(a,t)}}),[a,e,t,r,n]),null}function u(e,t,n,r,i){if(l.isStatic)l.renderStyles(e,I,n,i);else{var a=h({},t,{theme:Ce(t,r,c.defaultProps)});l.renderStyles(e,a,n,i)}}return a.a.memo(c)}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=be.apply(void 0,[e].concat(n)).join(""),a=Te(i);return new ce(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',S+'="true"','data-styled-version="5.3.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[S]="",t["data-styled-version"]="5.3.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[a.a.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?O(2):a.a.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)}}();t.d=De}).call(this,n(162))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(0),i=n.n(r),a=n(1),o=n(101),s=Object(r.createContext)({theme:o.b}),l=function(e){var t=e.children;return i.a.createElement(s.Consumer,null,(function(e){return i.a.createElement(a.a,{theme:e.theme||o.b},t)}))}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(101),i=function(e,t){var n="light"===t.themeVariant?"Dark":"Light";return function(e){return["primary","secondary","success","danger","warning","info","neutral"].includes(e)}(e)?r.a[t.themeVariant]["".concat(e).concat(n)]:"text"===e?t.text[t.themeVariant].body:""!==e?e:t.text[t.themeVariant].body}},function(e,t,n){"use strict";e.exports=n(211)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(170);var i=n(104),a=n(171);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){e.exports=n(212)()},function(e,t,n){"use strict";n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return B}));var r=n(28),i=n(4),a=n(7),o=(n(159),n(0)),s=n(97),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=Object(s.a)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),u=n(41),d=n(59),f=n(69),h=c,p=function(e){return"theme"!==e},m=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},v=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function e(t,n){var r,a,s=t.__emotion_real===t,l=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var c=v(t,n,s),h=c||m(l),p=!h("as");return function(){var g=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&b.push("label:"+r+";"),null==g[0]||void 0===g[0].raw)b.push.apply(b,g);else{0,b.push(g[0][0]);for(var C=g.length,y=1;y<C;y++)b.push(g[y],g[0][y])}var S=Object(u.e)((function(e,t,n){var r=p&&e.as||l,i="",s=[],v=e;if(null==e.theme){for(var g in v={},e)v[g]=e[g];v.theme=Object(o.useContext)(u.b)}"string"===typeof e.className?i=Object(d.a)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var C=Object(f.a)(b.concat(s),t.registered,v);Object(d.b)(t,C,"string"===typeof r);i+=t.key+"-"+C.name,void 0!==a&&(i+=" "+a);var y=p&&void 0===c?m(r):h,S={};for(var w in e)p&&"as"===w||y(w)&&(S[w]=e[w]);return S.className=i,S.ref=n,Object(o.createElement)(r,S)}));return S.displayName=void 0!==r?r:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=l,S.__emotion_styles=b,S.__emotion_forwardProp=c,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(t,r){return e(t,Object(i.a)({},n,r,{shouldForwardProp:v(S,r,!0)})).apply(void 0,b)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b=g;function C(e,t){return b(e,t)}var y=n(306),S=n(12),w=n(63),T=n(93),I=n(31);function O(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;if("function"===typeof n)return n(i);if("object"!==typeof n)return n;var a=Object(I.a)(i.breakpoints),o=Object.keys(a),s=a;return Object.keys(n).forEach((function(e){var t,r,a=(t=n[e],r=i,"function"===typeof t?t(r):t);if("object"===typeof a)if(T.b[e])s=Object(w.a)(s,Object(T.a)(e,a,i));else{var o=Object(I.b)({theme:i},a,(function(t){return Object(S.a)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(o,a)?s=Object(w.a)(s,o):s[e]=O({sx:a,theme:i})}else s=Object(w.a)(s,Object(T.a)(e,a,i))})),Object(I.c)(o,s)}O.filterProps=["sx"];var E=O,R=n(192),k=["variant"];function M(e){return 0===e.length}function _(e){var t=e.variant,n=Object(a.a)(e,k),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?M(r)?e[t]:Object(R.a)(e[t]):"".concat(M(r)?t:Object(R.a)(t)).concat(Object(R.a)(e[t].toString()))})),r}var A=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],x=["theme"],D=["theme"];function j(e){return 0===Object.keys(e).length}var P=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},N=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=_(e.props);r[t]=e.style})),r},L=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,l=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&l.push(t[_(n.props)])})),l};function U(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var F=Object(y.a)();var W=n(73),V=function(e){return U(e)&&"classes"!==e},B=U,z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?F:t,o=e.rootShouldForwardProp,s=void 0===o?U:o,l=e.slotShouldForwardProp,c=void 0===l?U:l;return function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=o.name,u=o.slot,d=o.skipVariantsResolver,f=o.skipSx,h=o.overridesResolver,p=Object(a.a)(o,A),m=void 0!==d?d:u&&"Root"!==u||!1,v=f||!1;var g=U;"Root"===u?g=s:u&&(g=c);var b=C(e,Object(i.a)({shouldForwardProp:g,label:t},p)),y=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];var c=o?o.map((function(e){return"function"===typeof e?function(t){var r=t.theme,o=Object(a.a)(t,x);return e(Object(i.a)({theme:j(r)?n:r},o))}:e})):[],u=e;l&&h&&c.push((function(e){var t=j(e.theme)?n:e.theme,r=P(l,t);return r?h(e,r):null})),l&&!m&&c.push((function(e){var t=j(e.theme)?n:e.theme;return L(e,N(l,t),t,l)})),v||c.push((function(e){var t=j(e.theme)?n:e.theme;return E(Object(i.a)({},e,{theme:t}))}));var d=c.length-o.length;if(Array.isArray(e)&&d>0){var f=new Array(d).fill("");(u=[].concat(Object(r.a)(e),Object(r.a)(f))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(f))}else"function"===typeof e&&(u=function(t){var r=t.theme,o=Object(a.a)(t,D);return e(Object(i.a)({theme:j(r)?n:r},o))});var p=b.apply(void 0,[u].concat(Object(r.a)(c)));return p};return y}}({defaultTheme:W.a,rootShouldForwardProp:V});t.a=z},function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return g}));var r="top",i="bottom",a="right",o="left",s="auto",l=[r,i,a,o],c="start",u="end",d="clippingParents",f="viewport",h="popper",p="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+u])}),[]),v=[].concat(l,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])}),[]),g=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(12),i=n(192),a=n(31);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,c=e.themeKey,u=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=o(e.theme,c)||{};return Object(a.b)(e,n,(function(e){var n=s(d,u,e);return e===n&&"string"===typeof e&&(n=s(d,u,"".concat(t).concat("default"===e?"":Object(i.a)(e)),e)),!1===l?n:Object(r.a)({},l,n)}))};return d.propTypes={},d.filterProps=[t],d}},function(e,t,n){e.exports=n(215)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4);var i=n(152);function a(e){var t=e.props,n=e.name,a=e.defaultTheme;return function(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return i;var a,o=Object(r.a)({},i),s=t.components[n].defaultProps;for(a in s)void 0===o[a]&&(o[a]=s[a]);return o}({theme:Object(i.a)(a),name:n,props:t})}var o=n(73);function s(e){return a({props:e.props,name:e.name,defaultTheme:o.a})}},,function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(192);t.a=r.a},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,i=n(2),a=n(21),o=n(0),s=n.n(o),l=n(1),c=n(3),u=n(49),d=l.d.span(r||(r=Object(i.a)(["\n\tdisplay: inherit;\n\tflex-direction: inherit;\n\talign-items: inherit;\n\tmargin: ",";\n\tmargin-top: ",";\n\tmargin-left: ",";\n\tmargin-bottom: ",";\n\tmargin-right: ",";\n"])),(function(e){return e.all&&e.theme.spacing[e.all]}),(function(e){return e.top&&e.theme.spacing[e.top]||e.vertical&&e.theme.spacing[e.vertical]}),(function(e){return e.left&&e.theme.spacing[e.left]||e.horizontal&&e.theme.spacing[e.horizontal]}),(function(e){return e.bottom&&e.theme.spacing[e.bottom]||e.vertical&&e.theme.spacing[e.vertical]}),(function(e){return e.right&&e.theme.spacing[e.right]||e.horizontal&&e.theme.spacing[e.horizontal]}));d.displayName="OutsetContainer";var f,h,p,m,v,g,b,C,y,S,w,T,I=function(e){var t=e.children,n=e.className,r=e.all,i=e.top,a=e.left,s=e.bottom,l=e.right,u=e.horizontal,f=e.vertical;return o.createElement(c.a,null,o.createElement(d,{all:r,top:i,left:a,bottom:s,right:l,horizontal:u,vertical:f,className:n},t))},O=l.d.div(f||(f=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-weight: 700;\n"]))),E=l.d.button(h||(h=Object(i.a)(["\n\tborder-radius: ",";\n\tcolor: black;\n\tletter-spacing: 0.2px;\n\ttext-decoration: none;\n\tfont-family: ",";\n\tfont-size: ",";\n\tline-height: ",";\n\tborder: none;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tmargin: 0;\n\tpadding: 0;\n\twidth: ",";\n\twhite-space: nowrap;\n\n\t&,\n\tsvg * {\n\t\ttransition: all linear 0.125s;\n\t}\n\n\t:disabled {\n\t\tcursor: not-allowed;\n\t}\n\t:focus {\n\t\toutline: none;\n\t}\n\n\t","\n\n\t","\n"])),(function(e){var t=e.squared,n=e.theme;return t?n.spacing[2]:"100px"}),(function(e){return e.theme.fontFamily.sans}),(function(e){var t=e.theme;return"small"===e.size?t.fontSize.xs:t.fontSize.sm}),(function(e){return"small"===e.size?"10px":"20px"}),(function(e){return"fluid"===e.layout?"100%":"auto"}),(function(e){return"fluid"===e.layout&&Object(l.c)(p||(p=Object(i.a)(["\n\t\t\t& div {\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\t\t"])))}),(function(e){var t=e.theme;return"small"===e.size&&Object(l.c)(m||(m=Object(i.a)(["\n\t\t\theight: ",";\n\t\t"])),t.spacing[12])})),R=Object(l.d)(E)(v||(v=Object(i.a)(["\n\tcolor: ",";\n\tbackground-color: ",";\n\n\tsvg * {\n\t\tfill: ",";\n\t}\n\n\t","\n\n\t:hover {\n\t\tbackground-color: ",";\n\t\tbox-shadow: inset 0px 0px 0px 2px\n\t\t\t",";\n\t}\n\t:focus {\n\t\tbackground-color: ",";\n\t\tbox-shadow: 0px 0px 2px 3px\n\t\t\t",";\n\t}\n\t:active {\n\t\tbackground-color: ",";\n\t}\n\n\t:disabled {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t\tbox-shadow: inset 0px 0px 0px 2px\n\t\t\t",";\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"])),(function(e){var t=e.theme;return t.buttons.fill[t.themeVariant].textColor}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].backgroundColor[n]}),(function(e){var t=e.theme;return t.buttons.fill[t.themeVariant].textColor}),(function(e){var t=e.pressed,n=e.theme,r=e.variant;return t&&r&&Object(l.c)(g||(g=Object(i.a)(["\n\t\t\tbackground-color: ",";\n\t\t"])),n.buttons.fill[n.themeVariant].backgroundColorHover[r])}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].borderColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].focusOutline[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.fill[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme;return e.variant&&t.buttons.fill[t.themeVariant].textColorDisabled}),(function(e){var t=e.theme;return e.variant&&t.buttons.fill[t.themeVariant].backgroundColorDisabled}),(function(e){var t=e.theme;return e.variant&&t.buttons.fill[t.themeVariant].backgroundColorDisabled}),(function(e){var t=e.theme;return e.variant&&t.buttons.fill[t.themeVariant].textColorDisabled}));R.displayName="FillButtonContainer";var k=Object(l.d)(E)(b||(b=Object(i.a)(["\n\tcolor: ",";\n\tbackground-color: ",";\n\tbox-shadow: ",";\n\tbox-sizing: border-box;\n\n\tsvg * {\n\t\tfill: ",";\n\t\tstroke: ",";\n\t}\n\n\t","\n\n\t:hover {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t\tstroke: ",";\n\t\t}\n\t}\n\t:active {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t}\n\t:focus {\n\t\tcolor: ",";\n\t\tbox-shadow: 0px 0px 2px 2px\n\t\t\t\t",",\n\t\t\tinset 0px 0px 0px 2px\n\t\t\t\t",";\n\t}\n\n\t:disabled {\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t\tbox-shadow: inset 0px 0px 0px 2px\n\t\t\t",";\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t\tstroke: ",";\n\t\t}\n\t}\n"])),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.buttons.outline[t.themeVariant].backgroundColor}),(function(e){var t=e.theme,n=t.buttons,r=t.themeVariant,i=e.variant;return i&&"inset 0px 0px 0px 2px ".concat(n.outline[r].borderColor[i])}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.pressed,n=e.theme,r=n.buttons,a=n.themeVariant,o=e.variant;return t&&o&&Object(l.c)(C||(C=Object(i.a)(["\n\t\t\tbackground-color: ",";\n\t\t\tcolor: ",";\n\t\t\tsvg * {\n\t\t\t\tfill: ",";\n\t\t\t}\n\t\t\tsvg * {\n\t\t\t\tstroke: ",";\n\t\t\t}\n\t\t"])),r.outline[a].backgroundColorPressed[o],r.outline[a].textColorPressed[o],r.outline[a].textColorPressed[o],r.outline[a].textColorPressed[o])}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.outline[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.outline[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColor}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.outline[t.themeVariant].focusOutline[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.outline[t.themeVariant].borderColor[n]}),(function(e){var t=e.theme;return t.buttons.outline[t.themeVariant].backgroundColorDisabled}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].textColorDisabled}),(function(e){var t=e.theme;return e.variant&&t.buttons.outline[t.themeVariant].borderColorDisabled}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.link[t.themeVariant].textColorDisabled[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.link[t.themeVariant].textColorDisabled[n]}));k.displayName="OutlineButtonContainer";var M=Object(l.d)(E)(y||(y=Object(i.a)(["\n\tcolor: ",";\n\tfont-weight: normal;\n\tborder-width: 0px;\n\tborder-style: none;\n\tborder-color: transparent;\n\tbackground-color: transparent;\n\tmargin: 0;\n\tpadding: 0;\n\n\tsvg * {\n\t\tfill: ",";\n\t}\n\n\t",";\n\n\t:hover,\n\t:focus {\n\t\tcolor: ",";\n\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n\n\t:disabled {\n\t\tcolor: ",";\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"])),(function(e){var t=e.theme,n=e.variant;return t.buttons.link[t.themeVariant].textColor[n]}),(function(e){var t=e.theme,n=e.variant;return t.buttons.link[t.themeVariant].textColor[n]}),(function(e){var t=e.theme,n=e.pressed,r=e.variant;return n&&r&&Object(l.c)(S||(S=Object(i.a)(["\n\t\t\tcolor: ",";\n\t\t\tsvg * {\n\t\t\t\tfill: ",";\n\t\t\t}\n\t\t"])),t.buttons.link[t.themeVariant].textColorHover[r],t.buttons.link[t.themeVariant].textColorHover[r])}),(function(e){var t=e.theme,n=e.variant;return t.buttons.link[t.themeVariant].textColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return t.buttons.link[t.themeVariant].textColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.link[t.themeVariant].textColorDisabled[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.link[t.themeVariant].textColorDisabled[n]}));M.displayName="LinkButtonContainer";var _=Object(l.d)(E)(w||(w=Object(i.a)(["\n\tcolor: ",";\n\tbackground: ",";\n\tbox-shadow: inset 0px 0px 0px 1px\n\t\t",";\n\n\tsvg * {\n\t\tfill: ",";\n\t\tstroke: ",";\n\t}\n\t",";\n\t:hover,\n\t:active {\n\t\tcolor: ",";\n\t\tbackground: ",";\n\t\tbox-shadow: inset 0px 0px 0px 1px\n\t\t\t",";\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n\n\t:focus {\n\t\tbox-shadow: 0px 0px 2px 3px\n\t\t\t",";\n\t}\n\n\t:disabled {\n\t\tcolor: ",";\n\t\tbackground: ",";\n\t\tbox-shadow: inset 0px 0px 0px 1px\n\t\t\t",";\n\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"])),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].textColor[n]}),(function(e){var t=e.theme;return t.buttons.plain[t.themeVariant].backgroundColor}),(function(e){var t=e.theme,n=e.variant;return n&&"".concat(t.buttons.plain[t.themeVariant].borderColor[n]," ").concat(t.buttons.plain[t.themeVariant].boxShadow?", 0px 4px 20px rgba(0, 0, 0, 0.08)":"")}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].textColor[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].textColor[n]}),(function(e){var t=e.pressed,n=e.theme,r=e.variant;return t&&r&&Object(l.c)(T||(T=Object(i.a)(["\n\t\t\tbackground-color: ",";\n\t\t\tbox-shadow: inset 0px 0px 0px 1px;\n\t\t\tcolor: ",";\n\t\t\tsvg * {\n\t\t\t\tfill: ",";\n\t\t\t\tstroke: ",";\n\t\t\t}\n\t\t"])),n.buttons.plain[n.themeVariant].backgroundColorPressed[r],n.buttons.plain[n.themeVariant].textColorPressed[r],n.buttons.plain[n.themeVariant].textColorPressed[r],n.buttons.plain[n.themeVariant].textColorPressed[r])}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].textColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].backgroundColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].borderColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].textColorHover[n]}),(function(e){var t=e.theme,n=e.variant;return n&&t.buttons.plain[t.themeVariant].focusOutline[n]}),(function(e){var t=e.theme;return t.buttons.plain[t.themeVariant].textColorDisabled}),(function(e){var t=e.theme;return t.buttons.plain[t.themeVariant].backgroundColorDisabled}),(function(e){var t=e.theme;return t.buttons.plain[t.themeVariant].borderColorDisabled}),(function(e){var t=e.theme;return t.buttons.plain[t.themeVariant].textColorDisabled})),A=function(e){return s.a.createElement(u.a,{horizontal:"link"===e.style?"0":"small"==e.size?"2":"4",vertical:"link"===e.style||"small"==e.size?"0":"4"},s.a.createElement(O,null,e.withIconStart&&s.a.createElement(I,{left:"2"},s.a.cloneElement(e.withIconStart,{height:20,width:20,ariaHidden:!0})),e.children&&s.a.createElement(I,{right:"2",left:"2"},e.children),e.withIconEnd&&s.a.createElement(I,{right:"2"},s.a.cloneElement(e.withIconEnd,{height:20,width:20,ariaHidden:!0})),e.withIcon&&!e.children&&s.a.cloneElement(e.withIcon,{height:20,width:20,ariaHidden:!0})))},x=function(e,t){var n=Object(a.b)(e,[]),r=Object(o.useContext)(c.b).theme,i=n.ariaControls,l=n.ariaHasPopup,u=n.ariaLabel,d=n.as,f=n.children,h=n.className,p=n.disabled,m=n.href,v=n.id,g=n.layout,b=n.onClick,C=n.onKeyDown,y=n.onTouchStart,S=n.pressed,w=n.role,T=n.squared,I=void 0!==T&&T,O=n.size,E=void 0===O?"medium":O,x=n.tabIndex,D=n.target,j=n.title,P=n.type,N=n.use,L=void 0===N?"primary":N,U=n.withIcon,F=n.withIconStart,W=n.withIconEnd,V=r.buttons.functions[r.themeVariant][L],B=V.style,z=V.color,H={onClick:b,size:E},q=Object.assign(Object.assign({},H),{"aria-haspopup":l,"aria-controls":i,"aria-label":u,"aria-pressed":S,as:d,className:h,disabled:p,href:m,id:v,layout:g,onKeyDown:C,onTouchStart:y,pressed:S,ref:t,role:w,squared:I,tabIndex:x,target:D,title:j,type:P,variant:z}),G=Object.assign(Object.assign({},H),{children:f,withIcon:U,withIconStart:F,withIconEnd:W,size:E,style:B});return s.a.createElement(c.a,null,"fill"===B&&s.a.createElement(R,Object.assign({},q),A(G)),"outline"===B&&s.a.createElement(k,Object.assign({},q),A(G)),"link"===B&&s.a.createElement(M,Object.assign({},q),A(G)),"plain"===B&&s.a.createElement(_,Object.assign({},q),A(G)))};x.displayName="Button";var D=Object(o.forwardRef)(x)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(e){Object(r.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(34);function i(e){return e instanceof Object(r.a)(e).Element||e instanceof Element}function a(e){return e instanceof Object(r.a)(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Object(r.a)(e).ShadowRoot||e instanceof ShadowRoot)}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(207)},function(e,t,n){"use strict";var r=n(253);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(99);var i=n(172),a=n(104);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n(2),a=n(0),o=n(1),s=n(3),l=n(5),c=o.d.p(r||(r=Object(i.a)(["\n\tfont-family: ",";\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: ",";\n\tfont-style: ",";\n\ttext-transform: ",";\n\ttext-align: ",";\n\tmargin: 0;\n\tpadding: 0;\n\tword-wrap: break-word;\n\thyphens: auto;\n"])),(function(e){return e.theme.fontFamily.sans}),(function(e){var t=e.theme,n=e.color;return n?Object(l.a)(n,t):t.text[t.themeVariant].body}),(function(e){return e.size?(t=e.size,n=e.theme,Object.keys(n.fontSize).includes(t)?e.theme.fontSize[e.size]:e.size):e.theme.fontSize.base;var t,n}),(function(e){return e.isBold?"bold":"normal"}),(function(e){return e.isItalic?"italic":"normal"}),(function(e){return e.isUppercase?"uppercase":"none"}),(function(e){return e.align}));c.displayName="BodyTextContainer";var u=function(e){var t=e.align,n=void 0===t?"left":t,r=e.as,i=e.children,o=e.color,l=e.id,u=e.isBold,d=e.isItalic,f=e.isUppercase,h=e.size,p=void 0===h?"sm":h,m=e.className;return a.createElement(s.a,null,a.createElement(c,{align:n,as:r,color:o,id:l,isItalic:d,isBold:u,isUppercase:f,size:p,className:m},i))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=Math.max,i=Math.min,a=Math.round},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));n(28),n(4),n(9),n(154),n(63);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(s.values||r).indexOf(i)){e[s.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return 0===Object.keys(n).length&&delete e[t],e}),t)}function l(e){var t,n=e.values,r=e.base,i=Object.keys(r);return 0===i.length?n:i.reduce((function(e,r){return e[r]="object"===typeof n?null!=n[r]?n[r]:n[t]:n,t=r,e}),{})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return M}));var r,i,a,o,s,l,c=n(28),u=n(8),d=n(2),f=n(21),h=n(0),p=n.n(h),m=n(22),v=n(3),g=n(1),b=n(88),C=n(35),y=Object(h.createContext)({items:[],setItems:null,focusedItem:-2,setFocusedItem:null,toggleMenu:null}),S=g.d.div(r||(r=Object(d.a)([""]))),w=Object(g.d)(C.a)(i||(i=Object(d.a)(["\n\tborder-radius: ",";\n\n\t& > div {\n\t\tpadding: "," 0;\n\n\t\t& > div {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),T=function(e){var t=e.className,n=e.children,r=e.placement,i=void 0===r?"bottom":r,a=Object(h.useState)([]),o=Object(u.a)(a,2),s=o[0],l=o[1],c=Object(h.useState)(-2),d=Object(u.a)(c,2),f=d[0],m=d[1],g=Object(h.useState)(),C=Object(u.a)(g,2),T=C[0],I=C[1],O={items:s,setItems:l,focusedItem:f,setFocusedItem:m,toggleMenu:function(e){return null===T||void 0===T?void 0:T[e]()}},E=b.a.uniqueId("dropdown"),R=[],k=[];return h.Children.forEach(n,(function(e,t){var n,r=null===(n=Object.assign({},null===e||void 0===e?void 0:e.type))||void 0===n?void 0:n.displayName;"DropdownButton"===r?R.push(Object(h.cloneElement)(e,{id:E,key:t})):"DropdownMenu"===r&&k.push(Object(h.cloneElement)(e,{id:E,key:t}))})),p.a.createElement(v.a,null,p.a.createElement(y.Provider,{value:O},p.a.createElement(S,null,p.a.createElement(w,{className:t,content:k,interactive:!0,onCreate:function(e){return I(e)},onHidden:function(){return m(-2)},placement:i,popperOptions:{modifiers:[{name:"preventOverflow",options:{boundary:document.body}}]},trigger:"click"},R))))};T.displayName="Dropdown";var I=function(e){var t=e.ariaLabel,n=e.children,r=e.id,i=Object(f.b)(e,["ariaLabel","children","id"]),a=Object(h.useRef)(null),o=Object(h.useContext)(y),s=o.focusedItem,l=o.setFocusedItem,c=o.items,u=o.toggleMenu;Object(h.useEffect)((function(){var e;-1===s&&(null===(e=a.current)||void 0===e||e.focus())}),[s]);return p.a.createElement(v.a,null,p.a.createElement(m.a,Object.assign({},i,{ariaControls:"".concat(r,"-menu"),ariaHasPopup:"menu",ariaLabel:t||"Dropdown button",id:"".concat(r,"-button"),onKeyDown:function(e){if(["ArrowDown","ArrowUp","Enter"," "].includes(e.key)){e.preventDefault(),null===u||void 0===u||u("show");for(var t="ArrowUp"===e.key?c.length-1:0,n=t;c[t].disabled&&(t="ArrowUp"===e.key?t-1===-1?c.length-1:t-1:t+1===c.length?0:t+1)!==n;);null===l||void 0===l||l(t)}},ref:a}),n))};I.displayName="DropdownButton";var O=g.d.ul(a||(a=Object(d.a)(["\n\tpadding: 0;\n\tmargin: 0;\n"]))),E=function(e){var t=e.children,n=e.id,r=Object(f.b)(e,["children","id"]),i=Object(h.useContext)(y),a=i.focusedItem,o=i.setItems,s=[],l=h.Children.map(t,(function(e,t){var r;if("DropdownMenuItem"===(null===(r=Object.assign({},null===e||void 0===e?void 0:e.type))||void 0===r?void 0:r.displayName))return s.push({child:e.props.children,disabled:!!e.props.disabled}),Object(h.cloneElement)(e,{index:t,id:n})}));return Object(h.useEffect)((function(){null===o||void 0===o||o(s)}),[]),p.a.createElement(v.a,null,p.a.createElement(O,Object.assign({id:"".concat(n,"-menu"),role:"menu","aria-labelledby":"".concat(n,"-button"),"aria-activedescendant":"".concat(n,"-menu-li-").concat(a)},r),l))};E.displayName="DropdownMenu";var R=g.d.li(o||(o=Object(d.a)(["\n\tlist-style: none;\n\tborder-bottom: ",";\n\n\t&:last-child {\n\t\tborder-bottom: none;\n\t}\n"])),(function(e){var t=e.theme,n=t.dropdown,r=t.themeVariant;return"".concat(n.borderWidth," solid ").concat(n[r].borderColor)})),k=Object(g.d)(m.a)(s||(s=Object(d.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\n\tcolor: ",";\n\tcursor: pointer;\n\n\tmin-width: ",";\n\tpadding: ",";\n\tbox-sizing: border-box;\n\tborder-radius: 0;\n\n\ttransition: all 150ms ease;\n\n\t& svg * {\n\t\tfill: ",";\n\t}\n\n\t& span > div {\n\t\tfont-weight: normal;\n\t}\n\n\t:hover,\n\t:focus {\n\t\toutline: none;\n\n\t\t",";\n\t}\n"])),(function(e){var t=e.theme;return t.dropdown[t.themeVariant].textColor}),(function(e){return e.theme.dropdown.minWidth}),(function(e){var t=e.theme;return"".concat(t.spacing[4]," ").concat(t.spacing[2])}),(function(e){var t=e.theme;return t.dropdown[t.themeVariant].textColor}),(function(e){var t=e.disabled,n=e.theme;return!t&&Object(g.c)(l||(l=Object(d.a)(["\n\t\t\t\tbackground-color: ",";\n\t\t\t\tcolor: ",";\n\n\t\t\t\t& svg {\n\t\t\t\t\tfill: ",";\n\t\t\t\t}\n\t\t\t"])),n.dropdown[n.themeVariant].backgroundColorOptionHover,(function(e){var t=e.theme;return t.dropdown[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.dropdown[t.themeVariant].textColor}))})),M=function(e){var t=e.children,n=e.disabled,r=e.id,i=e.index,a=e.onClick,o=e.withIcon,s=Object(h.useRef)(null),l=Object(h.useContext)(y),u=l.focusedItem,d=l.setFocusedItem,f=l.items,m=l.toggleMenu;Object(h.useEffect)((function(){var e;u===i&&(null===(e=s.current)||void 0===e||e.focus())}),[u]);var g=function(e){null===e||void 0===e||e.preventDefault(),a(),null===m||void 0===m||m("hide")};return p.a.createElement(v.a,null,p.a.createElement(R,{id:"".concat(r,"-menu-li-").concat(i)},p.a.createElement(k,{disabled:n,key:i,onKeyDown:function(e){null===e||void 0===e||e.preventDefault();var t=e.key,n=f.map((function(e){return!e.disabled&&e.child.slice(0,1).toLowerCase()})),r=[" ","ArrowDown","ArrowUp","End","Enter","Escape","Home","Tab"].concat(Object(c.a)(n));if(r.includes(t)||r.includes(t.toLowerCase())){var a=-1;if(["Enter"," "].includes(t))g();else if("Escape"===t)null===m||void 0===m||m("hide");else if("Tab"===t)null===m||void 0===m||m("hide"),a=-2;else if(n.includes(t.toLowerCase()))a=n.indexOf(t.toLowerCase());else if(["ArrowDown","ArrowUp","End","Home"].includes(t))for(a=0,"ArrowDown"===t?a=u+1===f.length?0:u+1:"ArrowUp"===t?a=u-1===-1?f.length-1:u-1:"End"===t&&(a=f.length-1);f[a].disabled&&a!==i;)a=_(a,t,f.length);null===d||void 0===d||d(a)}},onClick:g,ref:s,role:"menuitem",tabIndex:-1,use:"link",withIconStart:o},t)))};M.displayName="DropdownMenuItem";var _=function(e,t,n){return["ArrowUp","End"].includes(t)?e-1===-1?n-1:e-1:e+1===n?0:e+1}},function(e,t,n){"use strict";var r=n(110),i="object"==typeof self&&self&&self.Object===Object&&self,a=r.a||i||Function("return this")();t.a=a},function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n(2),i=n(21),a=n(0),o=n.n(a),s=(n(169),n(146)),l=n(120),c=n(118),u=n(119),d=n(39),f=n(25);var h={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Object(f.b)(i)&&Object(d.a)(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Object(f.b)(r)&&Object(d.a)(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},p=n(121),m=n(131),v=n(137),g=n(122),b=n(112),C=[l.a,c.a,u.a,h,p.a,m.a,v.a,g.a,b.a],y=Object(s.a)({defaultModifiers:C}),S="tippy-content",w="tippy-backdrop",T="tippy-arrow",I="tippy-svg-arrow",O={passive:!0,capture:!0},E=function(){return document.body};function R(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function k(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function M(e,t){return"function"===typeof e?e.apply(void 0,t):e}function _(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function A(e){return[].concat(e)}function x(e,t){-1===e.indexOf(t)&&e.push(t)}function D(e){return e.split("-")[0]}function j(e){return[].slice.call(e)}function P(){return document.createElement("div")}function N(e){return["Element","Fragment"].some((function(t){return k(e,t)}))}function L(e){return k(e,"MouseEvent")}function U(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function F(e){return N(e)?[e]:function(e){return k(e,"NodeList")}(e)?j(e):Array.isArray(e)?e:j(document.querySelectorAll(e))}function W(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function V(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function B(e){var t,n=A(e)[0];return(null==n||null==(t=n.ownerDocument)?void 0:t.body)?n.ownerDocument:document}function z(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function H(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==(r=null==n.getRootNode?void 0:n.getRootNode())?void 0:r.host}return!1}var q={isTouch:!1},G=0;function J(){q.isTouch||(q.isTouch=!0,window.performance&&document.addEventListener("mousemove",Y))}function Y(){var e=performance.now();e-G<20&&(q.isTouch=!1,document.removeEventListener("mousemove",Y)),G=e}function Z(){var e=document.activeElement;if(U(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var K=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var $={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Q=Object.assign({appendTo:E,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},$,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),X=Object.keys(Q);function ee(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Q[i])?r:a);return t}),{});return Object.assign({},e,{},t)}function te(e,t){var n=Object.assign({},t,{content:M(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(ee(Object.assign({},Q,{plugins:t}))):X).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Q.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function ne(e,t){e.innerHTML=t}function re(e){var t=P();return!0===e?t.className=T:(t.className=I,N(e)?t.appendChild(e):ne(t,e)),t}function ie(e,t){N(t.content)?(ne(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?ne(e,t.content):e.textContent=t.content)}function ae(e){var t=e.firstElementChild,n=j(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(S)})),arrow:n.find((function(e){return e.classList.contains(T)||e.classList.contains(I)})),backdrop:n.find((function(e){return e.classList.contains(w)}))}}function oe(e){var t=P(),n=P();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=P();function i(n,r){var i=ae(t),a=i.box,o=i.content,s=i.arrow;r.theme?a.setAttribute("data-theme",r.theme):a.removeAttribute("data-theme"),"string"===typeof r.animation?a.setAttribute("data-animation",r.animation):a.removeAttribute("data-animation"),r.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?a.setAttribute("role",r.role):a.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||ie(o,e.props),r.arrow?s?n.arrow!==r.arrow&&(a.removeChild(s),a.appendChild(re(r.arrow))):a.appendChild(re(r.arrow)):s&&a.removeChild(s)}return r.className=S,r.setAttribute("data-state","hidden"),ie(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}oe.$$tippy=!0;var se=1,le=[],ce=[];function ue(e,t){var n,r,i,a,o,s,l,c,u,d=te(e,Object.assign({},Q,{},ee((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),f=!1,h=!1,p=!1,m=!1,v=[],g=_(ye,d.interactiveDebounce),b=se++,C=(u=d.plugins).filter((function(e,t){return u.indexOf(e)===t})),S={id:b,reference:e,popper:P(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:C,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)},setProps:function(t){0;if(S.state.isDestroyed)return;ne("onBeforeUpdate",[S,t]),be();var n=S.props,r=te(e,Object.assign({},S.props,{},t,{ignoreAttributes:!0}));S.props=r,ge(),n.interactiveDebounce!==r.interactiveDebounce&&(oe(),g=_(ye,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?A(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");ie(),X(),I&&I(n,r);S.popperInstance&&(Ie(),Ee().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));ne("onAfterUpdate",[S,t])},setContent:function(e){S.setProps({content:e})},show:function(){0;var e=S.state.isVisible,t=S.state.isDestroyed,n=!S.state.isEnabled,r=q.isTouch&&!S.props.touch,i=R(S.props.duration,0,Q.duration);if(e||t||n||r)return;if(J().hasAttribute("disabled"))return;if(ne("onShow",[S],!1),!1===S.props.onShow(S))return;S.state.isVisible=!0,G()&&(T.style.visibility="visible");X(),he(),S.state.isMounted||(T.style.transition="none");if(G()){var a=Z(),o=a.box,s=a.content;W([o,s],0)}l=function(){var e;if(S.state.isVisible&&!m){if(m=!0,T.offsetHeight,T.style.transition=S.props.moveTransition,G()&&S.props.animation){var t=Z(),n=t.box,r=t.content;W([n,r],i),V([n,r],"visible")}re(),ie(),x(ce,S),null==(e=S.popperInstance)||e.forceUpdate(),S.state.isMounted=!0,ne("onMount",[S]),S.props.animation&&G()&&function(e,t){me(e,t)}(i,(function(){S.state.isShown=!0,ne("onShown",[S])}))}},function(){var e,t=S.props.appendTo,n=J();e=S.props.interactive&&t===E||"parent"===t?n.parentNode:M(t,[n]);e.contains(T)||e.appendChild(T);Ie(),!1}()},hide:function(){0;var e=!S.state.isVisible,t=S.state.isDestroyed,n=!S.state.isEnabled,r=R(S.props.duration,1,Q.duration);if(e||t||n)return;if(ne("onHide",[S],!1),!1===S.props.onHide(S))return;S.state.isVisible=!1,S.state.isShown=!1,m=!1,f=!1,G()&&(T.style.visibility="hidden");if(oe(),pe(),X(),G()){var i=Z(),a=i.box,o=i.content;S.props.animation&&(W([a,o],r),V([a,o],"hidden"))}re(),ie(),S.props.animation?G()&&function(e,t){me(e,(function(){!S.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&t()}))}(r,S.unmount):S.unmount()},hideWithInteractivity:function(e){0;Y().addEventListener("mousemove",g),x(le,g),g(e)},enable:function(){S.state.isEnabled=!0},disable:function(){S.hide(),S.state.isEnabled=!1},unmount:function(){0;S.state.isVisible&&S.hide();if(!S.state.isMounted)return;Oe(),Ee().forEach((function(e){e._tippy.unmount()})),T.parentNode&&T.parentNode.removeChild(T);ce=ce.filter((function(e){return e!==S})),S.state.isMounted=!1,ne("onHidden",[S])},destroy:function(){0;if(S.state.isDestroyed)return;S.clearDelayTimeouts(),S.unmount(),be(),delete e._tippy,S.state.isDestroyed=!0,ne("onDestroy",[S])}};if(!d.render)return S;var w=d.render(S),T=w.popper,I=w.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+S.id,S.popper=T,e._tippy=S,T._tippy=S;var k=C.map((function(e){return e.fn(S)})),N=e.hasAttribute("aria-expanded");return ge(),ie(),X(),ne("onCreate",[S]),d.showOnCreate&&Re(),T.addEventListener("mouseenter",(function(){S.props.interactive&&S.state.isVisible&&S.clearDelayTimeouts()})),T.addEventListener("mouseleave",(function(e){S.props.interactive&&S.props.trigger.indexOf("mouseenter")>=0&&(Y().addEventListener("mousemove",g),g(e))})),S;function U(){var e=S.props.touch;return Array.isArray(e)?e:[e,0]}function F(){return"hold"===U()[0]}function G(){var e;return!!(null==(e=S.props.render)?void 0:e.$$tippy)}function J(){return c||e}function Y(){var e=J().parentNode;return e?B(e):document}function Z(){return ae(T)}function $(e){return S.state.isMounted&&!S.state.isVisible||q.isTouch||o&&"focus"===o.type?0:R(S.props.delay,e?0:1,Q.delay)}function X(){T.style.pointerEvents=S.props.interactive&&S.state.isVisible?"":"none",T.style.zIndex=""+S.props.zIndex}function ne(e,t,n){var r;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(r=S.props)[e].apply(r,t)}function re(){var t=S.props.aria;if(t.content){var n="aria-"+t.content,r=T.id;A(S.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(S.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function ie(){!N&&S.props.aria.expanded&&A(S.props.triggerTarget||e).forEach((function(e){S.props.interactive?e.setAttribute("aria-expanded",S.state.isVisible&&e===J()?"true":"false"):e.removeAttribute("aria-expanded")}))}function oe(){Y().removeEventListener("mousemove",g),le=le.filter((function(e){return e!==g}))}function ue(e){if(!q.isTouch||!p&&"mousedown"!==e.type){var t=e.composedPath&&e.composedPath()[0]||e.target;if(!S.props.interactive||!H(T,t)){if(H(J(),t)){if(q.isTouch)return;if(S.state.isVisible&&S.props.trigger.indexOf("click")>=0)return}else ne("onClickOutside",[S,e]);!0===S.props.hideOnClick&&(S.clearDelayTimeouts(),S.hide(),h=!0,setTimeout((function(){h=!1})),S.state.isMounted||pe())}}}function de(){p=!0}function fe(){p=!1}function he(){var e=Y();e.addEventListener("mousedown",ue,!0),e.addEventListener("touchend",ue,O),e.addEventListener("touchstart",fe,O),e.addEventListener("touchmove",de,O)}function pe(){var e=Y();e.removeEventListener("mousedown",ue,!0),e.removeEventListener("touchend",ue,O),e.removeEventListener("touchstart",fe,O),e.removeEventListener("touchmove",de,O)}function me(e,t){var n=Z().box;function r(e){e.target===n&&(z(n,"remove",r),t())}if(0===e)return t();z(n,"remove",s),z(n,"add",r),s=r}function ve(t,n,r){void 0===r&&(r=!1),A(S.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function ge(){var e;F()&&(ve("touchstart",Ce,{passive:!0}),ve("touchend",Se,{passive:!0})),(e=S.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ve(e,Ce),e){case"mouseenter":ve("mouseleave",Se);break;case"focus":ve(K?"focusout":"blur",we);break;case"focusin":ve("focusout",we)}}))}function be(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function Ce(e){var t,n=!1;if(S.state.isEnabled&&!Te(e)&&!h){var r="focus"===(null==(t=o)?void 0:t.type);o=e,c=e.currentTarget,ie(),!S.state.isVisible&&L(e)&&le.forEach((function(t){return t(e)})),"click"===e.type&&(S.props.trigger.indexOf("mouseenter")<0||f)&&!1!==S.props.hideOnClick&&S.state.isVisible?n=!0:Re(e),"click"===e.type&&(f=!n),n&&!r&&ke(e)}}function ye(e){var t=e.target,n=J().contains(t)||T.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=D(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,u="right"===o?s.left.x:0,d="left"===o?s.right.x:0,f=t.top-r+l>a,h=r-t.bottom-c>a,p=t.left-n+u>a,m=n-t.right-d>a;return f||h||p||m}))}(Ee().concat(T).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(oe(),ke(e))}function Se(e){Te(e)||S.props.trigger.indexOf("click")>=0&&f||(S.props.interactive?S.hideWithInteractivity(e):ke(e))}function we(e){S.props.trigger.indexOf("focusin")<0&&e.target!==J()||S.props.interactive&&e.relatedTarget&&T.contains(e.relatedTarget)||ke(e)}function Te(e){return!!q.isTouch&&F()!==e.type.indexOf("touch")>=0}function Ie(){Oe();var t=S.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,s=G()?ae(T).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||J()}:e,u=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(G()){var n=Z().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];G()&&s&&u.push({name:"arrow",options:{element:s,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),S.popperInstance=y(c,T,Object.assign({},n,{placement:r,onFirstUpdate:l,modifiers:u}))}function Oe(){S.popperInstance&&(S.popperInstance.destroy(),S.popperInstance=null)}function Ee(){return j(T.querySelectorAll("[data-tippy-root]"))}function Re(e){S.clearDelayTimeouts(),e&&ne("onTrigger",[S,e]),he();var t=$(!0),n=U(),i=n[0],a=n[1];q.isTouch&&"hold"===i&&a&&(t=a),t?r=setTimeout((function(){S.show()}),t):S.show()}function ke(e){if(S.clearDelayTimeouts(),ne("onUntrigger",[S,e]),S.state.isVisible){if(!(S.props.trigger.indexOf("mouseenter")>=0&&S.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=$(!1);t?i=setTimeout((function(){S.state.isVisible&&S.hide()}),t):a=requestAnimationFrame((function(){S.hide()}))}}else pe()}}function de(e,t){void 0===t&&(t={});var n=Q.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",J,O),window.addEventListener("blur",Z);var r=Object.assign({},t,{plugins:n}),i=F(e).reduce((function(e,t){var n=t&&ue(t,r);return n&&e.push(n),e}),[]);return N(e)?i[0]:i}de.defaultProps=Q,de.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Q[t]=e[t]}))},de.currentInput=q;Object.assign({},h,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});de.setDefaultProps({render:oe});var fe=de,he=n(26);function pe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var me="undefined"!==typeof window&&"undefined"!==typeof document;function ve(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function ge(){return me&&document.createElement("div")}function be(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!be(e[n],t[n]))return!1}return!0}return!1}function Ce(e){var t=[];return e.forEach((function(e){t.find((function(t){return be(e,t)}))||t.push(e)})),t}function ye(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Ce([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var Se=me?a.useLayoutEffect:a.useEffect;function we(e){var t=Object(a.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function Te(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var Ie={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||Te(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&Te(t,"remove",e.props.className)},onAfterUpdate:r}}};function Oe(e){return function(t){var n=t.children,r=t.content,i=t.visible,s=t.singleton,l=t.render,c=t.reference,u=t.disabled,d=void 0!==u&&u,f=t.ignoreAttributes,h=void 0===f||f,p=(t.__source,t.__self,pe(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),m=void 0!==i,v=void 0!==s,g=Object(a.useState)(!1),b=g[0],C=g[1],y=Object(a.useState)({}),S=y[0],w=y[1],T=Object(a.useState)(),I=T[0],O=T[1],E=we((function(){return{container:ge(),renders:1}})),R=Object.assign({ignoreAttributes:h},p,{content:E.container});m&&(R.trigger="manual",R.hideOnClick=!1),v&&(d=!0);var k=R,M=R.plugins||[];l&&(k=Object.assign({},R,{plugins:v?[].concat(M,[{fn:function(){return{onTrigger:function(e,t){var n=s.data.children.find((function(e){return e.instance.reference===t.currentTarget})).content;O(n)}}}}]):M,render:function(){return{popper:E.container}}}));var _=[c].concat(n?[n.type]:[]);return Se((function(){var t=c;c&&c.hasOwnProperty("current")&&(t=c.current);var n=e(t||E.ref||ge(),Object.assign({},k,{plugins:[Ie].concat(R.plugins||[])}));return E.instance=n,d&&n.disable(),i&&n.show(),v&&s.hook({instance:n,content:r,props:k}),C(!0),function(){n.destroy(),null==s||s.cleanup(n)}}),_),Se((function(){var e;if(1!==E.renders){var t=E.instance;t.setProps(ye(t.props,k)),null==(e=t.popperInstance)||e.forceUpdate(),d?t.disable():t.enable(),m&&(i?t.show():t.hide()),v&&s.hook({instance:t,content:r,props:k})}else E.renders++})),Se((function(){var e;if(l){var t=E.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;S.placement===n.placement&&S.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&S.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[S.placement,S.referenceHidden,S.escaped].concat(_)),o.a.createElement(o.a.Fragment,null,n?Object(a.cloneElement)(n,{ref:function(e){E.ref=e,ve(n.ref,e)}}):null,b&&Object(he.createPortal)(l?l(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(S),I,E.instance):r,E.container))}}var Ee,Re,ke,Me=function(e,t){return Object(a.forwardRef)((function(n,r){var i=n.children,s=pe(n,["children"]);return o.a.createElement(e,Object.assign({},t,s),i?Object(a.cloneElement)(i,{ref:function(e){ve(r,e),ve(i.ref,e)}}):null)}))},_e=Me(Oe(fe)),Ae=n(1),xe=n(3),De=Ae.d.div(Ee||(Ee=Object(r.a)(["\n\tfont-size: ",";\n\tcolor: ",";\n\tmargin: 0;\n\tword-break: ",";\n"])),(function(e){return e.theme.fontSize.sm}),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].textColor}),(function(e){return e.breakWord?"break-word":"normal"})),je=Object(Ae.d)(_e)(Re||(Re=Object(r.a)(["\n\tbox-shadow: 0px "," 10px\n\t\t",";\n\tbackground: ",";\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\tfont-family: ",";\n\n\t.tippy-arrow {\n\t\tcolor: ",";\n\t}\n"])),(function(e){return e.theme.spacing[1]}),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].shadowColor}),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].backgroundColor}),(function(e){return e.theme.fontFamily.sans}),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].backgroundColor})),Pe=Ae.d.div(ke||(ke=Object(r.a)(["\n\tmargin: 0 ",";\n\tpadding: 0 ",";\n"])),(function(e){return-e.theme.spacing[1]}),(function(e){return e.theme.spacing[1]})),Ne=function(e){var t=e.breakWord,n=void 0!==t&&t,r=e.children,a=e.content,s=e.interactive,l=Object(i.b)(e,["breakWord","children","content","interactive"]);return o.a.createElement(xe.a,null,o.a.createElement(je,Object.assign({content:o.a.createElement(De,{breakWord:n},a),interactive:s},l),o.a.createElement(Pe,{"data-testid":"tooltip-content-container"},r)))}},function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(33).a.Symbol;t.a=r},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return v}));var r=n(8),i=n(31),a=n(14),o=n(63);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],o=s[i],u=l[a]||"";return Array.isArray(u)?u.map((function(e){return o+e})):[o+u]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(d,f);function p(e,t,n,r){var i=Object(a.b)(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function m(e){return p(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=v(t,n),e}),{})}}(u(n),r),o=e[n];return Object(i.b)(e,o,a)}function b(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(o.a,{})}function C(e){return b(e,d)}function y(e){return b(e,f)}function S(e){return b(e,h)}C.propTypes={},C.filterProps=d,y.propTypes={},y.filterProps=f,S.propTypes={},S.filterProps=h;t.c=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(0),i=n(147),a=(n(4),n(98),n(145),n(59)),o=n(69),s=Object.prototype.hasOwnProperty,l=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);l.Provider;var c=function(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(l);return e(t,i,n)}))},u=Object(r.createContext)({});var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)s.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},h=c((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var l=e[d],c=[i],f="";"string"===typeof e.className?f=Object(a.a)(t.registered,c,e.className):null!=e.className&&(f=e.className+" ");var h=Object(o.a)(c,void 0,Object(r.useContext)(u));Object(a.b)(t,h,"string"===typeof l);f+=t.key+"-"+h.name;var p={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==d&&(p[m]=e[m]);return p.ref=n,p.className=f,Object(r.createElement)(l,p)}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function i(e){return((Object(r.a)(e)?e.ownerDocument:e.document)||window.document).documentElement}},function(e,t,n){var r;e.exports=function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";var r=(0,e("./adapter_factory.js").adapterFactory)({window:window});t.exports=r},{"./adapter_factory.js":2}],2:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=i.log,r=i.detectBrowser(e),u={browserDetails:r,commonShim:c,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(r.browser){case"chrome":if(!a||!a.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=a,a.shimGetUserMedia(e),a.shimMediaStream(e),a.shimPeerConnection(e),a.shimOnTrack(e),a.shimAddTrackRemoveTrack(e),a.shimGetSendersWithDtmf(e),a.shimGetStats(e),a.shimSenderReceiverGetStats(e),a.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case"firefox":if(!s||!s.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=s,s.shimGetUserMedia(e),s.shimPeerConnection(e),s.shimOnTrack(e),s.shimRemoveStream(e),s.shimSenderGetStats(e),s.shimReceiverGetStats(e),s.shimRTCDataChannel(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=o,o.shimGetUserMedia(e),o.shimGetDisplayMedia(e),o.shimPeerConnection(e),o.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"safari":if(!l||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=l,l.shimRTCIceServerUrls(e),l.shimCreateOfferLegacy(e),l.shimCallbacksAPI(e),l.shimLocalStreamsAPI(e),l.shimRemoteStreamsAPI(e),l.shimTrackEventTransceiver(e),l.shimGetUserMedia(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:n("Unsupported browser!")}return u};var i=r(e("./utils")),a=r(e("./chrome/chrome_shim")),o=r(e("./edge/edge_shim")),s=r(e("./firefox/firefox_shim")),l=r(e("./safari/safari_shim")),c=r(e("./common_shim"))},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){"use strict";function r(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},n.shimOnTrack=function(e){if("object"!==(void 0===e?"undefined":i(e))||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)s.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}},n.shimGetSendersWithDtmf=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},n.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){var i=this,a=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var l=function(e){a[1](s(o(e)))};return t.apply(this,[l,arguments[0]])}return new Promise((function(e,n){t.apply(i,[function(t){e(s(o(t)))},n])})).then(n,r)}}},n.shimSenderReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),s.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return s.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,r=void 0,i=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?i=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(r?i=!0:r=e),e.track===t})),i||n&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}},n.shimAddTrackRemoveTrackWithNative=r,n.shimAddTrackRemoveTrack=function(e){function t(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function n(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}if(e.RTCPeerConnection){var i=s.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&i.version>=65)return r(e);var a=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=a.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}o.apply(this,[t])};var l=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new e.MediaStream([t]);this._streams[n.id]=o,this._reverseStreams[o.id]=n,this.addStream(o)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(n){var r=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=this,n=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var i=t(e,r);n[0].apply(null,[i])},function(e){n[1]&&n[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(n){return t(e,n)}))}}));var c=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=n(this,arguments[0]),c.apply(this,arguments)):c.apply(this,arguments)};var u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=u.get.apply(this);return""===e.type?e:t(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var n=void 0;Object.keys(this._streams).forEach((function(r){t._streams[r].getTracks().find((function(t){return e.track===t}))&&(n=t._streams[r])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}},n.shimPeerConnection=function(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},n.fixNegotiationNeeded=function(e){s.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js"))},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var n=i.detectBrowser(e),o=function(e){if("object"!==(void 0===e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};"number"==typeof i.ideal?(o[a("min",n)]=i.ideal,t.optional.push(o),(o={})[a("max",n)]=i.ideal,t.optional.push(o)):(o[a("",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===r(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"===r(e.video)){var l=e.video.facingMode;l=l&&("object"===(void 0===l?"undefined":r(l))?l:{ideal:l});var c=n.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var u=void 0;if("environment"===l.exact||"environment"===l.ideal?u=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&u.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=l.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=o(e.video),a("chrome: "+JSON.stringify(e)),i(e)}))}e.video=o(e.video)}return a("chrome: "+JSON.stringify(e)),i(e)},l=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(l(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){var c=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(l(e))}))}))}}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js")),a=i.log},{"../utils.js":15}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimRTCIceCandidate=function(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),a=i.default.parseCandidate(e.candidate),o=Object.assign(n,a);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},n.shimMaxMessageSize=function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=i.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=i.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},o=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var a=i.default.matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?r=parseInt(a[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},l=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n(arguments[0])){var e=r(arguments[0]),t=o(e),i=s(arguments[0],e),a=void 0;a=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return a}}),this._sctp=c}return l.apply(this,arguments)}}},n.shimSendThrowTypeError=function(e){function t(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",(function(e){return t(e.channel,e.target),e}))}},n.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}},n.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(e("sdp")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils"))},{"./utils":15,sdp:17}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),n.shimPeerConnection=function(e){var t=a.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=(0,s.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,o.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype},n.shimReplaceTrack=function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),o=e("./filtericeservers"),s=function(e){return e&&e.__esModule?e:{default:e}}(e("rtcpeerconnection-shim"))},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof t;return i&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=i?t[0]:t,!!t.length}}))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return Promise.reject(n(e))}))}}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var a=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return a.shimGetDisplayMedia}}),n.shimOnTrack=function(e){"object"===(void 0===e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(e){var t=o.detectBrowser(e);if("object"===(void 0===e?"undefined":r(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){return a.apply(this,[e||null]).then((function(e){if(t.version<53&&!n)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(n,r)}}},n.shimSenderGetStats=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},n.shimReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},n.shimRemoveStream=function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})},n.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimGetUserMedia=function(e){var t=i.detectBrowser(e),n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":r(e))&&"object"===r(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},a&&a.prototype.getSettings){var l=a.prototype.getSettings;a.prototype.getSettings=function(){var e=l.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var c=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":r(e))&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],14:[function(e,t,n){"use strict";function r(e){return e&&void 0!==e.video?Object.assign({},e,{video:a.compactObject(e.video)}):e}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.shimLocalStreamsAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}},n.shimRemoteStreamsAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},n.shimCallbacksAPI=function(e){if("object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,a=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var l=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=l,l=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=l,l=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=l}},n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,i=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return i(r(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))},n.shimConstraints=r,n.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(a.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},n.shimTrackEventTransceiver=function(e){"object"===(void 0===e?"undefined":i(e))&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],15:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function a(e){return"object"!==(void 0===e?"undefined":s(e))?e:Object.keys(e).reduce((function(t,n){var i="object"===s(e[n]),o=i?a(e[n]):e[n],l=i&&!Object.keys(o).length;return void 0===o||l?t:Object.assign(t,r({},n,o))}),{})}function o(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?o(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){o(e,e.get(t),n)}))})))}Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.extractVersion=i,n.wrapPeerConnectionEvent=function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=a,i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return a.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},n.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":s(e))+". Please use a boolean."):(l=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},n.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":s(e))+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},n.log=function(){if("object"===("undefined"==typeof window?"undefined":s(window))){if(l)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")},n.detectBrowser=function(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=i(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=i(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=i(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=i(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n},n.compactObject=a,n.walkStats=o,n.filterStats=function(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&o(e,n,i)}))})),i};var l=!0,c=!0},{}],16:[function(e,t,n){"use strict";function r(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function i(e,t,n,r,i){var a=u.writeRtpDescription(e.kind,t);if(a+=u.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=u.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=o;var s="msid:"+(r?r.id:"-")+" "+o+"\r\n";a+="a="+s,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+u.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+u.localCName+"\r\n"),a}function a(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var a=r(e.parameters.apt,n),o=r(t.parameters.apt,i);return a&&o&&a.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach((function(r){for(var a=0;a<t.codecs.length;a++){var o=t.codecs[a];if(r.name.toLowerCase()===o.name.toLowerCase()&&r.clockRate===o.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&o.parameters.apt&&!i(r,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(r.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function s(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function l(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var u=e("sdp");t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function d(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function f(t,n,r,i){var a=new Event("track");a.track=n,a.receiver=r,a.transceiver={receiver:r},a.streams=i,e.setTimeout((function(){t._dispatchEvent("track",a)}))}var h=function(n){var r=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=a(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=u.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},h.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},h.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var r,i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},h.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},h.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},h.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},h.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},h.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},h.prototype._gather=function(t,n){var r=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var o=e.candidate,s=!o||0===Object.keys(o).length;if(s)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),o.component=1,o.ufrag=i.getLocalParameters().usernameFragment;var l=u.writeCandidate(o);a.candidate=Object.assign(a.candidate,u.parseCandidate(l)),a.candidate.candidate=l,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var c=u.getMediaSections(r._localDescription.sdp);c[a.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r._localDescription.sdp=u.getDescription(r._localDescription.sdp)+c.join("");var d=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),s||r._dispatchEvent("icecandidate",a),d&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},h.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},h.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},h.prototype._transceive=function(e,n,r){var i=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:u.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&i.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},h.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=u.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=u.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=u.splitSections(r._remoteDescription.sdp),n=t.shift();var i=u.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=r.transceivers[t],s=a.iceGatherer,l=a.iceTransport,c=a.dtlsTransport,d=a.localCapabilities,f=a.remoteCapabilities;if((!u.isRejected(e)||0!==u.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var h=u.getIceParameters(e,n),p=u.getDtlsParameters(e,n);i&&(p.role="server"),r.usingBundle&&0!==t||(r._gather(a.mid,t),"new"===l.state&&l.start(s,h,i?"controlling":"controlled"),"new"===c.state&&c.start(p));var m=o(d,f);r._transceive(a,m.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(r){var i=this;if(-1===["offer","answer"].indexOf(r.type))return Promise.reject(c("TypeError",'Unsupported type "'+r.type+'"'));if(!s("setRemoteDescription",r.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+r.type+" in state "+i.signalingState));var a={};i.remoteStreams.forEach((function(e){a[e.id]=e}));var h=[],p=u.splitSections(r.sdp),m=p.shift(),v=u.matchPrefix(m,"a=ice-lite").length>0,g=u.matchPrefix(m,"a=group:BUNDLE ").length>0;i.usingBundle=g;var b=u.matchPrefix(m,"a=ice-options:")[0];return i.canTrickleIceCandidates=!!b&&b.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(s,c){var f=u.splitLines(s),p=u.getKind(s),b=u.isRejected(s)&&0===u.matchPrefix(s,"a=bundle-only").length,C=f[0].substr(2).split(" ")[2],y=u.getDirection(s,m),S=u.parseMsid(s),w=u.getMid(s)||u.generateIdentifier();if(b||"application"===p&&("DTLS/SCTP"===C||"UDP/DTLS/SCTP"===C))i.transceivers[c]={mid:w,kind:p,protocol:C,rejected:!0};else{!b&&i.transceivers[c]&&i.transceivers[c].rejected&&(i.transceivers[c]=i._createTransceiver(p,!0));var T,I,O,E,R,k,M,_,A,x,D,j=u.parseRtpParameters(s);b||(x=u.getIceParameters(s,m),(D=u.getDtlsParameters(s,m)).role="client"),M=u.parseRtpEncodingParameters(s);var P=u.parseRtcpParameters(s),N=u.matchPrefix(s,"a=end-of-candidates",m).length>0,L=u.matchPrefix(s,"a=candidate:").map((function(e){return u.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===r.type||"answer"===r.type)&&!b&&g&&c>0&&i.transceivers[c]&&(i._disposeIceAndDtlsTransports(c),i.transceivers[c].iceGatherer=i.transceivers[0].iceGatherer,i.transceivers[c].iceTransport=i.transceivers[0].iceTransport,i.transceivers[c].dtlsTransport=i.transceivers[0].dtlsTransport,i.transceivers[c].rtpSender&&i.transceivers[c].rtpSender.setTransport(i.transceivers[0].dtlsTransport),i.transceivers[c].rtpReceiver&&i.transceivers[c].rtpReceiver.setTransport(i.transceivers[0].dtlsTransport)),"offer"!==r.type||b)"answer"!==r.type||b||(I=(T=i.transceivers[c]).iceGatherer,O=T.iceTransport,E=T.dtlsTransport,R=T.rtpReceiver,k=T.sendEncodingParameters,_=T.localCapabilities,i.transceivers[c].recvEncodingParameters=M,i.transceivers[c].remoteCapabilities=j,i.transceivers[c].rtcpParameters=P,L.length&&"new"===O.state&&(!v&&!N||g&&0!==c?L.forEach((function(e){l(T.iceTransport,e)})):O.setRemoteCandidates(L)),g&&0!==c||("new"===O.state&&O.start(I,x,"controlling"),"new"===E.state&&E.start(D)),!o(T.localCapabilities,T.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&T.sendEncodingParameters[0].rtx&&delete T.sendEncodingParameters[0].rtx,i._transceive(T,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!R||"sendrecv"!==y&&"sendonly"!==y?delete T.rtpReceiver:(A=R.track,S?(a[S.stream]||(a[S.stream]=new e.MediaStream),n(A,a[S.stream]),h.push([A,R,a[S.stream]])):(a.default||(a.default=new e.MediaStream),n(A,a.default),h.push([A,R,a.default]))));else{(T=i.transceivers[c]||i._createTransceiver(p)).mid=w,T.iceGatherer||(T.iceGatherer=i._createIceGatherer(c,g)),L.length&&"new"===T.iceTransport.state&&(!N||g&&0!==c?L.forEach((function(e){l(T.iceTransport,e)})):T.iceTransport.setRemoteCandidates(L)),_=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(_.codecs=_.codecs.filter((function(e){return"rtx"!==e.name}))),k=T.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var U,F=!1;"sendrecv"===y||"sendonly"===y?(F=!T.rtpReceiver,R=T.rtpReceiver||new e.RTCRtpReceiver(T.dtlsTransport,p),F&&(A=R.track,S&&"-"===S.stream||(S?(a[S.stream]||(a[S.stream]=new e.MediaStream,Object.defineProperty(a[S.stream],"id",{get:function(){return S.stream}})),Object.defineProperty(A,"id",{get:function(){return S.track}}),U=a[S.stream]):(a.default||(a.default=new e.MediaStream),U=a.default)),U&&(n(A,U),T.associatedRemoteMediaStreams.push(U)),h.push([A,R,U]))):T.rtpReceiver&&T.rtpReceiver.track&&(T.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===T.rtpReceiver.track.id}));t&&d(t,e)})),T.associatedRemoteMediaStreams=[]),T.localCapabilities=_,T.remoteCapabilities=j,T.rtpReceiver=R,T.rtcpParameters=P,T.sendEncodingParameters=k,T.recvEncodingParameters=M,i._transceive(i.transceivers[c],!1,F)}}})),void 0===i._dtlsRole&&(i._dtlsRole="offer"===r.type?"active":"passive"),i._remoteDescription={type:r.type,sdp:r.sdp},"offer"===r.type?i._updateSignalingState("have-remote-offer"):i._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===i.remoteStreams.indexOf(n)){i.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){i._dispatchEvent("addstream",r)}))}h.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&f(i,t,r,[n])}))}})),h.forEach((function(e){e[2]||f(i,e[0],e[1],[])})),e.setTimeout((function(){i&&i.transceivers&&i.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},h.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},h.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},h.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},h.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var r=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,o=arguments[0];if(o){if(o.mandatory||o.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==o.offerToReceiveAudio&&(r=!0===o.offerToReceiveAudio?1:!1===o.offerToReceiveAudio?0:o.offerToReceiveAudio),void 0!==o.offerToReceiveVideo&&(a=!0===o.offerToReceiveVideo?1:!1===o.offerToReceiveVideo?0:o.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));r>0||a>0;)r>0&&(n._createTransceiver("audio"),r--),a>0&&(n._createTransceiver("video"),a--);var s=u.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,i){var a=r.track,o=r.kind,s=r.mid||u.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(i,n.usingBundle));var l=e.RTCRtpSender.getCapabilities(o);t<15019&&(l.codecs=l.codecs.filter((function(e){return"rtx"!==e.name}))),l.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),l.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var c=r.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===o&&!c[0].rtx&&(c[0].rtx={ssrc:c[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,o)),r.localCapabilities=l,r.sendEncodingParameters=c})),"max-compat"!==n._config.bundlePolicy&&(s+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){s+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),s+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,s+="a="+u.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(l)},h.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=u.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var a=u.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,s){if(!(s+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var l;e.stream&&("audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=i(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var s=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(s)},h.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,i){if(!n._remoteDescription)return i(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var o=0;o<n.transceivers.length;o++)if(n.transceivers[o].mid===e.sdpMid){a=o;break}var s=n.transceivers[a];if(!s)return i(c("OperationError","Can not add ICE candidate"));if(s.rejected)return r();var d=Object.keys(e.candidate).length>0?u.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return r();if(d.component&&1!==d.component)return r();if((0===a||a>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!l(s.iceTransport,d))return i(c("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=u.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(d.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=u.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var h=0;h<n.transceivers.length&&(n.transceivers[h].rejected||(n.transceivers[h].iceTransport.addRemoteCandidate({}),(t=u.getMediaSections(n._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=u.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));h++);r()}))},h.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var i=n.prototype.getStats;n.prototype.getStats=function(){return i.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){e[n].type=r(e[n]),t.set(n,e[n])})),t}))}}}));var p=["createOffer","createAnswer"];return p.forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=h.prototype[e];h.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),h}},{sdp:17}],17:[function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var a=n[i],o=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=r.parseRtpMap(o),l=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=l.length?r.parseFmtp(l[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(t=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&t&&(r.rtx={ssrc:t}),n.push(r),a&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&l&&n.push({ssrc:l});var u=r.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=u}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var a=r.matchPrefix(e,"a=rtcp-mux");return t.mux=a.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),a+="a=mid:"+e.mid+"\r\n",e.direction?a+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";a+="a="+o,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=r)},{}]},{},[1])(1),function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function s(e){var t=new FileReader,n=o(t);return t.readAsArrayBuffer(e),n}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(p.arrayBuffer&&p.blob&&v(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!g(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=o(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e,t){var n=(t=t||{}).body;if(e instanceof u){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function f(e){var t=new i;return e.split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function h(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var p={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(p.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},g=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),r(e)},i.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),r(e)},i.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),r(e)},p.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})},c.call(u.prototype),c.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];h.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=u,e.Response=h,e.fetch=function(e,t){return new Promise((function(n,r){var i=new u(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:f(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new h(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var i={};i=function(){function e(e,t){if(e){var n=l[e];if(s[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function t(e,t){e.call&&(e={success:e}),t.length?(e.error||a)(t):(e.success||a)(e)}function n(e,t,r,i){var o,s,l=document,u=r.async,d=(r.numRetries||0)+1,f=r.before||a,h=e.replace(/^(css|img)!/,""),p=r.reqdelay||0;i=i||0,/(^css!|\.css$)/.test(e)?(o=!0,(s=l.createElement("link")).rel="stylesheet",s.href=h):/(^img!|\.(png|gif|jpg|svg)$)/.test(e)?(s=l.createElement("img")).src=h:((s=l.createElement("script")).src=e,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(a){var l=a.type[0];if(o&&"hideFocus"in s)try{s.sheet.cssText.length||(l="e")}catch(e){l="e"}if("e"==l&&(i+=1)<d)return c=p*i,setTimeout((function(){n(e,t,r,i)}),c),void(r.retrycb&&r.retrycb(i,c));t(e,l,a.defaultPrevented)},!1!==f(e,s)&&l.head.appendChild(s)}function r(e,t,r){var i,a,o=(e=e.push?e:[e]).length,s=o,l=[];for(i=function(e,n,r){if("e"==n&&l.push(e),"b"==n){if(!r)return;l.push(e)}--o||t(l)},a=0;a<s;a++)n(e[a],i,r)}function i(n,i,a){var o,s;i&&i.trim&&(o=i),r(n,(function(n){t(s,n),e(o,n)}),s=(o?a:i)||{})}var a=function(){},o={},s={},l={},c=0;return i.ready=function(e,n){return function(e,t){var n,r,i,a=[],o=(e=e.push?e:[e]).length,c=o;for(n=function(e,n){n.length&&a.push(e),--c||t(a)};o--;)r=e[o],(i=s[r])?n(r,i):(l[r]=l[r]||[]).push(n)}(e,(function(e){t(n,e)})),i},i.done=function(t){e(t,[])},i.reset=function(){o={},s={},l={}},i.isDefined=function(e){return e in o},i}(),function(e,t){"use strict";var n={load:function(t,n,r){if("undefined"!=typeof requirejs){var a=[],o=t+"://"+n.ccsServer+"/socket.io/v3/socket.io.js";a.push("sio"),{sio:o},requirejs(a,(function(t){e.rtcio=t,r.success()}))}else if(void 0!==typeof i&&"undefined"==typeof apiRTC_React){var s={async:!0,numRetries:n.extJsLoadingRetryNb||100,reqdelay:n.extJsLoadingRetryDelay||200,success:function(){e.rtcio=io,r.success()},error:function(e){console.error("socket.io loading error"),r.error()},retrycb:function(e,t){console.warn("socket.io loading retry :"+e+" ,delay before retry :"+t),r.retrycb()}};void 0!==n.socketioUrl?i([n.socketioUrl],"socketio",s):i([t+"://"+n.ccsServer+"/socket.io/v3/socket.io.js"],"socketio",s)}else console.log("Else loadjs io"),e.rtcio=io,r.success()}};e.apiRTC_sioLoader=n}(window),window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=241)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n(12),n(14),n(7);var r={LOG_PREFIX:"apiRTC",LOG_LEVEL_OFF:0,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL_TRACE:5,LOG_LEVEL_LABELS:{}};r.LOG_LEVEL_LABELS[r.LOG_LEVEL_ERROR]="ERROR",r.LOG_LEVEL_LABELS[r.LOG_LEVEL_WARN]="WARN",r.LOG_LEVEL_LABELS[r.LOG_LEVEL_INFO]="INFO",r.LOG_LEVEL_LABELS[r.LOG_LEVEL_DEBUG]="DEBUG",r.LOG_LEVEL_LABELS[r.LOG_LEVEL_TRACE]="TRACE",r.ERROR_OTHER=0,r.ERROR_INVALID_CREDENTIALS=1,r.ERROR_NETWORK_UNAVAILABLE=2,r.ERROR_SERVER_UNAVAILABLE=3,r.ERROR_UNAUTHORIZED=4,r.ERROR_APIRTC_INITIALISATION_FAILED=5,r.ERROR_APIRTC_SESSION_ALREADY_ON=6,r.ERROR_REGISTRATION_URI_INVALID=7,r.ERROR_NOT_FOUND=8,r.ERROR_BAD_PARAMETER=9,r.ERROR_INVITATION_STATE_INVALID=10,r.ERROR_TIMED_OUT=11,r.ERROR_STREAM_RECORD=12,r.ERROR_HTTP=13,r.ERROR_NOT_ALLOWED=14,r.ERROR_OPERATION_CANCELED=15,r.ERROR_WRONG_STATE=16,r.MEDIA_TYPE_PHOTO=0,r.MEDIA_TYPE_VIDEO=1,r.MEDIA_TYPE_AUDIO=2,r.MEDIA_TYPE_DOC=3,r.CONTACT_SEND_DATA_IDENTIFIER="contact_data",r.CONTACT_NEW_MEDIA_IDENTIFIER="contact_new_media",r.CONTACT_SEND_FILEINFO_IDENTIFIER="contact_file_info",r.CONTACT_DATACHANNEL_INVITATION="contact_datachannel_invitation",r.CONTACT_EVENTCENTER_DATA_REQUEST="contact_event_center_data_request",r.CONTACT_EVENTCENTER_DATA_ANSWER="contact_event_center_data_answer",r.CONVERSATION_ACCESS_GRANTED="GRANTED",r.CONVERSATION_NEED_MODERATOR_ACCEPTATION="NEED_MODERATOR_ACCEPTATION",r.CONVERSATION_ROLE_MODERATOR="moderator",r.CONVERSATION_ROLE_CONTRIBUTOR="contributor",r.CONVERSATION_ROLE_GUEST="guest",r.CONVERSATION_WAITING_ROOM_PREFIX="waiting-room-",r.CONVERSATION_SEND_DATA_IDENTIFIER="conv_data",r.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER="conv_persistent_data_update",r.CONVERSATION_JOIN_REQUEST_IDENTIFIER="conv_join_req",r.CONVERSATION_JOIN_ANSWER_IDENTIFIER="conv_join_ans",r.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER="conv_moderator_connected",r.CONVERSATION_NEW_MEDIA_IDENTIFIER="conv_new_media",r.CONVERSATION_CLOSED_IDENTIFIER="conv_closed",r.CONVERSATION_INVITATION_IDENTIFIER="conv_invite",r.INVITATION_ANSWER_IDENTIFIER="invite_ans",r.RECORD_BASE_URL="https://data2.apizee.com:10000/videoManager",r.RECORD_PLAY_URL=r.RECORD_BASE_URL+"?action=play&recordedFileName=",r.DEFAULT_MCU="mcu4.apizee.com",r.DEFAULT_TURNADDRESS="mp1.apizee.com",r.CALL_STATUS_WAITING_FOR_CALLEE=Symbol("CALL_STATUS_WAITING_FOR_CALLEE"),r.CALL_STATUS_ONGOING=Symbol("CALL_STATUS_ONGOING"),r.CALL_STATUS_ENDED=Symbol("CALL_STATUS_ENDED"),r.DATACHANNEL_STATUS_WAITING=Symbol("DATACHANNEL_STATUS_WAITING"),r.DATACHANNEL_STATUS_ONGOING=Symbol("DATACHANNEL_STATUS_ONGOING"),r.DATACHANNEL_STATUS_ENDED=Symbol("DATACHANNEL_STATUS_ENDED"),r.DATACHANNEL_TYPE_RECEIVE=Symbol("DATACHANNEL_TYPE_RECEIVE"),r.DATACHANNEL_TYPE_SEND=Symbol("DATACHANNEL_TYPE_SEND"),r.CONVERSATION_STATUS_JOINED=Symbol("CONVERSATION_STATUS_JOINED"),r.CONVERSATION_STATUS_NOT_JOINED=Symbol("CONVERSATION_STATUS_NOT_JOINED"),r.CONVERSATION_STATUS_WAITING=Symbol("CONVERSATION_STATUS_WAITING"),r.CONVERSATION_STATUS_JOINING=Symbol("CONVERSATION_STATUS_JOINING"),r.CONVERSATION_WHITEBOARD_STARTED=Symbol("CONVERSATION_WHITEBOARD_STARTED"),r.CONVERSATION_WHITEBOARD_NOT_STARTED=Symbol("CONVERSATION_WHITEBOARD_NOT_STARTED"),r.STATE_IDLE=Symbol("STATE_IDLE"),r.STATE_JOINING=Symbol("STATE_JOINING"),r.STATE_ACTIVE=Symbol("STATE_ACTIVE"),r.STATE_LEAVING=Symbol("STATE_LEAVING"),r.INVITATION_STATUS_ACCEPTED=Symbol("INVITATION_STATUS_ACCEPTED"),r.INVITATION_STATUS_DECLINED=Symbol("INVITATION_STATUS_DECLINED"),r.INVITATION_STATUS_STANDBY=Symbol("INVITATION_STATUS_STANDBY"),r.INVITATION_STATUS_EXPIRED=Symbol("INVITATION_STATUS_EXPIRED"),r.INVITATION_STATUS_CANCELLED=Symbol("INVITATION_STATUS_CANCELLED"),r.INVITATION_STATUS_ENDED=Symbol("INVITATION_STATUS_ENDED"),r.STREAM_TYPE_NO_INPUT="no_input",r.STREAM_TYPE_AUDIO="audio",r.STREAM_TYPE_VIDEO="video",r.STREAM_AUDIO_ANALYSIS_THRESHOLD=100,r.CONTACT_DISCONNECTION_DELAY=1e4,r.CONVERSATION_JOIN_REQUEST_INTERVAL=5e3,r.APIRTC_MEDIA_DEVICE_DETECTION_DELAY=1e4,r.CONVERSATION_GROUP_CHAT_MEMBER_UPDATE_DELAY=5e3,r.CONVERSATION_RECORDING_STARTED_DELAY=1e4,r.CONVERSATION_RECORDING_STOPPED_DELAY=5e3,r.CONVERSATION_STREAMING_STARTED_DELAY=1e4,r.CONVERSATION_STREAMING_STOPPED_DELAY=1e4,r.CONVERSATION_PARTICIPANT_EJECTION_DELAY=5e3},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return i})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return f})),n(23),n(22),n(248);var r,i=null,a=null,o=null,s=null,l=null,c=null,u=null,d=null,f=null,h=null;r=(i=new UAParser).getBrowser(),l=i.getOS(),h=i.getBrowser(),"undefined"!=typeof apiRTC_React?(o=DeviceInfo.getSystemVersion(),c=DeviceInfo.getSystemName(),a=DeviceInfo.getUserAgent(),d=DeviceInfo.getModel()):(o=r.version,c=i.getOS().name,u=i.getOS().version,a=r.name,d=i.getDevice().type),s=void 0!==o?r.major:99,window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.toLowerCase().indexOf(" electron/")>=0&&(f="electron")},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return 3===arguments.length?a(arguments[0],arguments[1],arguments[2]):"null"===t?null===e:"array"===t?null!==e&&"object"===r(e)&&Array.isArray(e):null!==e&&r(e)===t}function a(e,t,n){if(null!==t&&"object"===r(t)&&Array.isArray(t)&&t.length>=1){var o=t[0];if(t.length>1)return i(e,"object")&&i(o,"string")&&e.hasOwnProperty(o)&&i(e[o],"object")&&a(e[o],t.slice(1),n);t=o}return"undefined"===n?i(e,"object")&&i(t,"string")&&!e.hasOwnProperty(t)&&i(e[t],n):i(e,"object")&&i(t,"string")&&e.hasOwnProperty(t)&&i(e[t],n)}n.d(t,"a",(function(){return o})),n(12),n(14),n(16),n(44),n(31),n(8),n(27),n(60),n(274),n(99),n(10),n(64),n(46),n(7),n(43),n(17),n(11),n(107),n(15),n(30);var o={assignObject:function(e,t){var n,r,i;for(null==e&&(e={}),n=1;n<arguments.length;n+=1)for(r in i=arguments[n])i.hasOwnProperty(r)&&(e[r]=i[r]);return e},throttle:function(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null,s=0,l=function(){s=!1===a.leading?0:Date.now(),o=null,i=e.apply(n,r),o||(n=r=null)};return function(){var c=Date.now();s||!1!==a.leading||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,i=e.apply(n,r),o||(n=r=null)):o||!1===a.trailing||(o=setTimeout(l,u)),i}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},hashString:function(e){for(var t=0,n=0,r=e.length;n<r;)t=(t<<5)-t+e.charCodeAt(n++)<<0;return Math.abs(t)},arrayBuffertoString:function(e){var t=new DataView(e);return new TextDecoder("utf-8").decode(t)},getAudioContext:function(){return apiRTC.getAudioContext()},parseRecordingEvent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return["roomName","callId","recordType","convId","mediaId","mediaURL","recordedFileName"].forEach((function(e){t.hasOwnProperty(e)&&(n[e]=String(t[e]))})),"AUDIO-ONLY"===t.mediaType?(n.audioOnly=!0,n.videoOnly=!1):"VIDEO-ONLY"===t.mediaType?(n.audioOnly=!1,n.videoOnly=!0):(n.audioOnly=!1,n.videoOnly=!1),"composite"===n.recordType&&(t.hasOwnProperty("mode")?n.mode=t.mode:n.mode="complete",t.hasOwnProperty("labelEnabled")?(n.labelEnabled=!0===t.labelEnabled,!0===n.labelEnabled&&t.hasOwnProperty("labels")&&(n.labels=t.labels)):n.labelEnabled=!1),n},paramsToQueryString:function(e){for(var t="",n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t+=""===t?"?":"&",null===e[i]||void 0===e[i]?console.warn("apiRTC Utils - paramsToQueryString : "+i+" is undefined!"):t+=i+"="+e[i].toString()}return t},createError:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n&&n.error(t);var a={code:e};return t instanceof String?a.error=new Error(t):t instanceof Error?a.error=t:a.error=new Error(String(t)),i(r,"object")&&(r.hasOwnProperty("fromError")&&(a.fromError=r.fromError),r.hasOwnProperty("httpCode")&&(a.httpCode=r.httpCode)),a},isSet:function(e){return null!=e},isTypeof:i,isPropertyTypeof:a,_private:{dataCallsOnHold:new Map,dataChannelInvitations:new Map,dataCallsFileInfo:new Map}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return g})),n(12),n(14),n(16),n(31),n(8),n(98),n(161),n(27),n(60),n(46),n(7),n(68),n(145),n(43),n(17),n(11),n(128),n(97),n(129),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(15);var i=n(5).a.get("Utils");function a(e){return new RegExp("^[0-9-.]*$","g").test(e)}function o(){return"undefined"!=typeof apiRTC_React||"https:"===window.location.protocol}function s(){return"undefined"==typeof apiRTC_React&&"http:"===window.location.protocol}function l(e){var t,n,r,i,a={};for(r=0,i=(t=e.split("&")).length;r<i;r++)a[(n=t[r].split("="))[0]]=n[1];return a}function c(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function u(e,t){i.debug("mergeJSON");var n={},r=null;if(e)for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);if(t)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return i.log(n),n}var d=function(e,t){var n,r,i;for(null==e&&(e={}),n=1;n<arguments.length;n+=1)for(r in i=arguments[n])i.hasOwnProperty(r)&&(e[r]=i[r]);return e},f=function(){var e=function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},t={};if("undefined"!=typeof apiRTC_React)return t.type="react-native",t;if(void 0!==window&&void 0!==window.navigator)if(window.navigator.mozGetUserMedia)t.type="firefox",t.version=e(window.navigator.userAgent,/Firefox\/(\d+)\./,1);else if(window.navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.type="chrome",t.version=e(window.navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!window.navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t;t.type="safari",t.version=e(window.navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(window.navigator.mediaDevices&&window.navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.type="edge",t.version=e(window.navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!window.navigator.mediaDevices||!window.navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t;t.type="safari",t.version=e(window.navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t}(),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=",p={decode:function(e){var t,n=h.indexOf(e.charAt(e.length-1)),r=h.indexOf(e.charAt(e.length-2)),i=e.length/4*3,a=null,o=null,s=null,l=null,c=null,u=null,d=0,f=null;for(64===n&&i--,64===r&&i--,f=new Uint8Array(i),t=0;t<i;t+=3)a=h.indexOf(e.charAt(d++))<<2|(l=h.indexOf(e.charAt(d++)))>>4,o=(15&l)<<4|(c=h.indexOf(e.charAt(d++)))>>2,s=(3&c)<<6|(u=h.indexOf(e.charAt(d++))),f[t]=a,64!==c&&(f[t+1]=o),64!==u&&(f[t+2]=s);return f},encode:function(e){var t,n="",r=new Uint8Array(e),i=r.byteLength,a=i%3,o=i-a,s=null;for(t=0;t<o;t+=3)s=r[t]<<16|r[t+1]<<8|r[t+2],n+=h[(16515072&s)>>18]+h[(258048&s)>>12]+h[(4032&s)>>6]+h[63&s];return 1===a?(s=r[o],n+=h[(252&s)>>2]+h[(3&s)<<4]+"=="):2===a&&(s=r[o]<<8|r[o+1],n+=h[(64512&s)>>10]+h[(1008&s)>>4]+h[(15&s)<<2]+"="),n}};function m(e,t){return 3===arguments.length?v(arguments[0],arguments[1],arguments[2]):"null"===t?null===e:"array"===t?null!==e&&"object"===r(e)&&Array.isArray(e):null!==e&&r(e)===t}function v(e,t,n){if(null!==t&&"object"===r(t)&&Array.isArray(t)&&t.length>=1){var i=t[0];if(t.length>1)return m(e,"object")&&m(i,"string")&&e.hasOwnProperty(i)&&m(e[i],"object")&&v(e[i],t.slice(1),n);t=i}return"undefined"===n?m(e,"object")&&m(t,"string")&&!e.hasOwnProperty(t)&&m(e[t],n):m(e,"object")&&m(t,"string")&&e.hasOwnProperty(t)&&m(e[t],n)}function g(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]===t[n])continue;if("object"!==r(e[n]))return!1;if(!g(e[n],t[n]))return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n(12),n(14),n(16),n(47),n(23),n(31),n(8),n(27),n(10),n(22),n(18),n(7),n(17),n(11),n(61),n(15);var r=n(57);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=new WeakMap,l=new WeakMap,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l.set(this,t),s.set(this,new r.a)}var t,n,a;return t=e,a=[{key:"getAvailableEvents",value:function(){return[]}}],(n=[{key:"on",value:function(e,t){return this.constructor.getAvailableEvents().indexOf(e)>-1?s.get(this).on(e,t):l.get(this).error("No such event "+e),this}},{key:"removeListener",value:function(e,t){if(this.constructor.getAvailableEvents().indexOf(e)>-1){var n,r=!1,a=i(s.get(this).getListeners(e));try{for(a.s();!(n=a.n()).done;)if(n.value.listener===t){r=!0;break}}catch(e){a.e(e)}finally{a.f()}r?s.get(this).off(e,t):l.get(this).trace("removeListener() - No such listener for event "+e)}else l.get(this).error("No such event "+e);return this}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n(12),n(14),n(16),n(148),n(47),n(23),n(31),n(8),n(27),n(251),n(10),n(22),n(64),n(120),n(256),n(18),n(7),n(43),n(17),n(11),n(107),n(15);var r=n(0);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=new Map,l=r.a.LOG_LEVEL_WARN,c=function(e){var t,n=null,r=null;for(t=0;t<e.length;t++)"string"==typeof e[t]&&(-1!==e[t].indexOf('"type":"invite"')?-1===e[t].indexOf("candidate")?-1===e[t].indexOf("S->C:")?e[t]="invite C->S: without candidate":e[t]="invite S->C: without candidate":-1===e[t].indexOf("S->C:")?e[t]="invite C->S: with candidate":e[t]="invite S->C: with candidate":-1!==e[t].indexOf('"type":"200OK"')?-1===e[t].indexOf("candidate")?-1===e[t].indexOf("S->C:")?e[t]="200OK C->S: without candidate":e[t]="200OK S->C: without candidate":-1===e[t].indexOf("S->C:")?e[t]="200OK C->S: with candidate":e[t]="200OK S->C: with candidate":-1!==e[t].indexOf('"type":"candidate"')&&(-1===e[t].indexOf("S->C:")?(n=e[t].replace(/C->S: /g,""),r=JSON.parse(n),e[t]="candidate C->S:"+r.candidate):(n=e[t].replace(/onChannelMessage S->C: /g,""),r=JSON.parse(n),e[t]="candidate S->C:"+r.candidate)));return e},u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.has(t))throw new Error("Cannot construct singleton Logger");this.category=t,s.set(t,this)}var t,n,a;return t=e,a=[{key:"get",value:function(t){return s.has(t)?s.get(t):new e(t)}},{key:"setLogLevel",value:function(e){if(!Number.isInteger(e)||e<0)throw"Log level invalid";l=e}},{key:"getLogLevel",value:function(){return l}}],(n=[{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_TRACE].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_DEBUG].concat(t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_DEBUG].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[r.a.LOG_LEVEL_ERROR].concat(t))}},{key:"logMessage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(null!==console&&void 0!==console){if(e<=l){var o="[".concat((new Date).toISOString(),"]");switch(e in r.a.LOG_LEVEL_LABELS&&(o+="[".concat(r.a.LOG_LEVEL_LABELS[e],"]")),o+=r.a.LOG_PREFIX+"(".concat(this.category,")"),e){case r.a.LOG_LEVEL_ERROR:var s;console.error&&(s=console).error.apply(s,[o].concat(i(n)));break;case r.a.LOG_LEVEL_WARN:var u;console.warn&&(u=console).warn.apply(u,[o].concat(i(n)));break;case r.a.LOG_LEVEL_INFO:var d;console.info&&(d=console).info.apply(d,[o].concat(i(n)));break;default:var f;console.log&&(f=console).log.apply(f,[o].concat(i(n)))}}"undefined"!=typeof apiCC&&apiCC.logStorageActivated&&e<=apiCC.logStorageLevel&&(n=c(n),apiCC.logStorage.push(JSON.stringify({name:"log",args:{0:"(".concat(this.category,")")+":"+n}})))}}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return W})),n.d(t,"b",(function(){return B})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return Z})),n(12),n(14),n(16),n(44),n(47),n(130),n(23),n(31),n(8),n(161),n(27),n(121),n(52),n(10),n(92),n(22),n(64),n(120),n(122),n(36),n(18),n(37),n(46),n(38),n(7),n(21),n(39),n(17),n(235),n(150),n(11),n(61),n(49),n(15),n(30);var r=n(0),i=n(2),a=n(57),o=n(4);n.d(t,"c",(function(){return o.b}));var s=n(25),l=n(24),c=n(62),u=n(65),d=n(153),f=n(5),h=n(32),p=n(58),m=n(54),v=n(42);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=f.a.get("Conversation"),k=h.a.get(),M=p.a.get(),_=m.a.get(),A=["audioAmplitude","availableStreamsUpdated","callStatsUpdate","compositeListChanged","contactJoined","contactLeft","customEvent","data","disconnectionWarning","error","hangup","joined","left","localStreamUpdated","message","messageNotDelivered","newMediaAvailable","newWhiteboardSession","participantEjected","persistentDataUpdated","pointerLocationChanged","pointerSharingEnabled","recordingAvailable","recordingStarted","recordingStopped","remoteStreamUpdated","replayListChanged","roomModeChanged","simulcastFeedChanged","slowLink","streamAdded","streamListChanged","streamRemoved","streamingStarted","streamingStopped","transferPending","transferBegun","transferEnded","transferProgress","whiteboardRoomMemberUpdate","videoQualityChanged","cpuLimited","bandwidthLimited","adaptationTriggered"],x=new Set(["CHAT","CALL","GROUP_CHAT","WEBCONF","REPORT","REPORT_PART","TICKET","EVENT","OTHER","BOT"]),D=new Set(["audioSent","videoSent","audioReceived","videoReceived","quality"]),j=new Set(["CALL_ABORTED","SET_LOCAL_DESCRIPTION_FAILURE","SET_REMOTE_DESCRIPTION_FAILURE"]),P=new WeakMap,N=new WeakMap,L=new WeakMap,U=new WeakMap,F=new WeakMap,W=new WeakMap,V=new WeakMap,B=new WeakMap,z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(p,e);var t,n,f,h=T(p);function p(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,p),t=h.call(this,R),R.debug("Create Conversation"),null==e?P.set(O(t),i.a.guid().toString()):P.set(O(t),e.toString()),N.set(O(t),"OTHER"),t.active=!Object.prototype.hasOwnProperty.call(n,"active")||"boolean"!=typeof n.active||n.active,t.meshModeEnabled=!0===n.meshModeEnabled,t.meshOnlyEnabled=!0===n.meshOnlyEnabled,t.conversationCalls=new Map,t.callIdToStreamId=new Map,t.token=null,t.sessionId=null,t.webconfId=null,t.conversationStreams=new Map,t.conversationPublishedStreams=new Map,t.groupChatStatus=r.a.CONVERSATION_STATUS_NOT_JOINED,t.status=r.a.CONVERSATION_STATUS_NOT_JOINED,t.whiteboardStarted=r.a.CONVERSATION_WHITEBOARD_NOT_STARTED,t.pointerSharingState=r.a.STATE_IDLE,t.pointerSharingAutoInvite=!1,F.set(O(t),new Map),U.set(O(t),null),W.set(O(t),null),L.set(O(t),{}),t.transferCallIds=[],t.uploadCap=null,t.downloadCap=null,t.reservedStreams=[];var a={contactCatalog:{}};for(var l in a.contactCatalog.onUpdate=function(e){if(R.debug("onUpdate:contactList :",e),void 0!==e.joinedGroup[t._getTechnicalName()]){var n,i=b(e.joinedGroup[t._getTechnicalName()]);try{for(i.s();!(n=i.n()).done;){var a=n.value;R.debug(a.getUsername()+" joined conversation "+t.getName()),o.b.get(O(t)).emit("contactJoined",a),t.pointerSharingState===r.a.STATE_ACTIVE&&!0===t.pointerSharingAutoInvite&&k.pointerSharingClient.inviteInRoom(t._getTechnicalName(),a.getId())}}catch(e){i.e(e)}finally{i.f()}}else R.debug("not an event joinedGroup for conversation");if(void 0!==e.leftGroup[t._getTechnicalName()]){var s,l=b(e.leftGroup[t._getTechnicalName()]);try{for(l.s();!(s=l.n()).done;){var c=s.value;R.debug(c.getUsername()+" left conversation "+t.getName()),o.b.get(O(t)).emit("contactLeft",c)}}catch(e){l.e(e)}finally{l.f()}}else R.debug("not an event leftGroup for conversation")},_.onUpdate(a.contactCatalog.onUpdate),a.apiRTCManager={},a.apiRTCManager.receiveGroupChatMessage=function(e){if((t.status===r.a.CONVERSATION_STATUS_JOINED||t.groupChatStatus===r.a.CONVERSATION_STATUS_JOINED)&&e.detail.groupChatId.toString()===t._getTechnicalName()){var n={sender:_.getOrCreateContact(e.detail.senderId),sender_id:e.detail.senderId,content:e.detail.message,time:new Date};i.a.isTypeof(e.detail,"metadata","object")&&(n.metadata=e.detail.metadata),o.b.get(O(t)).emit("message",n)}},a.apiRTCManager.receiveRoomMessage=function(e){if("pointerSharing"===e.detail.roomType&&t.pointerSharingState===r.a.STATE_ACTIVE&&"pointerLocation"===e.detail.message.type&&e.detail.roomId===t._getTechnicalName()){var n={sender:_.getOrCreateContact(e.detail.senderId),source:e.detail.message.source,x:e.detail.message.x,y:e.detail.message.y};i.a.isPropertyTypeof(e.detail.message,"data","object")&&(n.data=e.detail.message.data),o.b.get(O(t)).emit("pointerLocationChanged",n)}},a.apiRTCManager.roomInvitation=function(e){if(R.info("roomInvitation event handler ",e),e.detail.roomId.toString()===t._getTechnicalName())if(R.info("roomInvitation for actual conversation",e),"whiteBoard"===e.detail.roomType){if(t.status===r.a.CONVERSATION_STATUS_JOINED){var n=_.getOrCreateContact(e.detail.senderId);o.b.get(O(t)).emit("newWhiteboardSession",{sender:n})}}else"pointerSharing"===e.detail.roomType&&Y(O(t),!1,!0).then((function(){})).catch((function(e){}))},a.apiRTCManager.onFilePending=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name,rank:e.detail.rank};o.b.get(O(t)).emit("transferPending",n)}},a.apiRTCManager.onFileSending=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name};o.b.get(O(t)).emit("transferBegun",n)}},a.apiRTCManager.onFileProgress=function(e){if(t.transferCallIds.includes(e.detail.callId)){var n={id:e.detail.callId,name:e.detail.name,size:e.detail.fileSize,remBytes:e.detail.remainingSize,percentage:e.detail.percentage};o.b.get(O(t)).emit("transferProgress",n)}},a.apiRTCManager.onFileSended=function(e){var n=t.transferCallIds.indexOf(e.detail.callId);if(n>=0){var r={id:e.detail.callId,name:e.detail.name};e.detail.error&&(r.error=e.detail.error),o.b.get(O(t)).emit("transferEnded",r),t.transferCallIds.splice(n,1)}},a.apiRTCManager)k.onEvent(l,a.apiRTCManager[l]);V.set(O(t),a);var c={MCUAvailableStream:function(e){var n,r=b(e.detail.streams);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.room===t._getTechnicalName()){var s={contact:_.getOrCreateContact(a.attributes.callerId),isRemote:e.detail.isRemoteStream,hasAudio:a.audio,hasVideo:a.video,isAudioMuted:a.audioMuted,isVideoMuted:a.videoMuted,isScreensharing:"screenSharing"===a.attributes.callType,isSIP:!0===a.sip,isSimulcast:!0===a.simulcast,streamId:a.id,type:"regular",callId:a.attributes.callId,descriptor:a.attributes.descriptor,context:a.context};t.conversationStreams.set(s.streamId,s);var l={listEventType:"added"};i.a.assignObject(l,s),o.b.get(O(t)).emit("streamListChanged",l)}}}catch(e){r.e(e)}finally{r.f()}R.debug("Nb stream into conversation :"+t.conversationStreams.size);var c,u={},d=b(t.conversationStreams.keys());try{for(d.s();!(c=d.n()).done;){var f=c.value;u[f]=t.conversationStreams.get(f)}}catch(e){d.e(e)}finally{d.f()}o.b.get(O(t)).emit("availableStreamsUpdated",u)},MCUAvailableStreamUpdate:function(e){var n,r=b(e.detail.streams);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.room===t._getTechnicalName()){var s=t.conversationStreams.get(a.id);if(s&&"regular"===s.type){s.hasAudio=a.audio,s.hasVideo=a.video,s.isAudioMuted=a.audioMuted,s.isVideoMuted=a.videoMuted,s.descriptor=a.attributes.descriptor;var l={listEventType:"updated"};i.a.assignObject(l,s),o.b.get(O(t)).emit("streamListChanged",l),s.descriptor&&Object.prototype.hasOwnProperty.call(s.descriptor,"priority")&&t.changeStreamPriority(s.streamId,!0,s.descriptor.priority)}}}}catch(e){r.e(e)}finally{r.f()}R.debug("Nb stream into conversation :"+t.conversationStreams.size);var c,u={},d=b(t.conversationStreams.keys());try{for(d.s();!(c=d.n()).done;){var f=c.value;u[f]=t.conversationStreams.get(f)}}catch(e){d.e(e)}finally{d.f()}o.b.get(O(t)).emit("availableStreamsUpdated",u)},MCUAvailableComposite:function(e){var n,r=b(e.detail.streams);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.room===t._getTechnicalName()){var s={isRemote:e.detail.isRemoteStream,hasAudio:a.audio,hasVideo:a.video,isAudioMuted:a.audioMuted,isVideoMuted:a.videoMuted,isScreensharing:"screenSharing"===a.attributes.callType,isSIP:!0===a.sip,streamId:a.id,type:"composite",callId:a.attributes.callId,descriptor:a.attributes.descriptor,context:a.context};t.conversationStreams.set(s.streamId,s);var l={listEventType:"added"};i.a.assignObject(l,s),o.b.get(O(t)).emit("compositeListChanged",l)}}}catch(e){r.e(e)}finally{r.f()}},MCUAvailableReplay:function(e){var n,r=b(e.detail.streams);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.room===t._getTechnicalName()){var s={contact:_.getOrCreateContact(a.attributes.callerId),isRemote:e.detail.isRemoteStream,hasAudio:a.audio,hasVideo:a.video,isAudioMuted:a.audioMuted,isVideoMuted:a.videoMuted,isScreensharing:"screenSharing"===a.attributes.callType,isSIP:!0===a.sip,streamId:a.id,type:"replay",callId:a.attributes.callId,descriptor:a.attributes.descriptor,context:a.context};t.conversationStreams.set(s.streamId,s);var l={listEventType:"added"};i.a.assignObject(l,s),o.b.get(O(t)).emit("replayListChanged",l)}}}catch(e){r.e(e)}finally{r.f()}},MCURemoveStream:function(e){if(t.conversationStreams.has(e.detail.streamId)){var n={listEventType:"removed"};i.a.assignObject(n,t.conversationStreams.get(e.detail.streamId)),"regular"===n.type?o.b.get(O(t)).emit("streamListChanged",n):"composite"===n.type&&o.b.get(O(t)).emit("compositeListChanged",n),t.conversationStreams.delete(e.detail.streamId),R.debug("Nb stream into conversation :"+t.conversationStreams.size);var r,a={},s=b(t.conversationStreams.keys());try{for(s.s();!(r=s.n()).done;){var l=r.value;a[l]=t.conversationStreams.get(l)}}catch(e){s.e(e)}finally{s.f()}o.b.get(O(t)).emit("availableStreamsUpdated",a)}else R.debug("Not a conversation's stream")},remoteStreamAdded:function(e){if(t.callIdToStreamId.has(e.detail.callId)){R.info("remoteStreamAdded",e.detail);var n=_.getOrCreateContact(e.detail.remoteId),r=t.callIdToStreamId.get(e.detail.callId),i=F.get(O(t));i.has(r)&&o.b.get(O(t)).emit("streamRemoved",i.get(r));var a="audio"===e.detail.callType?"audio":"video",l="screenSharing"===e.detail.callType,c=new s.a(e.detail.stream,{type:a,contact:n,streamId:r,callId:e.detail.callId,callAudioAvailable:e.detail.audioIsAvailable,callAudioActive:e.detail.audioIsActive,callAudioMuted:e.detail.audioIsMuted,callVideoAvailable:e.detail.videoIsAvailable,callVideoActive:e.detail.videoIsActive,callVideoMuted:e.detail.videoIsMuted,screensharing:l,constructor:!0});c.publishedInConversations.set(t.getName(),e.detail.callId),F.get(O(t)).set(r,c),o.b.get(O(t)).emit("streamAdded",c)}},remoteStreamRemoved:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r=F.get(O(t));r.has(n)&&(o.b.get(O(t)).emit("streamRemoved",r.get(n)),r.delete(n))}},roomMemberUpdate:function(e){R.info("roomMemberUpdate event handler ",e);var n,r=[],i=b(e.detail.contactList);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(_.getOrCreateContact(a.contactId))}}catch(e){i.e(e)}finally{i.f()}"whiteBoard"===e.detail.roomType&&(R.info("Received whiteboard room member update"),o.b.get(O(t)).emit("whiteboardRoomMemberUpdate",{contacts:r,roomId:e.detail.roomId,status:e.detail.status}))},receiveData:function(e){var n=e.detail.data,i=_.getOrCreateContact(e.detail.senderId);if(void 0!==n.roomname&&n.roomname===t._getTechnicalName())if(void 0!==n.event)switch(n.event){case r.a.CONVERSATION_SEND_DATA_IDENTIFIER:o.b.get(O(t)).emit("data",{sender:i,content:n.content});break;case r.a.CONVERSATION_NEW_MEDIA_IDENTIFIER:R.info("New media available in conversation",n.media),o.b.get(O(t)).emit("newMediaAvailable",{sender:i,media:n.media});break;case r.a.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:t.updateData();break;case r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER:case r.a.CONVERSATION_CLOSED_IDENTIFIER:break;default:o.b.get(O(t)).emit("customEvent",{event:n.event,content:n,sender:i})}else"new_snapshot"===n.command?(R.info("New media available in conversation",n.value.snapshot),o.b.get(O(t)).emit("newMediaAvailable",{sender:i,media:n.value.snapshot})):R.debug("Unprocessed conversation message",n)},slowLink:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n};e.detail.advice&&(r.advice=e.detail.advice),o.b.get(O(t)).emit("slowLink",r)}},videoQualityChanged:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,hint:e.detail.hint,profileType:e.detail.profileType};e.detail.bitrate&&(r.bitrate=e.detail.bitrate),e.detail.width&&e.detail.height&&(r.width=e.detail.width,r.height=e.detail.height),e.detail.frameRate&&(r.frameRate=e.detail.frameRate),o.b.get(O(t)).emit("videoQualityChanged",r)}},simulcastFeedChanged:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,simulcast:e.detail.simulcast};o.b.get(O(t)).emit("simulcastFeedChanged",r)}},localStreamUpdated:function(e){if(e.detail.onCall&&t.callIdToStreamId.has(e.detail.callId)){var n={callId:e.detail.callId,streamId:e.detail.userMediaStreamId,audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted,cause:e.detail.cause};o.b.get(O(t)).emit("localStreamUpdated",n)}},remoteStreamUpdated:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted,cause:e.detail.cause};setTimeout((function(){o.b.get(O(t)).emit("remoteStreamUpdated",r)}))}},MCURecordingStarted:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=i.a.parseRecordingEvent("MCURecordingStarted",e.detail);if("COMPOSITE"===n.callId)t.recordingStatus=n;else{var r=t.conversationCalls.get(n.callId);r&&(r.recordingStatus=n)}o.b.get(O(t)).emit("recordingStarted",n)}},MCURecordingStopped:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=i.a.parseRecordingEvent("MCURecordingStopped",e.detail);if("COMPOSITE"===n.callId)delete t.recordingStatus;else{var r=t.conversationCalls.get(n.callId);r&&delete r.recordingStatus}o.b.get(O(t)).emit("recordingStopped",n)}},MCURecordedStreamsAvailable:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=i.a.parseRecordingEvent("MCURecordedStreamsAvailable",e.detail);o.b.get(O(t)).emit("recordingAvailable",n)}},MCUStreamingStarted:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=Z("MCUStreamingStarted",e.detail),r=t.conversationCalls.get(n.callId);r&&(r.streamingStatus=n),o.b.get(O(t)).emit("streamingStarted",n)}},MCUStreamingStopped:function(e){if(e.detail.roomName===t._getTechnicalName()){var n=Z("MCUStreamingStopped",e.detail),r=t.conversationCalls.get(n.callId);r&&delete r.streamingStatus,o.b.get(O(t)).emit("streamingStopped",n)}},onCallStatsUpdate:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,stats:{}};e.detail.userId&&(r.mesh=!0,r.userId=e.detail.userId,r.contact=_.getOrCreateContact(e.detail.userId));for(var i=0,a=Object.keys(e.detail.stats);i<a.length;i++){var s=a[i];D.has(s)&&(r.stats[s]=e.detail.stats[s])}o.b.get(O(t)).emit("callStatsUpdate",r)}},cpuLimited:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,encodeUsagePercent:e.detail.encodeUsagePercent};o.b.get(O(t)).emit("cpuLimited",r)}},bandwidthLimited:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,resolutionChanged:!0};o.b.get(O(t)).emit("bandwidthLimited",r)}},audioAmplitude:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r={callId:e.detail.callId,streamId:n,amplitude:e.detail.descriptor.amplitude,isSpeaking:e.detail.descriptor.isSpeaking,descriptor:{amplitude:e.detail.descriptor.amplitude,isSpeaking:e.detail.descriptor.isSpeaking}};o.b.get(O(t)).emit("audioAmplitude",r)}},hangup:function(e){if(t.callIdToStreamId.has(e.detail.callId)){var n=t.callIdToStreamId.get(e.detail.callId),r=F.get(O(t));r.has(n)&&(o.b.get(O(t)).emit("streamRemoved",r.get(n)),r.delete(n)),"restarted"!==e.detail.reason&&"disconnected"!==e.detail.reason&&"Broken_by_MCU"!==e.detail.reason&&"RTC_Setup_Timeout"!==e.detail.reason&&(t.conversationCalls.has(e.detail.callId)?q(O(t),e.detail.callId):(t.callIdToStreamId.delete(e.detail.callId),t.releaseResources(n,{isRemote:!0,triggerAdaptation:!0})),o.b.get(O(t)).emit("hangup",{from:e.detail.hangupType,reason:e.detail.reason,streamId:n}))}},callRestarting:function(e){if(t.callIdToStreamId.has(e.detail.oldCallId)){var n=t.callIdToStreamId.get(e.detail.oldCallId);t.callIdToStreamId.delete(e.detail.oldCallId),t.callIdToStreamId.set(e.detail.newCallId,n)}},MCUParticipantEjected:function(e){if(t._getTechnicalName()===e.detail.roomId){var n=W.get(O(t));if(e.detail.clientId===n.getId())o.b.get(O(t)).emit("participantEjected",{self:!0}),t.leave().catch((function(e){R.error("leave",e)}));else{var r=_.getOrCreateContact(e.detail.clientId);o.b.get(O(t)).emit("participantEjected",{self:!1,contact:r})}}},MCURoomModeChanged:function(e){t._getTechnicalName()===e.detail.roomId&&o.b.get(O(t)).emit("roomModeChanged",{oldMode:e.detail.oldMode,newMode:e.detail.newMode,state:e.detail.state})}};return B.set(O(t),c),t}return t=p,f=[{key:"getAvailableEvents",value:function(){return A}}],(n=[{key:"destroy",value:function(){v.a.get().deleteConversation(this.getName());var e=V.get(this);if(e){if(e.apiRTCManager)for(var t in e.apiRTCManager)k.removeEventListener(t,e.apiRTCManager[t]);e.contactCatalog&&_.removeUpdateListener(e.contactCatalog.onUpdate),V.delete(this)}}},{key:"getStatus",value:function(){return this.status}},{key:"getName",value:function(){return P.get(this).toString()}},{key:"_getTechnicalName",value:function(){return P.get(this).toString()}},{key:"getRole",value:function(){return null}},{key:"getInstanceId",value:function(){return null}},{key:"getFriendlyName",value:function(){return null}},{key:"getModerator",value:function(){return null}},{key:"getType",value:function(){return N.get(this)}},{key:"setType",value:function(e){return!this.isBound()&&!!x.has(e)&&(N.set(this,e),!0)}},{key:"getCloudConversationId",value:function(){var e=U.get(this);return e?e.toString():null}},{key:"bind",value:function(e){var t=this;e||(e={});var n=U.get(this);return null!==n?Promise.resolve(String(n)):new Promise((function(n,a){H(t,e).then((function(e){n(String(e.id))})).catch((function(e){a(i.a.createError(r.a.ERROR_HTTP,"bind() - cannot bind conversation",R,{fromError:e}))}))}))}},{key:"isBound",value:function(){return null!==U.get(this)}},{key:"isGroupChatJoined",value:function(){return this.groupChatStatus===r.a.CONVERSATION_STATUS_JOINED}},{key:"joinGroupChat",value:function(){var e=this;return new Promise((function(t,n){if(e.groupChatStatus!==r.a.CONVERSATION_STATUS_NOT_JOINED)return n(i.a.createError(r.a.ERROR_WRONG_STATE,"joinGroupChat() - cannot join group chat",R));e.bind().then((function(){return new Promise((function(t,n){if(e.asyncCallbacks)return n(i.a.createError(r.a.ERROR_OTHER,"joinGroupChat() - busy",R));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return k.removeEventListener("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),delete e.asyncCallbacks,n(i.a.createError(r.a.ERROR_OTHER,"joinGroupChat() - timeout",R))}),r.a.CONVERSATION_GROUP_CHAT_MEMBER_UPDATE_DELAY),e.asyncCallbacks.groupChatMemberUpdate=function(n){if(n.detail.groupChatId===e._getTechnicalName()&&"online"===n.detail.status&&function(e,t){for(var n=e.length;--n>=0;)if(e[n].contactId===t)return!0;return!1}(n.detail.contactList,k.getClientId()))return e.asyncCallbacks&&(k.removeEventListener("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),t()},k.onEvent("groupChatMemberUpdate",e.asyncCallbacks.groupChatMemberUpdate),k.joinGroupChat(e._getTechnicalName())}))})).then((function(){e.groupChatStatus=r.a.CONVERSATION_STATUS_JOINED,k.joinAndSubscribeToPresenceGroup(e._getTechnicalName()),t()})).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"joinGroupChat() - cannot join group chat",R,{fromError:e}))}))}))}},{key:"leaveGroupChat",value:function(){var e=this;return new Promise((function(t,n){return e.groupChatStatus!==r.a.CONVERSATION_STATUS_JOINED?n(i.a.createError(r.a.ERROR_WRONG_STATE,"leaveGroupChat() - group chat not joined",R)):e.status!==r.a.CONVERSATION_STATUS_NOT_JOINED?n(i.a.createError(r.a.ERROR_WRONG_STATE,"leaveGroupChat() - webconf active",R)):void k.leaveGroupChat(e._getTechnicalName()).then((function(){e.groupChatStatus=r.a.CONVERSATION_STATUS_NOT_JOINED,k.leaveAndUnsubscribeToPresenceGroup(e._getTechnicalName()),t()})).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"leaveGroupChat() - cannot leave group chat",R,{fromError:e}))}))}))}},{key:"isJoined",value:function(){return this.status===r.a.CONVERSATION_STATUS_JOINED}},{key:"isPublishedStream",value:function(e){return e.publishedInConversations.has(this.getName())}},{key:"publish",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,o){if(n.status!==r.a.CONVERSATION_STATUS_JOINED)return o(i.a.createError(r.a.ERROR_OTHER,"publish() - conversation not joined",R));if(!(e instanceof s.a))return o(i.a.createError(r.a.ERROR_OTHER,"publish() - No stream specified",R));if(n.isPublishedStream(e))return o(i.a.createError(r.a.ERROR_OTHER,"publish() - Stream is already published in this conversation!",R));var l={};l.userMediaStreamId=e.userMediaStreamId,null!==t&&"object"===g(t)&&(l.audioOnly=t.audioOnly,l.videoOnly=t.videoOnly,l.private=t.private,l.record=t.record,l.turnServerAddress=t.turnServerAddress,l.profileType=t.profileType,l.priority=t.priority,l.downgradeProfileList=t.downgradeProfileList,l.distributedBroadcastEnabled=t.distributedBroadcastEnabled),i.a.isPropertyTypeof(t,"mediaType","string")&&(l.mediaType=t.mediaType,l.audioOnly&&(l.mediaType="AUDIOONLY"),l.videoOnly&&(l.mediaType="VIDEOONLY")),i.a.isPropertyTypeof(t,"qos","object")&&(l.qos={},i.a.isPropertyTypeof(t.qos,"videoMinBitrate","number")&&(l.qos.videoMinBitrate=t.qos.videoMinBitrate),i.a.isPropertyTypeof(t.qos,"videoMinQuality","string")&&(l.qos.videoMinQuality=t.qos.videoMinQuality),i.a.isPropertyTypeof(t.qos,"videoStartBitrate","number")&&(l.qos.videoStartBitrate=t.qos.videoStartBitrate),i.a.isPropertyTypeof(t.qos,"videoStartQuality","string")&&(l.qos.videoStartQuality=t.qos.videoStartQuality),i.a.isPropertyTypeof(t.qos,"videoForbidInactive","boolean")&&(l.qos.videoForbidInactive=t.qos.videoForbidInactive)),i.a.isPropertyTypeof(t,"simulcast","object")&&!l.audioOnly&&(l.simulcast={},i.a.isPropertyTypeof(t.simulcast,"mode","string")&&["RID","SDP"].indexOf(t.simulcast.mode)>=0&&(l.simulcast.mode=t.simulcast.mode),i.a.isPropertyTypeof(t.simulcast,"maxBitrate","number")?l.simulcast.maxBitrate=t.simulcast.maxBitrate:i.a.isPropertyTypeof(t.simulcast,"encodings","object")&&(l.simulcast.encodings=Object.assign({},t.simulcast.encodings))),["audioLabels","videoLabels"].forEach((function(e){i.a.isTypeof(t,e,"array")&&(l[e]=[],t[e].forEach((function(t){i.a.isTypeof(t,"string")&&l[e].push(t)})))})),i.a.isPropertyTypeof(t,"context","object")&&(l.context=t.context);var c=null;if(e.hasVideo()&&n.getNetworkCap({capacity:!0})&&t.profileType&&t.downgradeProfileList)for(var u=t.downgradeProfileList.length;--u>=0;)if(t.downgradeProfileList[u].name===t.profileType){t.downgradeProfileList[u].bitrate&&(c=t.downgradeProfileList[u].bitrate);break}if(c){if(!n.reserveResources(t.profileType,c,e.userMediaStreamId,!1,t.priority,{isVideoOnly:!e.hasAudio(),isVideoMuted:l.audioOnly,control:!0})&&!n.disableLowerPriorityVideo(!1,c,t.priority)){if(!e.hasAudio())return o(i.a.createError(r.a.ERROR_OTHER,"publish() - not enough bandwidth",R));l.audioOnly=!0}n.reserveResources(t.profileType,c,e.userMediaStreamId,!1,t.priority,{isVideoOnly:!e.hasAudio(),isVideoMuted:l.audioOnly})}R.info("callConfiguration:",l);var f=e.isScreensharing(),h=k.webRTCClient.publish(n.sessionId,n.sessionId,n.token,l,{},{forceScreenSharingCallType:f});if(!h)return n.releaseResources(e.userMediaStreamId),o(i.a.createError(r.a.ERROR_OTHER,"publish() - failed to establish call",R));n.conversationCalls.set(h,new d.a(n,h,e)),e.publishedInConversations.set(n.getName(),h),n.callIdToStreamId.set(h,e.userMediaStreamId);var p={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:h};n.conversationPublishedStreams.set(e.userMediaStreamId,p);var m={callEstablishedHandler:function(t){t.detail.callId.toString()===h.toString()&&(k.removeEventListener("callEstablished",m.callEstablishedHandler),n.removeListener("error",m.errorHandler),a(e))}};k.onEvent("callEstablished",m.callEstablishedHandler),m.errorHandler=function(t){t.callId===h&&(k.removeEventListener("callEstablished",m.callEstablishedHandler),n.removeListener("error",m.errorHandler),n.releaseResources(e.userMediaStreamId),o(i.a.createError(r.a.ERROR_OTHER,"publish() - "+t.errorInfo,R)))},n.on("error",m.errorHandler)}))}},{key:"unpublish",value:function(e,t){if(t||(t={}),e instanceof s.a)if(this.isPublishedStream(e)){var n=e.publishedInConversations.get(this.getName()),r=!t.noTriggerAdaptation;q(this,n,{stream:e,triggerAdaptation:r}),k.webRTCClient.unpublish(n)}else R.error("unpublish() - Stream is not publishing to conversation");else R.error("unpublish() - No stream specified",e)}},{key:"getConversationCall",value:function(e){if(!e)return null;var t=e.publishedInConversations.get(this.getName());return t?this.conversationCalls.get(t):null}},{key:"getCallId",value:function(e){return e.publishedInConversations.get(this.getName())}},{key:"checkAccess",value:function(e){var t=this;return e||(e={}),new Promise((function(n,a){if(!0!==e.force&&t.accessStatus)return n(t.accessStatus);e.hasOwnProperty("session")||null===l.b.getActiveSession()||(e.session=l.b.getActiveSession()),t.bind(e).then((function(n){return e.convId=n,M.checkConferenceAccess(t._getTechnicalName(),k.getActiveApiKey(),e)})).then((function(e){return e.access!==r.a.CONVERSATION_ACCESS_GRANTED&&e.access!==r.a.CONVERSATION_NEED_MODERATOR_ACCEPTATION&&R.warn("checkAccess() - unknown access response:",e.access),e.role!==r.a.CONVERSATION_ROLE_MODERATOR&&e.role!==r.a.CONVERSATION_ROLE_CONTRIBUTOR&&e.role!==r.a.CONVERSATION_ROLE_GUEST&&R.warn("checkAccess() - unknown role response:",e.role),e.hasOwnProperty("webconfId")&&(t.webconfId=e.webconfId,delete e.webconfId),t.accessStatus=i.a.assignObject({},e),n(t.accessStatus)})).catch((function(e){a(i.a.createError(r.a.ERROR_APIRTC_INITIALISATION_FAILED,"checkAccess() - cannot check access",R,{fromError:e}))}))}))}},{key:"join",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R.debug("Joining "+this.getName()),new Promise((function(n,a){if(e.status!==r.a.CONVERSATION_STATUS_NOT_JOINED)return a(i.a.createError(r.a.ERROR_OTHER,"join() - cannot join conversation",R));t=Object.assign({},t);var s=!1;t.qualityAdaptationEnabled&&(s=!0,delete t.qualityAdaptationEnabled);var l=null;t.supportedVideoCodecs&&(l=t.supportedVideoCodecs,delete t.supportedVideoCodecs),e.checkAccess(t).then((function(e){return"public"!==e.type?Promise.reject(i.a.createError(r.a.ERROR_UNAUTHORIZED,"join() - wrong conference type",R)):e.access!==r.a.CONVERSATION_ACCESS_GRANTED?Promise.reject(i.a.createError(r.a.ERROR_UNAUTHORIZED,"join() - access to conference not granted",R)):void 0})).then((function(){e.status=r.a.CONVERSATION_STATUS_JOINING;var t=e,c=function e(s){if(R.debug("joinMCUSessionAnswer",t._getTechnicalName(),s.detail),s.detail.roomId.toString()===t._getTechnicalName()){if(s.detail.result&&s.detail.result.failed){R.error("Conversation "+t.getName()+" join failed",s.detail),this.status=r.a.CONVERSATION_STATUS_NOT_JOINED;var l=s.detail.result.reason?s.detail.result.reason:"join failed";return a(i.a.createError(r.a.ERROR_UNAUTHORIZED,"join() - "+l,R))}R.info("Conversation "+t.getName()+" joined",s.detail),k.removeEventListener("joinMCUSessionAnswer",e),t.status=r.a.CONVERSATION_STATUS_JOINED,t.token=s.detail.token,t.sessionId=s.detail.sessionId,t.mode=s.detail.mode,t.conversationStreams=new Map;var c=B.get(t);k.onEvent("MCUAvailableStream",c.MCUAvailableStream).onEvent("MCUAvailableStreamUpdate",c.MCUAvailableStreamUpdate).onEvent("MCURemoveStream",c.MCURemoveStream).onEvent("MCUAvailableComposite",c.MCUAvailableComposite).onEvent("MCUAvailableReplay",c.MCUAvailableReplay).onEvent("remoteStreamAdded",c.remoteStreamAdded).onEvent("remoteStreamRemoved",c.remoteStreamRemoved).onEvent("roomMemberUpdate",c.roomMemberUpdate).onEvent("receiveData",c.receiveData).onEvent("slowLink",c.slowLink).onEvent("localStreamUpdated",c.localStreamUpdated).onEvent("remoteStreamUpdated",c.remoteStreamUpdated).onEvent("simulcastFeedChanged",c.simulcastFeedChanged).onEvent("MCURecordingStarted",c.MCURecordingStarted).onEvent("MCURecordingStopped",c.MCURecordingStopped).onEvent("MCURecordedStreamsAvailable",c.MCURecordedStreamsAvailable).onEvent("MCUStreamingStarted",c.MCUStreamingStarted).onEvent("MCUStreamingStopped",c.MCUStreamingStopped).onEvent("MCURoomModeChanged",c.MCURoomModeChanged).onEvent("onCallStatsUpdate",c.onCallStatsUpdate).onEvent("hangup",c.hangup).onEvent("callRestarting",c.callRestarting).onEvent("audioAmplitude",c.audioAmplitude).onEvent("videoQualityChanged",c.videoQualityChanged).onEvent("cpuLimited",c.cpuLimited).onEvent("bandwidthLimited",c.bandwidthLimited),t.groupChatStatus!==r.a.CONVERSATION_STATUS_NOT_JOINED&&(t.groupChatStatus=r.a.CONVERSATION_STATUS_NOT_JOINED),o.b.get(t).emit("joined");var u={};"mesh"===s.detail.mode&&(u.mode="mesh",!0===s.detail.meshOnly&&(u.meshOnly=!0)),n(u)}};k.onEvent("joinMCUSessionAnswer",c);var u={};u.convId=e.getCloudConversationId(),e.meshModeEnabled&&(u.meshModeEnabled=e.meshModeEnabled),e.meshOnlyEnabled&&(u.meshOnlyEnabled=e.meshOnlyEnabled),s&&(u.qualityAdaptationEnabled=!0),l&&(u.supportedVideoCodecs=l);var d=k.webRTCClient.joinMCUSession(e._getTechnicalName(),u);if(d instanceof Error)return k.removeEventListener("joinMCUSessionAnswer",c),t.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_OTHER,"join() - cannot join conversation :"+d.message,R))})).catch((function(t){return e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_OTHER,"join() - cannot join conversation",R,{fromError:t}))}))}))}},{key:"cancelJoin",value:function(){return!1}},{key:"eject",value:function(){return Promise.reject(i.a.createError(r.a.ERROR_OTHER,"eject() - not conference",R))}},{key:"sendJoinRequest",value:function(e){}},{key:"leave",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==r.a.CONVERSATION_STATUS_JOINED)return n(i.a.createError(r.a.ERROR_WRONG_STATE,"leave() - webconf not joined",R));for(var a=B.get(e),s=0,l=Object.keys(a);s<l.length;s++){var c=l[s];R.info("Session, removing apiRTCManager event :",c);var u=a[c];k.removeEventListener(c,u)}var d,f=b(e.conversationStreams.keys());try{for(f.s();!(d=f.n()).done;){var h=d.value;R.trace("Leave() - unsubscribe to "+h),k.webRTCClient.unsubscribe(h)}}catch(e){f.e(e)}finally{f.f()}Y(e,!1,!1).then((function(){})).catch((function(e){})),k.IMClient.leaveGroupChat(e._getTechnicalName()),k.webRTCClient.leaveMCUSession(),e.conversationStreams=new Map,e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,o.b.get(e).emit("left"),t()}))}},{key:"subscribeToStream",value:function(e,t){var n=this;if(t||(t={}),R.debug("subscribeToMedia",e),!this.isJoined())return Promise.reject(i.a.createError(r.a.ERROR_OTHER,"subscribeToMedia() - conversation not joined",R));var a={};null!==t.turnServerAddress&&void 0!==t.turnServerAddress&&(a.turnServerAddress=t.turnServerAddress),i.a.isPropertyTypeof(t,"qos","object")&&(a.qos={},i.a.isPropertyTypeof(t.qos,"videoForbidInactive","boolean")&&(a.qos.videoForbidInactive=t.qos.videoForbidInactive));var o=Number(e),s=k.webRTCClient.getStreamFromList(o),l=this.conversationStreams.get(o);if(!s||!l)return Promise.reject(i.a.createError(r.a.ERROR_OTHER,"subscribeToMedia() - no such stream",R));if(i.a.isPropertyTypeof(t,"simulcast","object")){var c=["high","medium","low"];a.simulcast={},t.simulcast.streamQuality&&(c.indexOf(t.simulcast.streamQuality)>=0?a.simulcast.streamQuality=t.simulcast.streamQuality:a.simulcast.streamQuality="default"),t.simulcast.streamFrameRate&&(c.indexOf(t.simulcast.streamFrameRate)>=0?a.simulcast.streamFrameRate=t.simulcast.streamFrameRate:a.simulcast.streamFrameRate="default")}return new Promise((function(c,u){var d="VIDEO";if(l.hasVideo&&n.getNetworkCap({capacity:!0})&&i.a.isPropertyTypeof(l,"descriptor","object")){var f=l.descriptor;if(!n.reserveResources(f.profileType,f.bitrate,o,!0,f.priority,{isVideoOnly:!l.hasAudio,isVideoMuted:t.audioOnly,control:!0})&&!n.disableLowerPriorityVideo(!0,f.bitrate,f.priority)){if(!l.hasAudio)return u(i.a.createError(r.a.ERROR_OTHER,"subscribeToMedia() - not enough bandwidth",R));t.audioOnly=!0}n.reserveResources(f.profileType,f.bitrate,o,!0,f.priority,{isVideoOnly:!l.hasAudio,isVideoMuted:t.audioOnly})}!0===t.audioOnly?d="AUDIOONLY":!0===t.videoOnly&&(d="VIDEOONLY");var h=k.webRTCClient.subscribe([s],d,{},a,t)[0];if(!h)return n.releaseResources(o),u(i.a.createError(r.a.ERROR_OTHER,"subscribeToMedia() - stream not available",R));n.callIdToStreamId.set(h,o),R.debug("Subscribed to stream "+e+" through call "+h);var p={streamAddedHandler:function(e){e.streamId===o&&(n.removeListener("streamAdded",p.streamAddedHandler),n.removeListener("error",p.errorHandler),c(e))}};n.on("streamAdded",p.streamAddedHandler),p.errorHandler=function(e){e.callId===h&&(n.removeListener("streamAdded",p.streamAddedHandler),n.removeListener("error",p.errorHandler),n.releaseResources(o),u(i.a.createError(r.a.ERROR_OTHER,"subscribeToMedia() - "+e.errorInfo,R)))},n.on("error",p.errorHandler)}))}},{key:"updateSubscribedStream",value:function(e,t){t||(t={});var n=Number(e);if(!F.get(this).has(n))return R.error("updateSubscribedStream() - Conversation stream "+e+" does not exist or was not subscribed to"),Promise.reject("wrong streamId");var r=F.get(this).get(n);if(i.a.isTypeof(t.simulcast,"object"))return k.webRTCClient.webRTCClient.updateSimulcastFeedOnCall(r.callId,t.simulcast);var a="VIDEO";return!0===t.audioOnly?a="AUDIOONLY":!0===t.videoOnly&&(a="VIDEOONLY"),k.webRTCClient.webRTCClient.updateMediaTypeOnCall(r.callId,a)}},{key:"unsubscribeToStream",value:function(e,t){t||(t={});var n=Number(e);k.webRTCClient.unsubscribe(n);var r=!t.noTriggerAdaptation;this.releaseResources(e,{isRemote:!0,triggerAdaptation:r})}},{key:"subscribeToMedia",value:function(e,t){return this.subscribeToStream(e,t)}},{key:"unsubscribeToMedia",value:function(e){this.unsubscribeToStream(e)}},{key:"startRecording",value:function(e){var t=this;return e||(e={}),new Promise((function(n,a){if(t.status!==r.a.CONVERSATION_STATUS_JOINED)return a(i.a.createError(r.a.ERROR_OTHER,"startRecording() - conversation not joined",R));if(t.asyncCallbacks)return a(i.a.createError(r.a.ERROR_OTHER,"startRecording() - busy",R));t.asyncCallbacks={},t.asyncCallbacks.timeoutId=setTimeout((function(){return t.asyncCallbacks&&(k.removeEventListener("error",t.asyncCallbacks.error),k.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),delete t.asyncCallbacks),a(i.a.createError(r.a.ERROR_OTHER,"startRecording() - timeout",R))}),r.a.CONVERSATION_RECORDING_STARTED_DELAY),t.asyncCallbacks.error=function(e){if(String(e.detail.convId)===t.getCloudConversationId()&&"COMPOSITE"===e.detail.callId&&e.detail.errorCode.indexOf("START_RECORD")>=0)return t.asyncCallbacks&&(k.removeEventListener("error",t.asyncCallbacks.error),k.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks),a(i.a.createError(r.a.ERROR_OTHER,"startRecording() - "+e.detail.errorInfo,R))},t.asyncCallbacks.recordingStarted=function(e){if(String(e.detail.convId)===t.getCloudConversationId()&&"COMPOSITE"===e.detail.callId){t.asyncCallbacks&&(k.removeEventListener("error",t.asyncCallbacks.error),k.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks);var r=i.a.parseRecordingEvent("MCURecordingStarted",e.detail);return n(r)}},k.onEvent("error",t.asyncCallbacks.error),k.onEvent("MCURecordingStarted",t.asyncCallbacks.recordingStarted);var o="AUDIO-VIDEO";!0===e.audioOnly?o="AUDIO-ONLY":!0===e.videoOnly&&(o="VIDEO-ONLY");var s="composite";i.a.isPropertyTypeof(e,"customIdInFilename","string")&&(s=e.customIdInFilename);var l={};i.a.isPropertyTypeof(e,"data","object")&&(l=i.a.assignObject({},e.data)),["complete","efficient","audioOnly"].indexOf(e.mode)>=0?l.mode=e.mode:l.mode="complete",l.labelEnabled=!0===e.labelEnabled,!0===l.labelEnabled&&(l.labels=[],i.a.isTypeof(e.labels,"array")&&e.labels.forEach((function(e){i.a.isTypeof(e,"string")&&l.labels.push(e)}))),i.a.isTypeof(e,"ttl","number")&&e.ttl>0&&(l.ttl=e.ttl),k.webRTCClient.startCompositeRecording(o,s,t.getCloudConversationId(),l)}))}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(i.a.createError(r.a.ERROR_OTHER,"stopRecording() - busy",R));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(k.removeEventListener("error",e.asyncCallbacks.error),k.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),t(e.recordingStatus)}),r.a.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(String(t.detail.convId)===e.getCloudConversationId()&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(k.removeEventListener("error",e.asyncCallbacks.error),k.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(i.a.createError(r.a.ERROR_OTHER,"stopRecording() - "+t.detail.errorInfo,R))},e.asyncCallbacks.recordingStopped=function(n){if(String(n.detail.convId)===e.getCloudConversationId()&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(k.removeEventListener("error",e.asyncCallbacks.error),k.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=i.a.parseRecordingEvent("MCURecordingStopped",n.detail);return t(r)}},k.onEvent("error",e.asyncCallbacks.error),k.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),k.webRTCClient.stopCompositeRecording()}))}},{key:"getContacts",value:function(){R.debug("getContacts()");var e={};if(this.isBound()){var t,n=m.a.get().getContacts(this._getTechnicalName()),r=b(n.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;e[i]=n.get(i)}}catch(e){r.e(e)}finally{r.f()}}else R.warn("getContacts() - Cannot get contacts as conversation is not joined");return e}},{key:"getContactsNumber",value:function(){R.debug("getContactsNumber()");var e=0;return this.isBound()?e=m.a.get().getContacts(this._getTechnicalName()).size:R.warn("getContactsNumber() - Cannot get contacts as conversation is not joined"),e}},{key:"getData",value:function(){return R.debug("getData()"),this.isBound()||R.warn("getData() - Cannot get most recent data as conversation is not joined, you may want to call Conversation.updateData() instead"),L.get(this)}},{key:"setData",value:function(e){var t=this;return new Promise((function(n,a){t.bind().then((function(){return M.setConversationData(U.get(t),JSON.stringify(e),k.getActiveApiKey(),{token:W.get(t).token})})).then((function(){L.set(t,e),k.dataClient.sendDataToGroup(t._getTechnicalName(),{event:r.a.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER,roomname:t._getTechnicalName()}),n()})).catch((function(){a(i.a.createError(r.a.ERROR_OTHER,"setData() - cannot set conversation data",R))}))}))}},{key:"updateData",value:function(){var e=this;return new Promise((function(t,n){(e.isBound()?H(e):e.bind()).then((function(){t(),o.b.get(e).emit("persistentDataUpdated",L.get(e))})).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"updateData() - cannot update conversation data",R,{fromError:e}))}))}))}},{key:"getAvailableMediaList",value:function(){return R.warn("Function deprecated, please use Conversation.getAvailableStreamList() instead"),this.getAvailableStreamList()}},{key:"getAvailableStreamList",value:function(){var e,t=[],n=b(this.conversationStreams.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(this.conversationStreams.get(r))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getStreamInfo",value:function(e){return this.conversationStreams.get(e)}},{key:"getSubscribedStream",value:function(e){return F.get(this).get(Number(e))}},{key:"linkWhiteboardClientToConversation",value:function(){R.warn("DEPRECATED : linkWhiteboardClientToConversation : no more needed")}},{key:"startNewWhiteboardSession",value:function(e,t){var n=this;return R.debug("startNewWhiteboardSession()"),new Promise((function(a,o){n.bind().then((function(){if(n.whiteboardStarted===r.a.CONVERSATION_WHITEBOARD_NOT_STARTED){k.whiteBoardClient.start();var i=n.getCloudConversationId();k.whiteBoardClient.joinRoom(n._getTechnicalName(),{convId:i,webconf:!0}),k.whiteBoardClient.setCanvas(e),null!=t&&k.whiteBoardClient.setUserCursorColor(t),k.whiteBoardClient.deleteHistory(),n.whiteboardStarted=r.a.CONVERSATION_WHITEBOARD_STARTED}a()})).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"startNewWhiteboardSession() - cannot start whiteboard session",R,{fromError:e}))}))}))}},{key:"stopNewWhiteboardSession",value:function(){var e=this;return R.debug("stopNewWhiteboardSession()"),new Promise((function(t,n){e.bind().then((function(){return e.whiteboardStarted!==r.a.CONVERSATION_WHITEBOARD_STARTED?(R.error("Conversation is not joined!"),n(i.a.createError(r.a.ERROR_WRONG_STATE,"stopWhiteBoard() - Conversation not joined",R))):k.whiteBoardClient.roomId!==e._getTechnicalName()?(R.error("Whiteboard session is not joined for this conversation!"),n(i.a.createError(r.a.ERROR_WRONG_STATE,"stopWhiteBoard() - whiteboard not joined",R))):(k.whiteBoardClient.leaveRoom(),k.whiteBoardClient.stop(),e.whiteboardStarted=r.a.CONVERSATION_WHITEBOARD_NOT_STARTED,void t())})).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"stopNewWhiteboardSession() - cannot stop whiteboard session",R,{fromError:e}))}))}))}},{key:"enablePointerSharing",value:function(e){return Y(this,!0,e)}},{key:"sendPointerLocation",value:function(e,t,n,r){k.pointerSharingClient.sendPointerLocation(this._getTechnicalName(),e,t,n,r)}},{key:"sendData",value:function(e){var t=this;return new Promise((function(n,a){t.bind().then((function(){k.dataClient.sendDataToGroup(t._getTechnicalName(),{event:r.a.CONVERSATION_SEND_DATA_IDENTIFIER,content:e,roomname:t._getTechnicalName()}),n()})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"sendData() - cannot send data",R))}))}))}},{key:"sendRawData",value:function(e){var t=this;return new Promise((function(n,a){t.bind().then((function(){k.dataClient.sendDataToGroup(t._getTechnicalName(),e),n()})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"sendRawData() - cannot send data",R))}))}))}},{key:"sendCustomEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,o){t.bind().then((function(){var r=n;r.event=e,r.roomname=t._getTechnicalName(),k.dataClient.sendDataToGroup(t._getTechnicalName(),r),a()})).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"sendCustomEvent() - cannot send data",R))}))}))}},{key:"sendMessage",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,o){return n.groupChatStatus!==r.a.CONVERSATION_STATUS_JOINED&&n.status!==r.a.CONVERSATION_STATUS_JOINED?o(i.a.createError(r.a.ERROR_WRONG_STATE,"sendMessage() - group chat not joined",R)):null===e||"string"!=typeof e?o(i.a.createError(r.a.ERROR_BAD_PARAMETER,"sendMessage() - wrong type of message",R)):void n.bind().then((function(){var r={};return i.a.isTypeof(t,"metadata","object")&&(r.metadata=t.metadata),k.sendMessageToGroupChat(n._getTechnicalName(),e,r)})).then((function(r){return function(r){return new Promise((function(i,a){var o=W.get(n);null!==o?M.saveGroupChatMessage(n,o,k.getActiveApiKey(),e,r,t).then((function(){i(r)})).catch(a):i(r)}))}(r)})).then(a).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"sendMessage() - cannot send message",R,{fromError:e}))}))}))}},{key:"pushMedia",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,o){n.bind().then((function(){return t.hasOwnProperty("token")||(t.token=W.get(n).token),M.pushConversationMedia(U.get(n),e,k.getActiveApiKey(),t)})).then((function(e){k.dataClient.sendDataToGroup(n._getTechnicalName(),{event:r.a.CONVERSATION_NEW_MEDIA_IDENTIFIER,roomname:n._getTechnicalName(),media:{url:e.url,id:e.id},command:"new_snapshot",value:{snapshot:e.url}}),a({url:e.url,id:e.id})})).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"pushMedia() - cannot push media",R,{fromError:e}))}))}))}},{key:"pushData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=i.a.assignObject({},n),new Promise((function(a,o){if(!0!==k.webRTCClient.webRTCClient.dataChannelCapable||!0===n.forceHTTP){if(!e.file)return o(i.a.createError(r.a.ERROR_BAD_PARAMETER,"pushData() - missing file",R));var s={};if(i.a.isTypeof(e,"metadata","object"))try{s.metadata=JSON.stringify(e.metadata)}catch(e){R.error("JSON.stringify",e)}s.asFile=!0,i.a.isTypeof(e,"filename","string")?s.filename=e.filename:s.filename=e.file.name,!0===e.overwrite&&(s.overwrite=!0),i.a.isTypeof(e,"ttl","number")&&e.ttl>0&&(s.ttl=e.ttl),t.pushMedia(e.file,s).then(a).catch(o)}else t.bind().then((function(){var s=t._getTechnicalName(),l={};n.hasOwnProperty("turnServerAddress")&&(l.turnServerAddress=n.turnServerAddress,delete n.turnServerAddress);var c=k.webRTCClient.webRTCClient.pushData(t.getCloudConversationId(),e,l,{success:function(e){if("complete"!==e.state)return o(i.a.createError(r.a.ERROR_OTHER,"pushData() - cannot push data",R));k.dataClient.sendDataToGroup(s,{event:r.a.CONVERSATION_NEW_MEDIA_IDENTIFIER,roomname:s,media:{url:e.mediaURL,id:e.mediaId},command:"new_snapshot",value:{snapshot:e.mediaURL}}),a({url:e.mediaURL,id:e.mediaId})},failure:function(s,l){if("iceFailed"===s){var c=i.a.assignObject({},n);return c.forceHTTP=!0,void t.pushData(e,c).then(a).catch(o)}if("timeout"===s){if(l){var u=t.transferCallIds.indexOf(l);u>=0&&t.transferCallIds.splice(u,1)}return o(i.a.createError(r.a.ERROR_TIMED_OUT,"pushData() - push data timed out",R))}return o("canceled"===s?i.a.createError(r.a.ERROR_OPERATION_CANCELED,"pushData() - push data canceled",R):i.a.createError(r.a.ERROR_OTHER,"pushData() - cannot push data",R,{fromError:s}))}});if(!c)return o(i.a.createError(r.a.ERROR_OTHER,"pushData() - cannot push data",R));t.transferCallIds.push(c)})).catch((function(e){return o(i.a.createError(r.a.ERROR_OTHER,"pushData() - cannot push data",R,{fromError:e}))}))}))}},{key:"cancelPushData",value:function(e){var t=this;return new Promise((function(n,a){if(!t.transferCallIds.includes(e))return a(i.a.createError(r.a.ERROR_OTHER,"cancelPushData() - no such push data",R));var o=k.webRTCClient.webRTCClient.cancelPushData(e);if(o)return a(i.a.createError(r.a.ERROR_OTHER,"cancelPushData() - "+o,R));n()}))}},{key:"fetchMediaList",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,o){n.bind().then((function(){return i.a.isTypeof(e,"object")&&e instanceof l.b?t.token=e.getToken():t.token=W.get(n).token,M.getConversationMediaList(U.get(n),k.getActiveApiKey(),t)})).then(a).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"fetchMediaList() - cannot fetch media list",R,{fromError:e}))}))}))}},{key:"getWaitingRoomContacts",value:function(){R.debug("getWaitingRoomContacts()");var e={};if(this.status!==r.a.CONVERSATION_STATUS_JOINED)R.error("getWaitingRoomContacts() - Conversation is not joined, cannot get waiting room contacts");else if("moderator"!==this.getRole())R.error("getWaitingRoomContacts() - Role is not moderator, cannot get waiting room contacts");else{var t,n=m.a.get().getContacts(r.a.CONVERSATION_WAITING_ROOM_PREFIX+this._getTechnicalName()),i=b(n.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;e[a]=n.get(a)}}catch(e){i.e(e)}finally{i.f()}}return e}},{key:"fetchMessageHistory",value:function(e){var t=this;return new Promise((function(n,a){t.bind().then((function(){return i.a.isTypeof(e,"object")&&e instanceof l.b||(e=W.get(t)),M.loadGroupChatMessages(t,e)})).then((function(t){var r=t.map((function(t){var n={content:t.content,timestamp:1e3*t.created_at,date:new Date(1e3*t.created_at),sender_id:t.user_id};return t.user_id.toString()!==e.getId()&&(n.sender=e.getOrCreateContact(t.user_id)),n}));n(r)})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"fetchMessageHistory() - cannot fetch message history",R))}))}))}},{key:"sendInvitation",value:function(e,t){var n=this;if(t||(t={}),e instanceof c.a){R.info("Invite "+e.getId()+" to "+this._getTechnicalName()),e.isOnline()||R.warn("sendInvitation() - contact "+e.getUsername()+" does not seem to be connected.");var s={receiveNotifier:new a.a};t.hasOwnProperty("expirationTime")&&(s.expirationTime=t.expirationTime);var l=new u.a(e,this,s);l.type="conversation";var d={event:r.a.CONVERSATION_INVITATION_IDENTIFIER,invitationId:l.id,roomname:this._getTechnicalName(),sendTime:l.sendTime,conversationTypes:[]};return this.status===r.a.CONVERSATION_STATUS_JOINED?d.conversationTypes.push("WEBCONF"):this.groupChatStatus===r.a.CONVERSATION_STATUS_JOINED&&d.conversationTypes.push("GROUP_CHAT"),k.sendData(e.getId(),d).then((function(){s.receiveNotifier.emit("receive")})).catch((function(t){var a=i.a.createError(t,"Invitation not delivered",R);o.b.get(n).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_INVITATION_IDENTIFIER})})),l}return R.error("Parameter is not a contact"),null}},{key:"isRecorded",value:function(){return!!this.recordingStatus}},{key:"getRecordingInfo",value:function(){return this.isRecorded()?this.recordingStatus:null}},{key:"setNetworkCap",value:function(e,t){return"number"!=typeof e||"number"!=typeof t?(R.error("setNetworkCap - wrong cap",e,t),!1):e<=0||t<=0?(this.uploadCap=null,this.downloadCap=null,!0):(this.uploadCap=e,this.downloadCap=t,!0)}},{key:"getNetworkCap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.uploadCap||!this.downloadCap)return null;if(e.capacity)return[this.uploadCap,this.downloadCap];for(var t=this.uploadCap,n=this.downloadCap,r=this.reservedStreams.length;--r>=0;)this.reservedStreams[r].isVideoMuted||(this.reservedStreams[r].isRemote?n-=this.reservedStreams[r].resource:t-=this.reservedStreams[r].resource);return[t,n]}},{key:"getStreamResourceReservation",value:function(e){for(var t=this.reservedStreams.length;--t>=0;)if(this.reservedStreams[t].streamId===e)return this.reservedStreams[t];return null}},{key:"reserveResources",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(R.debug("reserveResources",n),this.getStreamResourceReservation(n))throw new Error("reserveResources - already reserved stream");var o=!1,s={streamId:n,profileType:e,priority:i,resource:t,isRemote:r};if(s.isVideoOnly=!!a.isVideoOnly,a.isVideoMuted)s.isVideoMuted=!0,o=!0;else{s.isVideoMuted=!1;var l=this.getNetworkCap();o=r?l[1]>=s.resource:l[0]>=s.resource}if(a.control)return o;if(!o)throw new Error("reserveResources - no such bandwidth availability");return this.reservedStreams.push(s),this.reservedStreams.sort((function(e,t){return e.priority>t.priority?-1:e.priority===t.priority?0:1})),R.debug("reservedStreams",this.reservedStreams),!0}},{key:"releaseResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.getNetworkCap({capacity:!0}))return!1;R.debug("releaseResources",e);for(var n=!1,r=this.reservedStreams.length;--r>=0;)if(this.reservedStreams[r].streamId===e){this.reservedStreams.splice(r,1),n=!0;break}return R.debug("reservedStreams",this.reservedStreams),n&&t.triggerAdaptation&&this.enableHigherPriorityVideo(!!t.isRemote),n}},{key:"changeStreamPriority",value:function(e,t,n){R.debug("changeStreamPriority",e,t,n);for(var r=null,i=this.reservedStreams.length;--i>=0;)if(this.reservedStreams[i].isRemote===t&&this.reservedStreams[i].streamId===e){r=this.reservedStreams[i];break}return!(!r||r.priority===n||(r.priority=n,this.reservedStreams.sort((function(e,t){return e.priority>t.priority?-1:e.priority===t.priority?0:1})),R.debug("reservedStreams",this.reservedStreams),r.isVideoMuted?this.disableLowerPriorityVideo(r.isRemote,r.resource,r.priority)&&J(this,r):this.enableHigherPriorityVideo(r.isRemote,{resource:r.resource,priority:r.priority,control:!0})&&(G(this,r),this.enableHigherPriorityVideo(r.isRemote)),0))}},{key:"disableLowerPriorityVideo",value:function(e,t,n){R.debug("disableLowerPriorityVideo",e,t,n);for(var r=[],i=0,a=this.reservedStreams.length;--a>=0&&(this.reservedStreams[a].isRemote!==e||this.reservedStreams[a].isVideoMuted||this.reservedStreams[a].priority>=n||(r.push(this.reservedStreams[a]),!((i+=this.reservedStreams[a].resource)>=t))););if(0===r.length||i<t)return!1;for(var o=r.length;--o>=0;)G(this,r[o]);return!0}},{key:"enableHigherPriorityVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.debug("enableHigherPriorityVideo",e);var n=this.getNetworkCap(),r=e?n[1]:n[0];t.resource&&t.resource>0&&(r+=t.resource);for(var i=[],a=0;a<this.reservedStreams.length;a+=1)this.reservedStreams[a].isRemote===e&&this.reservedStreams[a].isVideoMuted&&(Object.prototype.hasOwnProperty.call(t,"priority")&&this.reservedStreams[a].priority<=t.priority||this.reservedStreams[a].resource<=r&&(r-=this.reservedStreams[a].resource,i.push(this.reservedStreams[a])));if(0===i.length)return!1;if(t.control)return!0;for(var o=i.length;--o>=0;)J(this,i[o]);return!0}},{key:"startComposite",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==r.a.CONVERSATION_STATUS_JOINED)return n(i.a.createError(r.a.ERROR_OTHER,"startComposite() - conversation not joined",R));k.webRTCClient.startComposite(e._getTechnicalName()),t()}))}},{key:"stopComposite",value:function(){var e=this;return new Promise((function(t,n){if(e.status!==r.a.CONVERSATION_STATUS_JOINED)return n(i.a.createError(r.a.ERROR_OTHER,"stopComposite() - conversation not joined",R));k.webRTCClient.stopComposite(e._getTechnicalName()),t()}))}},{key:"manageDisconnectionWarningEvent",value:function(e){R.debug("manageDisconnectionWarningEvent",e.detail);var t={};if(this.callIdToStreamId.has(e.detail.callId)){R.debug("call is linked with conversation");var n=this.callIdToStreamId.get(e.detail.callId);t="publish"===e.detail.settingUpType||"shareScreen"===e.detail.settingUpType?this.conversationPublishedStreams.get(n):this.conversationStreams.get(n),o.b.get(this).emit("disconnectionWarning",{streamInfo:t})}else R.debug("call is not linked with conversation")}},{key:"manageErrorEvent",value:function(e){if(R.debug("manageErrorEvent",e.detail),"DISTANT_ICE_CONNECTION_STATE_DISCONNECTED"===e.detail.errorCode||"DISTANT_ICE_CONNECTION_STATE_FAILED"===e.detail.errorCode)o.b.get(this).emit("error",{errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo,descriptor:e.detail.data});else if(this.callIdToStreamId.has(e.detail.callId)){R.debug("call is linked with conversation");var t=this.callIdToStreamId.get(e.detail.callId),n={streamInfo:"publish"===e.detail.settingUpType?this.conversationPublishedStreams.get(t):this.conversationStreams.get(t),errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo,callId:e.detail.callId,streamId:t};if(e.detail.data&&(n.descriptor=e.detail.data),o.b.get(this).emit("error",n),j.has(e.detail.errorCode)){var r=this.conversationCalls.get(e.detail.callId);r?this.unpublish(r.stream):(this.unsubscribeToStream(t),"CALL_ABORTED"===e.detail.errorCode&&this.callIdToStreamId.delete(e.detail.callId))}}else R.debug("call is not linked with conversation")}}])&&S(t.prototype,n),f&&S(t,f),p}(o.a),H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){var o=null;if(i.a.isPropertyTypeof(t,"session","object")&&t.session instanceof l.b)o=t.session;else{if(null===l.b.getActiveSession())return a(i.a.createError(r.a.ERROR_BAD_PARAMETER,"getOrCreateConversation() - missing session",R));o=l.b.getActiveSession()}var s={};s.token=o.getToken(),s.active=e.active,M.getOrCreateConversation(e,k.getActiveApiKey(),s).then((function(t){i.a.isTypeof(t,"public_id","string")&&(t.id=t.public_id,delete t.public_id),U.set(e,t.id),L.set(e,t.data),i.a.isTypeof(t.typeString,"string")&&x.has(t.typeString)&&N.set(e,t.typeString),W.set(e,o),n(t)})).catch((function(t){U.set(e,null),L.set(e,null),N.set(e,null),a(i.a.createError(r.a.ERROR_HTTP,"getOrCreateConversation() - cannot get/create conversation",R,{fromError:t}))}))}))},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.stream;if(!r){var i=e.conversationCalls.get(t);if(!i)return!1;r=i.stream}return n.noTriggerAdaptation?e.releaseResources(r.userMediaStreamId):e.releaseResources(r.userMediaStreamId,{triggerAdaptation:!0}),r.publishedInConversations.delete(e.getName()),e.conversationPublishedStreams.delete(r.userMediaStreamId),e.callIdToStreamId.delete(t),e.conversationCalls.delete(t),!0},G=function(e,t){var n={streamId:t.streamId,isRemote:t.isRemote};if(t.isRemote)if(t.isVideoOnly){n.action="hangup";var r=F.get(e).get(t.streamId);r&&(n.callId=r.callId),R.debug("disableVideoTrack - hangup",t.streamId),e.unsubscribeToStream(t.streamId,{noTriggerAdaptation:!0})}else{n.action="disableTrack",n.trackType="video";var i=F.get(e).get(t.streamId);i&&(n.callId=i.callId),R.debug("disableVideoTrack - disable video track",t.streamId),e.updateSubscribedStream(t.streamId,{audioOnly:!0}).catch((function(e){R.error("disableVideoTrack - updateSubscribedStream",e)})),t.isVideoMuted=!0}else if(t.isVideoOnly){n.action="hangup";var a=s.b.get(t.streamId),l=e.getConversationCall(a);l&&(n.callId=l.callId),R.debug("disableVideoTrack - hangup",t.streamId),e.unpublish(a,{noTriggerAdaptation:!0})}else{var c=e.getConversationCall(s.b.get(t.streamId));c?(n.action="disableTrack",n.trackType="video",n.callId=c.callId,R.debug("disableVideoTrack - disable video track",t.streamId),c.updatePublishedStream("video",!1).catch((function(e){R.error("disableVideoTrack - updatePublishedStream",e)})),t.isVideoMuted=!0):n=null}n&&o.b.get(e).emit("adaptationTriggered",n)},J=function(e,t){var n={streamId:t.streamId,isRemote:t.isRemote,action:"enableTrack",trackType:"video"};if(t.isRemote){var r=F.get(e).get(t.streamId);r&&(n.callId=r.callId),R.debug("enableVideoTrack - enable video track",t.streamId),e.updateSubscribedStream(t.streamId,{audioOnly:!1}).catch((function(e){R.error("enableVideoTrack - updateSubscribedStream",e)})),t.isVideoMuted=!1}else{var i=e.getConversationCall(s.b.get(t.streamId));i?(n.callId=i.callId,R.debug("enableVideoTrack - enable video track",t.streamId),i.updatePublishedStream("video",!0).catch((function(e){R.error("enableVideoTrack - updatePublishedStream",e)})),t.isVideoMuted=!1):n=null}n&&o.b.get(e).emit("adaptationTriggered",n)},Y=function(e,t,n){return!0===n?e.pointerSharingState===r.a.STATE_IDLE?(e.pointerSharingState=r.a.STATE_JOINING,new Promise((function(n,i){k.pointerSharingClient.joinRoom(e._getTechnicalName(),{success:function(i){e.pointerSharingState=r.a.STATE_ACTIVE,!0===t&&(e.pointerSharingAutoInvite=!0);var a={enabled:!0,roomId:i};o.b.get(e).emit("pointerSharingEnabled",a),n(),!0===e.pointerSharingAutoInvite&&_.getContacts(e._getTechnicalName()).forEach((function(t){k.pointerSharingClient.inviteInRoom(e._getTechnicalName(),t.getId())}))},failure:function(t,n){e.pointerSharingState=r.a.STATE_IDLE,e.pointerSharingAutoInvite=!1,i(t)}})}))):Promise.reject(i.a.createError(r.a.ERROR_WRONG_STATE,"enablePointerSharing() - cannot enable pointer sharing")):!1===n?e.pointerSharingState===r.a.STATE_ACTIVE?(e.pointerSharingState=r.a.STATE_LEAVING,new Promise((function(t,n){k.pointerSharingClient.leaveRoom(e._getTechnicalName()),e.pointerSharingState=r.a.STATE_IDLE,e.pointerSharingAutoInvite=!1;var i={enabled:!1,roomId:e._getTechnicalName()};o.b.get(e).emit("pointerSharingEnabled",i),t()}))):Promise.reject(i.a.createError(r.a.ERROR_WRONG_STATE,"enablePointerSharing() - cannot disable pointer sharing")):Promise.reject(i.a.createError(r.a.ERROR_BAD_PARAMETER,"enablePointerSharing() - cannot enable/disable pointer sharing"))},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return["roomName","callId","clientId"].forEach((function(e){t.hasOwnProperty(e)&&(n[e]=String(t[e]))})),n}},function(e,t,n){var r=n(180),i=n(51),a=n(247);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var r=n(63),i=n(156),a=n(141),o=n(56),s=n(179),l=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),i=n(1),a=n(3),o=(r.a.get("ApiCC"),{});o[1]="ERROR",o[2]="WARN",o[3]="INFO",o[4]="DEBUG",o[5]="TRACE";var s={description:"Apizee Cloud Communication Library",session:null,jsLoaded:!1,initApiKey:null,initApiCCId:null,extJsLoadingRetryNb:null,extJsLoadingRetryDelay:null,bandwidthTestServer:"https://cloud.apizee.com",bandwidthRatingThresholds:[300,500,1e3,1500,2e3],LOG_LEVEL_OFF:0,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL_TRACE:5,browser:i.b,browser_major_version:i.d,browser_version:i.e,osName:i.g,osVersion:i.i,osUAParser:i.h,browserInfo:i.c,browserDetails:a.c,parser:i.j,logStorageActivated:!1,logStorageLevel:3,logStorage:[],eventCenter:null}},function(e,t,n){var r=n(51),i=Date.prototype,a=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"}))},function(e,t,n){"use strict";var r=n(181).charAt,i=n(56),a=n(179),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(13),i=n(20),a=n(104),o=n(115),s=n(34),l=n(177),c=n(204),u=n(19),d=n(40),f=n(139),h=n(29),p=n(35),m=n(48),v=n(63),g=n(114),b=n(113),C=n(95),y=n(140),S=n(116),w=n(245),T=n(176),I=n(93),O=n(45),E=n(154),R=n(55),k=n(51),M=n(174),_=n(155),A=n(136),x=n(135),D=n(26),j=n(207),P=n(208),N=n(105),L=n(56),U=n(53).forEach,F=_("hidden"),W=D("toPrimitive"),V=L.set,B=L.getterFor("Symbol"),z=Object.prototype,H=i.Symbol,q=a("JSON","stringify"),G=I.f,J=O.f,Y=w.f,Z=E.f,K=M("symbols"),$=M("op-symbols"),Q=M("string-to-symbol-registry"),X=M("symbol-to-string-registry"),ee=M("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&u((function(){return 7!=C(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(z,t);r&&delete z[t],J(e,t,n),r&&e!==z&&J(z,t,r)}:J,ie=function(e,t){var n=K[e]=C(H.prototype);return V(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},oe=function e(t,n,r){t===z&&e($,n,r),p(t);var i=g(n,!0);return p(r),d(K,i)?(r.enumerable?(d(t,F)&&t[F][i]&&(t[F][i]=!1),r=C(r,{enumerable:b(0,!1)})):(d(t,F)||J(t,F,b(1,{})),t[F][i]=!0),re(t,i,r)):J(t,i,r)},se=function(e,t){p(e);var n=v(t),r=y(n).concat(de(n));return U(r,(function(t){s&&!le.call(n,t)||oe(e,t,n[t])})),e},le=function(e){var t=g(e,!0),n=Z.call(this,t);return!(this===z&&d(K,t)&&!d($,t))&&(!(n||!d(this,t)||!d(K,t)||d(this,F)&&this[F][t])||n)},ce=function(e,t){var n=v(e),r=g(t,!0);if(n!==z||!d(K,r)||d($,r)){var i=G(n,r);return!i||!d(K,r)||d(n,F)&&n[F][r]||(i.enumerable=!0),i}},ue=function(e){var t=Y(v(e)),n=[];return U(t,(function(e){d(K,e)||d(A,e)||n.push(e)})),n},de=function(e){var t=e===z,n=Y(t?$:v(e)),r=[];return U(n,(function(e){!d(K,e)||t&&!d(z,e)||r.push(K[e])})),r};l||(k((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=x(e),n=function e(n){this===z&&e.call($,n),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),re(this,t,b(1,n))};return s&&ne&&re(z,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return B(this).tag})),k(H,"withoutSetter",(function(e){return ie(x(e),e)})),E.f=le,O.f=oe,I.f=ce,S.f=w.f=ue,T.f=de,j.f=function(e){return ie(D(e),e)},s&&(J(H.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),o||k(z,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),U(y(ee),(function(e){P(e)})),r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var n=H(t);return Q[t]=n,X[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(d(X,e))return X[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?C(e):se(C(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ue,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(m(e))}}),q&&r({target:"JSON",stat:!0,forced:!l||u((function(){var e=H();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(h(t)||void 0!==e)&&!ae(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,q.apply(null,i)}}),H.prototype[W]||R(H.prototype,W,H.prototype.valueOf),N(H,"Symbol"),A[F]=!0},function(e,t,n){var r=n(20),i=n(93).f,a=n(55),o=n(51),s=n(172),l=n(201),c=n(138);e.exports=function(e,t){var n,u,d,f,h,p=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(u in t){if(f=t[u],d=e.noTargetGet?(h=i(n,u))&&h.value:n[u],!c(m?u:p+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,u,f,e)}}},function(e,t,n){"use strict";var r=n(13),i=n(34),a=n(20),o=n(40),s=n(29),l=n(45).f,c=n(201),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new u(t):void 0===t?u():u(t);return""===t&&(d[n]=!0),n};c(f,u);var h=f.prototype=u.prototype;h.constructor=f;var p=h.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){var r=n(20),i=n(213),a=n(8),o=n(55),s=n(26),l=s("iterator"),c=s("toStringTag"),u=a.values;for(var d in i){var f=r[d],h=f&&f.prototype;if(h){if(h[l]!==u)try{o(h,l,u)}catch(e){h[l]=u}if(h[c]||o(h,c,d),i[d])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(e){h[p]=a[p]}}}},function(e,t,n){n(208)("iterator")},function(e,t,n){"use strict";var r=n(51),i=n(35),a=n(19),o=n(186),s=RegExp.prototype,l=s.toString,c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u="toString"!=l.name;(c||u)&&r(RegExp.prototype,"toString",(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n)}),{unsafe:!0})},function(e,t,n){var r=n(13),i=n(34);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(45).f})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(243))},function(e,t,n){"use strict";var r,i,a,o,s=n(13),l=n(115),c=n(20),u=n(104),d=n(265),f=n(51),h=n(127),p=n(105),m=n(146),v=n(29),g=n(106),b=n(108),C=n(94),y=n(173),S=n(165),w=n(158),T=n(119),I=n(226).set,O=n(266),E=n(267),R=n(268),k=n(228),M=n(269),_=n(56),A=n(138),x=n(26),D=n(183),j=x("species"),P="Promise",N=_.get,L=_.set,U=_.getterFor(P),F=d,W=c.TypeError,V=c.document,B=c.process,z=u("fetch"),H=k.f,q=H,G="process"==C(B),J=!!(V&&V.createEvent&&c.dispatchEvent),Y=A(P,(function(){if(y(F)===String(F)){if(66===D)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!F.prototype.finally)return!0;if(D>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[j]=t,!(e.then((function(){}))instanceof t)})),Z=Y||!w((function(e){F.all(e).catch((function(){}))})),K=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;O((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,l,c,u=r[o++],d=a?u.ok:u.fail,f=u.resolve,h=u.reject,p=u.domain;try{d?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=i:(p&&p.enter(),s=d(i),p&&(p.exit(),c=!0)),s===u.promise?h(W("Promise-chain cycle")):(l=K(s))?l.call(s,f,h):f(s)):h(i)}catch(e){p&&!c&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&X(e,t)}))}},Q=function(e,t,n){var r,i;J?((r=V.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&R("Unhandled promise rejection",n)},X=function(e,t){I.call(c,(function(){var n,r=t.value;if(ee(t)&&(n=M((function(){G?B.emit("unhandledRejection",r,e):Q("unhandledrejection",e,r)})),t.rejection=G||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){I.call(c,(function(){G?B.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,$(e,t,!0))},ie=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw W("Promise can't be resolved itself");var a=K(r);a?O((function(){var i={done:!1};try{a.call(r,ne(e,t,i,n),ne(re,t,i,n))}catch(r){re(t,i,r,n)}})):(n.value=r,n.state=1,$(t,n,!1))}catch(r){re(t,{done:!1},r,n)}}};Y&&(F=function(e){b(this,F,P),g(e),r.call(this);var t=N(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){L(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(F.prototype,{then:function(e,t){var n=U(this),r=H(T(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=G?B.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},k.f=H=function(e){return e===F||e===a?new i(e):q(e)},l||"function"!=typeof d||(o=d.prototype.then,f(d.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(F,z.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:F}),p(F,P,!1,!0),m(P),a=u(P),s({target:P,stat:!0,forced:Y},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:P,stat:!0,forced:l||Y},{resolve:function(e){return E(l&&this===a?F:this,e)}}),s({target:P,stat:!0,forced:Z},{all:function(e){var t=this,n=H(t),r=n.resolve,i=n.reject,a=M((function(){var n=g(t.resolve),a=[],o=0,s=1;S(e,(function(e){var l=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=H(t),r=n.reject,i=M((function(){var i=g(t.resolve);S(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(34),i=n(45).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in a)&&i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(13),i=n(137).indexOf,a=n(147),o=n(96),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return V})),n(12),n(14),n(16),n(47),n(130),n(31),n(8),n(27),n(10),n(22),n(64),n(36),n(18),n(37),n(46),n(38),n(7),n(21),n(39),n(17),n(150),n(11),n(109),n(61),n(15),n(30);var r=n(0),i=n(2),a=n(4),o=n(110),s=n(101),l=n(102),c=n(123),u=n(103),d=n(112),f=n(152),h=n(5),p=n(32),m=n(58),v=n(42),g=n(54),b=n(111),C=n(50);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=h.a.get("Session"),A=p.a.get(),x=m.a.get(),D=b.a.get(),j=["rawData","whiteboardInvitation","fileTransferInvitation","conversationMessage","conversationData","dataChannelInvitation","contactMessage","contactData","customEvent","conversationInvitation","incomingCall","disconnect","error","contactListUpdate","reconnecting","reconnection","conversationJoinRequest","newMediaAvailableFromContact","whiteboardRoomMemberUpdate","incomingScreenSharingCall","pointerSharingInvitation","pointerLocationChanged","incomingScreenSharingCallInvitation","cloudEventOccurred"],P=new WeakMap,N=new WeakMap,L=null,U=new WeakMap,F=new WeakMap,W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(m,e);var t,n,h,p=E(m);function m(e){var t;T(this,m),t=p.call(this,_),_.debug("Create Session"),t.id=null,t.token=null,t.ccsToken=null,P.set(k(t),e),N.set(k(t),null),F.set(k(t),{}),t.isRecording=!1,t.userData=new C.a,t.contactListUpdateListenerSetted=!1,t.waitingContactListUpdateEvent=[];var n=g.a.get(),h=v.a.get(),b={};return t.invitationsMap=new Map,b.channelEvent=function(e){switch(e.detail.channelEvent){case"onChannelReconnecting":a.b.get(k(t)).emit("reconnecting",e);break;case"onChannelReconnect":a.b.get(k(t)).emit("reconnection",e);break;case"onChannelError":a.b.get(k(t)).emit("error",e);break;case"onChannelDisconnect":_.error("Session :: onChannelDisconnect"),a.b.get(k(t)).emit("disconnect",e)}},b.incomingCall=function(e){var r=n.getOrCreateContact(e.detail.callerId),o=e.detail.callId.toString();if("data"===e.detail.callType)if(_.info("Received file transfer invitation from "+r.getUsername()),i.a._private.dataCallsFileInfo.has(o)){var c=i.a._private.dataCallsFileInfo.get(o),d=null;t.invitationsMap.has(e.detail.callerId+"-sendfile-"+o)?(d=t.invitationsMap.get(e.detail.callerId+"-sendfile-"+o),_.debug("invitation already exist :",d)):(d=new l.a(r,o,c),t.invitationsMap.set(e.detail.callerId+"-sendfile-"+o,d)),a.b.get(k(t)).emit("fileTransferInvitation",d)}else i.a._private.dataChannelInvitations.has(o)?a.b.get(k(t)).emit("dataChannelInvitation",new u.a(r,o)):(_.debug("File information has not been received yet, putting invitation on hold"),i.a._private.dataCallsOnHold.set(o));else if("screenSharing"===e.detail.callType)if(!0===apiRTC.session.apiCCWebRTCClient.webRTCClient.userAcceptOnIncomingScreenSharingCall){_.debug("Received screenSharingCallInvitation from "+r.getUsername());var f=new s.a(r,o,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});a.b.get(k(t)).emit("incomingScreenSharingCallInvitation",f)}else{_.debug("Received screenSharingCall from "+r.getUsername());var h=D.getOrCreateCall(o,r,{started:!0,isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});a.b.get(k(t)).emit("incomingScreenSharingCall",h)}else{_.info("Received call invitation from "+r.getUsername());var p=new s.a(r,o,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});a.b.get(k(t)).emit("incomingCall",p)}},b.roomInvitation=function(e){var r=n.getOrCreateContact(e.detail.senderId);if("whiteBoard"===e.detail.roomType){if(null!==r){_.info("Received whiteboard invitation from "+r.getUsername());var i={};e.detail.cloudConvId&&(i.cloudConvId=e.detail.cloudConvId),!0===e.detail.webconf&&(i.webconf=!0),a.b.get(k(t)).emit("whiteboardInvitation",new c.a(r,e.detail.roomId,i))}}else"pointerSharing"===e.detail.roomType&&(null===r||h.getConversations().has(e.detail.roomId)||h.getConferences().has(e.detail.roomId)||(_.info("Received pointer sharing invitation from "+r.getUsername()),a.b.get(k(t)).emit("pointerSharingInvitation",new f.a(r,e.detail.roomId,k(t)))))},b.roomMemberUpdate=function(e){var r,i=[],o=S(e.detail.contactList);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(n.getOrCreateContact(s.contactId))}}catch(e){o.e(e)}finally{o.f()}"whiteBoard"===e.detail.roomType&&(_.info("Received whiteboard room member update"),a.b.get(k(t)).emit("whiteboardRoomMemberUpdate",{contacts:i,roomId:e.detail.roomId,status:e.detail.status}))},b.receiveRoomMessage=function(e){if(_.debug("receiveRoomMessage",e),"pointerSharing"===e.detail.roomType&&"pointerLocation"===e.detail.message.type&&F.get(k(t)).hasOwnProperty(e.detail.roomId)){var r={sender:n.getOrCreateContact(e.detail.senderId),source:e.detail.message.source,x:e.detail.message.x,y:e.detail.message.y};i.a.isPropertyTypeof(e.detail.message,"data","object")&&(r.data=e.detail.message.data),a.b.get(k(t)).emit("pointerLocationChanged",r)}},b.receiveIMMessage=function(e){var r=n.getOrCreateContact(e.detail.senderId);_.debug("Received IM from "+r.getUsername()+" : ",e.detail.message),a.b.get(k(t)).emit("contactMessage",{sender:r,content:e.detail.message,uuid:e.detail.UUCSeq,time:e.detail.time})},b.receiveData=function(e){var s=n.getOrCreateContact(e.detail.senderId),c=e.detail.data,f=null;if(void 0!==c.roomname&&(f=h.isConference(c.roomname)?h.getOrCreateConference(h.getNameFromTechnicalName(c.roomname)):h.getOrCreateConversation(h.getNameFromTechnicalName(c.roomname))),_.trace("Received data from "+s.getId(),e.detail),a.b.get(k(t)).emit("rawData",{sender:s,content:c}),void 0!==c.event)switch(c.event){case r.a.INVITATION_ANSWER_IDENTIFIER:case r.a.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:break;case r.a.CONTACT_SEND_DATA_IDENTIFIER:_.debug("Received contact data from "+s.getUsername(),c.content),a.b.get(k(t)).emit("contactData",{sender:s,content:c.content});break;case r.a.CONVERSATION_SEND_DATA_IDENTIFIER:void 0!==c.roomname&&(_.debug("Received conversation data from "+s.getUsername(),c.content),a.b.get(k(t)).emit("conversationData",{sender:s,conversation:f,content:c.content}));break;case r.a.CONTACT_NEW_MEDIA_IDENTIFIER:a.b.get(k(t)).emit("newMediaAvailableFromContact",{sender:s,media:c.media});break;case r.a.CONTACT_DATACHANNEL_INVITATION:_.debug("Received datachannel invitation from "+s.getUsername()),i.a._private.dataChannelInvitations.set(c.callId.toString(),!0),i.a._private.dataCallsOnHold.has(c.callId.toString())&&a.b.get(k(t)).emit("dataChannelInvitation",new u.a(s,c.callId.toString()));break;case r.a.CONTACT_SEND_FILEINFO_IDENTIFIER:_.debug("Received file info from "+s.getUsername(),c.fileInfo);var p=c.callId.toString();if(i.a._private.dataCallsFileInfo.set(p,c.fileInfo),i.a._private.dataCallsOnHold.has(p)){var m=null;t.invitationsMap.has(s.getId()+"-sendfile-"+p)?(m=t.invitationsMap.get(s.getId()+"-sendfile-"+p),_.debug("invitation already exist :",m)):(m=new l.a(s,p,c.fileInfo),t.invitationsMap.set(e.detail.callerId+"-sendfile-"+p,m)),a.b.get(k(t)).emit("fileTransferInvitation",m)}else _.debug("no dataCallsOnHold");break;case r.a.CONVERSATION_INVITATION_IDENTIFIER:if(void 0!==c.roomname){_.info("Received conversation invitation from "+s.getUsername());var v={session:k(t)};c.hasOwnProperty("password")&&(v.password=c.password),f?(c.hasOwnProperty("friendlyName")&&f.name===f.friendlyName&&(f.friendlyName=c.friendlyName),a.b.get(k(t)).emit("conversationInvitation",new o.a(s,c,f,v))):a.b.get(k(t)).emit("conversationInvitation",new o.a(s,c,null,v))}break;case r.a.CONVERSATION_JOIN_REQUEST_IDENTIFIER:_.info("Received conversation join request from "+s.getUsername()),f?a.b.get(k(t)).emit("conversationJoinRequest",new d.a(s,f,c.invitationId)):a.b.get(k(t)).emit("conversationJoinRequest",new d.a(s,null,null));break;case r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER:case r.a.CONVERSATION_CLOSED_IDENTIFIER:break;default:var g={event:c.event,content:c,sender:s};null!==f&&(g.conversation=f),a.b.get(k(t)).emit("customEvent",g)}else if(void 0!==c.command)switch(c.command){case"userWaiting":case"userWaiting-new":_.info("Received conversation join request from "+s.getUsername()),f?a.b.get(k(t)).emit("conversationJoinRequest",new d.a(s,f,null)):a.b.get(k(t)).emit("conversationJoinRequest",new d.a(s,null,null))}},b.receiveGroupChatMessage=function(e){var r=n.getOrCreateContact(e.detail.senderId),o=null,s=e.detail.groupChatId.toString();if(void 0!==s&&(o=h.isConference(s)?h.getOrCreateConference(h.getNameFromTechnicalName(s)):h.getOrCreateConversation(h.getNameFromTechnicalName(s))),null!==o){_.debug("Received conversation message from "+r.getUsername(),e.detail.message);var l={sender:r,conversation:o,content:e.detail.message};i.a.isTypeof(e.detail,"metadata","object")&&(l.metadata=e.detail.metadata),a.b.get(k(t)).emit("conversationMessage",l)}},b.cloudEventOccurred=function(e){var n={topic:e.detail.topic,target:e.detail.target};a.b.get(k(t)).emit("cloudEventOccurred",n)},b.callEstablished=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();_.debug("callEstablished",e.detail,t);var n=D.getCall(t,null,{});null!==n&&n.manageCallEstablishedEvent(e)}else _.debug("callEstablished",e.detail)},b.remoteStreamAdded=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();_.debug("remoteStreamAdded",e.detail,t);var n=D.getCall(t,null,{});null!==n&&n.manageRemoteStreamAddedEvent(e)}else _.debug("remoteStreamAdded",e.detail)},b.remoteStreamRemoved=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString();_.debug("remoteStreamRemoved",e.detail,t);var n=D.getCall(t,null,{});null!==n&&n.manageRemoteStreamRemovedEvent(e)}else _.debug("remoteStreamRemoved",e.detail)},b.userMediaSuccess=function(e){var t=null;if(void 0!==e.detail.callId&&null!==e.detail.callId){t=e.detail.callId.toString(),_.debug("userMediaSuccess",e.detail,t);var n=D.getCall(t,null,{});null!==n&&n.manageUserMediaSuccessEvent(e)}else _.debug("userMediaSuccess",e.detail)},b.onCallStatsUpdate=function(e){if(void 0!==e.detail.callId){var t=e.detail.callId.toString(),n=D.getCall(t,null,{});null!==n&&n.manageCallStatsUpdateEvent(e)}else _.debug("onCallStatsUpdate",e.detail)},b.error=function(e){if(_.debug("error",e.detail),null!==e.detail.roomName&&void 0!==e.detail.roomName){_.debug("error on conversation :",e.detail,e.detail.roomName,e.detail.callId);var n=null;void 0!==e.detail.roomName&&null!==(n=h.isConference(e.detail.roomName)?h.getOrCreateConference(h.getNameFromTechnicalName(e.detail.roomName)):h.getOrCreateConversation(h.getNameFromTechnicalName(e.detail.roomName)))&&n.manageErrorEvent(e)}else if(void 0!==e.detail.callId){var r=e.detail.callId.toString();_.debug("error",e.detail,r);var i=D.getCall(r,null,{});null!==i&&(i.manageErrorEvent(e),"RECORDING_FAILED"===e.detail.errorCode&&D.removeCallFromList(i.getId()))}else _.debug("error",e.detail),a.b.get(k(t)).emit("error",e.detail)},b.disconnectionWarning=function(e){if(null!==e.detail.roomName){_.debug("disconnectionWarning on conversation :",e.detail,e.detail.roomName,e.detail.callId);var t=null;void 0!==e.detail.roomName&&null!==(t=h.isConference(e.detail.roomName)?h.getOrCreateConference(h.getNameFromTechnicalName(e.detail.roomName)):h.getOrCreateConversation(h.getNameFromTechnicalName(e.detail.roomName)))&&t.manageDisconnectionWarningEvent(e)}else if(e.detail.callId){var n=e.detail.callId.toString();_.debug("disconnectionWarning",e.detail,n);var r=D.getCall(n,null,{});null!==r&&r.manageDisconnectionWarningEvent(e)}else _.debug("disconnectionWarning",e.detail)},b.hangup=function(e){if(e.detail.callId){var t=e.detail.callId.toString();_.debug("hangup",e.detail,t);var n=D.getCall(t,null,{});null!==n&&(n.manageHangupEvent(e),!1===n.isRecorded()&&D.removeCallFromList(n.getId()))}else _.debug("hangup",e.detail)},b.recordedStreamsAvailable=function(e){if(e.detail.userId2){var t=n.getOrCreateContact(e.detail.userId2),r=D.getCall(null,t);r&&(r.manageRecordAvailableEvent(e),D.removeCallFromList(r.getId()))}else _.debug("recordedStreamsAvailable",e.detail)},b.desktopCapture=function(e){if(e.detail.callId){var t=e.detail.callId.toString();_.warn("desktopCapture",e.detail,t);var n=D.getCall(t,null,{});null!==n&&(n.manageDesktopCaptureEvent(e),D.removeCallFromList(n.getId()))}else _.debug("desktopCapture",e.detail)},b.userMediaError=function(e){if(e.detail.callId){var t=e.detail.callId.toString();_.warn("userMediaError",e.detail,t);var n=D.getCall(t,null,{});null!==n&&(n.manageUserMediaErrorEvent(e),!1===e.detail.tryAudioCallActivated&&D.removeCallFromList(n.getId()))}else _.debug("userMediaError",e.detail)},_.debug("av apiRTCManager onEvent ..."),A.onEvent("disconnectionWarning",b.disconnectionWarning).onEvent("incomingCall",b.incomingCall).onEvent("roomInvitation",b.roomInvitation).onEvent("roomMemberUpdate",b.roomMemberUpdate).onEvent("receiveRoomMessage",b.receiveRoomMessage).onEvent("receiveIMMessage",b.receiveIMMessage).onEvent("receiveData",b.receiveData).onEvent("receiveGroupChatMessage",b.receiveGroupChatMessage).onEvent("cloudEventOccurred",b.cloudEventOccurred).onEvent("callEstablished",b.callEstablished).onEvent("remoteStreamAdded",b.remoteStreamAdded).onEvent("remoteStreamRemoved",b.remoteStreamRemoved).onEvent("userMediaSuccess",b.userMediaSuccess).onEvent("onCallStatsUpdate",b.onCallStatsUpdate).onEvent("error",b.error).onEvent("hangup",b.hangup).onEvent("recordedStreamsAvailable",b.recordedStreamsAvailable).onEvent("desktopCapture",b.desktopCapture).onEvent("userMediaError",b.userMediaError),apiRTC.addEventListener("channelEvent",b.channelEvent),n.onUpdate((function(e){!1===t.contactListUpdateListenerSetted&&(_.debug("No listener for contactListUpdate, storing event ..."),t.waitingContactListUpdateEvent.push(e)),a.b.get(k(t)).emit("contactListUpdate",e)})),U.set(k(t),b),t}return t=m,h=[{key:"getAvailableEvents",value:function(){return j}},{key:"getActiveSession",value:function(){return L}}],(n=[{key:"getToken",value:function(){return this.token}},{key:"getId",value:function(){return this.id}},{key:"getUserAgent",value:function(){return P.get(this)}},{key:"getContact",value:function(e){return _.warn("getContact() - Method deprecated, use Session.getOrCreateContact() instead"),g.a.get().getOrCreateContact(e)}},{key:"getOrCreateContact",value:function(e){return g.a.get().getOrCreateContact(e)}},{key:"createConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.warn("createConversation() - Method deprecated, use Session.getConversation() instead"),this.getConversation(e,t)}},{key:"getConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.trace("Getting conversation "+e,t),v.a.get().getOrCreateConversation(e)}},{key:"getConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.trace("Getting conference "+e,t),v.a.get().getOrCreateConference(e)}},{key:"getOrCreateConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.a.get().getNameFromTechnicalName(e);return v.a.get().isConference(e)?v.a.get().getOrCreateConference(n,t):v.a.get().getOrCreateConversation(n,t)}},{key:"getOrCreateConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getOrCreateConversation(e,t)}},{key:"getActiveConversations",value:function(){var e,t={},n=v.a.get().getConversations(),r=S(n.keys());try{for(r.s();!(e=r.n()).done;){var i=e.value,a=n.get(i);a.isJoined()&&(t[i]=a)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getActiveConferences",value:function(){var e,t={},n=v.a.get().getConferences(),r=S(n.keys());try{for(r.s();!(e=r.n()).done;){var i=e.value,a=n.get(i);a.isJoined()&&(t[i]=a)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getWhiteboardClient",value:function(){return _.trace("getWhiteboardClient()"),A.whiteBoardClient}},{key:"setUserData",value:function(e){this.userData.setProps(e).setToSession()}},{key:"setUsername",value:function(e){this.userData.setProp("username",e).setToSession()}},{key:"setPhotoUrl",value:function(e){this.userData.setProp("photo_url",e).setToSession()}},{key:"getUserData",value:function(){return this.userData}},{key:"getUsername",value:function(){return null!==this.userData.get("username")?this.userData.get("username"):null!==this.userData.get("nickname")?this.userData.get("nickname"):this.id.toString()}},{key:"getPhotoUrl",value:function(){return null!==this.userData.get("photo_url")?this.userData.get("photo_url"):null!==this.userData.get("photoUrl")?this.userData.get("photoUrl"):this.userId?x.getUserPhotoUrl(this.userId):null}},{key:"subscribeToGroup",value:function(e){this.getSubscribedPresenceGroup().includes(e)?_.debug("Already subscribed to this group"):A.apiRTCSession.subscribePresenceGroup([e])}},{key:"unsubscribeToGroup",value:function(e){this.getSubscribedPresenceGroup().includes(e)?A.unsubscribeToPresenceGroup(e):_.debug("Not subscribed to this group")}},{key:"joinGroup",value:function(e){this.getPresenceGroup().includes(e)?_.debug("Already joined this group"):A.joinAndSubscribeToPresenceGroup(e)}},{key:"leaveGroup",value:function(e){this.getPresenceGroup().includes(e)?A.leaveAndUnsubscribeToPresenceGroup(e):_.debug("Group was not joined")}},{key:"subscribeToCloudEvent",value:function(e,t){A.subscribeToCloudEvent(e,t)}},{key:"unsubscribeToCloudEvent",value:function(e,t){A.unsubscribeToCloudEvent(e,t)}},{key:"joinConversationSpace",value:function(e){A.apiRTCSession.joinConversationSpace(e)}},{key:"leaveConversationSpace",value:function(e){A.apiRTCSession.leaveConversationSpace(e)}},{key:"getContacts",value:function(e){_.trace("getContacts()");var t,n={},r=g.a.get().getContacts(e),i=S(r.keys());try{for(i.s();!(t=i.n()).done;){var a=t.value;n[a]=r.get(a)}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"getContactsArray",value:function(e){_.log("getContactsArray");var t=g.a.get().getContacts(e);return Array.from(t.values())}},{key:"getOnlineContactsArray",value:function(e){_.log("getOnlineContactsArray");var t=g.a.get().getOnlineContacts(e);return Array.from(t.values())}},{key:"getCall",value:function(e){return _.trace("getCall()"),b.a.get().getCall(e)}},{key:"getCalls",value:function(){_.trace("getCalls()");var e,t={},n=b.a.get().getCalls(),r=S(n.keys());try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i]=n.get(i)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"disconnect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{invalidateUserToken:!0};return new Promise((function(n,i){if(_.info("disconnect()"),null===e.token&&null===e.id)_.error("disconnect() - Session is already disconnected"),i("disconnect() - Session is already disconnected");else{var a,o=S(v.a.get().getConversations().keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.status===r.a.CONVERSATION_STATUS_JOINED&&s.leave()}}catch(e){o.e(e)}finally{o.f()}if(clearInterval(N.get(e)),N.set(e,null),null!==e.token&&t.hasOwnProperty("invalidateUserToken")&&t.invalidateUserToken)x.invalidateUserToken(e.token).then((function(){L=null,A.disconnect({invalidateApiCCId:!0}),e.id=null,e.token=null;for(var t=U.get(e),r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];_.info("Session, removing apiRTCManager event :",a);var o=t[a];A.removeEventListener(a,o)}n()})).catch((function(e){_.error("disconnect() - An error occured during disconnection",e),i(new Error("disconnect() - An error occured during disconnection"))}));else{L=null,A.disconnect(),e.id=null;for(var l=U.get(e),c=0,u=Object.keys(l);c<u.length;c++){var d=u[c];_.info("Session, removing apiRTCManager event :",d);var f=l[d];A.removeEventListener(d,f)}n()}}}))}},{key:"cloudRequest",value:function(e,t,n){return x.cloudRequest(e,t,n)}},{key:"sendRawData",value:function(e,t){return new Promise((function(n,a){null!=e?A.sendData(e.getId(),t).then(n).catch((function(e){switch(e){case r.a.ERROR_TIMED_OUT:a(i.a.createError(r.a.ERROR_TIMED_OUT,"sendRawData() - Data transmission timed out ",_));break;case r.a.ERROR_NOT_FOUND:a(i.a.createError(r.a.ERROR_NOT_FOUND,"sendRawData() - Contact was not found ",_));break;default:a(i.a.createError(r.a.ERROR_OTHER,"sendRawData() - Data transmission timed out ",_))}})):a(i.a.createError(r.a.ERROR_OTHER,"sendRawData() - Contact undefined",_))}))}},{key:"startRecordingOutgoingStream",value:function(e,t){this.isRecording?_.error("startRecordingOutgoingStream() - already recording"):(A.webRTCClient.startRecording(e,t),this.isRecording=!0)}},{key:"stopRecordingOutgoingStream",value:function(){var e=this;return new Promise((function(t,n){e.isRecording?(e.isRecording=!1,A.onceEvent("MCURecordedStreamsAvailable",(function(e){t({filename:e.detail.recordedFileName,url:r.a.RECORD_PLAY_URL+e.detail.recordedFileName})})),A.webRTCClient.stopRecording()):(_.error("stopRecordingOutgoingStream() - not recording"),n(new Error("stopRecordingOutgoingStream() - not recording")))}))}},{key:"init",value:function(e){var t=this;this.id=e,L=this,null===N.get(this)&&N.set(this,setInterval((function(){B(t)}),3e4))}},{key:"setMCUServer",value:function(e){A.webRTCClient.setMCUConnector(e)}},{key:"allowMultipleCalls",value:function(e){A.webRTCClient.setAllowMultipleCalls(e)}},{key:"setCallStatsMonitoringEnabled",value:function(e,t){A.webRTCClient.enableCallStatsMonitoring(e,t)}},{key:"setQualityEvaluatingEnabled",value:function(e,t){A.webRTCClient.enableQualityEvaluating(e,t)}},{key:"getContactFromWebSession",value:function(e){var t=this;return new Promise((function(n,a){x.getSessionHistory(e,t.getToken()).then((function(e){"1"!==e.exist.toString()?a(i.a.createError(r.a.ERROR_NOT_FOUND,"No such web session",_)):e.user1.toString()===t.getId()?n(t.getContact(e.user2)):e.user2.toString()===t.getId()?n(t.getContact(e.user1)):a(i.a.createError(r.a.ERROR_UNAUTHORIZED,"User has no access to this web session",_))})).catch((function(e){e.hasOwnProperty("code")?a({code:e.code,error:e.error}):e.hasOwnProperty("http_code")?e.http_code.toString().startsWith("4")?a(i.a.createError(r.a.ERROR_OTHER,"Error while getting contact from websession",_)):a(i.a.createError(r.a.ERROR_SERVER_UNAVAILABLE,"Error while getting contact from websession",_)):a(i.a.createError(r.a.ERROR_OTHER,"Error while getting contact from websession",_))}))}))}},{key:"joinPointerSharingRoom",value:function(e){var t=this;return new Promise((function(n,a){if(F.get(t).hasOwnProperty(e))return a(i.a.createError(r.a.ERROR_WRONG_STATE,"joinPointerSharingRoom() - cannot join pointer sharing room again",_));A.pointerSharingClient.joinRoom(e,{success:function(e){var r=new V(t,e);F.get(t)[e]=r,n(r)},failure:function(e,t){a("timeout"===e?i.a.createError(r.a.ERROR_TIMED_OUT,"joinPointerSharingRoom() - cannot join pointer sharing room",_):i.a.createError(r.a.ERROR_OTHER,"joinPointerSharingRoom() - cannot join pointer sharing room",_))}})}))}},{key:"getSubscribedPresenceGroup",value:function(){return void 0!==apiCC&&null!==apiCC.session&&void 0!==apiCC.session?apiCC.session.subscribeToPresenceGroup:null}},{key:"getPresenceGroup",value:function(){return void 0!==apiCC&&null!==apiCC.session&&void 0!==apiCC.session?apiCC.session.presenceGroup:null}}])&&I(t.prototype,n),h&&I(t,h),m}(a.a),V=function(e,t){this.session=e,this.roomId=t,this.getRoomId=function(){return this.roomId},this.isActive=function(){return null!==this.session&&null!==this.roomId&&A.pointerSharingClient.roomActive(this.roomId)},this.leaveRoom=function(){var e=this;return new Promise((function(t,n){if(null===e.session||null===e.roomId)return n(i.a.createError(r.a.ERROR_WRONG_STATE,"leaveRoom() - cannot leave room again",_));A.pointerSharingClient.leaveRoom(e.roomId),delete F.get(e.session)[e.roomId],e.session=null,e.roomId=null,t()}))},this.invite=function(e,t){var n=this;return new Promise((function(a,o){if(null===n.session||null===n.roomId)return o(i.a.createError(r.a.ERROR_WRONG_STATE,"invite() - cannot invite",_));A.pointerSharingClient.inviteInRoom(n.roomId,e.getId(),t),a()}))},this.sendPointerLocation=function(e,t,n,a){var o=this;return new Promise((function(s,l){return null===o.session||null===o.roomId?l(i.a.createError(r.a.ERROR_WRONG_STATE,"sendPointerLocation() - cannot send pointer location",_)):A.pointerSharingClient.sendPointerLocation(o.roomId,e,t,n,a)?void s():l(i.a.createError(r.a.ERROR_WRONG_STATE,"sendPointerLocation() - cannot send pointer location",_))}))}},B=function(e){for(var t=e.getActiveConferences(),n=0,r=Object.keys(t);n<r.length;n++){var i=t[r[n]];x.updateConferencePresence(i,e,A.getActiveApiKey())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return I})),n(12),n(14),n(16),n(149),n(44),n(47),n(23),n(31),n(8),n(98),n(27),n(121),n(60),n(10),n(22),n(64),n(120),n(167),n(36),n(18),n(37),n(46),n(38),n(7),n(193),n(21),n(39),n(17),n(11),n(129),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(61),n(49),n(15),n(30),n(230);var r=n(0),i=n(2),a=n(4),o=n(24),s=n(5),l=n(32),c=n(42);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=s.a.get("Stream"),S=l.a.get(),w=c.a.get(),T=["stopped","trackStopped","audioAmplitude","audioAmplitudeInfo","muteStateChange","activeStateChange","backgroundSubstractionStopVisibilityChange","backgroundSubstractionStopComputeTime","AIESnapshot","AIELog"],I=new Map,O=new WeakMap,E=new WeakMap,R=new WeakMap,k=new WeakMap,M={},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,s,l=v(c);function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(h(this,c),t=l.call(this,y),!0!==n.constructor)throw new Error("Stream constructor should not be used directly, please use a static method of class Stream such as : createStreamFromUserMedia, createStreamFromMediaStream, createScreensharingStream");if(delete n.constructor,!n.hasOwnProperty("type"))throw new Error("Cannot create Stream with no type");if(y.debug("Create Stream with options",n),t.data=e,t.audioInput=n.hasOwnProperty("audioInput")?n.audioInput:null,t.videoInput=n.hasOwnProperty("videoInput")?n.videoInput:null,n.hasOwnProperty("userMediaStreamId")?(t.userMediaStreamId=n.userMediaStreamId,t.isRemote=!1,I.set(t.userMediaStreamId,b(t))):(t.userMediaStreamId=null,t.isRemote=!0),i.a.isPropertyTypeof(n,"streamId","number")?t.streamId=n.streamId:null!==t.userMediaStreamId?t.streamId=Number(t.userMediaStreamId):void 0!==Number.MAX_SAFE_INTEGER?t.streamId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER):t.streamId=Math.floor(1024*Math.random()*1024*1024),t.contact=n.hasOwnProperty("contact")?n.contact:null,n.hasOwnProperty("callId")?(t.callId=n.callId,t.callAudioAvailable=n.callAudioAvailable,t.callAudioActive=n.callAudioActive,t.callAudioMuted=n.callAudioMuted,t.callVideoAvailable=n.callVideoAvailable,t.callVideoActive=n.callVideoActive,t.callVideoMuted=n.callVideoMuted):t.callId=null,t.publishedInConversations=new Map,t.mediaRecorder=null,t.recordedBlobs=[],O.set(b(t),!!n.hasOwnProperty("screensharing")&&n.screensharing),E.set(b(t),null),R.set(b(t),null),t.type=n.type,"IE"!==apiRTC.browser&&null!==t.data){var r,o=function(e){e.addEventListener("ended",(function(n){M.hasOwnProperty(e.id)||(a.b.get(b(t)).emit("trackStopped",{type:e.kind,id:e.id}),M[e.id]=!0)}))},s=d(t.data.getVideoTracks());try{for(s.s();!(r=s.n()).done;)o(r.value)}catch(e){s.e(e)}finally{s.f()}var u,f=d(t.data.getAudioTracks());try{for(f.s();!(u=f.n()).done;)o(u.value)}catch(e){f.e(e)}finally{f.f()}}var p={};if(i.a.isTypeof(t.userMediaStreamId,"string")?(p.userMediaStop=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId){var n={streamId:t.streamId,userMediaStreamId:t.userMediaStreamId};a.b.get(b(t)).emit("stopped",n);var r=k.get(b(t));if(r)for(var i in r)apiRTC.removeEventListener(i,r[i])}},p.localStreamUpdated=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId&&null===e.detail.callId){if(e.detail.changeList.indexOf("audioIsMuted")>=0){var n={streamId:t.streamId,userMediaStreamId:t.userMediaStreamId,type:"audio",muted:e.detail.audioIsMuted};a.b.get(b(t)).emit("muteStateChange",n)}if(e.detail.changeList.indexOf("videoIsMuted")>=0){var r={streamId:t.streamId,userMediaStreamId:t.userMediaStreamId,type:"video",muted:e.detail.videoIsMuted};a.b.get(b(t)).emit("muteStateChange",r)}}},p.backgroundSubstractionStopVisibilityChange=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId){var n={streamId:t.streamId,userMediaStreamId:t.userMediaStreamId};a.b.get(b(t)).emit("backgroundSubstractionStopVisibilityChange",n)}},p.backgroundSubstractionStopComputeTime=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId){var n={streamId:t.streamId,userMediaStreamId:t.userMediaStreamId};a.b.get(b(t)).emit("backgroundSubstractionStopComputeTime",n)}},p.AIESnapshot=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId){var n=e.detail.image;a.b.get(b(t)).emit("AIESnapshot",n)}},p.AIELog=function(e){if(e.detail.userMediaStreamId===t.userMediaStreamId){var n=e.detail.log;a.b.get(b(t)).emit("AIELog",n)}}):i.a.isTypeof(t.callId,"string")&&(p.hangup=function(e){if("remote"===e.detail.hangupType&&e.detail.callId===t.callId){var n={streamId:t.streamId,callId:t.callId};a.b.get(b(t)).emit("stopped",n);var r=k.get(b(t));for(var i in r)apiRTC.removeEventListener(i,r[i])}},p.remoteStreamUpdated=function(e){if(e.detail.callId===t.callId){if(e.detail.changeList.indexOf("audioIsActive")>=0){t.callAudioActive=e.detail.audioIsActive;var n={streamId:t.streamId,callId:t.callId,type:"audio",active:e.detail.audioIsActive};a.b.get(b(t)).emit("activeStateChange",n)}if(e.detail.changeList.indexOf("audioIsMuted")>=0){t.callAudioMuted=e.detail.audioIsMuted;var r={streamId:t.streamId,callId:t.callId,type:"audio",muted:e.detail.audioIsMuted};a.b.get(b(t)).emit("muteStateChange",r)}if(e.detail.changeList.indexOf("videoIsActive")>=0){t.callVideoActive=e.detail.videoIsActive;var i={streamId:t.streamId,callId:t.callId,type:"video",active:e.detail.videoIsActive};a.b.get(b(t)).emit("activeStateChange",i)}if(e.detail.changeList.indexOf("videoIsMuted")>=0){t.callVideoMuted=e.detail.videoIsMuted;var o={streamId:t.streamId,callId:t.callId,type:"video",muted:e.detail.videoIsMuted};a.b.get(b(t)).emit("muteStateChange",o)}}}),Object.keys(p).length>0)for(var m in k.set(b(t),p),p)apiRTC.addEventListener(m,p[m]);return t}return t=c,s=[{key:"getAvailableEvents",value:function(){return T}},{key:"createStreamFromUserMedia",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return y.debug("createStreamFromUserMedia"),y.debug("audioInput :",e),y.debug("videoInput :",t),y.debug("constraints :",n),y.debug("options :",i),new Promise((function(a,o){var s=!1!==e&&(null!==e||n&&n.hasOwnProperty("audio")),l=!1!==t&&(null!==t||n&&n.hasOwnProperty("video")),d={type:r.a.STREAM_TYPE_NO_INPUT,audioInput:e,videoInput:t},f="media";l?d.type=r.a.STREAM_TYPE_VIDEO:s&&(d.type=r.a.STREAM_TYPE_AUDIO),s&&!l?f="audio":!s&&l&&(f="videoOnly"),s&&!0===i.enhancedAudioActivated&&(y.debug("Enhanced Audio is activated"),"Chrome"!==apiRTC.browser?y.debug("enhancedAudioActivated option is only available for Chrome"):(void 0===n&&(n={}),n.audio&&"object"===u(n.audio)||(n.audio={}),void 0===n.video&&(n.video={}),n.audio.echoCancellation=!1,n.audio.autoGainControl=!1,n.audio.noiseSuppression=!1)),apiRTC.createUserMediaStream({audioSourceId:e,videoSourceId:t,facingMode:i.facingMode,gum_config:n,filters:i.filters,type:f,success:function(e){y.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId),d.constructor=!0,d.userMediaStreamId=e.userMediaStreamId,a(new c(e.stream,d))},failure:function(e,t){y.debug("[createStreamFromUserMedia] failure :",t),o(t)}})}))}},{key:"createStreamFromMediaStream",value:function(e){return y.debug("createStreamFromMediaStream"),new Promise((function(t,n){var i={};i.type=r.a.STREAM_TYPE_NO_INPUT,e.getAudioTracks().length>0&&(i.type=r.a.STREAM_TYPE_AUDIO),e.getVideoTracks().length>0&&(i.type=r.a.STREAM_TYPE_VIDEO),apiRTC.createUserMediaStream({type:"media",stream:e,success:function(e){y.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId),i.constructor=!0,i.userMediaStreamId=e.userMediaStreamId,t(new c(e.stream,i))},failure:function(e,t){y.debug("[createStreamFromUserMedia] failure :",t),n()}})}))}},{key:"createScreensharingStream",value:function(e){return new Promise((function(t,n){apiRTC.createUserMediaStream({type:"screenSharing",captureSourceType:e,success:function(e){y.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId);var n=new c(e.stream,{constructor:!0,type:r.a.STREAM_TYPE_VIDEO,userMediaStreamId:e.userMediaStreamId});O.set(n,!0),t(n)},failure:function(e,t){y.debug("[createStreamFromUserMedia] failure :",t),n(t)}})}))}},{key:"createDisplayMediaStream",value:function(e,t){return new Promise((function(n,i){apiRTC.createUserMediaStream({type:"screenSharing",captureSourceType:e,displayMediaStreamConstraints:e,forceExtensionOnChrome:t,success:function(e){y.debug("[createStreamFromUserMedia] success; userMediaStreamId: "+e.userMediaStreamId);var t=new c(e.stream,{constructor:!0,type:r.a.STREAM_TYPE_VIDEO,userMediaStreamId:e.userMediaStreamId});O.set(t,!0),n(t)},failure:function(e,t){y.debug("[createStreamFromUserMedia] failure :",t),i(t)}})}))}},{key:"getLocalStreams",value:function(){return I.values()}},{key:"getStream",value:function(e){return null!=e&&I.has(e.toString())?I.get(e.toString()):null}}],(n=[{key:"getContact",value:function(){return this.contact}},{key:"getData",value:function(){return this.data}},{key:"getConversations",value:function(){var e,t=[],n=d(this.publishedInConversations.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(w.getConversations(r))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"isScreensharing",value:function(){return O.get(this)}},{key:"hasData",value:function(){return null!==this.data}},{key:"hasVideo",value:function(){return this.callId?this.callVideoAvailable&&this.callVideoActive:!!this.hasData()&&this.data.getVideoTracks().length>0}},{key:"hasAudio",value:function(){return this.callId?this.callAudioAvailable&&this.callAudioActive:!!this.hasData()&&this.data.getAudioTracks().length>0}},{key:"isVideoMuted",value:function(){if(this.callId)return this.callVideoMuted;if(this.hasData()){var e=this.data.getVideoTracks();return e&&e.length>0&&!e[0].enabled}return!1}},{key:"isAudioMuted",value:function(){if(this.callId)return this.callAudioMuted;if(this.hasData()){var e=this.data.getAudioTracks();return e&&e.length>0&&!e[0].enabled}return!1}},{key:"getType",value:function(){return this.type}},{key:"release",value:function(){this.hasData()&&(this.releaseAudio(),this.releaseVideo(),this.data=null,this.userMediaStreamId&&(apiCC.releaseUserMediaStream(this.userMediaStreamId),I.delete(this.userMediaStreamId)))}},{key:"releaseAudio",value:function(){var e=this;this.hasData()&&(this.disableAudioAnalysis(),this.data.getAudioTracks().forEach((function(t){t.stop(),M.hasOwnProperty(t.id)||(a.b.get(e).emit("trackStopped",{type:t.kind,id:t.id}),M[t.id]=!0)})))}},{key:"releaseVideo",value:function(){var e=this;this.hasData()&&this.data.getVideoTracks().forEach((function(t){t.stop(),M.hasOwnProperty(t.id)||(a.b.get(e).emit("trackStopped",{type:t.kind,id:t.id}),M[t.id]=!0)}))}},{key:"muteAudio",value:function(){if(this.userMediaStreamId){var e=apiCC.getUserMediaStream(this.userMediaStreamId);e&&e.muteAudioOnStreams()}else this.callId&&this.hasData()&&this.data.getAudioTracks().forEach((function(e){e.enabled=!1}))}},{key:"muteVideo",value:function(){if(this.userMediaStreamId){var e=apiCC.getUserMediaStream(this.userMediaStreamId);e&&e.muteVideoOnStreams()}else this.callId&&this.hasData()&&this.data.getVideoTracks().forEach((function(e){e.enabled=!1}))}},{key:"unmuteAudio",value:function(){if(this.userMediaStreamId){var e=apiCC.getUserMediaStream(this.userMediaStreamId);e&&e.unMuteAudioOnStreams()}else this.callId&&this.hasData()&&this.data.getAudioTracks().forEach((function(e){e.enabled=!0}))}},{key:"unmuteVideo",value:function(){if(this.userMediaStreamId){var e=apiCC.getUserMediaStream(this.userMediaStreamId);e&&e.unMuteVideoOnStreams()}else this.callId&&this.hasData()&&this.data.getVideoTracks().forEach((function(e){e.enabled=!0}))}},{key:"attachToElement",value:function(e){y.debug("attachToElement"),S.attachMediaStream(e,this.data)}},{key:"addInDiv",value:function(e,t,n,r,i){y.debug("addInDiv"),S.addStreamInDiv(this.data,this.type,e,t,n,r,i)}},{key:"removeFromDiv",value:function(e,t){y.debug("removeFromDiv"),S.removeElementFromDiv(e,t)}},{key:"startRecord",value:function(e){return y.info("startRecord :",e),apiCC.recordMgr.record(this.data,e)}},{key:"stopRecord",value:function(){return y.info("stopRecord() - Stopping record"),apiCC.recordMgr.stop()}},{key:"pauseRecord",value:function(){return y.info("pauseRecord() - Pausing record"),apiCC.recordMgr.pause()}},{key:"resumeRecord",value:function(){return y.info("resumeRecord() - Resuming record"),apiCC.recordMgr.resume()}},{key:"enableAudioAnalysis",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.info("enableAudioAnalysis()");var n=i.a.getAudioContext(),o=null,s=!1,l=R.get(this),c=E.get(this);n?this.hasData()?null!==l||null!==c?y.error("enableAudioAnalysis() - Audio analysis already enabled"):(l=n.createMediaStreamSource(this.data),(c=n.createScriptProcessor(2048,1,1)).connect(n.destination),c.onaudioprocess=function(){var n,i=new Uint8Array(c.analyser.frequencyBinCount),l=0;c.analyser.getByteFrequencyData(i);var u,f=d(i);try{for(f.s();!(u=f.n()).done;)l+=u.value}catch(e){f.e(e)}finally{f.f()}n=l/i.length,a.b.get(e).emit("audioAmplitude",n);var h=0;i.sort((function(e,t){return t-e})),i=i.slice(0,50);for(var p=0;p<i.length;p++)h+=i[p];n=h/i.length;var m="number"==typeof t.threshold?t.threshold:r.a.STREAM_AUDIO_ANALYSIS_THRESHOLD;n>m&&(s||(s=!0,a.b.get(e).emit("audioAmplitudeInfo",{amplitude:n,isSpeaking:!0})),null!==o&&clearTimeout(o),o=setTimeout((function(){a.b.get(e).emit("audioAmplitudeInfo",{amplitude:n,isSpeaking:!1}),s=!1}),1e3))},c.analyser=n.createAnalyser(),c.analyser.smoothingTimeConstant=.5,c.analyser.fftSize=1024,l.connect(c.analyser),c.analyser.connect(c),E.set(this,c),R.set(this,l)):y.error("enableAudioAnalysis() - Stream has no data, unable to enable audio analysis"):y.error("enableAudioAnalysis() - AudioContext is not available, unable to enable audio analysis")}},{key:"disableAudioAnalysis",value:function(){y.info("disableAudioAnalysis()");var e=R.get(this),t=E.get(this);null!==e&&e.disconnect(),null!==t&&(t.analyser.disconnect(),t.disconnect()),E.set(this,null),R.set(this,null)}},{key:"takeSnapshot",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.info("takeSnapshot()");var n=null,r=null;return new Promise((function(i,a){if(e.hasData()){e.hasVideo()||y.warn("takeSnapshot() - This stream does not have a video track"),n=document.createElement("video"),r=function(e){if(o.width=n.videoWidth,o.height=n.videoHeight,t.hasOwnProperty("width")&&(o.width=t.width),t.hasOwnProperty("height")&&(o.height=t.height),t.hasOwnProperty("filters")){for(var r=[],a=0,l=Object.keys(t.filters);a<l.length;a++){var c=l[a];r.push(c+"("+t.filters[c]+")")}s.filter=r.join(" ")}s.drawImage(n,0,0,o.width,o.height),!0===e&&n.remove(),t.hasOwnProperty("output")&&"blob"===t.output?void 0!==t.outputMimeType?(y.debug("options.outputMimeType is defined :",t.outputMimeType),o.toBlob((function(e){i(e)}),t.outputMimeType,t.outputQualityArgument)):o.toBlob((function(e){i(e)}),"image/png"):void 0!==t.outputMimeType?(y.debug("options.outputMimeType is defined :",t.outputMimeType),i(o.toDataURL(t.outputMimeType,t.outputQualityArgument))):i(o.toDataURL("image/png"))};var o=document.createElement("canvas"),s=o.getContext("2d");void 0===t.divId||null===t.divId?setTimeout((function(){e.attachToElement(n),n.addEventListener("canplay",(function(){r(!0)})),n.muted=!0,n.play()}),1e3):null===(n=document.getElementById(t.divId))?y.error("divId not found for snapshot"):r(!1)}else{var l="takeSnapshot() - Stream has no data, cannot get snapshot";y.error(l),a(new Error(l))}}))}},{key:"getId",value:function(){return String(this.streamId)}},{key:"getOwner",value:function(){return this.contact?this.contact:o.b.getActiveSession().getUserAgent()}},{key:"getLabels",value:function(){var e={};return this.hasData()&&this.data.getAudioTracks().length>0&&(e.audioSourceLabel="",this.data.getAudioTracks()[0].label&&(e.audioSourceLabel=this.data.getAudioTracks()[0].label)),this.hasData()&&this.data.getVideoTracks().length>0&&(e.videoSourceLabel="",this.data.getVideoTracks()[0].label&&(e.videoSourceLabel=this.data.getVideoTracks()[0].label)),y.debug("getLabels:",e),e}},{key:"checkImageCaptureCompatibility",value:function(){return"undefined"==typeof ImageCapture}},{key:"getLocalMediaStreamTrack",value:function(){var e=null;return 1===this.data.getVideoTracks().length&&(e=this.data.getVideoTracks()[0]),e}},{key:"getCapabilities",value:function(){y.debug("getCapabilities()");var e=this.getLocalMediaStreamTrack();if(null!==e){if(void 0===e.getCapabilities())return void y.error("No capabilities on this camera");var t=e.getCapabilities();return void 0!==t.deviceId&&delete t.deviceId,void 0!==t.groupId&&delete t.groupId,Object.keys(t).forEach((function(e){0===Object.keys(t[e]).length&&delete t[e]})),t}y.error("No stream found")}},{key:"getConstraints",value:function(){y.debug("getConstraints()");var e=this.getLocalMediaStreamTrack();return null!==e?void 0===e.getConstraints()?void y.error("No capabilities on this camera"):e.getConstraints():void y.error("No stream found")}},{key:"setCapability",value:function(e,t){var n=this;return new Promise((function(r,i){y.debug("setCapability()",e,t);var a=n.getLocalMediaStreamTrack();if(null!==a)if(a.getCapabilities().hasOwnProperty(e)){var o={};o[e]=t,"Safari"!==apiRTC.browser&&"Mobile Safari"!==apiRTC.browser&&(o={advanced:[o]}),a.applyConstraints(o).then(r).catch(i)}else i("This capability "+e+" is not available on this camera or does not exists");else i("No local mediaStreamTrack found")}))}},{key:"setCapabilities",value:function(e){var t=this;return new Promise((function(n,r){y.debug("setCapabilities()",e);var i=t.getLocalMediaStreamTrack();if(null!==i){var a={};Object.keys(e).forEach((function(t){i.getCapabilities().hasOwnProperty(t)?a[t]=e[t]:r("This capability "+t+" is not available on this camera or does not exists")})),"Safari"!==apiRTC.browser&&"Mobile Safari"!==apiRTC.browser&&(a={advanced:[a]}),i.applyConstraints(a).then((function(){n()})).catch(r)}else r("No local mediaStreamTrack found")}))}},{key:"getSettings",value:function(){y.debug("getSettings()");var e=this.getLocalMediaStreamTrack(),t={};return null!==e?(t=e.getSettings())?(void 0!==t.deviceId&&delete t.deviceId,void 0!==t.groupId&&delete t.groupId):y.error("No settings on this camera"):y.error("No stream found"),t}},{key:"setTorch",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("torch",e).then(n).catch(r)}))}},{key:"setFrameRate",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("frameRate",e).then(n).catch(r)}))}},{key:"setHeight",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("height",e).then(n).catch(r)}))}},{key:"setWidth",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("width",e).then(n).catch(r)}))}},{key:"setAspectRatio",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("aspectRatio",e).then(n).catch(r)}))}},{key:"setZoom",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("zoom",e).then(n).catch(r)}))}},{key:"setIso",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("iso",e).then(n).catch(r)}))}},{key:"setFocusDistance",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("focusDistance",e).then(n).catch(r)}))}},{key:"setExposureTime",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("exposureTime",e).then(n).catch(r)}))}},{key:"setExposureCompensation",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("exposureCompensation",e).then(n).catch(r)}))}},{key:"setColorTemperature",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("colorTemperature",e).then(n).catch(r)}))}},{key:"setResizeMode",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("resizeMode",e).then(n).catch(r)}))}},{key:"setWhiteBalanceMode",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("whiteBalanceMode",e).then(n).catch(r)}))}},{key:"setFocusMode",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("focusMode",e).then(n).catch(r)}))}},{key:"setFacingMode",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("facingMode",e).then(n).catch(r)}))}},{key:"setExposureMode",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("exposureMode",e).then(n).catch(r)}))}},{key:"setBrightness",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("brightness",e).then(n).catch(r)}))}},{key:"setContrast",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("contrast",e).then(n).catch(r)}))}},{key:"setSaturation",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("saturation",e).then(n).catch(r)}))}},{key:"setSharpness",value:function(e){var t=this;return new Promise((function(n,r){t.setCapability("sharpness",e).then(n).catch(r)}))}},{key:"takePhoto",value:function(){var e=this;return new Promise((function(t,n){if(y.debug("takePhoto()"),e.checkImageCaptureCompatibility())n("Your navigator is not compatible with takePhoto()");else{var r=e.getLocalMediaStreamTrack();null!==r?new ImageCapture(r).takePhoto().then((function(e){var n=new Image;n.src=URL.createObjectURL(e),t(n)})).catch((function(e){n("takePhoto() error: ",e)})):n("No local mediaStreamTrack found")}}))}},{key:"activateAIAnnotations",value:function(){var e=this.getStreamAIE();null!==e&&e.activateAnnotations()}},{key:"stopAIAnnotations",value:function(){var e=this.getStreamAIE();null!==e&&e.stopAnnotations()}},{key:"activateAILogs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"!=typeof e)return y.error("minLogPeriod parameter must be an integer");var t=this.getStreamAIE();null!==t&&t.activateLogs(e)}},{key:"stopAILogs",value:function(){var e=this.getStreamAIE();null!==e&&e.stopLogs()}},{key:"activateAISnapshots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"!=typeof e)return y.error("minSnapshotPeriod parameter must be an integer");var t=this.getStreamAIE();null!==t&&t.activateSnapshots(e)}},{key:"stopAISnapshots",value:function(){var e=this.getStreamAIE();null!==e&&e.stopSnapshots()}},{key:"getStreamAIE",value:function(){var e=null;if(void 0!==apiCC){var t=apiCC.getUserMediaStream(this.userMediaStreamId);if(null!==t.mediaFilterManager){var n=t.mediaFilterManager.filters;Object.values(n).forEach((function(t){null!==t.streamAIE&&(e=t.streamAIE)})),null===e&&y.error("Applied filter is not an AI filter")}else y.error("No filter applied on stream")}return e}}])&&p(t.prototype,n),s&&p(t,s),c}(a.a)},function(e,t,n){var r=n(20),i=n(174),a=n(40),o=n(135),s=n(177),l=n(204),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t,n){"use strict";var r=n(13),i=n(29),a=n(139),o=n(117),s=n(33),l=n(63),c=n(157),u=n(26),d=n(144),f=n(96),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,u,d=l(this),f=s(d.length),h=o(e,f),p=o(void 0===t?f:t,f);if(a(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(d,h,p);for(r=new(void 0===n?Array:n)(g(p-h,0)),u=0;h<p;h++,u++)h in d&&c(r,u,d[h]);return r.length=u,r}})},function(e,t,n){"use strict";var r,i=n(191),a=n(34),o=n(20),s=n(29),l=n(40),c=n(142),u=n(55),d=n(51),f=n(45).f,h=n(125),p=n(126),m=n(26),v=n(135),g=o.Int8Array,b=g&&g.prototype,C=o.Uint8ClampedArray,y=C&&C.prototype,S=g&&h(g),w=b&&h(b),T=Object.prototype,I=T.isPrototypeOf,O=m("toStringTag"),E=v("TYPED_ARRAY_TAG"),R=i&&!!p&&"Opera"!==c(o.opera),k=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_=function(e){return s(e)&&l(M,c(e))};for(r in M)o[r]||(R=!1);if((!R||"function"!=typeof S||S===Function.prototype)&&(S=function(){throw TypeError("Incorrect invocation")},R))for(r in M)o[r]&&p(o[r],S);if((!R||!w||w===T)&&(w=S.prototype,R))for(r in M)o[r]&&p(o[r].prototype,w);if(R&&h(y)!==w&&p(y,w),a&&!l(w,O))for(r in k=!0,f(w,O,{get:function(){return s(this)?this[E]:void 0}}),M)o[r]&&u(o[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:k&&E,aTypedArray:function(e){if(_(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(I.call(S,e))return e}else for(var t in M)if(l(M,r)){var n=o[t];if(n&&(e===n||I.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var r in M){var i=o[r];i&&l(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||d(w,e,n?t:R&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(p){if(n)for(r in M)(i=o[r])&&l(i,e)&&delete i[e];if(S[e]&&!n)return;try{return d(S,e,n?t:R&&g[e]||t)}catch(e){}}for(r in M)!(i=o[r])||i[e]&&!n||d(i,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||l(M,t)},isTypedArray:_,TypedArray:S,TypedArrayPrototype:w}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(13),i=n(20),a=n(184),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(e,t,n){n(13)({target:"Array",stat:!0},{isArray:n(139)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n(12),n(14),n(16),n(47),n(23),n(31),n(8),n(27),n(10),n(22),n(18),n(7),n(21),n(17),n(11),n(15);var r=n(0),i=n(57),a=n(2);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(5).a.get("ApiRTCManager"),d=["sessionReady","incomingCall","callEstablished","userMediaSuccess","userMediaStop","userMediaError","callRestarting","error","receiveIMMessage","updatePresence","webRTCClientCreated","updateUserStatus","channelEvent","groupChatCreation","groupChatInvitation","groupChatMemberUpdate","addUserInGroupChatAnswer","receiveGroupChatMessage","userDataAnswer","receiveConversationList","receiveConversationHistory","receiveConversationDetailReport","receiveContactOccurrencesFromConversationList","receiveMCUSessionInvitation","MCUSessionCreation","MCUAvailableStream","MCUAvailableStreamUpdate","MCURemoveStream","canPlayRemoteVideo","recordedFileAvailable","receiveData","roomCreation","roomJoined","roomInvitation","roomMemberUpdate","receiveRoomMessage","contactListInRoom","snapShotPhotoUploaded","stopRecord","callAttempt","joinMCUSessionAnswer","hangup","desktopCapture","remoteStreamAdded","remoteStreamRemoved","switchStream","sendDataChannelOpen","sendDataChannelClose","sendDataChannelError","receiveDataChannelOpen","receiveDataChannelClose","receiveDataChannelError","connectedUsersListUpdate","onFileSended","onFileSending","onFileReceiving","onFileReceived","onFileProgress","onFilePending","recordedStreamsAvailable","closingWhiteBoard","webRTCPluginInstallation","onQosStatsUpdate","onQosChange","onQosAudioChange","onQosVideoChange","MCURecordedStreamsAvailable","MCURecordingStarted","MCURecordingStopped","ICECandidateTypeUpdate","disconnectionWarning","MCUAvailableComposite","MCUParticipantEjected","MCUStreamingStarted","MCUStreamingStopped","MCUAvailableReplay","MCURoomModeChanged","onCallStatsUpdate","slowLink","localStreamUpdated","remoteStreamUpdated","audioAmplitude","videoQualityChanged","cpuLimited","bandwidthLimited","simulcastFeedChanged","cloudEventOccurred","groupUnsubscribed","transferBegun","transferProgress","transferEnded"],f=null,h=!1,p=!1,m=function(e){if(null!==f&&f.isInitialized()){if("groupUnsubscribed"===e||"transferBegun"===e||"transferProgress"===e||"transferEnded"===e)return;apiRTC.addEventListener(e,(function(t){u.trace("Emiting "+e,t),f.eventEmitter.emit(e,t)}))}},v=function(e){null!==f&&f.isInitialized()&&apiRTC.removeEventListener(e,(function(t){u.trace("Emiting "+e,t),f.eventEmitter.emit(e,t)}))},g=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==f)throw"Cannot construct singleton ApiRTCManager";this.eventEmitter=new i.a,this.apiRTCSession=null,this.whiteBoardClient=null,this.pointerSharingClient=null,this.webRTCClient=null,this.dataClient=null,this.IMClient=null,this.contactDisconnectionDelay=r.a.CONTACT_DISCONNECTION_DELAY,f=this}var t,n,s;return t=e,s=[{key:"get",value:function(){return null===f&&(f=new e),f}}],(n=[{key:"onEvent",value:function(e,t){return d.indexOf(e)>-1?this.eventEmitter.on(e,t):u.error("No such apiRTC event "+e),this}},{key:"onceEvent",value:function(e,t){d.indexOf(e)>-1?this.eventEmitter.once(e,t):u.error("No such apiRTC event "+e)}},{key:"sendData",value:function(e,t){var n=this;return new Promise((function(i,a){null===n.dataClient?a(r.a.ERROR_APIRTC_INITIALISATION_FAILED):n.dataClient.sendData(e,t,(function(e){var t=r.a.ERROR_OTHER;null!=e?"timeoutReached"!==e.reason&&"destNotFound"!==e.reason?i():("timerReached"===e.reason?t=r.a.ERROR_TIMED_OUT:"destNotFound"===e.reason&&(t=r.a.ERROR_NOT_FOUND),a(t)):a(t)}))}))}},{key:"sendMessage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,o){null===n.IMClient?o(r.a.ERROR_APIRTC_INITIALISATION_FAILED):n.IMClient.sendMessage(e,t,(function(e){var t=r.a.ERROR_OTHER;null!=e?"timeoutReached"!==e.reason&&"destNotFound"!==e.reason?a(e.UUCSeq):("timerReached"===e.reason?t=r.a.ERROR_TIMED_OUT:"destNotFound"===e.reason&&(t=r.a.ERROR_NOT_FOUND),o(t)):o(t)}),i)}))}},{key:"joinGroupChat",value:function(e){var t=this;return new Promise((function(n,i){if(null===t.IMClient)return i(a.a.createError(r.a.ERROR_WRONG_STATE,"joinGroupChat() - cannot join group chat"));t.IMClient.joinGroupChat(e),n()}))}},{key:"leaveGroupChat",value:function(e){var t=this;return new Promise((function(n,i){if(null===t.IMClient)return i(a.a.createError(r.a.ERROR_WRONG_STATE,"leaveGroupChat() - cannot leave group chat"));t.IMClient.leaveGroupChat(e),n()}))}},{key:"sendMessageToGroupChat",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,s){if(null===n.IMClient)s(r.a.ERROR_APIRTC_INITIALISATION_FAILED);else{var c={};a.a.isTypeof(i,"metadata","object")&&(c.metadata=i.metadata),n.IMClient.sendMessageToGroupChat(e,t,(function(e){return null!==e&&"object"===l(e)?"ack"===e.reason?o(e.UUCSeq):"timeoutReached"===e.reason?s(r.a.ERROR_TIMED_OUT):"destNotFound"===e.reason?s(r.a.ERROR_NOT_FOUND):s(r.a.ERROR_OTHER):s(r.a.ERROR_OTHER)}),c)}}))}},{key:"removeEventListener",value:function(e,t){null!=t&&(d.indexOf(e)>-1?this.eventEmitter.off(e,t):u.error("No such apiRTC event "+e))}},{key:"isInitialized",value:function(){return h}},{key:"unsubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.unsubscribePresenceGroup([e]),f.eventEmitter.emit("groupUnsubscribed",e)):u.error("apiRTC session is not initialized")}},{key:"joinAndSubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.joinPresenceGroup([e]),this.apiRTCSession.subscribePresenceGroup([e])):u.error("apiRTC session is not initialized")}},{key:"leaveAndUnsubscribeToPresenceGroup",value:function(e){null!==this.apiRTCSession?(this.apiRTCSession.leavePresenceGroup([e]),this.unsubscribeToPresenceGroup(e)):u.error("apiRTC session is not initialized")}},{key:"subscribeToCloudEvent",value:function(e,t){this.apiRTCSession?this.apiRTCSession.subscribeToCloudEvent(e,t):u.error("apiRTC session is not initialized")}},{key:"unsubscribeToCloudEvent",value:function(e,t){this.apiRTCSession?this.apiRTCSession.unsubscribeToCloudEvent(e,t):u.error("apiRTC session is not initialized")}},{key:"disconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(apiRTC.disconnect(e),h=!1,this.apiRTCSession=null,this.webRTCClient=null,this.dataClient=null,this.IMClient=null,p){var t,n=o(d);try{for(n.s();!(t=n.n()).done;){var r=t.value;v(r)}}catch(e){n.e(e)}finally{n.f()}p=!1}}},{key:"initializeApiRTC",value:function(e){return u.info("initializeApiRTC()"),new Promise((function(t,n){if(void 0===e&&void 0===e.apiKey)n("Invalid apiRTC initialization params");else{var i=function(e){switch(u.debug("onChannelEventDuringInit()",e.detail),e.detail.channelEvent){case"onChannelError":n("Channel Error : "+e.detail.event);break;case"onChannelConnectError":break;case"onChannelOpened":u.debug("onChannelOpened");break;default:u.debug("Unhandle case in onChannelEventDuringInit :",e.detail.channelEvent)}};apiRTC.addEventListener("channelEvent",i),e.onReady=function(){if(h=!0,f.webRTCClient=apiRTC.session.createWebRTCClient({}),f.webRTCClient.setMCUConnector(e.hasOwnProperty("mcu")?e.mcu:r.a.DEFAULT_MCU),a.a.isPropertyTypeof(e,"turnServerAddress","string")&&f.webRTCClient.setClientTurnServer(e.turnServerAddress),f.webRTCClient.setUserAcceptOnIncomingCallBeforeGetUserMedia(!0),a.a.isPropertyTypeof(e,"userAcceptOnIncomingDataCall","boolean")?f.webRTCClient.setUserAcceptOnIncomingDataCall(e.userAcceptOnIncomingDataCall):f.webRTCClient.setUserAcceptOnIncomingDataCall(!0),a.a.isPropertyTypeof(e,"userAcceptOnIncomingScreenSharingCall","boolean")?f.webRTCClient.setUserAcceptOnIncomingScreenSharingCall(e.userAcceptOnIncomingScreenSharingCall):f.webRTCClient.setUserAcceptOnIncomingScreenSharingCall(!1),f.dataClient=apiRTC.session.createDataClient(),f.IMClient=apiRTC.session.createIMClient(),f.pointerSharingClient=apiRTC.session.createPointerSharingClient(),f.webRTCClient.setAllowMultipleCalls(!0),f.apiRTCSession=apiRTC.session,!p){var n,s=o(d);try{for(s.s();!(n=s.n()).done;){var l=n.value;m(l)}}catch(e){s.e(e)}finally{s.f()}p=!0}apiRTC.removeEventListener("channelEvent",i),t(apiRTC.session.apiCCId)},h=!1,f.apiRTCSession=null,f.webRTCClient=null,f.dataClient=null,f.IMClient=null,apiRTC.init(e)}}))}},{key:"createWhiteBoard",value:function(){u.debug("createWhiteBoard()"),f.whiteBoardClient=apiRTC.createWhiteBoard(null,"invisible",null,6e4)}},{key:"getMediaDevices",value:function(){return u.debug("ApiRTCManager::getMediaDevices()"),new Promise((function(e,t){apiRTC.getMediaDevices().then((function(t){u.debug("ApiRTCManager::getMediaDevices(), sources :",t),e(t)})).catch((function(e){var n="getMediaDevices() - error";u.error(n,e),t(new Error(n))}))}))}},{key:"getUserMedia",value:function(e){return new Promise((function(t,n){apiRTC.getUserMedia(e).then((function(e){u.debug("ApiRTCManager::getUserMedia() success"),t(e)})).catch((function(e){u.error("ApiRTCManager::getUserMedia() - Could not get user media :",e),n(new Error("ApiRTCManager::getUserMedia() - Could not get user media :"+e))}))}))}},{key:"setAudioSourceIdInConstraint",value:function(e,t){return apiRTC.setAudioSourceIdInConstraint(e,t)}},{key:"setVideoSourceIdInConstraint",value:function(e,t){return apiRTC.setVideoSourceIdInConstraint(e,t)}},{key:"attachMediaStream",value:function(e,t){apiRTC.attachMediaStream(e,t)}},{key:"addStreamInDiv",value:function(e,t,n,r,i,a,o){apiRTC.addStreamInDiv(e,t,n,r,i,a,o)}},{key:"removeElementFromDiv",value:function(e,t){u.debug("removeElementFromDiv"),apiRTC.removeElementFromDiv(e,t)}},{key:"getClientId",value:function(){return null!==this.apiRTCSession&&null!==this.apiRTCSession.apiCCWebRTCClient?this.apiRTCSession.apiCCWebRTCClient.webRTCClient.clientId:null}},{key:"getActiveApiKey",value:function(){return void 0!==apiRTC.session&&null!==apiRTC.session?apiRTC.session.apiKey:null}}])&&c(t.prototype,n),s&&c(t,s),e}()},function(e,t,n){var r=n(67),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(19);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(29);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){n(13)({target:"Object",stat:!0,sham:!n(34)},{create:n(95)})},function(e,t,n){var r=n(13),i=n(19),a=n(48),o=n(125),s=n(211);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){n(13)({target:"Object",stat:!0},{setPrototypeOf:n(126)})},function(e,t,n){var r=n(13),i=n(104),a=n(106),o=n(35),s=n(29),l=n(95),c=n(229),u=n(19),d=i("Reflect","construct"),f=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!u((function(){d((function(){}))})),p=f||h;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(h&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(s(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return s(p)?p:u}})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n(12),n(14),n(16),n(8),n(99),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(100);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"b",(function(){return r.b})),n(5).a.get("ReceivedInvitation");var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,r,i=s(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this)).id=t,n.sender=e,n.receiveTime=Date.now(),n}return t=l,(n=[{key:"accept",value:function(){return new Promise}},{key:"decline",value:function(e){}},{key:"getSender",value:function(){return this.sender}},{key:"getReceiveTime",value:function(){return this.receiveTime}},{key:"getId",value:function(){return this.id}}])&&a(t.prototype,n),r&&a(t,r),l}(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n(8),n(10),n(22),n(64),n(18),n(7),n(43),n(17),n(11),n(128),n(15);var r=n(2),i=n(6),a=n(132);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(5).a.get("ConversationCatalog");var s=null,l=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==s)throw"Cannot construct singleton ConversationCatalog";this.conversationList=new Map,this.conferenceList=new Map,s=this}var t,n,l;return t=e,l=[{key:"get",value:function(){return null===s&&(s=new e),s}}],(n=[{key:"deleteConversation",value:function(e){return!!(r.a.isTypeof(e,"string")&&e.length>0)&&this.conversationList.delete(e)}},{key:"deleteConference",value:function(e){return!!(r.a.isTypeof(e,"string")&&e.length>0)&&this.conferenceList.delete(e)}},{key:"getOrCreateConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return null!=e&&""!==e?this.conversationList.has(e.toString())?n=this.conversationList.get(e.toString()):(n=new i.a(e.toString(),t),this.conversationList.set(e.toString(),n)):(n=new i.a(null,t),this.conversationList.set(n.getName(),n)),n}},{key:"getOrCreateConference",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return null!=e&&""!==e?this.conferenceList.has(e.toString())?n=this.conferenceList.get(e.toString()):(n=new a.a(e.toString(),t),this.conferenceList.set(e.toString(),n)):(n=new a.a(null,t),this.conferenceList.set(n.getName(),n)),n}},{key:"getConversations",value:function(){return this.conversationList}},{key:"getConferences",value:function(){return this.conferenceList}},{key:"isConference",value:function(e){return c(e).hasOwnProperty("apiKey")}},{key:"getNameFromTechnicalName",value:function(e){return c(e).name}}])&&o(t.prototype,n),l&&o(t,l),e}();function c(e){var t=e.match(/^([^:]+)[:]([^:]+)$/);return null===t||t.length<3?{name:e}:{apiKey:t[1],name:t[2]}}},function(e,t,n){"use strict";var r=n(13),i=n(160);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var r=n(13),i=n(224);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){var r=n(34),i=n(198),a=n(35),o=n(114),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13),i=n(48),a=n(140);r({target:"Object",stat:!0,forced:n(19)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},function(e,t,n){var r=n(13),i=n(215);r({target:"Array",stat:!0,forced:!n(158)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){var r=n(59);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(20),i=n(213),a=n(224),o=n(55);for(var s in i){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(e){c.forEach=a}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n(12),n(14),n(16),n(8),n(18),n(7),n(11),n(15);var r=n(5),i=n(32);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=r.a.get("UserData"),c=i.a.get(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in o(this,e),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t){if(!(e instanceof Object&&t instanceof Object))return!1;for(var n in e){if(void 0===t[n])return!1;if("object"===a(t[n])&&!this.equals(t[n],e[n]))return!1;if(t[n]!==e[n])return!1}for(var r in t){if(void 0===e[r])return!1;if("object"===a(e[r])&&!this.equals(e[r],t[r]))return!1;if(e[r]!==t[r])return!1}return!0}}],(n=[{key:"get",value:function(e){return this.hasOwnProperty(e)&&void 0!==this[e]&&"null"!==this[e]&&null!==this[e]?this[e]:null}},{key:"setToSession",value:function(){try{var e={};for(var t in this)this.hasOwnProperty(t)&&"function"!=typeof this[t]&&(e[t]=this[t]);c.apiRTCSession.setUserData(e)}catch(e){l.error("setUserData() - could not set userData")}}},{key:"setProp",value:function(e,t){return this[e]=t,this}},{key:"setProps",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this}}])&&s(t.prototype,n),r&&s(t,r),e}()},function(e,t,n){var r=n(20),i=n(55),a=n(40),o=n(172),s=n(173),l=n(56),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!f&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){"use strict";var r=n(13),i=n(117),a=n(67),o=n(33),s=n(48),l=n(178),c=n(157),u=n(144),d=n(96),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,r,u,d,f,h,v=s(this),g=o(v.length),b=i(e,g),C=arguments.length;if(0===C?n=r=0:1===C?(n=0,r=g-b):(n=C-2,r=m(p(a(t),0),g-b)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(v,r),d=0;d<r;d++)(f=b+d)in v&&c(u,d,v[f]);if(u.length=r,n<r){for(d=b;d<g-r;d++)h=d+n,(f=d+r)in v?v[h]=v[f]:delete v[h];for(d=g;d>g-r+n;d--)delete v[d-1]}else if(n>r)for(d=g-r;d>b;d--)h=d+n-1,(f=d+r-1)in v?v[h]=v[f]:delete v[h];for(d=0;d<n;d++)v[d+b]=arguments[d+2];return v.length=g-r+n,u}})},function(e,t,n){var r=n(118),i=n(134),a=n(48),o=n(33),s=n(178),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d;return function(h,p,m,v){for(var g,b,C=a(h),y=i(C),S=r(p,m,3),w=o(y.length),T=0,I=v||s,O=t?I(h,w):n?I(h,0):void 0;w>T;T++)if((f||T in y)&&(b=S(g=y[T],T,C),e))if(t)O[T]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:l.call(O,g)}else if(u)return!1;return d?-1:c||u?u:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n(12),n(14),n(16),n(47),n(31),n(8),n(27),n(10),n(22),n(64),n(18),n(46),n(7),n(17),n(11),n(15),n(30);var r=n(57),i=n(62),a=n(50),o=n(32);function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=n(5).a.get("ContactCatalog"),d=null,f={},h={leftGroup:{},joinedGroup:{},userDataChanged:[]},p=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==d)throw"Cannot construct singleton ContactCatalog";this.contactList=new Map,this.eventEmitter=new r.a,d=this;var t=o.a.get();t.onEvent("connectedUsersListUpdate",(function(e){var n=apiRTC.session.apiCCId.toString(),r={};switch(e.detail.updateReason){case"newConnectionState":if("online"===e.detail.status){u.debug("new connection");var i,a=s(e.detail.usersList);try{for(a.s();!(i=a.n()).done;)(r={userId:i.value,group:e.detail.group}).userId.toString()!==n&&g(r)}catch(e){a.e(e)}finally{a.f()}}else{u.debug("new disconnection");var o,l=s(e.detail.usersList);try{for(l.s();!(o=l.n()).done;)r={userId:o.value,group:e.detail.group},void 0===f[r.group]&&(f[r.group]={}),r.userId.toString()!==n&&(f[r.group][r.userId.toString()]=setTimeout(m(r),t.contactDisconnectionDelay))}catch(e){l.e(e)}finally{l.f()}}break;case"userDataUpdate":u.debug("userDataUpdate");var c,d=s(e.detail.usersList);try{for(d.s();!(c=d.n()).done;)(r={userId:c.value,group:e.detail.group}).userId.toString()!==n&&b(r)}catch(e){d.e(e)}finally{d.f()}break;case"callState":u.debug("callState change for user");break;default:u.warn("default case for updateReason value")}})).onEvent("groupUnsubscribed",(function(e){var t,n=d.getContacts(e),r=s(n.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.get(i).removeFromGroup(e)}}catch(e){r.e(e)}finally{r.f()}}))}var t,n,a;return t=e,a=[{key:"get",value:function(){return null===d&&(d=new e),d}}],(n=[{key:"onUpdate",value:function(e){this.eventEmitter.on("update",e)}},{key:"removeUpdateListener",value:function(e){this.eventEmitter.off("update",e)}},{key:"getContact",value:function(e){return null!=e&&this.contactList.has(e.toString())?this.contactList.get(e.toString()):null}},{key:"getOrCreateContact",value:function(e){var t=null;if(null!=e)if(this.contactList.has(e.toString()))t=this.contactList.get(e.toString());else try{t=new i.a(e.toString(),{}),this.contactList.set(e.toString(),t)}catch(e){u.debug("Contact not added : "+e)}return t}},{key:"getContacts",value:function(e){if(null==e)return this.contactList;var t,n=new Map,r=s(this.contactList.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;this.contactList.get(i).inGroup(e)&&n.set(i,this.contactList.get(i))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getOnlineContacts",value:function(e){var t=new Map;if(null==e){var n,r=s(this.contactList.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.contactList.get(i).isOnline()&&t.set(i,this.contactList.get(i))}}catch(e){r.e(e)}finally{r.f()}}else{var a,o=s(this.contactList.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value;this.contactList.get(l).inGroup(e)&&this.contactList.get(l).isOnline()&&t.set(l,this.contactList.get(l))}}catch(e){o.e(e)}finally{o.f()}}return t}}])&&c(t.prototype,n),a&&c(t,a),e}();function m(e){return function(){var t=e.userId.toString();if(u.info("Contact disconnected "+t+" from "+e.group),d.contactList.has(t)){var n=d.contactList.get(t);if(void 0===n)return void u.debug("Contact not exist with userId :",t);n.removeFromGroup(e.group),function(e,t){u.debug("updateContactListOnUserDisconnect()"),void 0===h.leftGroup[e]&&(h.leftGroup[e]=[]),h.leftGroup[e].push(t),v()}(e.group,n),void 0!==f[e.group]&&void 0!==f[e.group][t]&&delete f[e.group][t]}}}function v(){0===Object.keys(h.leftGroup).length&&0===Object.keys(h.joinedGroup).length&&0===h.userDataChanged.length||(d.eventEmitter.emit("update",h),h={leftGroup:{},joinedGroup:{},userDataChanged:[]})}function g(e){u.debug("updateContactListOnUserConnection()");var t=e.userId.toString(),n=null,r=apiRTC.session.getConnectedUserInfo(t,"userData");u.debug("userData :",r);try{e.userData=JSON.parse(r)}catch(e){u.warn("userData parse error : "+e)}if(d.contactList.has(t))n=d.contactList.get(e.userId),a.a.equals(n.userData,e.userData)||(n.userData=new a.a(e.userData),h.userDataChanged.push(n));else{try{n=new i.a(t,e.userData),d.contactList.set(t,n)}catch(e){u.debug("Contact not added : "+e)}n=d.contactList.get(t)}void 0!==n?(void 0!==f[e.group]&&void 0!==f[e.group][t]&&(clearTimeout(f[e.group][t]),delete f[e.group][t]),n.inGroup(e.group)||(n.addToGroup(e.group),void 0===h.joinedGroup[e.group]&&(h.joinedGroup[e.group]=[]),h.joinedGroup[e.group].push(n)),v()):u.debug("Contact not exist with userId :",t)}function b(e){u.debug("updateContactListOnUserDataUpdate()");var t=e.userId.toString(),n=d.contactList.get(e.userId);if(void 0!==n){var r=apiRTC.session.getConnectedUserInfo(t,"userData");u.debug("userData :",r);try{e.userData=JSON.parse(r)}catch(e){u.warn("userData parse error : "+e)}a.a.equals(n.userData,e.userData)||(n.userData=new a.a(e.userData),h.userDataChanged.push(n)),v()}else u.debug("Contact not exist with userId :",t)}},function(e,t,n){var r=n(34),i=n(45),a=n(113);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r,i,a,o=n(200),s=n(20),l=n(29),c=n(55),u=n(40),d=n(155),f=n(136),h=s.WeakMap;if(o){var p=new h,m=p.get,v=p.has,g=p.set;r=function(e,t){return g.call(p,e,t),t},i=function(e){return m.call(p,e)||{}},a=function(e){return v.call(p,e)}}else{var b=d("state");f[b]=!0,r=function(e,t){return c(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},a=function(e){return u(e,b)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return s})),n(12),n(14),n(16),n(47),n(31),n(8),n(27),n(52),n(10),n(22),n(18),n(7),n(145),n(43),n(17),n(11),n(15);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"getListeners",value:function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t}},{key:"flattenListeners",value:function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n}},{key:"getListenersAsObject",value:function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n}},{key:"emit",value:function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)}},{key:"addListener",value:function(e,t){if(!d(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"===a(t);for(n in i)i.hasOwnProperty(n)&&-1===c(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});if("contactListUpdate"===e){apiRTC.userAgentInstance.currentSession.contactListUpdateListenerSetted=!0;var s,l=r(apiRTC.userAgentInstance.currentSession.waitingContactListUpdateEvent);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.emit("contactListUpdate",u)}}catch(e){l.e(e)}finally{l.f()}apiRTC.userAgentInstance.currentSession.waitingContactListUpdateEvent=[]}else if("mediaDeviceChanged"===e&&!0===apiRTC.mediaDeviceMgr.mediaDeviceChangedDetected){var f=apiRTC.mediaDeviceMgr.getMediaDeviceListsDiff(apiRTC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiRTC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources);apiRTC.myWebRTC_Event.createMediaDeviceChangedEvent(f,"updatedOnDeviceChange",apiRTC.mediaDeviceMgr.realMediaDevicesListInitializationWasAlreadyDone)}return this}},{key:"addOnceListener",value:function(e,t){return this.addListener(e,{listener:t,once:!0})}},{key:"defineEvent",value:function(e){return this.getListeners(e),this}},{key:"defineEvents",value:function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this}},{key:"removeListener",value:function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=c(i[r],t))&&i[r].splice(n,1);return this}},{key:"addListeners",value:function(e,t){return this.manipulateListeners(!1,e,t)}},{key:"removeListeners",value:function(e,t){return this.manipulateListeners(!0,e,t)}},{key:"manipulateListeners",value:function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!==a(t)||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this}},{key:"removeEvent",value:function(e){var t,n=a(e),r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this}},{key:"emitEvent",value:function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this}},{key:"setOnceReturnValue",value:function(e){return this._onceReturnValue=e,this}},{key:"_getOnceReturnValue",value:function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue}},{key:"_getEvents",value:function(){return this._events||(this._events={})}}])&&o(t.prototype,n),i&&o(t,i),e}(),l=s.prototype,c=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1},u=function(e){return function(){return this[e].apply(this,arguments)}},d=function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!==a(t))&&e(t.listener)};l.on=u("addListener"),l.once=u("addOnceListener"),l.off=u("removeListener"),l.removeAllListeners=u("removeEvent"),l.trigger=u("emitEvent")},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n(12),n(14),n(16),n(23),n(8),n(98),n(18),n(46),n(7),n(21),n(43),n(11),n(107),n(15);var r=n(2),i=n(0),a=n(24),o=n(5),s=(n(30),o.a.get("fetchRetry")),l=function(e,t){s.log("fetchRetry");var n=3,r=1e3,i=[];if(t&&t.retries&&(n=t.retries),t&&t.retryDelay&&(r=t.retryDelay),t&&t.retryOn){if(!(t.retryOn instanceof Array))throw{name:"ArgumentError",message:"retryOn property expects an array"};i=t.retryOn}return new Promise((function(a,o){var l=function(n){s.log("wrappedFetch n:",n),window.fetch?fetch(e,t).then((function(e){-1===i.indexOf(e.status)?a(e):n>0?c(n):o(e)})).catch((function(e){n>0?c(n):o(e)})):(s.debug("Cannot use fetch in this browser, using XHR"),apiCC.CloudApi.get(e,t).then((function(e){s.debug("response :",e);var t={gettype:"cloudApiGet"};t.response=e,a(t)})).catch((function(e){s.error("error :",e),o(e)})))};function c(e){s.error("retry n:",e);var t=n-e+1;s.error("retry number is :",t),setTimeout((function(){l(--e)}),r*t)}l(n)}))};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=o.a.get("CloudApi"),f="/api/v2/media/upload",h={updateWebconfTags:{fetchRetryCount:3,fetchRetryDelay:500}},p=null,m=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==p)throw"Cannot construct singleton CloudApi";this.cloudUrl="https://cloud.apizee.com",this.fetchRetries=100,this.fetchRetryDelay=200,p=this}var t,n,o;return t=e,o=[{key:"get",value:function(){return null===p&&(p=new e),p}}],(n=[{key:"setCloudURL",value:function(e){d.debug("setCloudURL()"),this.cloudUrl=e}},{key:"setFetchRetries",value:function(e){d.log("setFetchRetries :",e),null!=e&&(this.fetchRetries=e)}},{key:"setFetchRetryDelay",value:function(e){d.log("setFetchRetryDelay :",e),null!=e&&(this.fetchRetryDelay=e)}},{key:"cloudRequest",value:function(e,t,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(s,c){d.trace(n+" cloudRequest to "+p.cloudUrl,t);var u={method:n.toUpperCase()},f=p.cloudUrl+e;if("GET"===u.method)f+=r.a.paramsToQueryString(t);else{for(var h=new FormData,m=0,v=Object.keys(t);m<v.length;m++){var g=v[m];h.append(g,t[g])}u.body=h}o.hasOwnProperty("bearerToken")&&(u.headers={Authorization:"Bearer "+o.bearerToken}),o.hasOwnProperty("fetchRetryCount")?u.retries=o.fetchRetryCount:u.retries=a.fetchRetries,o.hasOwnProperty("fetchRetryDelay")?u.retryDelay=o.fetchRetryDelay:u.retryDelay=a.fetchRetryDelay,l(f,u).then((function(e){var t=null;if(e.status<200||e.status>299){var n="cloudRequest - response status Code: "+e.status;return d.warn(n),c(r.a.createError(i.a.ERROR_HTTP,n,d,{httpCode:e.status}))}return"cloudApiGet"===e.gettype?e.response:(e.headers&&(t=e.headers.get("content-type")),t&&-1!==t.indexOf("application/json")?e.json():c(r.a.createError(i.a.ERROR_SERVER_UNAVAILABLE,"cloudRequest - response is not JSON",d)))})).then(s).catch((function(e){d.error("err :",e),c(r.a.createError(i.a.ERROR_NETWORK_UNAVAILABLE,"cloudRequest - Fetch Error",d))}))}))}},{key:"authentication",value:function(e,t){return d.debug("authentication to "+p.cloudUrl),this.cloudRequest("/api/v2/authenticate",{username:e,password:t},"POST")}},{key:"getConnectedUserInformation",value:function(e){return d.debug("getConnectedUserInformation to "+p.cloudUrl),this.cloudRequest("/api/v2/users/me",{token:e},"GET")}},{key:"getUserProfile",value:function(e,t){if(d.debug("getUserProfile to "+p.cloudUrl),"string"!=typeof e||"string"!=typeof t)return Promise.reject("wrongArguments");var n={};return n.apiKey=e,this.cloudRequest("/api/v2/users/{userId}/profile".replace("{userId}",t),n,"GET")}},{key:"getSiteAgents",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.debug("getSiteAgents to "+p.cloudUrl),"string"!=typeof e||"string"!=typeof t)return Promise.reject("wrongArguments");var r={};return r.apiKey=e,n.useAcd&&(r.useAcd=1),n.usePresence&&(r.usePresence=1),n.convId&&(r.convId=n.convId),this.cloudRequest("/api/v2/sites/{siteKey}/agents".replace("{siteKey}",t),r,"GET")}},{key:"getEnterpriseInformation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.debug("getEnterpriseInformation to "+p.cloudUrl),this.cloudRequest("/api/v2/enterpriseInformation",e,"GET")}},{key:"getPreferredCCS",value:function(e){d.debug("getPreferredCCS to "+p.cloudUrl);var t={apiKey:e};return this.cloudRequest("/api/v2/preferredCCS",t,"GET")}},{key:"checkUserToken",value:function(e){return d.debug("checkUserToken to "+p.cloudUrl),this.cloudRequest("/api/v2/checkToken",{token:e},"GET")}},{key:"invalidateUserToken",value:function(e){return d.debug("invalidateUserToken to "+p.cloudUrl),this.cloudRequest("/api/v2/invalidateToken",{token:e},"POST")}},{key:"uploadFile",value:function(e,t,n){d.debug("uploadMedia to "+p.cloudUrl);var r={token:t,file:e};if(null!=n)for(var i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];r[o]=n[o]}return this.cloudRequest(f,r,"POST")}},{key:"uploadSnapshot",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.debug("uploadSnapshot to "+p.cloudUrl);for(var r={token:t,dataUri:1,file:e},i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];r[o]=n[o]}return this.cloudRequest(f,r,"POST")}},{key:"getUserPhotoUrl",value:function(e){return p.cloudUrl+"/profile/getImage?userId="+e}},{key:"getEnterpriseUserList",value:function(e,t){return d.debug("getEnterpriseUserList to "+p.cloudUrl),this.cloudRequest("/api/v2/enterprises/{enterpriseId}/users".replace("{enterpriseId}",e),{token:t,json:!0},"GET")}},{key:"getEnterpriseTagList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.debug("getEnterpriseTagList to "+p.cloudUrl);var r={token:t};return n.hasOwnProperty("webconfId")&&(r.conferenceId=n.webconfId),this.cloudRequest("/api/v2/enterprises/{enterpriseId}/tags".replace("{enterpriseId}",e),r,"GET")}},{key:"updateWebconfTags",value:function(e,t,n,r){d.debug("updateWebconfTags to "+p.cloudUrl);var i={_method:"PUT",tags:n.join(",")},a={bearerToken:r};return function(e,t){if(null!==e&&"object"===c(e)||(e={}),h.hasOwnProperty(t))for(var n=h[t],r=0,i=["fetchRetryCount","fetchRetryDelay"];r<i.length;r++){var a=i[r];n.hasOwnProperty(a)&&(e[a]=n[a])}}(a,"updateWebconfTags"),this.cloudRequest("/api/enterprises/{enterpriseId}/conferences/{conferenceId}".replace("{enterpriseId}",e).replace("{conferenceId}",t),i,"POST",a)}},{key:"getConferenceList",value:function(e){return d.debug("getConferenceList to "+p.cloudUrl),this.cloudRequest("/api/v2/conferences",{token:e},"GET")}},{key:"getOrCreateConversation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.debug("getOrCreateConversation to "+p.cloudUrl),null===e||"object"!==c(e)||"string"!=typeof t)return Promise.reject("wrongArguments");var i={name:e._getTechnicalName(),type:e.getType(),apiKey:t};return n.hasOwnProperty("token")&&n.token&&(i.token=n.token),r.a.isPropertyTypeof(n,"active","boolean")&&!0===n.active&&(i.active=1),this.cloudRequest("/api/v2/conversation",i,"POST")}},{key:"createConference",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.debug("createConference to "+p.cloudUrl);var r={token:e,name:t};return n.hasOwnProperty("password")&&(r.password=n.password),this.cloudRequest("/api/v2/conferences",r,"POST")}},{key:"checkConferenceAccess",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.debug("checkConferenceAccess for "+e+" to "+p.cloudUrl),"string"!=typeof t)return Promise.reject("wrongArguments");var r={apiKey:t};return n.convId&&(r.conv_id=n.convId),n.hasOwnProperty("password")&&(r.password=n.password),n.hasOwnProperty("session")&&n.session instanceof a.b&&null!==n.session.getToken()&&(r.token=n.session.getToken()),this.cloudRequest("/api/v2/conferences/{roomname}/checkAccess".replace("{roomname}",e),r,"POST")}},{key:"getWebconf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d.debug("getWebconf for "+e+" to "+p.cloudUrl);var n={},r={};return t.hasOwnProperty("token")&&t.token&&(r.bearerToken=t.token),this.cloudRequest("/api/v2/conferences/{roomname}".replace("{roomname}",e),n,"GET",r)}},{key:"getWebconfConversation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.debug("getWebconfConversation for "+e+" to "+p.cloudUrl),"string"!=typeof t)return Promise.reject("wrongArguments");var r={};return r.apiKey=t,n.hasOwnProperty("token")&&n.token&&(r.token=n.token),this.cloudRequest("/api/v2/conferences/{roomname}/conversation".replace("{roomname}",e),r,"GET")}},{key:"updateConferencePresence",value:function(e,t,n){d.trace("updateConferencePresence for "+e.getName()+" to "+p.cloudUrl);var r={ccid:t.getId(),name:t.getUserAgent().getUsername(),instanceId:e.getInstanceId(),apiKey:n};return null!==t.getToken()&&(r.token=t.getToken()),this.cloudRequest("/api/v2/conferences/{roomname}/updatePresence".replace("{roomname}",e._getTechnicalName()),r,"POST")}},{key:"closeConferenceInstance",value:function(e,t){d.debug("closeConferenceInstance for "+e.getName()+" to "+p.cloudUrl);var n={token:t.getToken(),instanceId:e.getInstanceId()};return this.cloudRequest("/api/v2/conferences/{roomname}/closeInstance".replace("{roomname}",e._getTechnicalName()),n,"POST")}},{key:"getConversationMediaList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d.debug("getConversationMediaList for "+e+" to "+p.cloudUrl),!e||"string"!=typeof t)return Promise.reject("wrongArguments");var r={};return r.apiKey=t,n.hasOwnProperty("token")&&n.token&&(r.token=n.token),n.hasOwnProperty("offset")&&(r.offset=n.offset),n.hasOwnProperty("limit")&&(r.limit=n.limit),this.cloudRequest("/api/v2/conversation/{convId}/media".replace("{convId}",e),r,"GET")}},{key:"pushConversationMedia",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(d.debug("pushConversationMedia for "+e+" to "+p.cloudUrl),!e||!t||"string"!=typeof n)return Promise.reject("wrongArguments");var a={media:t};return a.apiKey=n,i.hasOwnProperty("token")&&i.token&&(a.token=i.token),i.hasOwnProperty("metadata")&&i.metadata&&(a.metadata=i.metadata),i.hasOwnProperty("asFile")&&i.asFile&&(a.asFile=i.asFile),i.hasOwnProperty("filename")&&i.filename&&(a.filename=i.filename),!0===i.overwrite&&(a.overwrite=1),r.a.isTypeof(i,"ttl","number")&&i.ttl>0&&(a.ttl=i.ttl),this.cloudRequest("/api/v2/conversation/{convId}/media".replace("{convId}",e),a,"POST")}},{key:"setConversationData",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(d.debug("setConversationData for "+e+" to "+p.cloudUrl),!e||"string"!=typeof t||"string"!=typeof n)return Promise.reject("wrongArguments");var i={data:t};return i.apiKey=n,r.hasOwnProperty("token")&&r.token&&(i.token=r.token),this.cloudRequest("/api/v2/conversation/{convId}/data".replace("{convId}",e),i,"POST")}},{key:"getSessionHistory",value:function(e,t,n){d.debug("getSessionHistory to "+p.cloudUrl);var r={token:t,sessionId:e};if(null!=n)for(var i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];r[o]=n[o]}return this.cloudRequest("/api/v2/messages",r,"GET")}},{key:"getWebSession",value:function(e,t,n){if(d.debug("getSessionHistory to "+p.cloudUrl),"string"!=typeof n)return Promise.reject("wrongArguments");var r={destId:t.getId()};return r.apiKey=n,null!==e.getToken()?r.token=e.getToken():r.userId=e.getId(),this.cloudRequest("/api/v2/webSession",r,"GET")}},{key:"saveNewMessage",value:function(e,t,n,r,i,a){d.debug("saveNewMessage to "+p.cloudUrl);var o={uuid:i,destId:n,message:r,sessionId:e};return null!==t.getToken()?o.token=t.getToken():(o.userId=t.getId(),o.apiKey=a),this.cloudRequest("/api/v2/messages",o,"POST")}},{key:"saveGroupChatMessage",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};d.debug("saveGroupChatMessage to "+p.cloudUrl);var o={apiKey:n,message:r,ccid:t.getId(),name:t.getUserAgent().getUsername(),parent_conv_id:e.getCloudConversationId(),uuid:i,htmlEnable:!!a.metadata&&!!a.metadata.htmlEnable&&a.metadata.htmlEnable};return null!==t.getToken()?o.token=t.getToken():o.userId=t.getId(),this.cloudRequest("/api/v2/groupChatMessages",o,"POST")}},{key:"loadGroupChatMessages",value:function(e,t){d.debug("loadGroupChatMessages to "+p.cloudUrl);var n={parent_conv_id:e.getCloudConversationId(),token:t.getToken()};return this.cloudRequest("/api/v2/groupChatMessages",n,"GET")}}])&&u(t.prototype,n),o&&u(t,o),e}()},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){"use strict";var r=n(13),i=n(19),a=n(166),o=n(35),s=n(117),l=n(33),c=n(119),u=a.ArrayBuffer,d=a.DataView,f=u.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(c(this,u))(l(i-r)),h=new d(this),p=new d(a),m=0;r<i;)p.setUint8(m++,h.getUint8(r++));return a}})},function(e,t,n){"use strict";var r,i=n(20),a=n(127),o=n(164),s=n(190),l=n(270),c=n(29),u=n(56).enforce,d=n(200),f=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=s("WeakMap",p,l);if(d&&f){r=l.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var v=m.prototype,g=v.delete,b=v.has,C=v.get,y=v.set;a(v,{delete:function(e){if(c(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen.delete(e)}return g.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new r),b.call(this,e)||t.frozen.has(e)}return b.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new r),b.call(this,e)?C.call(this,e):t.frozen.get(e)}return C.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var n=u(this);n.frozen||(n.frozen=new r),b.call(this,e)?y.call(this,e,t):n.frozen.set(e,t)}else y.call(this,e,t);return this}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n(12),n(14),n(16),n(47),n(130),n(23),n(31),n(8),n(27),n(121),n(52),n(99),n(10),n(22),n(64),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(150),n(11),n(61),n(15);var r=n(0),i=n(2),a=n(4),o=n(25),s=n(6),l=n(124),c=n(24),u=n(50),d=n(110),f=n(101),h=n(102),p=n(103),m=n(123),v=n(65),g=n(5),b=n(32),C=n(58),y=n(42),S=n(111),w=n(1);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=g.a.get("Contact"),j=b.a.get(),P=C.a.get(),N=S.a.get(),L=["message","conversationInvitation","data","joinGroup","leaveGroup","whiteboardInvitation","fileSentSuccessfully","fileTransferInvitation","fileTransferProgress","dataChannelInvitation","incomingCall","newMediaAvailable","customEvent","fileTransferError","incomingScreenSharingCall","incomingScreenSharingCallInvitation"],U=new WeakMap,F=new WeakMap,W=new Map,V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(C,e);var t,n,g,b=M(C);function C(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(this,C),t=b.call(this,D),D.debug("Create Contact with id "+e),D.debug("Create Contact with userData :",n),F.set(A(t),e.toString()),t.groups=[],t.previousMessages=[],t.userData=new u.a(n),t.enterprise=null,t.streams=new Map,t.profile=null,t.fileTransfers=[],U.set(A(t),[]),j.onEvent("roomInvitation",(function(e){if(null!==e.detail.senderId&&void 0!==e.detail.senderId&&"whiteBoard"===e.detail.roomType&&e.detail.senderId.toString()===t.getId()){D.info("Received whiteboard invitation from "+t.getUsername());var n={};e.detail.cloudConvId&&(n.cloudConvId=e.detail.cloudConvId),!0===e.detail.webconf&&(n.webconf=!0),a.b.get(A(t)).emit("whiteboardInvitation",new m.a(A(t),e.detail.roomId,n))}})).onEvent("receiveIMMessage",(function(e){e.detail.senderId.toString()===t.getId()&&(a.b.get(A(t)).emit("message",{content:e.detail.message,uuid:e.detail.UUCSeq,time:e.detail.time}),t.addMessageToHistory(e.detail.message,Math.round(e.detail.time.getTime()/1e3),e.detail.UUCSeq,!0))})).onEvent("receiveData",(function(e){if(e.detail.senderId.toString()===t.getId()){D.debug("Received data e.detail.data : ",e.detail.data);var n=e.detail.data,o=null,s=y.a.get();if(void 0!==n.roomname&&(o=s.isConference(n.roomname)?s.getOrCreateConference(s.getNameFromTechnicalName(n.roomname)):s.getOrCreateConversation(s.getNameFromTechnicalName(n.roomname))),void 0!==n.event)switch(n.event){case r.a.CONVERSATION_PERSISTENT_DATA_UPDATE_IDENTIFIER:case r.a.INVITATION_ANSWER_IDENTIFIER:break;case r.a.CONTACT_SEND_DATA_IDENTIFIER:D.trace("Received data from "+t.getUsername(),n.content),a.b.get(A(t)).emit("data",n.content);break;case r.a.CONVERSATION_INVITATION_IDENTIFIER:if(null!==o){D.debug("Received conversation invitation from "+t.getId());var l={};n.hasOwnProperty("password")&&(l.password=n.password),a.b.get(A(t)).emit("conversationInvitation",new d.a(A(t),n,o,l))}break;case r.a.CONTACT_SEND_FILEINFO_IDENTIFIER:D.debug("Received file info from "+t.getUsername(),n.fileInfo);var c=n.callId.toString();if(i.a._private.dataCallsFileInfo.set(c,n.fileInfo),i.a._private.dataCallsOnHold.has(c)){var u=null;apiRTC.userAgentInstance.currentSession.invitationsMap.has(t.getId()+"-sendfile-"+c)?(u=apiRTC.userAgentInstance.currentSession.invitationsMap.get(t.getId()+"-sendfile-"+c),D.debug("invitation already exist :",u)):(u=new h.a(A(t),c,n.fileInfo),apiRTC.userAgentInstance.currentSession.invitationsMap.set(t.getId()+"-sendfile-"+c,u)),a.b.get(A(t)).emit("fileTransferInvitation",u)}break;case r.a.CONTACT_DATACHANNEL_INVITATION:D.debug("Received datachannel invitation from "+t.getUsername()),i.a._private.dataChannelInvitations.set(n.callId.toString(),!0),i.a._private.dataCallsOnHold.has(n.callId.toString())&&a.b.get(A(t)).emit("dataChannelInvitation",new p.a(A(t),n.callId.toString()));break;case r.a.CONTACT_NEW_MEDIA_IDENTIFIER:D.debug("New media available from "+t.getUsername(),n.fileinfo),a.b.get(A(t)).emit("newMediaAvailable",{media:n.media});break;case r.a.CONTACT_EVENTCENTER_DATA_REQUEST:D.debug("New request for event center data from "+t.getUsername());var f=apiRTC.eventCenter.getStoredData();if(void 0===f)return void D.error("Can't send event center stored data, it's undefined");D.debug("Sending requested event center data"),t.sendCustomEvent(r.a.CONTACT_EVENTCENTER_DATA_ANSWER,{data:f});break;case r.a.CONTACT_EVENTCENTER_DATA_ANSWER:if(D.debug("New event center data from "+t.getUsername()),void 0===n.data)return void D.error("Can't handle remote event center data, it's undefined");apiRTC.eventCenter.handleDataAnswer(n.data);break;default:var m={event:n.event,content:n};null!==o&&(m.conversation=o),a.b.get(A(t)).emit("customEvent",m)}}})).onEvent("incomingCall",(function(e){if(e.detail.callerId.toString()===t.getId()){var n=e.detail.callId.toString();if("data"===e.detail.callType)if(D.debug("Received file transfer invitation from "+t.getUsername()),i.a._private.dataCallsFileInfo.has(n)){var r=i.a._private.dataCallsFileInfo.get(n),o=null;apiRTC.userAgentInstance.currentSession.invitationsMap.has(t.getId()+"-sendfile-"+n)?(o=apiRTC.userAgentInstance.currentSession.invitationsMap.get(t.getId()+"-sendfile-"+n),D.debug("invitation already exist :",o)):(o=new h.a(A(t),n,r),apiRTC.userAgentInstance.currentSession.invitationsMap.set(t.getId()+"-sendfile-"+n,o)),a.b.get(A(t)).emit("fileTransferInvitation",o)}else i.a._private.dataChannelInvitations.has(n)?a.b.get(A(t)).emit("dataChannelInvitation",new p.a(A(t),n)):(D.info("File information has not been received yet, putting invitation on hold"),i.a._private.dataCallsOnHold.set(n));else if("screenSharing"===e.detail.callType)if(!0===apiRTC.session.apiCCWebRTCClient.webRTCClient.userAcceptOnIncomingScreenSharingCall){D.debug("Received screenSharingCallInvitation from "+t.getUsername());var s=new f.a(A(t),n,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});a.b.get(A(t)).emit("incomingScreenSharingCallInvitation",s)}else{D.debug("Received screenSharingCall from "+t.getUsername());var l=N.getOrCreateCall(n,A(t),{started:!0,isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall});a.b.get(A(t)).emit("incomingScreenSharingCall",l)}else D.info("Received call invitation from "+t.getUsername()),a.b.get(A(t)).emit("incomingCall",new f.a(A(t),n,e.detail.callType,{isRecorded:!!e.detail.hasOwnProperty("recordedCall")&&e.detail.recordedCall}))}})).onEvent("hangup",(function(e){var n=e.detail.callId.toString();t.getId()===e.detail.remoteId.toString()&&(D.debug("hangup event :",e.detail),t.fileTransfers.includes(n)&&(D.info("File transfer finished from "+t.getUsername()),t.fileTransfers.splice(t.fileTransfers.indexOf(n),1)))})).onEvent("sendDataChannelError",(function(e){var n=e.detail.callId.toString();t.getId()===e.detail.remoteId.toString()&&t.fileTransfers.includes(n)&&(D.info("File transfer error from "+t.getUsername()),a.b.get(A(t)).emit("fileTransferError",{error:"sendDataChannelError",invitationId:n}))})),t}return t=C,g=[{key:"getAvailableEvents",value:function(){return L}}],(n=[{key:"getId",value:function(){return F.get(this)}},{key:"fetchProfileInformation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,r){null===e.profile||t?P.getUserProfile(j.getActiveApiKey(),e.getId()).then((function(t){e.profile=t,n(t)})).catch(r):n(e.profile)}))}},{key:"getActiveStreams",value:function(){return this.streams.values()}},{key:"addMessageToHistory",value:function(e,t,n,r){-1===U.get(this).indexOf(n.toString())&&(this.previousMessages.push({content:e,timestamp:t,uuid:n,fromContact:r}),U.get(this).push(n.toString()))}},{key:"getPreviousMessages",value:function(){return this.previousMessages.sort((function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)})),this.previousMessages}},{key:"getUserData",value:function(){return this.userData}},{key:"getUsername",value:function(){return null!==this.userData.get("username")?this.userData.get("username"):null!==this.userData.get("nickname")?this.userData.get("nickname"):this.getId()}},{key:"getPhotoUrl",value:function(){return null!==this.userData.get("photo_url")?this.userData.get("photo_url"):null!==this.userData.get("photoUrl")?this.userData.get("photoUrl"):P.getUserPhotoUrl(this.getId())}},{key:"fetchWebSessionInformation",value:function(e){var t=this;return new Promise((function(n,a){e instanceof c.b?W.has(t.getId()+":"+e.getId())?n(W.get(t.getId()+":"+e.getId())):P.getWebSession(e,t,j.getActiveApiKey()).then((function(r){W.set(t.getId()+":"+e.getId(),r),n(r)})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"fetchWebSessionInformation() - could not fetch web session information",D))})):a(i.a.createError(r.a.ERROR_BAD_PARAMETER,"fetchWebSessionInformation() - parameter is not an instance of apiRTC.Session",D))}))}},{key:"loadMessageHistory",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,o){t.fetchWebSessionInformation(e).then((function(t){return P.getSessionHistory(t.webSessionId,e.getToken(),n)})).then((function(e){D.debug("loadMessageHistory() - got messages",e.messages);var n,r=I(e.messages);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addMessageToHistory(i.value,i.timestamp,i.uuid,i.destId.toString()!==t.getId())}}catch(e){r.e(e)}finally{r.f()}a()})).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"loadMessageHistory() - could not load session history",D))}))}))}},{key:"addToGroup",value:function(e){this.inGroup(e)||(this.groups.push(e),a.b.get(this).emit("joinGroup",e))}},{key:"removeFromGroup",value:function(e){this.inGroup(e)&&(this.groups.splice(this.groups.indexOf(e),1),a.b.get(this).emit("leaveGroup",e))}},{key:"inGroup",value:function(e){return this.groups.includes(e)}},{key:"isOnline",value:function(){return 0!==this.groups.length}},{key:"sendData",value:function(e){var t=this;return this.isOnline()||D.warn("sendData() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(n,a){j.sendData(t.getId(),{event:r.a.CONTACT_SEND_DATA_IDENTIFIER,content:e}).then(n).catch((function(e){switch(e){case r.a.ERROR_TIMED_OUT:a(i.a.createError(r.a.ERROR_TIMED_OUT,"sendData() - Data transmission timed out ",D));break;case r.a.ERROR_NOT_FOUND:a(i.a.createError(r.a.ERROR_NOT_FOUND,"sendData() - Contact was not found ",D));break;default:a(i.a.createError(r.a.ERROR_OTHER,"sendData() - Data transmission timed out ",D))}}))}))}},{key:"sendCustomEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isOnline()||D.warn("sendCustomEvent() - contact "+this.getUsername()+" does not seem to be connected."),new Promise((function(a,o){var s=n;s.event=e,j.sendData(t.getId(),s).then(a).catch((function(e){switch(e){case r.a.ERROR_TIMED_OUT:o(i.a.createError(r.a.ERROR_TIMED_OUT,"sendCustomEvent() - Data transmission timed out ",D));break;case r.a.ERROR_NOT_FOUND:o(i.a.createError(r.a.ERROR_NOT_FOUND,"sendCustomEvent() - Contact was not found ",D));break;default:o(i.a.createError(r.a.ERROR_OTHER,"sendCustomEvent() - Data transmission timed out ",D))}}))}))}},{key:"sendMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isOnline()||D.warn("sendMessage() - contact "+this.getUsername()+" does not seem to be connected.");var a=null,o=function(){return new Promise((function(e,r){n.hasOwnProperty("session")?t.fetchWebSessionInformation(n.session).then((function(t){e({save:!0,cloudSessionId:t.webSessionId,apiRTCId:n.session.getId()})})).catch(r):e({})}))};return new Promise((function(n,s){"string"!=typeof e?s(i.a.createError(r.a.ERROR_BAD_PARAMETER,"sendMessage() - message parameter is not instance of string",D)):o().then((function(n){return a=n,D.info("sendMessage() - with options :",a),j.sendMessage(t.getId(),e,a)}),(function(e){s(i.a.createError(r.a.ERROR_OTHER,"sendMessage() - Error occured when fetching options for sending message",D))})).then((function(r){t.addMessageToHistory(e,Math.floor(Date.now()/1e3),r,!1),n(r)}),(function(e){switch(e){case r.a.ERROR_TIMED_OUT:s(i.a.createError(r.a.ERROR_TIMED_OUT,"sendMessage() - Data transmission timed out ",D));break;case r.a.ERROR_NOT_FOUND:s(i.a.createError(r.a.ERROR_NOT_FOUND,"sendMessage() - Contact was not found ",D));break;default:s(i.a.createError(r.a.ERROR_OTHER,"sendMessage() - Data transmission timed out ",D))}}))}))}},{key:"inviteTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.sendConversationInvitation(e,t)}},{key:"sendConversationInvitation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof s.a?e.sendInvitation(this,t):(D.error("sendConversationInvitation() - Parameter is not a conversation"),null)}},{key:"sendWhiteboardInvitation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j.whiteBoardClient.roomId!==e&&(j.whiteBoardClient.leaveRoom(),j.whiteBoardClient.start(),j.whiteBoardClient.joinRoom(e));var n=t.context?t.context:null,r={};t.cloudConversationId&&(r.convId=t.cloudConversationId),j.whiteBoardClient.inviteInRoom(e,this.getId(),n,r);var i=new v.a(this,null);return i.id="wb-"+e,i.type="whiteboard",i}},{key:"call",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mediaTypeForOutgoingCall:"VIDEO",record:!1};this.isOnline()||D.warn("call() - contact "+this.getUsername()+" does not seem to be connected.");var r={},a=i.a.assignObject({},n),s=!!n.hasOwnProperty("audioOnly")&&n.audioOnly;return n.hasOwnProperty("record")&&(void 0!==a.record&&null!==a.record||(a.record=n.record)),null!==e&&e instanceof o.a&&(a.userMediaStreamId=e.userMediaStreamId,e.isScreensharing()&&(a.forceCallType="screenSharing")),a.cloudConversationId&&(r.cloudConvId=a.cloudConversationId,delete a.cloudConversationId),t=s?j.webRTCClient.callAudio(this.getId(),r,a):j.webRTCClient.call(this.getId(),r,a),N.getOrCreateCall(t,this,{isRecorded:a.record})}},{key:"shareScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isOnline()||D.warn("call() - contact "+this.getUsername()+" does not seem to be connected.");var t={},n=null,r=e,i=e.captureSourceType;return D.warn("call() - contact "+this.getUsername()+" does not seem to be connected."),n=j.webRTCClient.shareScreen(this.getId(),t,i),N.getOrCreateCall(n,this,{isRecorded:r.record})}},{key:"startDataChannel",value:function(){if(this.isOnline()||D.warn("startDataChannel() - contact "+this.getUsername()+" does not seem to be connected."),!("Edge"===w.b&&w.d<79)){var e=j.webRTCClient.startDataChannel(this.getId());return j.sendData(this.getId(),{callId:e,event:r.a.CONTACT_DATACHANNEL_INVITATION}),new l.a(e,this,{type:r.a.DATACHANNEL_TYPE_SEND})}D.warn("Cannot startDataChannel as it is not supported on Edge")}},{key:"sendFile",value:function(e,t){if(this.isOnline()||D.warn("sendFile() - contact "+this.getUsername()+" does not seem to be connected."),"Edge"===w.b&&w.d<79)return D.warn("Cannot sendFile as Datachannel is not supported on Edge"),null;var n=j.webRTCClient.startDataChannel(this.getId()),i=this;if(void 0===n)return D.warn("Error on startDataChannel"),null;j.sendData(this.getId(),{fileInfo:e,callId:n,event:r.a.CONTACT_SEND_FILEINFO_IDENTIFIER});var o=function r(o){D.debug("sendFile() - DataChannel open",o.detail),o.detail.callId.toString()===n.toString()&&(j.webRTCClient.sendDataWithCallId(n,{file:t,name:e.name,type:e.type},(function(t){D.trace("sendFile() - progress : ",t);var n={uuid:t.uuid,fileSize:t.fileSize,remainingSize:t.remainingSize,percentage:t.percentage,sendChunkNb:t.sendChunkNb,transferDuration:t.transferDuration,lastPacket:t.lastPacket};a.b.get(i).emit("fileTransferProgress",{fileInfo:e,transferInformation:n}),t.transferEnded&&a.b.get(i).emit("fileSentSuccessfully",{fileInfo:e,transferInformation:n})})),j.removeEventListener("sendDataChannelOpen",r))};j.onEvent("sendDataChannelOpen",o),this.fileTransfers.push(n.toString());var s=new v.a(this,null);return s.id=n.toString(),s.type="sendFile",s.on("response",(function(){s.getStatus()!==r.a.INVITATION_STATUS_ACCEPTED&&D.log("sendFile() - invitation has not been accepted, cleaning listeners")})),s}},{key:"pushMedia",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,s){n.fetchWebSessionInformation(t).then((function(n){return a.token=t.token,P.pushConversationMedia(n.conversationId,e,j.getActiveApiKey(),a)})).then((function(e){j.sendData(n.getId(),{event:r.a.CONTACT_NEW_MEDIA_IDENTIFIER,media:{url:e.url,id:e.id}}),o({url:e.url,id:e.id})})).catch((function(e){s(i.a.createError(r.a.ERROR_OTHER,"pushMedia() - failed to push media",D))}))}))}},{key:"fetchMediaList",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D.debug("fetchMediaList()"),new Promise((function(a,o){t.fetchWebSessionInformation(e).then((function(t){return n.token=e.getToken(),P.getConversationMediaList(t.conversationId,j.getActiveApiKey(),n)})).then(a).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"getMediaList() - failed to get media list",D))}))}))}},{key:"sendEventCenterDataRequest",value:function(){return this.sendCustomEvent(r.a.CONTACT_EVENTCENTER_DATA_REQUEST)}},{key:"id",get:function(){return D.warn("contact.id is deprecated, please use contact.getId() instead"),this.getId()}}])&&R(t.prototype,n),g&&R(t,g),C}(a.a)},function(e,t,n){var r=n(134),i=n(59);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(190),i=n(219);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n(12),n(14),n(16),n(8),n(99),n(10),n(36),n(18),n(37),n(38),n(7),n(39),n(17),n(11),n(15),n(30);var r=n(0),i=n(2),a=n(100);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(5).a.get("SentInvitation"),m=["response","receive","statusChange"],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,o,d=u(h);function h(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,h),(n=d.call(this)).conversation=t,p.info("Create SentInvitation"),n.destination=e,n.id=i.a.guid(),n.sendTime=Date.now(),n.expirationTime=null,n.expirationTimeout=null,o.hasOwnProperty("expirationTime")&&(n.expirationTime=o.expirationTime,n.expirationTimeout=setTimeout((function(){n.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(p.info("Conversation invitation for "+n.destination.getId()+" expired"),n.setStatus(r.a.INVITATION_STATUS_EXPIRED),a.b.get(f(n)).emit("response",n.getStatus()))}),o.expirationTime)),o.hasOwnProperty("receiveNotifier")&&o.receiveNotifier.on("receive",(function(){a.b.get(f(n)).emit("receive")})),n.apiRTCManager.onEvent("receiveData",(function(e){void 0!==e.detail.data.event&&e.detail.data.event===r.a.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.invitationId.toString()===n.id.toString()&&n.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(p.info("Received invitation answer from "+n.destination.getId()+" for "+n.id,e.detail.data),null!==n.expirationTimeout&&clearTimeout(n.expirationTimeout),"accept"===e.detail.data.answer?n.setStatus(r.a.INVITATION_STATUS_ACCEPTED):n.setStatus(r.a.INVITATION_STATUS_DECLINED),a.b.get(f(n)).emit("response",n.getStatus()))})),n.apiRTCManager.onEvent("hangup",(function(e){p.debug("hangup");var t=e.detail.callId.toString();n.getId()===t&&(p.debug("hangup for sentInvitation"),n.setStatus(r.a.INVITATION_STATUS_ENDED))})),n}return t=h,o=[{key:"getAvailableEvents",value:function(){return m}}],(n=[{key:"getId",value:function(){return this.id}},{key:"onResponse",value:function(e){this.on("response",e)}},{key:"cancel",value:function(){p.info("cancel"),"sendFile"===this.type?(p.info("cancel sendfile"),this.apiRTCManager.webRTCClient.hangUp(this.id)):p.warn("cancel is not managed for invitation with type :",this.type)}}])&&l(t.prototype,n),o&&l(t,o),h}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n(23);var r=n(5),i=n(1),a=r.a.get("WebRTC_Stack"),o=function(e){this.sendInvite=function(t,n,r,o,s,l,c,u,d){a.debug("WebRTC_Stack::sendInvite()");var f,h=null,p=null;null==c&&(c="media"),null===d&&(d=void 0),("IE"===i.b||"Safari"===i.b&&i.d<11)&&(a.log("JSON.stringify(offer.sdp) :"+JSON.stringify(l.sdp)),a.log("JSON.stringify(offer.type) :"+JSON.stringify(l.type)),(p={}).sdp=l.sdp,p.type=l.type,l=p),null!==u?(a.log("call data is defined :"+u),h={type:"invite",callId:t,callerId:n,callerNickname:r,calleeId:o,roomId:s,sdpoffer:l,callType:c,data:u,stream:d}):(a.log("call data is undefined"),h={type:"invite",callId:t,callerId:n,callerNickname:r,calleeId:o,roomId:s,sdpoffer:l,callType:c}),f=JSON.stringify(h),a.info("C->S: "+f),e.emit("invite",f)},this.sendInviteBroadcast=function(t,n,r,i,o,s){var l,c;a.debug("WebRTC_Stack::sendInviteBroadcast()"),l={type:"invite",callId:t,callerId:n,callerNickname:r,calleeId:i,roomId:o,sdpoffer:s},c=JSON.stringify(l),a.debug("C->S: "+c),e.emit("invite_broadcast",c)},this.send200OK=function(t,n,r,o,s,l,c){a.debug("WebRTC_Stack::send200OK()");var u,d,f=null;("IE"===i.b||"Safari"===i.b&&i.d<11)&&(a.log("JSON.stringify(offer.sdp) :"+JSON.stringify(l.sdp)),a.log("JSON.stringify(offer.type) :"+JSON.stringify(l.type)),(f={}).sdp=l.sdp,f.type=l.type,l=f),u={type:"200OK",callId:t,callerId:n,calleeId:r,calleeNickname:o,roomId:s,sdpanswer:l,data:c},d=JSON.stringify(u),a.info("C->S: "+d),e.emit("200OK",d)},this.sendCandidate=function(t,n,r,o,s,l,c,u,d,f){a.debug("WebRTC_Stack::sendCandidate()");var h,p=null,m={};a.debug("completeCandidate :",f),"IE"===i.b?(a.log("Browser is IE, adapting completeCandidate"),m.sdpMLineIndex=f.sdpMLineIndex,m.candidate=f.candidate,m.sdpMid=f.sdpMid):m=f,null!==d?(a.log("call data is defined :",d),p={type:"candidate",callId:t,callerId:n,calleeId:r,roomId:o,dst:s,label:l,id:c,candidate:u,data:d,completeCandidate:m}):(a.log("call data is undefined"),p={type:"candidate",callId:t,callerId:n,calleeId:r,roomId:o,dst:s,label:l,id:c,candidate:u,completeCandidate:m}),h=JSON.stringify(p),e.emit("candidate",h),a.info("C->S: "+h)},this.sendBye=function(t,n,r,i,o,s){a.debug("WebRTC_Stack::sendBye()");var l,c=null;null!==s?(a.log("call data is defined :"+s),c={type:"bye",callId:t,clientId:n,roomId:r,dst:i,reason:o,data:s}):(a.log("call data is undefined"),c={type:"bye",callId:t,clientId:n,roomId:r,dst:i,reason:o}),l=JSON.stringify(c),a.info("C->S: "+l),e.emit("bye",l)},this.sendUpdate=function(t,n,r,i,o,s,l,c){a.debug("WebRTC_Stack::sendUpdate()");var u,d=null;d={type:"update",callId:t,callerId:n,calleeId:r,roomId:i,dst:o,sdpoffer:s,callType:l},null!=c&&(a.log("call data is defined: "+c),d.data=c),u=JSON.stringify(d),a.info("C->S: "+u),e.emit("update",u)},this.send200Update=function(t,n,r,i,o,s,l){a.debug("WebRTC_Stack::send200Update()");var c,u=null;null!==l?(a.log("call data is defined :"+l),u={type:"200update",callId:t,callerId:n,calleeId:r,roomId:i,dst:o,sdpanswer:s,data:l}):(a.log("call data is undefined"),u={type:"200update",callId:t,callerId:n,calleeId:r,roomId:i,dst:o,sdpanswer:s}),c=JSON.stringify(u),a.info("C->S: "+c),e.emit("200update",c)},this.sendDebugCommand=function(t,n,r){var i,o;a.debug("WebRTC_Stack::sendDebugCommand :"+t),i={type:"debugCommand",command:t,apiKey:n,clientId:r},o=JSON.stringify(i),a.info("C->S: "+o),e.emit("debugCommand",o)},this.sendAck=function(t,n,r){var i,o;a.debug("WebRTC_Stack::sendAck()"),i={type:"Ack",AckMessageType:t,cSeq:n,dst:r},o=JSON.stringify(i),a.info("C->S: "+o),e.emit("Ack",o)},this.sendInfo=function(t,n){var r,i,o=["activeSpeaker","callStats","stopSpeaking"];o.indexOf(t)<0&&a.debug("WebRTC_Stack::sendInfo()"),r={type:"info",infoType:t,data:n},i=JSON.stringify(r),o.indexOf(t)<0&&a.info("C->S: "+i),e.emit("info",i)},this.sendDataMessage=function(t,n){a.debug("WebRTC_Stack::sendDataMessage()");var r={type:"apiRTCDataMessage",senderId:t,data:n},i=JSON.stringify(r);a.info("C->S: "+i),e.emit("apiRTCDataMessage",i)}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(13),i=n(259);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(28),i=n(263),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(53).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(192),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){return i.apply(a(this),arguments)}))},function(e,t,n){"use strict";var r=n(28),i=n(53).filter,a=n(119),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(e){for(var t=i(o(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,l=t.length,c=new(s(n))(l);l>r;)c[r]=t[r++];return c}))},function(e,t,n){"use strict";var r=n(28),i=n(53).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(53).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(53).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(137).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(137).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(20),i=n(28),a=n(8),o=n(26)("iterator"),s=r.Uint8Array,l=a.values,c=a.keys,u=a.entries,d=i.aTypedArray,f=i.exportTypedArrayMethod,h=s&&s.prototype[o],p=!!h&&("values"==h.name||null==h.name),m=function(){return l.call(d(this))};f("entries",(function(){return u.call(d(this))})),f("keys",(function(){return c.call(d(this))})),f("values",m,!p),f(o,m,!p)},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(i(this),arguments)}))},function(e,t,n){"use strict";var r=n(28),i=n(264),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},function(e,t,n){"use strict";var r=n(28),i=n(53).map,a=n(119),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},function(e,t,n){"use strict";var r=n(28),i=n(223).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=n(223).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=i(this).length,n=o(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}))},function(e,t,n){"use strict";var r=n(28),i=n(33),a=n(222),o=n(48),s=n(19),l=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(e){l(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(e),s=i(r.length),c=0;if(s+t>n)throw RangeError("Wrong length");for(;c<s;)this[t+c]=r[c++]}),s((function(){new Int8Array(1).set({})})))},function(e,t,n){"use strict";var r=n(28),i=n(119),a=n(19),o=r.aTypedArray,s=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var n=c.call(o(this),e,t),r=i(this,this.constructor),a=0,l=n.length,u=new(s(r))(l);l>a;)u[a]=n[a++];return u}),a((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var r=n(28),i=n(53).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(i(this),e)}))},function(e,t,n){"use strict";var r=n(28),i=n(33),a=n(117),o=n(119),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,l=a(e,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-l))}))},function(e,t,n){"use strict";var r=n(20),i=n(28),a=n(19),o=r.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!o&&a((function(){c.call(new o(1))}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var r=n(28).exportTypedArrayMethod,i=n(19),a=n(20).Uint8Array,o=a&&a.prototype||{},s=[].toString,l=[].join;i((function(){s.call({})}))&&(s=function(){return l.call(this)});var c=o.toString!=s;r("toString",s,c)},function(e,t,n){n(13)({target:"Function",proto:!0},{bind:n(229)})},function(e,t,n){var r=n(34),i=n(154),a=n(113),o=n(63),s=n(114),l=n(40),c=n(198),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r,i=n(35),a=n(205),o=n(175),s=n(136),l=n(206),c=n(171),u=n(155)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete h.prototype[o[n]];return h()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=h(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(34),i=n(19),a=n(40),o=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:l,d=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,d)}))}},function(e,t,n){"use strict";var r=n(162),i=n(185),a=n(35),o=n(59),s=n(119),l=n(187),c=n(33),u=n(163),d=n(160),f=n(19),h=[].push,p=Math.min,m=!f((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);for(var s,l,c,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,f+"g");(s=d.call(m,r))&&!((l=m.lastIndex)>p&&(u.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&h.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return p===r.length?!c&&m.test("")||u.push(""):u.push(r.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var d=a(e),f=String(this),h=s(d,RegExp),v=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),b=new h(m?d:"^(?:"+d.source+")",g),C=void 0===i?4294967295:i>>>0;if(0===C)return[];if(0===f.length)return null===u(b,f)?[f]:[];for(var y=0,S=0,w=[];S<f.length;){b.lastIndex=m?S:0;var T,I=u(b,m?f:f.slice(S));if(null===I||(T=p(c(b.lastIndex+(m?0:S)),f.length))===y)S=l(f,S,v);else{if(w.push(f.slice(y,S)),w.length===C)return w;for(var O=1;O<=I.length-1;O++)if(w.push(I[O]),w.length===C)return w;S=y=T}}return w.push(f.slice(y)),w}]}),!m)},function(e,t,n){"use strict";var r=n(13),i=n(134),a=n(63),o=n(147),s=[].join,l=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},function(e,t,n){n(13)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(39),n(17),n(11),n(61),n(15);var r=n(0),i=n(4);n.d(t,"b",(function(){return i.b}));var a=n(32);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(5).a.get("Invitation"),p=new WeakMap,m=["statusChange"],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,o,u=c(f);function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this,h)).id=null,p.set(d(e),r.a.INVITATION_STATUS_STANDBY),e.apiRTCManager=a.a.get(),e.type="not_defined",e}return t=f,o=[{key:"getAvailableEvents",value:function(){return m}}],(n=[{key:"setStatus",value:function(e){p.set(this,e),i.b.get(this).emit("statusChange",{status:e,id:this.id})}},{key:"getStatus",value:function(){return p.get(this)}}])&&s(t.prototype,n),o&&s(t,o),f}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41),o=n(25),s=n(5),l=n(111);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=s.a.get("ReceivedInvitation"),b=l.a.get(),C=["expired","statusChange"],y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,s,l=h(c);function c(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u(this,c),i=l.call(this,e,t),g.info("Create ReceivedCallInvitation with call type "+n),i.type="call",i.callType=n,i.isRecordedCall=!!o.hasOwnProperty("isRecorded")&&o.isRecorded,i.call=b.getOrCreateCall(i.id,i.sender,{isRecorded:i.isRecorded()}),i.apiRTCManager.onEvent("hangup",(function(e){var t=e.detail.callId.toString();i.id.toString()===t&&i.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(i.setStatus(r.a.INVITATION_STATUS_EXPIRED),a.b.get(m(i)).emit("expired"))})),i}return t=c,s=[{key:"getAvailableEvents",value:function(){return C}}],(n=[{key:"getCallType",value:function(){return this.callType}},{key:"isRecorded",value:function(){return this.isRecordedCall}},{key:"accept",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,s){var l="audio"===t.getCallType(),c=!0,u=n;n.hasOwnProperty("audioOnly")&&(l=n.audioOnly,delete n.audioOnly,void 0!==u.mediaTypeForIncomingCall&&null!==u.mediaTypeForIncomingCall||!0===n.audioOnly&&(u.mediaTypeForIncomingCall="AUDIO")),n.hasOwnProperty("noStream")&&(u.mediaTypeForIncomingCall="NONE",c=!1),"NONE"===u.mediaTypeForIncomingCall&&(c=!1),t.getStatus()===r.a.INVITATION_STATUS_STANDBY?(t.setStatus(r.a.INVITATION_STATUS_ACCEPTED),t.apiRTCManager.sendData(t.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,answer:"accept"}),t.call.setStatus(r.a.CALL_STATUS_ONGOING),c&&null!==e&&e instanceof o.a&&(g.debug("accept() - A stream was preselected; audio only : ",l),u.userMediaStreamId=e.userMediaStreamId),t.apiRTCManager.webRTCClient.acceptCall(t.id,u),a(t.call)):s(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this call, invitation state invalid",g))}))}},{key:"decline",value:function(e){this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(this.setStatus(r.a.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}},{key:"getCall",value:function(){return this.call}}])&&d(t.prototype,n),s&&d(t,s),c}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n(12),n(14),n(16),n(8),n(10),n(22),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(5).a.get("ReceivedInvitation"),h=["error","progress","statusChange"],p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,u,d=c(p);function p(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),i=d.call(this,e,t),f.debug("Create ReceivedFileTransferInvitation"),i.type="sendFile",i.fileInfo=n,i.apiRTCManager.onEvent("hangup",(function(e){f.debug("hangup");var t=e.detail.callId.toString();i.getId()===t&&(f.debug("hangup for ReceivedFileTransferInvitation"),i.getStatus()===r.a.INVITATION_STATUS_ENDED?f.debug("invitation ended"):(f.debug("invitation is cancelled"),i.setStatus(r.a.INVITATION_STATUS_CANCELLED)),apiRTC.userAgentInstance.currentSession.invitationsMap.has(e.detail.remoteId+"-sendfile-"+t)&&apiRTC.userAgentInstance.currentSession.invitationsMap.delete(e.detail.remoteId+"-sendfile-"+t))})),i}return t=p,u=[{key:"getAvailableEvents",value:function(){return h}}],(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()!==r.a.INVITATION_STATUS_STANDBY)n(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this file transfer session, invitation state invalid",f));else{e.setStatus(r.a.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept"});var s=e;e.apiRTCManager.onEvent("onFileReceived",(function a(l){if(l.detail.callId.toString()===s.id.toString()){if(f.debug("typeof(e.detail.data.file) :",o(l.detail.data.file)),"string"==typeof l.detail.data.file)t({file:l.detail.data.file,name:l.detail.data.name,type:l.detail.data.type});else{var c=new FileReader;c.addEventListener("loadend",(function(){e.setStatus(r.a.INVITATION_STATUS_ENDED),e.apiRTCManager.webRTCClient.hangUp(s.id.toString());try{f.info("accept() - file received from "+s.sender.getUsername()+" !"),t({file:l.detail.data.file,name:l.detail.data.name,type:l.detail.data.type})}catch(e){f.error("File Error",e),n(i.a.createError(r.a.ERROR_OTHER,"accept() - Could not read file received",f))}})),c.readAsArrayBuffer(l.detail.data.file)}e.apiRTCManager.removeEventListener("onFileReceived",a)}})),e.apiRTCManager.onEvent("onFileProgress",(function(e){e.detail.callId.toString()===s.id.toString()&&(f.trace("file transfering",e.detail),a.b.get(s).emit("progress",{uuid:e.detail.uuid,fileSize:e.detail.fileSize,remainingSize:e.detail.remainingSize,percentage:e.detail.percentage,sendChunkNb:e.detail.sendChunkNb,transferDuration:e.detail.transferDuration,lastPacket:e.detail.lastPacket}))})),e.apiRTCManager.onEvent("receiveDataChannelError",(function(e){e.detail.callId.toString()===s.id.toString()&&(f.warn("receiveDataChannelError",e.detail),a.b.get(s).emit("error","receiveDataChannelError"))})),e.apiRTCManager.webRTCClient.acceptCall(e.id,{mediaTypeForIncomingCall:"DATA"})}}))}},{key:"getFileInfo",value:function(){return this.fileInfo}},{key:"decline",value:function(e){f.log("decline"),this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(this.setStatus(r.a.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}}])&&s(t.prototype,n),u&&s(t,u),p}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41),o=n(124);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(5).a.get("ReceivedInvitation"),m=["expired","statusChange"],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,s,d=u(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=d.call(this,e,t),p.info("Create ReceivedDataChannelInvitation "),n.type="dataChannel",n.apiRTCManager.onEvent("hangup",(function(e){var t=e.detail.callId.toString();n.id.toString()===t&&n.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(n.setStatus(r.a.INVITATION_STATUS_EXPIRED),a.b.get(f(n)).emit("expired"))})),n}return t=h,s=[{key:"getAvailableEvents",value:function(){return m}}],(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()===r.a.INVITATION_STATUS_STANDBY){e.setStatus(r.a.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept"});var a=new o.a(e.id,e.sender,{started:!0,type:r.a.DATACHANNEL_TYPE_SEND});e.apiRTCManager.webRTCClient.acceptCall(e.id,{mediaTypeForIncomingCall:"DATA"}),t(a)}else n(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this datachannel session, invitation state invalid",p))}))}},{key:"decline",value:function(e){this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(this.setStatus(r.a.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}),this.apiRTCManager.webRTCClient.refuseCall(this.id))}}])&&l(t.prototype,n),s&&l(t,s),h}(a.a)},function(e,t,n){var r=n(202),i=n(20),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(45).f,i=n(40),a=n(26)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(162),i=n(35),a=n(48),o=n(33),s=n(67),l=n(59),c=n(187),u=n(163),d=Math.max,f=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(n,r){var i=l(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!v&&g||"string"==typeof r&&-1===r.indexOf(b)){var a=n(t,e,this,r);if(a.done)return a.value}var l=i(e),h=String(this),p="function"==typeof r;p||(r=String(r));var m=l.global;if(m){var y=l.unicode;l.lastIndex=0}for(var S=[];;){var w=u(l,h);if(null===w)break;if(S.push(w),!m)break;""===String(w[0])&&(l.lastIndex=c(h,o(l.lastIndex),y))}for(var T,I="",O=0,E=0;E<S.length;E++){w=S[E];for(var R=String(w[0]),k=d(f(s(w.index),h.length),0),M=[],_=1;_<w.length;_++)M.push(void 0===(T=w[_])?T:String(T));var A=w.groups;if(p){var x=[R].concat(M,k,h);void 0!==A&&x.push(A);var D=String(r.apply(void 0,x))}else D=C(R,h,k,M,A,r);k>=O&&(I+=h.slice(O,k)+D,O=k+R.length)}return I+h.slice(O)}];function C(e,n,r,i,o,s){var l=r+e.length,c=i.length,u=m;return void 0!==o&&(o=a(o),u=p),t.call(s,u,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>c){var d=h(u/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}s=i[u-1]}return void 0===s?"":s}))}}))},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r,i=n(13),a=n(93).f,o=n(33),s=n(233),l=n(59),c=n(234),u=n(115),d="".startsWith,f=Math.min,h=c("startsWith");i({target:"String",proto:!0,forced:!(!u&&!h&&(r=a(String.prototype,"startsWith"),r&&!r.writable))&&!h},{startsWith:function(e){var t=String(l(this));s(e);var n=o(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return d?d.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n(12),n(14),n(16),n(23),n(8),n(98),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(61),n(15);var r=n(0),i=n(2),a=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(5).a.get("ReceivedInvitation"),m=new WeakMap,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,a,o=u(d);function d(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,d),r=o.call(this,e,t.invitationId),p.info("Create ReceivedConversationInvitation"),r.conversation=n,r.type="conversation",r.invitationData=t,m.set(f(r),i),r}return t=d,(n=[{key:"accept",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(){return new Promise((function(a,o){var s=m.get(t);n.hasOwnProperty("password")&&(s.password=n.password),n.hasOwnProperty("session")&&(s.session=n.session),t.conversation.join(s).then((function(){null!=e&&t.conversation.publish(e),a(t.conversation)})).catch((function(e){o(i.a.createError(r.a.ERROR_OTHER,"accept() - cannot join webconf",p,{fromError:e}))}))}))},o=function(){return new Promise((function(e,n){t.conversation.joinGroupChat().then((function(){e(t.conversation)})).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"accept() - cannot join groupChat",p,{fromError:e}))}))}))};return new Promise((function(e,n){return t.getStatus()!==r.a.INVITATION_STATUS_STANDBY?n(i.a.createError(r.a.ERROR_WRONG_STATE,"accept() - cannot accept invitation",p)):(t.setStatus(r.a.INVITATION_STATUS_ACCEPTED),t.apiRTCManager.sendData(t.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,answer:"accept"}),t.invitationData&&t.invitationData.conversationTypes?t.invitationData.conversationTypes.indexOf("WEBCONF")>=0?a().then(e).catch(n):t.invitationData.conversationTypes.indexOf("GROUP_CHAT")>=0?o().then(e).catch(n):void 0:a().then(e).catch(n))}))}},{key:"decline",value:function(e){this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(this.setStatus(r.a.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:this.id,reason:e,answer:"decline"}))}},{key:"getConversation",value:function(){return this.conversation}}])&&l(t.prototype,n),a&&l(t,a),d}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n(12),n(14),n(16),n(47),n(31),n(8),n(27),n(10),n(22),n(64),n(18),n(7),n(17),n(11),n(15);var r=n(5),i=n(151);function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=r.a.get("ConversationCatalog"),c=null,u=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==c)throw"Cannot construct singleton CallCatalog";this.callList=new Map,c=this}var t,n,r;return t=e,r=[{key:"get",value:function(){return null===c&&(c=new e),c}}],(n=[{key:"getOrCreateCall",value:function(e,t,n){var r=null;return null!=e&&(this.callList.has(e.toString())?r=this.callList.get(e.toString()):(r=new i.a(e.toString(),t,n),this.callList.set(e.toString(),r))),r}},{key:"getCall",value:function(e,t){var n=null;if(null!=e){if(!this.callList.has(e.toString()))return null;n=this.callList.get(e.toString())}else if(t){var r,i=a(this.callList.values());try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.getContact();if(s&&s.getId()===t.getId()){n=o;break}}}catch(e){i.e(e)}finally{i.f()}}return n}},{key:"removeCallFromList",value:function(e){l.log("removeCallFromList : av instance.callList :",c.callList),c.callList.has(e)&&c.callList.delete(e),l.log("removeCallFromList : ap instance.callList :",c.callList)}},{key:"getCalls",value:function(){return this.callList}}])&&s(t.prototype,n),r&&s(t,r),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(5).a.get("ReceivedInvitation"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,a,o=c(u);function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),r=o.call(this,e,n),f.info("Create ReceivedConversationJoinRequest"),r.type="conversationJoinRequest",r.conversation=t||null,r}return t=u,(n=[{key:"getConversation",value:function(){return this.conversation}},{key:"accept",value:function(){var e=this;return new Promise((function(t,n){e.getStatus()===r.a.INVITATION_STATUS_STANDBY?(e.setStatus(r.a.INVITATION_STATUS_ACCEPTED),e.conversation?e.conversation.allowEntry(e.sender,{invitationId:e.id,answer:"accept",ackEnabled:!0}).then(t).catch(n):(e.apiRTCManager.sendData(e.sender.getId(),{roomname:e.id,event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:e.id,answer:"accept",command:"access",value:{access:!0}}),t())):n(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot accept request, invitation state invalid",f))}))}},{key:"decline",value:function(e){var t=this;return new Promise((function(n,a){t.getStatus()===r.a.INVITATION_STATUS_STANDBY?(t.setStatus(r.a.INVITATION_STATUS_DECLINED),t.conversation?t.conversation.denyEntry(t.sender,{invitationId:t.id,answer:"decline",reason:e}).then(n).catch(a):(t.apiRTCManager.sendData(t.sender.getId(),{roomname:t.id,event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:t.id,reason:e,answer:"decline",command:"access",value:{access:!1}}),n())):a(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"decline() - Cannot decline request, invitation state invalid",f))}))}}])&&s(t.prototype,n),a&&s(t,a),u}(a.a)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(29);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t,n){var r=n(203),i=n(175).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(67),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t,n){var r=n(106);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(35),i=n(106),a=n(26)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){"use strict";var r=n(34),i=n(20),a=n(138),o=n(51),s=n(40),l=n(94),c=n(159),u=n(114),d=n(19),f=n(95),h=n(116).f,p=n(93).f,m=n(45).f,v=n(188).trim,g=i.Number,b=g.prototype,C="Number"==l(f(b)),y=function(e){var t,n,r,i,a,o,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=v(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((l=a.charCodeAt(s))<48||l>i)return NaN;return parseInt(a,r)}return+c};if(a("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,w=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof e&&(C?d((function(){b.valueOf.call(r)})):"Number"!=l(r))?c(new g(y(n)),r,e):y(n)},T=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;T.length>I;I++)s(g,S=T[I])&&!s(w,S)&&m(w,S,p(g,S));w.prototype=b,b.constructor=w,o(i,"Number",w)}},function(e,t,n){"use strict";var r=n(13),i=n(106),a=n(48),o=n(19),s=n(147),l=[],c=l.sort,u=o((function(){l.sort(void 0)})),d=o((function(){l.sort(null)})),f=s("sort");r({target:"Array",proto:!0,forced:u||!d||!f},{sort:function(e){return void 0===e?c.call(a(this)):c.call(a(this),i(e))}})},function(e,t,n){var r=n(13),i=n(232);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(5).a.get("ReceivedInvitation"),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,a,o=u(d);function d(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,d),n=o.call(this,e,t),h.info("Create ReceivedWhiteboardInvitation"),n.type="whiteboard",r.cloudConvId&&(n.cloudConvId=r.cloudConvId),!0===r.webconf&&(n.webconf=!0),n}return t=d,(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){if(e.getStatus()===r.a.INVITATION_STATUS_STANDBY){e.setStatus(r.a.INVITATION_STATUS_ACCEPTED),e.apiRTCManager.sendData(e.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:"wb-"+e.id,answer:"accept"}),e.apiRTCManager.whiteBoardClient.leaveRoom(),e.apiRTCManager.whiteBoardClient.start();var a={};e.cloudConvId&&(a.convId=e.cloudConvId),!0===e.webconf&&(a.webconf=!0),e.apiRTCManager.whiteBoardClient.joinRoom(e.id,a),t(e.id)}else n(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - Cannot join this whiteboard session, invitation state invalid",h))}))}},{key:"decline",value:function(e){this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&(this.setStatus(r.a.INVITATION_STATUS_DECLINED),this.apiRTCManager.sendData(this.sender.getId(),{event:r.a.INVITATION_ANSWER_IDENTIFIER,invitationId:"wb-"+this.id,reason:e,answer:"decline"}))}}])&&l(t.prototype,n),a&&l(t,a),d}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(61),n(15);var r=n(0),i=n(2),a=n(4),o=n(5),s=n(32);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=o.a.get("DataChannel"),g=s.a.get(),b=["response","accepted","declined","error","opened","closed","error","transferProgress","transferComplete","dataReceived","ended"],C=new WeakMap,y=new WeakMap,S=new WeakMap,w=new WeakMap,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,o,s=f(l);function l(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(this,l),n=s.call(this,v),v.debug("Create DataChannel with id "+e),C.set(p(n),e),y.set(p(n),t),w.set(p(n),r.a.DATACHANNEL_TYPE_RECEIVE),o.hasOwnProperty("type")&&(o.type===r.a.DATACHANNEL_TYPE_RECEIVE?w.set(p(n),r.a.DATACHANNEL_TYPE_RECEIVE):o.type===r.a.DATACHANNEL_TYPE_SEND&&w.set(p(n),r.a.DATACHANNEL_TYPE_SEND)),S.set(p(n),r.a.DATACHANNEL_STATUS_WAITING),g.onEvent("receiveData",(function(e){void 0!==e.detail.data.info&&e.detail.data.info===r.a.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.invitationId.toString()===n.getId()&&n.getStatus()===r.a.DATACHANNEL_STATUS_WAITING&&(v.info("DataChannel answer from "+n.getContact().getUsername()+" for "+n.getId()),"accept"===e.detail.data.answer?a.b.get(p(n)).emit("accepted"):(S.set(p(n),r.a.DATACHANNEL_STATUS_ENDED),a.b.get(p(n)).emit("declined")),a.b.get(p(n)).emit("response"))})).onEvent("callEstablished",(function(e){var t=e.detail.callId.toString();n.getId()===t&&(v.info("callEstablished from "+n.getContact().getUsername(),e),n.getStatus()!==r.a.DATACHANNEL_STATUS_ONGOING&&n.getStatus()!==r.a.DATACHANNEL_STATUS_ENDED&&a.b.get(p(n)).emit("accepted"))})).onEvent("hangup",(function(e){var t=e.detail.callId.toString(),i=n.getStatus()===r.a.DATACHANNEL_STATUS_WAITING&&"remote"===e.detail.hangupType;n.getId()===t&&n.getStatus()!==r.a.DATACHANNEL_STATUS_ENDED&&(S.set(p(n),r.a.DATACHANNEL_STATUS_ENDED),v.info("Hangup from "+n.getContact().getUsername(),e),a.b.get(p(n)).emit("ended",{from:e.detail.hangupType}),i&&a.b.get(p(n)).emit("declined"))})).onEvent("onFileReceived",(function(e){if(e.detail.callId.toString()===n.getId()){var t=e.detail.data,r=new FileReader;r.addEventListener("loadend",(function(){try{var e=i.a.arrayBuffertoString(r.result);v.info("dataReceived !"),a.b.get(p(n)).emit("dataReceived",{uuid:t.uuid,data:e})}catch(e){v.error("dataReceived Error",e)}})),r.readAsArrayBuffer(t.file)}})).onEvent("onFileProgress",(function(e){if(e.detail.callId.toString()===n.getId()){var t=e.detail;v.trace("file transfering",t);var r={uuid:t.uuid,fileSize:t.fileSize,remainingSize:t.remainingSize,percentage:t.percentage,sendChunkNb:t.sendChunkNb,transferDuration:t.transferDuration,lastPacket:t.lastPacket};a.b.get(p(n)).emit("transferProgress",r),t.transferEnded&&a.b.get(p(n)).emit("transferComplete",r)}})).onEvent("receiveDataChannelError",(function(e){var t=e.detail.callId.toString();n.getId()===t&&a.b.get(p(n)).emit("error","receiveDataChannelError")})).onEvent("sendDataChannelError",(function(e){var t=e.detail.callId.toString();n.getId()===t&&a.b.get(p(n)).emit("error","sendDataChannelError")})).onEvent("receiveDataChannelClose",(function(e){var t=e.detail.callId.toString();n.getId()===t&&a.b.get(p(n)).emit("closed")})).onEvent("sendDataChannelClose",(function(e){var t=e.detail.callId.toString();n.getId()===t&&a.b.get(p(n)).emit("closed")})).onEvent("receiveDataChannelOpen",(function(e){var t=e.detail.callId.toString();n.getId()===t&&(S.set(p(n),r.a.DATACHANNEL_STATUS_ONGOING),a.b.get(p(n)).emit("opened"))})).onEvent("sendDataChannelOpen",(function(e){var t=e.detail.callId.toString();n.getId()===t&&a.b.get(p(n)).emit("opened")})),n}return t=l,o=[{key:"getAvailableEvents",value:function(){return b}}],(n=[{key:"getId",value:function(){return C.get(this).toString()}},{key:"getContact",value:function(){return y.get(this)}},{key:"getType",value:function(){return w.get(this)}},{key:"getStatus",value:function(){return S.get(this)}},{key:"sendData",value:function(e){var t=this;return new Promise((function(n,o){var s=!1;t.getStatus()!==r.a.DATACHANNEL_STATUS_ONGOING?o(i.a.createError(r.a.ERROR_OTHER,"Cannot send data as datachannel session is not ongoing",v)):t.getType()!==r.a.DATACHANNEL_TYPE_SEND?o(i.a.createError(r.a.ERROR_OTHER,"Cannot send data as datachannel session is receiving only",v)):g.webRTCClient.sendDataWithCallId(t.getId(),{file:e},(function(e){s||(s=!0,n(e.uuid)),v.trace("sendData() - progress : ",e);var r={uuid:e.uuid,fileSize:e.fileSize,remainingSize:e.remainingSize,percentage:e.percentage,sendChunkNb:e.sendChunkNb,transferDuration:e.transferDuration,lastPacket:e.lastPacket};a.b.get(t).emit("transferProgress",r),e.transferEnded&&a.b.get(t).emit("transferComplete",r)}))}))}},{key:"close",value:function(){this.getStatus()===r.a.DATACHANNEL_STATUS_ENDED?v.error("close() - DataChannel session has already ended"):g.webRTCClient.hangUp(this.getId())}}])&&u(t.prototype,n),o&&u(t,o),l}(a.a)},function(e,t,n){var r=n(40),i=n(48),a=n(155),o=n(211),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(35),i=n(246);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(51);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(162),i=n(35),a=n(33),o=n(59),s=n(187),l=n(163);r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this);if(!o.global)return l(o,c);var u=o.unicode;o.lastIndex=0;for(var d,f=[],h=0;null!==(d=l(o,c));){var p=String(d[0]);f[h]=p,""===p&&(o.lastIndex=s(c,a(o.lastIndex),u)),h++}return 0===h?null:f}]}))},function(e,t,n){n(221)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";var r=n(13),i=n(137).includes,a=n(156);r({target:"Array",proto:!0,forced:!n(96)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a})),n(10),n(18),n(7),n(17);var i=n(5).a.get("MediaDevice"),a=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.trace("Create "+n+" MediaDevice"),this.id=t,this.type=n,this.label=r,this.capabilities=a}var t,n,a;return t=e,(n=[{key:"getId",value:function(){return this.id.toString()}},{key:"getType",value:function(){return this.type}},{key:"getLabel",value:function(){return this.label}},{key:"isCamera",value:function(){return"videoinput"===this.type}},{key:"isMicrophone",value:function(){return"audioinput"===this.type}},{key:"isAudioOutput",value:function(){return"audiooutput"===this.type}},{key:"getCapabilities",value:function(){return this.capabilities}}])&&r(t.prototype,n),a&&r(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n(12),n(14),n(16),n(148),n(44),n(47),n(31),n(8),n(27),n(99),n(10),n(22),n(64),n(122),n(36),n(18),n(275),n(37),n(38),n(7),n(21),n(39),n(276),n(17),n(11),n(109),n(61),n(49),n(15),n(30);var r=n(0),i=n(2),a=n(57),o=n(6),s=n(24),l=n(62),c=n(65),u=n(42);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=n(5).a.get("Conference"),T=o.a.getAvailableEvents().concat(["closed","contactJoinedWaitingRoom","contactLeftWaitingRoom","moderatorConnected","waitingForModeratorAcceptance","entryAllowed","entryDenied"]),I=new WeakMap,O=new WeakMap,E=new WeakMap,R=new WeakMap,k=new WeakMap,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(C,e);var t,n,d,h=b(C);function C(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,C),t=h.call(this,e,n),w.info("Create conference"),t.friendlyName=n.hasOwnProperty("friendlyName")?n.friendlyName:e,E.set(y(t),null),R.set(y(t),null),I.set(y(t),null),O.set(y(t),null),k.set(y(t),new Map),o.h.onUpdate((function(e){if("moderator"===t.getRole()){var n,a=o.h.getContacts(r.a.CONVERSATION_WAITING_ROOM_PREFIX+t._getTechnicalName()),s=f(k.get(y(t)).keys());try{for(s.s();!(n=s.n()).done;){var l=n.value;if(!a.has(l)){var c=o.h.getContact(l);null!==c&&(w.debug(c.getUsername()+" left waiting room "+t.getName()),o.c.get(y(t)).emit("contactLeftWaitingRoom",c))}}}catch(e){s.e(e)}finally{s.f()}a.forEach((function(e,n){k.get(y(t)).has(n)||null!==e&&(w.debug(e.getUsername()+" joined waiting room "+t.getName()),o.c.get(y(t)).emit("contactJoinedWaitingRoom",e),o.f.sendData(n,{event:r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected",roomname:t._getTechnicalName()}).catch((function(n){var a=i.a.createError(n,"Notification not delivered",w);o.c.get(y(t)).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected"})})))})),k.set(y(t),a)}})),o.c.get(y(t)).on("contactJoined",(function(e){"moderator"===t.getRole()&&o.f.sendData(e.getId(),{event:r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected",roomname:t._getTechnicalName()}).catch((function(n){var a=i.a.createError(n,"Notification not delivered",w);o.c.get(y(t)).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER,command:"conversationModeratorConnected"})}))}));var a=function(e){var n=e.detail.data,i=o.h.getOrCreateContact(e.detail.senderId);if(void 0!==n.roomname&&n.roomname===t._getTechnicalName()&&void 0!==n.event)switch(n.event){case r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER:o.c.get(y(t)).emit("moderatorConnected",i);break;case r.a.CONVERSATION_CLOSED_IDENTIFIER:n.instanceId===t.getInstanceId()&&(w.info("Conference "+t.getName()+" has been closed..."),o.c.get(y(t)).emit("closed"),t.leave());break;case r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER:if(void 0===n.access||null===n.access)return void w.error("Conversation join answer has no access data");o.c.get(y(t)).emit(n.access?"entryAllowed":"entryDenied")}};return o.f.onEvent("receiveData",a),o.c.get(y(t)).on("left",(function(e){"moderator"===t.getRole()&&o.f.unsubscribeToPresenceGroup(r.a.CONVERSATION_WAITING_ROOM_PREFIX+t._getTechnicalName()),O.set(y(t),null),o.d.set(y(t),null),E.set(y(t),null),o.f.removeEventListener("receiveData",a)})),t}return t=C,d=[{key:"getAvailableEvents",value:function(){return T}}],(n=[{key:"destroy",value:function(){u.a.get().deleteConference(this.getName()),v(S(C.prototype),"destroy",this).call(this)}},{key:"_getTechnicalName",value:function(){return x()+o.e.get(this)}},{key:"getRole",value:function(){return O.get(this)}},{key:"getInstanceId",value:function(){return E.get(this)}},{key:"getFriendlyName",value:function(){return this.friendlyName}},{key:"getModerator",value:function(){return R.get(this)}},{key:"getInfo",value:function(){var e=this;return new Promise((function(t,n){var a={},s=o.d.get(e);s&&(a.token=s.getToken()),o.g.getWebconf(e._getTechnicalName(),a).then((function(e){return t({dtmfCode:e.dtmfCode,endTime:e.end,hasPassword:e.hasPassword,sipNumber:e.sipNumber,startTime:e.start,state:e.state,type:e.type})})).catch((function(e){return n(i.a.createError(r.a.ERROR_OTHER,"getInfo() - Cannot get conference info",w))}))}))}},{key:"join",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w.debug("Joining "+this.getName()),new Promise((function(n,a){if(e.status!==r.a.CONVERSATION_STATUS_NOT_JOINED)return a(i.a.createError(r.a.ERROR_OTHER,"join() - Conference already joined or joining",w));t=Object.assign({},t);var s=!1;t.qualityAdaptationEnabled&&(s=!0,delete t.qualityAdaptationEnabled);var l=null;t.supportedVideoCodecs&&(l=t.supportedVideoCodecs,delete t.supportedVideoCodecs),_(e,t).then((function(c){O.set(e,c.role),"moderator"===e.getRole()&&o.f.apiRTCSession.subscribePresenceGroup([r.a.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]),t.hasOwnProperty("password")&&I.set(e,t.password),e.friendlyName=c.hasOwnProperty("friendlyName")?c.friendlyName:e.friendlyName,E.set(e,c.instanceId),e.status=r.a.CONVERSATION_STATUS_JOINING,o.g.updateConferencePresence(e,o.d.get(e),o.f.getActiveApiKey());var u=e,d=function e(t){if(w.debug("joinMCUSessionAnswer",u._getTechnicalName(),t.detail),t.detail.roomId.toString()===u._getTechnicalName()){if(t.detail.result&&t.detail.result.failed){w.error("Conversation "+u.getName()+" join failed",t.detail),this.status=r.a.CONVERSATION_STATUS_NOT_JOINED;var s=t.detail.result.reason?t.detail.result.reason:"join failed";return a(i.a.createError(r.a.ERROR_UNAUTHORIZED,"join() - "+s,w))}w.info("Conference "+u.getName()+" joined",t.detail),o.f.removeEventListener("joinMCUSessionAnswer",e),u.token=t.detail.token,u.sessionId=t.detail.sessionId,u.mode=t.detail.mode,u.conversationStreams=new Map;var l=o.b.get(u);o.f.onEvent("MCUAvailableStream",l.MCUAvailableStream).onEvent("MCUAvailableStreamUpdate",l.MCUAvailableStreamUpdate).onEvent("MCURemoveStream",l.MCURemoveStream).onEvent("MCUAvailableComposite",l.MCUAvailableComposite).onEvent("MCUAvailableReplay",l.MCUAvailableReplay).onEvent("MCUParticipantEjected",l.MCUParticipantEjected).onEvent("remoteStreamAdded",l.remoteStreamAdded).onEvent("remoteStreamRemoved",l.remoteStreamRemoved).onEvent("roomMemberUpdate",l.roomMemberUpdate).onEvent("receiveData",l.receiveData).onEvent("slowLink",l.slowLink).onEvent("localStreamUpdated",l.localStreamUpdated).onEvent("remoteStreamUpdated",l.remoteStreamUpdated).onEvent("simulcastFeedChanged",l.simulcastFeedChanged).onEvent("MCURecordingStarted",l.MCURecordingStarted).onEvent("MCURecordingStopped",l.MCURecordingStopped).onEvent("MCURecordedStreamsAvailable",l.MCURecordedStreamsAvailable).onEvent("MCUStreamingStarted",l.MCUStreamingStarted).onEvent("MCUStreamingStopped",l.MCUStreamingStopped).onEvent("MCURoomModeChanged",l.MCURoomModeChanged).onEvent("onCallStatsUpdate",l.onCallStatsUpdate).onEvent("hangup",l.hangup).onEvent("callRestarting",l.callRestarting).onEvent("audioAmplitude",l.audioAmplitude).onEvent("videoQualityChanged",l.videoQualityChanged).onEvent("cpuLimited",l.cpuLimited).onEvent("bandwidthLimited",l.bandwidthLimited),u.updateData(),u.groupChatStatus!==r.a.CONVERSATION_STATUS_NOT_JOINED&&(u.groupChatStatus=r.a.CONVERSATION_STATUS_NOT_JOINED),u.status=r.a.CONVERSATION_STATUS_JOINED,o.c.get(u).emit("joined");var c={};"mesh"===t.detail.mode&&(c.mode="mesh",!0===t.detail.meshOnly&&(c.meshOnly=!0)),n(c)}};o.f.onEvent("joinMCUSessionAnswer",d);var f={};f.convId=e.getCloudConversationId(),e.meshModeEnabled&&(f.meshModeEnabled=e.meshModeEnabled),e.meshOnlyEnabled&&(f.meshOnlyEnabled=e.meshOnlyEnabled),s&&(f.qualityAdaptationEnabled=!0),l&&(f.supportedVideoCodecs=l);var h=o.f.webRTCClient.joinMCUSession(e._getTechnicalName(),f);if(h instanceof Error)return o.f.removeEventListener("joinMCUSessionAnswer",d),u.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_OTHER,"join() - Could not join conversation :"+h.message,w))})).catch((function(t){return e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(t)}))}))}},{key:"cancelJoin",value:function(){return null!==this.cancelJoin0&&"function"==typeof this.cancelJoin0&&this.cancelJoin0()}},{key:"close",value:function(){var e=this;return w.debug("Closing "+this.getName()),new Promise((function(t,n){e.status!==r.a.CONVERSATION_STATUS_JOINED?n(i.a.createError(r.a.ERROR_OTHER,"close() - Conversation has to be joined to be closed",w)):"moderator"!==O.get(e)?n(i.a.createError(r.a.ERROR_UNAUTHORIZED,"close() - Role has to be moderator to close the conversation",w)):o.g.closeConferenceInstance(e,o.d.get(e)).then((function(){w.debug("Conversation closed successfully"),o.f.dataClient.sendDataToGroup(e._getTechnicalName(),{event:r.a.CONVERSATION_CLOSED_IDENTIFIER,instanceId:e.getInstanceId(),roomname:e._getTechnicalName()}),o.c.get(e).emit("closed"),e.leave(),t()})).catch((function(e){var t="close() - An error occured when closing conversation",i={error:new Error(t),code:r.a.ERROR_OTHER};w.error(t,e),e.hasOwnProperty("code")?i.code=e.code:e.hasOwnProperty("http_code")&&(i.code=e.http_code.toString().startsWith("4")?r.a.ERROR_UNAUTHORIZED:r.a.ERROR_SERVER_UNAVAILABLE),n(i)}))}))}},{key:"eject",value:function(e,t){var n=this;return new Promise((function(a,s){if(n.status!==r.a.CONVERSATION_STATUS_JOINED)return s(i.a.createError(r.a.ERROR_OTHER,"eject() - conference not joined",w));if("moderator"!==n.getRole())return s(i.a.createError(r.a.ERROR_UNAUTHORIZED,"eject() - only moderator can eject a contact",w));var l={};l.timeoutId=setTimeout((function(){return l&&(o.f.removeEventListener("MCUParticipantEjected",l.ejected),l=!1),s(i.a.createError(r.a.ERROR_OTHER,"eject() - timeout",w))}),r.a.CONVERSATION_PARTICIPANT_EJECTION_DELAY),l.ejected=function(t){if(t.detail.roomId===n._getTechnicalName()&&t.detail.clientId===e.getId())return l&&(clearTimeout(l.timeoutId),o.f.removeEventListener("MCUParticipantEjected",l.ejected),l=!1),a()},o.f.onEvent("MCUParticipantEjected",l.ejected),o.f.webRTCClient.ejectParticipantFromMCUSession(e.getId(),t)}))}},{key:"allowEntry",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,s){if(n.status!==r.a.CONVERSATION_STATUS_JOINED)return s(i.a.createError(r.a.ERROR_OTHER,"allowEntry() - conference not joined",w));if(e instanceof l.a){if("moderator"!==n.getRole())return s(i.a.createError(r.a.ERROR_UNAUTHORIZED,"allowEntry() - only moderator can allow entry to a contact",w));var c={roomname:n._getTechnicalName(),event:r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER,access:!0,command:"access",value:{access:!0}};if(t.hasOwnProperty("invitationId")&&(c.invitationId=t.invitationId),t.hasOwnProperty("answer")&&(c.answer=t.answer),o.f.sendData(e.getId(),c).catch((function(t){var a=i.a.createError(t,"Notification not delivered",w);o.c.get(n).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})})),!0===t.ackEnabled){var u=setInterval((function(){c.command="access-new",o.f.sendData(e.getId(),c).catch((function(t){var a=i.a.createError(t,"Notification not delivered",w);o.c.get(n).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})}))}),r.a.CONVERSATION_JOIN_REQUEST_INTERVAL);o.f.onEvent("receiveData",(function t(r){var i=o.h.getOrCreateContact(r.detail.senderId);r.detail.hasOwnProperty("data")&&"access-ack"===r.detail.data.command&&r.detail.data.roomname===n._getTechnicalName()&&i.getId()===e.getId()&&(clearInterval(u),o.f.removeEventListener("receiveData",t))}))}return a()}return s(i.a.createError(r.a.ERROR_BAD_PARAMETER,"allowEntry() - parameter is not an instance of apiRTC.Contact",w))}))}},{key:"denyEntry",value:function(e,t){var n=this;return t||(t={}),new Promise((function(a,s){if(n.status!==r.a.CONVERSATION_STATUS_JOINED)return s(i.a.createError(r.a.ERROR_OTHER,"denyEntry() - conference not joined",w));if(e instanceof l.a){if("moderator"!==n.getRole())return s(i.a.createError(r.a.ERROR_UNAUTHORIZED,"denyEntry() - only moderator can deny entry to a contact",w));var c={roomname:n._getTechnicalName(),event:r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER,access:!1,command:"access",value:{access:!1}};return t.hasOwnProperty("invitationId")&&(c.invitationId=t.invitationId),t.hasOwnProperty("answer")&&(c.answer=t.answer),t.hasOwnProperty("reason")&&(c.reason=t.reason),o.f.sendData(e.getId(),c).catch((function(t){var a=i.a.createError(t,"Notification not delivered",w);o.c.get(n).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER,command:"access"})})),a()}return s(i.a.createError(r.a.ERROR_BAD_PARAMETER,"denyEntry() - parameter is not an instance of apiRTC.Contact",w))}))}},{key:"sendJoinRequest",value:function(e){var t=this,n=R.get(this);if(this.status!==r.a.CONVERSATION_STATUS_WAITING)w.error("sendJoinRequest() - Not in conversation's waiting room, cannot send join request");else if(null===n)w.error("sendJoinRequest() - Conversation has no moderator, cannot send join request");else if(!this.joinRequestIntervalId){var a="guest";null!==apiRTC.userAgentInstance&&void 0!==apiRTC.userAgentInstance&&null!==apiRTC.userAgentInstance.getUsername()&&(a=apiRTC.userAgentInstance.getUsername()),o.f.sendData(n.getId(),{roomname:this._getTechnicalName(),event:r.a.CONVERSATION_JOIN_REQUEST_IDENTIFIER,invitationId:this._getTechnicalName(),sendTime:Date.now(),command:"userWaiting",value:{username:a}}).catch((function(e){var a=i.a.createError(e,"Notification not delivered",w);o.c.get(t).emit("messageNotDelivered",{error:a,contact:o.h.getContact(n.getId()),event:r.a.CONVERSATION_JOIN_REQUEST_IDENTIFIER,command:"userWaiting"})})),this.joinRequestIntervalId=setInterval((function(){var e="guest";null!==apiRTC.userAgentInstance&&void 0!==apiRTC.userAgentInstance&&null!==apiRTC.userAgentInstance.getUsername()&&(e=apiRTC.userAgentInstance.getUsername()),o.f.sendData(n.getId(),{roomname:t._getTechnicalName(),event:r.a.CONVERSATION_JOIN_REQUEST_IDENTIFIER,invitationId:t._getTechnicalName(),sendTime:Date.now(),command:"userWaiting-new",value:{username:e}}).catch((function(e){var a=i.a.createError(e,"Notification not delivered",w);o.c.get(t).emit("messageNotDelivered",{error:a,contact:o.h.getContact(n.getId()),event:r.a.CONVERSATION_JOIN_REQUEST_IDENTIFIER,command:"userWaiting-new"})}))}),r.a.CONVERSATION_JOIN_REQUEST_INTERVAL)}}},{key:"sendInvitation",value:function(e,t){var n=this;if(t||(t={}),e instanceof l.a){w.info("Invite "+e.getId()+" to "+this._getTechnicalName()),e.isOnline()||w.warn("sendInvitation() - contact "+e.getUsername()+" does not seem to be connected.");var s={receiveNotifier:new a.a};t.hasOwnProperty("expirationTime")&&(s.expirationTime=t.expirationTime);var u=new c.a(e,this,s),d={event:r.a.CONVERSATION_INVITATION_IDENTIFIER,invitationId:u.id,roomname:this._getTechnicalName(),friendlyName:this.getFriendlyName(),sendTime:u.sendTime};return u.type="conference",null!==I.get(this)&&(d.password=I.get(this)),o.f.sendData(e.getId(),d).then((function(){s.receiveNotifier.emit("receive")})).catch((function(t){var a=i.a.createError(t,"Invitation not delivered",w);o.c.get(n).emit("messageNotDelivered",{error:a,contact:e,event:r.a.CONVERSATION_INVITATION_IDENTIFIER})})),u}return w.error("Parameter is not a contact"),null}},{key:"getTags",value:function(){var e=this;return new Promise((function(t,n){var a=s.b.getActiveSession();if(!a)return n(i.a.createError(r.a.ERROR_NOT_ALLOWED,"getTags() - no session found",w));var o=a.getUserAgent().getEnterprise();if(!o)return n(i.a.createError(r.a.ERROR_NOT_ALLOWED,"getTags() - no enterprise found",w));o.getTags(e).then((function(e){for(var n=[],r=0;r<e.length;r+=1)!0===e[r].selected&&n.push(e[r]);return t(n)})).catch((function(e){return n(i.a.createError(r.a.ERROR_NOT_ALLOWED,"getTags() - cannot get tags",w,{fromError:e}))}))}))}},{key:"setTags",value:function(e){var t=this;return new Promise((function(n,a){if(!Array.isArray(e))return a(i.a.createError(r.a.ERROR_BAD_PARAMETER,"setTags() - wrong tags",w));if(!t.webconfId)return a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"setTags() - no webconf found",w));var l=s.b.getActiveSession();if(!l)return a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"setTags() - no session found",w));var c=l.getUserAgent().getEnterprise();if(!c)return a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"setTags() - no enterprise found",w));var u=l.getToken();if(!u)return a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"setTags() - no token found",w));for(var d=[],f=0;f<e.length;f+=1){if(!e[f].hasOwnProperty("id"))return a(i.a.createError(r.a.ERROR_BAD_PARAMETER,"setTags() - wrong tags",w));d.push(e[f].id)}o.g.updateWebconfTags(c.getId(),t.webconfId,d,u).then((function(){return n()})).catch((function(e){return a(i.a.createError(r.a.ERROR_OTHER,"setTags() - cannot set tags",w,{fromError:e}))}))}))}}])&&m(t.prototype,n),d&&m(t,d),C}(o.a),_=function(e,t){return new Promise((function(n,a){e.checkAccess(t).then((function(s){if(s.access===r.a.CONVERSATION_ACCESS_GRANTED)n(s);else if(s.access===r.a.CONVERSATION_NEED_MODERATOR_ACCEPTATION){var l=o.h.getOrCreateContact(s.moderator);R.set(e,l),A(e,t).then((function(){n(s)})).catch(a)}else a(i.a.createError(r.a.ERROR_BAD_PARAMETER,"You were not allowed to join the conference"))})).catch(a)}))},A=function(e,t){return new Promise((function(n,a){var l=R.get(e);e.status=r.a.CONVERSATION_STATUS_WAITING;var u=!1,d=setTimeout((function(){o.f.apiRTCSession.joinPresenceGroup([r.a.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]),u=!0}),3e3);o.c.get(e).emit("waitingForModeratorAcceptance",l),w.info("Conference "+e.getName()+" requires moderator acceptation, waiting for moderator response",l);var f=new c.a(l,e);f.id=e._getTechnicalName(),f.type="conference";var h=t.hasOwnProperty("session")&&t.session instanceof s.b?t.session:null;e.sendJoinRequest(h);var p=function t(s){if(s.detail.senderId.toString()===l.getId()){var c=s.detail.data;"access"!==c.command&&"access-new"!==c.command&&c.event!==r.a.CONVERSATION_JOIN_ANSWER_IDENTIFIER||(delete e.cancelJoin0,e.joinRequestIntervalId&&(clearInterval(e.joinRequestIntervalId),delete e.joinRequestIntervalId),w.debug("join() - Moderator response",c),o.f.removeEventListener("receiveData",t),!0===u?o.f.apiRTCSession.leavePresenceGroup([r.a.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]):d&&clearTimeout(d),c.value.hasOwnProperty("access")&&c.value.access||c.access?(o.f.sendData(l.getId(),{roomname:e._getTechnicalName(),command:"access-ack"}).catch((function(t){var n=i.a.createError(t,"Notification not delivered",w);o.c.get(e).emit("messageNotDelivered",{error:n,contact:o.h.getContact(l.getId()),command:"access-ack"})})),n()):(e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"You were not allowed to join the conference",w)))),c.event===r.a.CONVERSATION_MODERATOR_CONNECTED_IDENTIFIER&&c.roomname===e._getTechnicalName()&&o.c.get(e).emit("moderatorConnected",l)}};o.f.onEvent("receiveData",p),f.onResponse((function(t){o.f.removeEventListener("receiveData",p),!0===u?o.f.apiRTCSession.leavePresenceGroup([r.a.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]):d&&clearTimeout(d),t===r.a.INVITATION_STATUS_ACCEPTED?n():(e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_NOT_ALLOWED,"You were not allowed to join the conference",w)))})),e.cancelJoin0=function(){return delete e.cancelJoin0,e.joinRequestIntervalId&&(clearInterval(e.joinRequestIntervalId),delete e.joinRequestIntervalId),o.f.removeEventListener("receiveData",p),!0===u?o.f.apiRTCSession.leavePresenceGroup([r.a.CONVERSATION_WAITING_ROOM_PREFIX+e._getTechnicalName()]):d&&clearTimeout(d),e.status=r.a.CONVERSATION_STATUS_NOT_JOINED,a(i.a.createError(r.a.ERROR_OPERATION_CANCELED,"Operation canceled",w)),!0}}))},x=function(){return o.f.getActiveApiKey()+":"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n(12),n(14),n(16),n(47),n(31),n(8),n(98),n(27),n(10),n(22),n(18),n(7),n(21),n(17),n(11),n(109),n(61),n(15);var r=n(0),i=n(2),a=n(24),o=n(5),s=n(32),l=n(58),c=n(42),u=n(54);function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=o.a.get("Session"),v=s.a.get(),g=l.a.get(),b=u.a.get(),C=c.a.get(),y=Symbol("ENTERPRISE_NOT_LOADED"),S=Symbol("ENTERPRISE_LOADED"),w=new WeakMap,T=new WeakMap,I=new WeakMap,O=function(){function e(t,n,r){if(h(this,e),m.info("Create Enterprise"),!(r instanceof a.b))throw"Cannot create Enterprise without a session";w.set(this,r),I.set(this,n),T.set(this,t),this.status=y}var t,n,o;return t=e,o=[{key:"fetchEnterpriseInformation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hasOwnProperty("cloudUrl")&&g.setCloudURL(e.cloudUrl),g.getEnterpriseInformation(e)}},{key:"fetchSiteAgents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){t.hasOwnProperty("cloudUrl")&&g.setCloudURL(t.cloudUrl);var o=[];g.getSiteAgents(v.getActiveApiKey(),e,t).then((function(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;o.push({contact:b.getOrCreateContact(i.id),title:i.title,nickname:i.nickname,isPrefered:i.isPrefered})}}catch(e){r.e(e)}finally{r.f()}n(o)})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"fetchSiteAgents() - could not fetch site agents",m))}))}))}}],(n=[{key:"getSession",value:function(){return w.get(this)}},{key:"getId",value:function(){return T.get(this).toString()}},{key:"getApiKey",value:function(){return I.get(this).toString()}},{key:"load",value:function(){var e=this;return new Promise((function(t,n){g.getEnterpriseUserList(e.getId(),e.getSession().getToken()).then((function(n){m.info("Enterprise loaded!",n);var r,i=d(n.users);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.getSession().user.userId.toString()!==a.id.toString()){var o=b.getOrCreateContact(a.id);o.profile=a,o.enterprise=e,null===o.userData.get("username")&&o.userData.setProp("username",a.username),null===o.userData.get("photo_url")&&o.userData.setProp("photo_url",a.photo_url)}}}catch(e){i.e(e)}finally{i.f()}e.status=S,t()})).catch((function(e){var t="load() - Enterprise load error",i={error:new Error(t),code:r.a.ERROR_OTHER};e.hasOwnProperty("code")?i.code=e.code:e.hasOwnProperty("http_code")&&(e.http_code.toString().startsWith("4")?i.code=r.a.ERROR_INVALID_CREDENTIALS:i.code=r.a.ERROR_SERVER_UNAVAILABLE),m.error(t,e),n(i)}))}))}},{key:"getContacts",value:function(){var e={};if(this.status!==S)m.error("Enterprise is not loaded, unable to getContacts");else{var t,n=b.getContacts(),r=d(n.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value,a=n.get(i);null!==a.enterprise&&a.enterprise.id.toString()===this.getId()&&(e[a.getId()]=a)}}catch(e){r.e(e)}finally{r.f()}}return e}},{key:"getConfiguration",value:function(){return null}},{key:"uploadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,i){m.info("uploadFile()"),t.status===S?g.uploadFile(e,t.getSession().getToken(),n).then((function(e){r(e.url)})).catch((function(e){m.error(e),i(e)})):(m.error("Enterprise is not loaded, cannot upload file"),i(new Error("Enterprise is not loaded, cannot upload file")))}))}},{key:"getAvailableConferences",value:function(){var e=this;return m.info("getAvailableConferences()"),new Promise((function(t,n){var r={};g.getConferenceList(e.getSession().getToken()).then((function(e){var n,i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a.hash]=C.getOrCreateConference(a.hash),r[a.hash].friendlyName=a.friendlyName}}catch(e){i.e(e)}finally{i.f()}t(r)})).catch((function(e){m.error(e),n(e)}))}))}},{key:"getConference",value:function(e){var t=this;return new Promise((function(n,r){var i={};i.token=t.getSession().getToken(),g.getWebconf(e,i).then((function(e){return n(C.getOrCreateConference(e.hash))})).catch((function(e){return m.error("getConference",e),r(e)}))}))}},{key:"createPrivateConference",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.info("createPrivateConference()"),new Promise((function(n,r){var a=t.hasOwnProperty("friendlyName")?t.friendlyName:i.a.guid(),o=null,s=e.getSession().getToken();g.createConference(s,a,t).then((function(n){(o=C.getOrCreateConference(n.hash)).friendlyName=a;var r=t.hasOwnProperty("password")?t.password:"";return o.join({password:r,session:e.getSession()})})).then((function(){n(o)})).catch((function(e){var t="createPrivateConference() - Could not create conference";m.error(t,e),r(new Error(t))}))}))}},{key:"getTags",value:function(e){var t=this;return new Promise((function(n,a){var o={};e&&e.hasOwnProperty("webconfId")&&(o.webconfId=e.webconfId),g.getEnterpriseTagList(t.getId(),t.getSession().getToken(),o).then((function(e){return e.hasOwnProperty("tags")&&Array.isArray(e.tags)?n(e.tags):a(i.a.createError(r.a.ERROR_OTHER,"getTags() - unexpected response",m))})).catch((function(e){return a(i.a.createError(r.a.ERROR_OTHER,"getTags() - cannot get tags",m,{fromError:e}))}))}))}}])&&p(t.prototype,n),o&&p(t,o),e}()},function(e,t,n){var r=n(19),i=n(94),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(63),i=n(33),a=n(117),o=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(19),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(94);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(203),i=n(175);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports={}},function(e,t,n){var r=n(180),i=n(94),a=n(26)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(142),i=n(141),a=n(26)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(19),i=n(26),a=n(183),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(34),i=n(20),a=n(138),o=n(159),s=n(45).f,l=n(116).f,c=n(185),u=n(186),d=n(217),f=n(51),h=n(19),p=n(56).set,m=n(146),v=n(26)("match"),g=i.RegExp,b=g.prototype,C=/a/g,y=/a/g,S=new g(C)!==C,w=d.UNSUPPORTED_Y;if(r&&a("RegExp",!S||w||h((function(){return y[v]=!1,g(C)!=C||g(y)==y||"/a/i"!=g(C,"i")})))){for(var T=function e(t,n){var r,i=this instanceof e,a=c(t),s=void 0===n;if(!i&&a&&t.constructor===e&&s)return t;S?a&&!s&&(t=t.source):t instanceof e&&(s&&(n=u.call(t)),t=t.source),w&&(r=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var l=o(S?new g(t,n):g(t,n),i?this:b,e);return w&&r&&p(l,{sticky:r}),l},I=function(e){e in T||s(T,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},O=l(g),E=0;O.length>E;)I(O[E++]);b.constructor=T,T.prototype=b,f(i,"RegExp",T)}m("RegExp")},function(e,t,n){"use strict";var r=n(104),i=n(45),a=n(26),o=n(34),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){"use strict";var r=n(13),i=n(19),a=n(139),o=n(29),s=n(48),l=n(33),c=n(157),u=n(178),d=n(144),f=n(26),h=n(183),p=f("isConcatSpreadable"),m=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=d("concat"),g=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!m||!v},{concat:function(e){var t,n,r,i,a,o=s(this),d=u(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?o:arguments[t])){if(f+(i=l(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in a&&c(d,f,a[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,f++,a)}return d.length=f,d}})},function(e,t,n){"use strict";var r=n(13),i=n(53).filter,a=n(144),o=n(96),s=a("filter"),l=o("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(13),i=n(233),a=n(59);r({target:"String",proto:!0,forced:!n(234)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n(12),n(14),n(16),n(47),n(23),n(31),n(8),n(27),n(10),n(22),n(64),n(36),n(18),n(37),n(46),n(38),n(7),n(21),n(39),n(17),n(235),n(11),n(61),n(15),n(30);var r=n(0),i=n(2),a=n(4),o=n(25),s=n(5),l=n(32);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=s.a.get("Call"),y=l.a.get(),S=["streamAdded","streamRemoved","response","accepted","declined","hangup","localStreamAvailable","recordAvailable","statsUpdate","error","disconnectionWarning","userMediaError","desktopCapture","remoteStreamUpdated","recordingStarted","recordingStopped","recordingAvailable"],w=new Set(["audioSent","videoSent","audioReceived","videoReceived","quality"]),T=new WeakMap,I=new WeakMap,O=new WeakMap,E=new WeakMap,R=new WeakMap,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,s,l=m(c);function c(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f(this,c),n=l.call(this,C),C.debug("Create Call with id "+e),T.set(g(n),e),I.set(g(n),t),n.publishedStreams=new Map,n.receivedStreams=new Map,n.stats={},O.set(g(n),o.hasOwnProperty("started")&&o.started?r.a.CALL_STATUS_ONGOING:r.a.CALL_STATUS_WAITING_FOR_CALLEE),E.set(g(n),!!o.hasOwnProperty("isRecorded")&&o.isRecorded),o.isRecorded){n.confId=null,n.recordingStatus=null;for(var s=y.webRTCClient.webRTCClient.callsTable.length;--s>=0;){var u=y.webRTCClient.webRTCClient.callsTable[s];if(u.callId===e&&u.data){n.confId=u.data.confId;break}}E.set(g(n),!0)}else E.set(g(n),!1);var d={hangup:function(e){n.getId()===e.detail.callId&&n.destroy()},receiveData:function(e){void 0!==e.detail.data.info&&e.detail.data.info===r.a.INVITATION_ANSWER_IDENTIFIER&&e.detail.data.invitationId.toString()===n.getId()&&n.getStatus()===r.a.CALL_STATUS_WAITING_FOR_CALLEE&&(C.info("Call answer from "+n.getContact().getUsername()+" for "+n.getId()),"accept"===e.detail.data.answer?(O.set(g(n),r.a.CALL_STATUS_ONGOING),a.b.get(g(n)).emit("accepted"),a.b.get(g(n)).emit("response","accepted")):(O.set(g(n),r.a.CALL_STATUS_ENDED),a.b.get(g(n)).emit("declined",{reason:"User_Refused_Call"}),a.b.get(g(n)).emit("response","declined")))},remoteStreamUpdated:function(e){if(n.getId()===e.detail.callId){var t={callId:e.detail.callId,audio:e.detail.audioIsAvailable&&e.detail.audioIsActive,audioMuted:e.detail.audioIsMuted,video:e.detail.videoIsAvailable&&e.detail.videoIsActive,videoMuted:e.detail.videoIsMuted};a.b.get(g(n)).emit("remoteStreamUpdated",t)}},MCURecordingStarted:function(e){if(E.get(g(n))&&e.detail.roomName===n.confId){var t=i.a.parseRecordingEvent("MCURecordingStarted",e.detail);"COMPOSITE"===t.callId&&(n.recordingStatus=t,a.b.get(g(n)).emit("recordingStarted",t))}},MCURecordingStopped:function(e){if(E.get(g(n))&&e.detail.roomName===n.confId){var t=i.a.parseRecordingEvent("MCURecordingStopped",e.detail);"COMPOSITE"===t.callId&&(delete n.recordingStatus,a.b.get(g(n)).emit("recordingStopped",t))}},MCURecordedStreamsAvailable:function(e){if(E.get(g(n))&&e.detail.roomName===n.confId){var t=i.a.parseRecordingEvent("MCURecordedStreamsAvailable",e.detail);a.b.get(g(n)).emit("recordingAvailable",t)}}};for(var h in d)y.onEvent(h,d[h]);return R.set(g(n),d),n}return t=c,s=[{key:"getAvailableEvents",value:function(){return S}}],(n=[{key:"destroy",value:function(){var e=R.get(this);if(e){for(var t in e)y.removeEventListener(t,e[t]);R.delete(this)}}},{key:"getId",value:function(){return T.get(this).toString()}},{key:"isRecorded",value:function(){return E.get(this)}},{key:"getContact",value:function(){return I.get(this)}},{key:"getStatus",value:function(){return O.get(this)}},{key:"setStatus",value:function(e){O.set(this,e)}},{key:"getPublishedStreams",value:function(){var e,t=[],n=u(this.publishedStreams.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getReceivedStreams",value:function(){var e,t=[],n=u(this.receivedStreams.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"hangUp",value:function(){this.getStatus()===r.a.CALL_STATUS_ENDED?C.error("hangUp() - Call has already ended"):y.webRTCClient.hangUp(this.getId())}},{key:"getStats",value:function(){return i.a.assignObject({},this.stats)}},{key:"stopPublishedStreams",value:function(){return y.webRTCClient.webRTCClient.stopMedia(this.getId())}},{key:"replacePublishedStreams",value:function(e,t){var n=this,a=function(e){if(o.b.has(e))return o.b.get(e);var t=apiCC.getUserMediaStream(e);if(t){var n="audio";return!0===t.video&&(n="video"),new o.a(t.stream,{type:n,constructor:!0,userMediaStreamId:t.userMediaStreamId})}return null};return new Promise((function(o,s){if(n.getStatus()!==r.a.CALL_STATUS_ONGOING)return s(new Error("replacePublishedStreams() - Cannot replace stream as call is not ongoing"));if(null===e)if(i.a.isPropertyTypeof(t,"getStream","function")){var l={getUserMediaStreamId:function(){return t.getStream().then((function(e){return e.userMediaStreamId})).catch(s)}};y.webRTCClient.webRTCClient.addMedia(n.getId(),!0,null,l).then((function(e){return o(a(e))})).catch((function(e){return s(new Error("replacePublishedStreams() - "+e))}))}else y.webRTCClient.webRTCClient.addMedia(n.getId(),!0,null,null).then((function(e){return o(a(e))})).catch((function(e){return s(new Error("replacePublishedStreams() - "+e))}));else y.webRTCClient.webRTCClient.addMedia(n.getId(),!0,e.userMediaStreamId).then((function(e){return o(a(e))})).catch((function(e){return s(new Error("replacePublishedStreams() - "+e))}))}))}},{key:"getRecordingInfo",value:function(){return E.get(this)?this.recordingStatus:null}},{key:"startRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(i.a.createError(r.a.ERROR_OTHER,"startRecording() - busy",C));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),delete e.asyncCallbacks),n(i.a.createError(r.a.ERROR_OTHER,"startRecording() - timeout",C))}),r.a.CONVERSATION_RECORDING_STARTED_DELAY),e.asyncCallbacks.error=function(t){if(e.confId===t.detail.roomName&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("START_RECORD")>=0)return e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(i.a.createError(r.a.ERROR_OTHER,"startRecording() - "+t.detail.errorInfo,C))},e.asyncCallbacks.recordingStarted=function(n){if(e.confId===n.detail.roomName&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStarted",e.asyncCallbacks.recordingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=i.a.parseRecordingEvent("MCURecordingStarted",n.detail);return t(r)}},y.onEvent("error",e.asyncCallbacks.error),y.onEvent("MCURecordingStarted",e.asyncCallbacks.recordingStarted),y.webRTCClient.startCallRecording(T.get(e))}))}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(i.a.createError(r.a.ERROR_OTHER,"stopRecording() - busy",C));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),n(i.a.createError(r.a.ERROR_OTHER,"stopRecording() - timeout",C))}),r.a.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(e.confId===t.detail.roomName&&"COMPOSITE"===t.detail.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(i.a.createError(r.a.ERROR_OTHER,"stopRecording() - "+t.detail.errorInfo,C))},e.asyncCallbacks.recordingStopped=function(n){if(e.confId===n.detail.roomName&&"COMPOSITE"===n.detail.callId){e.asyncCallbacks&&(y.removeEventListener("error",e.asyncCallbacks.error),y.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=i.a.parseRecordingEvent("MCURecordingStopped",n.detail);return t(r)}},y.onEvent("error",e.asyncCallbacks.error),y.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),y.webRTCClient.stopCallRecording(T.get(e))}))}},{key:"manageCallEstablishedEvent",value:function(e){C.debug("callEstablished",e.detail,this.getId());var t=e.detail.callId.toString();this.getId()===t&&(C.info("callEstablished from "+this.getContact().getUsername(),e),this.getStatus()!==r.a.CALL_STATUS_ONGOING&&this.getStatus()!==r.a.CALL_STATUS_ENDED&&(a.b.get(this).emit("accepted"),a.b.get(this).emit("response","accepted"),O.set(this,r.a.CALL_STATUS_ONGOING)))}},{key:"manageRemoteStreamAddedEvent",value:function(e){C.debug("remoteStreamAdded",e.detail,this.getId());var t=e.detail.callId.toString();if(this.getId()===t){var n="audio"===e.detail.destCallType?"audio":"video",r="screenSharing"===e.detail.callType,i=new o.a(e.detail.stream,{screensharing:r,type:n,contact:this.getContact(),streamId:e.detail.stream.id,callId:e.detail.callId,callAudioAvailable:e.detail.audioIsAvailable,callAudioActive:e.detail.audioIsActive,callAudioMuted:e.detail.audioIsMuted,callVideoAvailable:e.detail.videoIsAvailable,callVideoActive:e.detail.videoIsActive,callVideoMuted:e.detail.videoIsMuted,constructor:!0});this.receivedStreams.set(e.detail.stream.id,i),a.b.get(this).emit("streamAdded",i)}}},{key:"manageRemoteStreamRemovedEvent",value:function(e){C.debug("remoteStreamRemoved",e.detail,this.getId());var t=e.detail.callId.toString();if(this.getId()===t){var n=this.receivedStreams.get(e.detail.stream.id);this.receivedStreams.delete(e.detail.stream.id),a.b.get(this).emit("streamRemoved",n)}}},{key:"manageUserMediaSuccessEvent",value:function(e){C.debug("UserMediaSuccess",e.detail,this.getId());var t=null,n=null;if(t=!0===e.detail.videoIsAvailable?"video":"audio",null!==e.detail.callId&&(n=e.detail.callId.toString()),this.getId()===n){C.info("localStreamAvailable",e.detail);var r=o.b.get(e.detail.userMediaStreamId);r||(r=new o.a(e.detail.stream,{type:t,constructor:!0,userMediaStreamId:e.detail.userMediaStreamId})),this.publishedStreams.set(i.a.guid(),r),a.b.get(this).emit("localStreamAvailable",r)}}},{key:"manageCallStatsUpdateEvent",value:function(e){if(this.getId()===e.detail.callId){for(var t=0,n=Object.keys(e.detail.stats);t<n.length;t++){var r=n[t];w.has(r)&&(this.stats[r]=e.detail.stats[r])}a.b.get(this).emit("statsUpdate",i.a.assignObject({},{stats:this.stats}))}}},{key:"manageErrorEvent",value:function(e){if(C.debug("Error",e.detail,this.getId()),this.getId()===e.detail.callId){var t={errorCode:e.detail.errorCode,errorInfo:e.detail.errorInfo};e.detail.data&&(t.descriptor=e.detail.data),a.b.get(this).emit("error",t)}}},{key:"manageDisconnectionWarningEvent",value:function(e){C.debug("DisconnectionWarning",e.detail,this.getId()),this.getId()===e.detail.callId&&a.b.get(this).emit("disconnectionWarning",{tries:e.detail.tries})}},{key:"manageHangupEvent",value:function(e){C.debug("hangup",e.detail,this.getId());var t=e.detail.callId.toString(),n=this.getStatus()===r.a.CALL_STATUS_WAITING_FOR_CALLEE&&"remote"===e.detail.hangupType;if(this.getId()===t&&this.getStatus()!==r.a.CALL_STATUS_ENDED){O.set(this,r.a.CALL_STATUS_ENDED),C.info("Hangup from "+this.getContact().getUsername(),e);var i,o=u(this.receivedStreams.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value,l=this.receivedStreams.get(s);this.receivedStreams.delete(s),a.b.get(this).emit("streamRemoved",l)}}catch(e){o.e(e)}finally{o.f()}a.b.get(this).emit("hangup",{from:e.detail.hangupType,reason:e.detail.reason}),n&&(a.b.get(this).emit("declined",{reason:e.detail.reason}),a.b.get(this).emit("response","declined"))}}},{key:"manageRecordAvailableEvent",value:function(e){C.warn("recordedStreamsAvailable",e.detail,this.getId()),a.b.get(this).emit("recordAvailable",{mediaURL:e.detail.mediaURL})}},{key:"manageUserMediaErrorEvent",value:function(e){C.warn("userMediaError",e.detail,this.getId()),a.b.get(this).emit("userMediaError",{callType:e.detail.callType,error:e.detail.error,onCallEstablishment:e.detail.onCallEstablishment,userMediaStreamId:e.detail.userMediaStreamId,tryAudioCallActivated:e.detail.tryAudioCallActivated})}},{key:"manageDesktopCaptureEvent",value:function(e){C.warn("desktopCapture",e.detail,this.getId()),a.b.get(this).emit("desktopCapture",{event:e.detail.event})}}])&&h(t.prototype,n),s&&h(t,s),c}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n(12),n(14),n(16),n(8),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15);var r=n(0),i=n(2),a=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(5).a.get("ReceivedInvitation"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,a,o=c(u);function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=o.call(this,e,t)).session=n,r.type="pointerSharing",r}return t=u,(n=[{key:"accept",value:function(){var e=this;return new Promise((function(t,n){e.getStatus()===r.a.INVITATION_STATUS_STANDBY?(e.setStatus(r.a.INVITATION_STATUS_ACCEPTED),e.session.joinPointerSharingRoom(e.id).then(t).catch((function(e){n(i.a.createError(r.a.ERROR_OTHER,"accept() - cannot accept invitation",f))}))):n(i.a.createError(r.a.ERROR_INVITATION_STATE_INVALID,"accept() - cannot accept invitation",f))}))}},{key:"decline",value:function(e){this.getStatus()===r.a.INVITATION_STATUS_STANDBY&&this.setStatus(r.a.INVITATION_STATUS_DECLINED)}}])&&s(t.prototype,n),a&&s(t,a),u}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n(12),n(14),n(16),n(23),n(8),n(10),n(122),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(17),n(11),n(15),n(30);var r=n(0),i=n(4),a=n(2),o=n(32),s=n(6),l=n(5),c=n(25);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=l.a.get("ConversationCall"),g=o.a.get(),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,i,o=h(l);function l(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,v)).conversation=e,r.callId=t,r.stream=n,r}return t=l,(n=[{key:"getConversation",value:function(){return this.conversation}},{key:"getCallId",value:function(){return this.callId}},{key:"getStream",value:function(){return this.stream}},{key:"isRecorded",value:function(){return!!this.recordingStatus}},{key:"getRecordingInfo",value:function(){return this.isRecorded()?this.recordingStatus:null}},{key:"isStreamed",value:function(){return!!this.streamingStatus}},{key:"getStreamingInfo",value:function(){return this.isStreamed()?this.streamingStatus:null}},{key:"startRecordingPublishedStream",value:function(e){var t=this;return e||(e={}),new Promise((function(n,i){if(t.asyncCallbacks)return i(a.a.createError(r.a.ERROR_OTHER,"startRecordingPublishedStream() - busy",v));t.asyncCallbacks={},t.asyncCallbacks.timeoutId=setTimeout((function(){return t.asyncCallbacks&&(g.removeEventListener("error",t.asyncCallbacks.error),g.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),delete t.asyncCallbacks),i(a.a.createError(r.a.ERROR_OTHER,"startRecordingPublishedStream() - timeout",v))}),r.a.CONVERSATION_RECORDING_STARTED_DELAY),t.asyncCallbacks.error=function(e){if(String(e.detail.convId)===t.conversation.getCloudConversationId()&&e.detail.callId===t.callId&&e.detail.errorCode.indexOf("START_RECORD")>=0)return t.asyncCallbacks&&(g.removeEventListener("error",t.asyncCallbacks.error),g.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks),i(a.a.createError(r.a.ERROR_OTHER,"startRecordingPublishedStream() - "+e.detail.errorInfo,v))},t.asyncCallbacks.recordingStarted=function(e){if(String(e.detail.convId)===t.conversation.getCloudConversationId()&&e.detail.callId===t.callId){t.asyncCallbacks&&(g.removeEventListener("error",t.asyncCallbacks.error),g.removeEventListener("MCURecordingStarted",t.asyncCallbacks.recordingStarted),clearTimeout(t.asyncCallbacks.timeoutId),delete t.asyncCallbacks);var r=a.a.parseRecordingEvent("MCURecordingStarted",e.detail);return n(r)}},g.onEvent("error",t.asyncCallbacks.error),g.onEvent("MCURecordingStarted",t.asyncCallbacks.recordingStarted);var o="AUDIO-VIDEO";!0===e.audioOnly?o="AUDIO-ONLY":!0===e.videoOnly&&(o="VIDEO-ONLY");var s="userStream";a.a.isPropertyTypeof(e,"customIdInFilename","string")&&(s=e.customIdInFilename);var l={};a.a.isPropertyTypeof(e,"data","object")&&(l=Object.assign({},e.data)),a.a.isPropertyTypeof(e,"ttl","number")&&e.ttl>0&&(l.ttl=e.ttl),g.webRTCClient.startRecording(o,s,t.conversation.getCloudConversationId(),t.callId,l)}))}},{key:"stopRecordingPublishedStream",value:function(){var e=this;return new Promise((function(t,n){if(e.asyncCallbacks)return n(a.a.createError(r.a.ERROR_OTHER,"stopRecordingPublishedStream() - busy",v));e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(g.removeEventListener("error",e.asyncCallbacks.error),g.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),delete e.asyncCallbacks),t(e.recordingStatus)}),r.a.CONVERSATION_RECORDING_STOPPED_DELAY),e.asyncCallbacks.error=function(t){if(String(t.detail.convId)===e.conversation.getCloudConversationId()&&t.detail.callId===e.callId&&t.detail.errorCode.indexOf("STOP_RECORD")>=0)return e.asyncCallbacks&&(g.removeEventListener("error",e.asyncCallbacks.error),g.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks),n(a.a.createError(r.a.ERROR_OTHER,"stopRecordingPublishedStream() - "+t.detail.errorInfo,v))},e.asyncCallbacks.recordingStopped=function(n){if(String(n.detail.convId)===e.conversation.getCloudConversationId()&&n.detail.callId===e.callId){e.asyncCallbacks&&(g.removeEventListener("error",e.asyncCallbacks.error),g.removeEventListener("MCURecordingStopped",e.asyncCallbacks.recordingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=a.a.parseRecordingEvent("MCURecordingStopped",n.detail);return t(r)}},g.onEvent("error",e.asyncCallbacks.error),g.onEvent("MCURecordingStopped",e.asyncCallbacks.recordingStopped),g.webRTCClient.stopRecording(e.callId)}))}},{key:"replacePublishedStream",value:function(e,t){var n=this,r=function(e){if(c.b.has(e))return c.b.get(e);var t=apiCC.getUserMediaStream(e);if(t){var n="audio";return!0===t.video&&(n="video"),new c.a(t.stream,{type:n,constructor:!0,userMediaStreamId:t.userMediaStreamId})}return null};return new Promise((function(i,o){if(null===e){if(!a.a.isPropertyTypeof(t,"getStream","function"))return o(new Error("replacePublishedStream() - Cannot replace stream, wrong arguments"));n.stream.publishedInConversations.delete(n.conversation.getName()),n.conversation.conversationPublishedStreams.delete(n.stream.userMediaStreamId);var s={getUserMediaStreamId:function(){return t.getStream().then((function(e){n.stream=e,e.publishedInConversations.set(n.conversation.getName(),n.callId),n.conversation.callIdToStreamId.set(n.callId,e.userMediaStreamId);var t={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:n.callId};return n.conversation.conversationPublishedStreams.set(e.userMediaStreamId,t),e.userMediaStreamId})).catch(o)}};g.webRTCClient.webRTCClient.addMedia(n.callId,!0,null,s).then((function(e){return i(r(e))})).catch((function(e){return o(new Error("replacePublishedStream() - "+e))}))}else{n.stream.publishedInConversations.delete(n.conversation.getName()),n.conversation.conversationPublishedStreams.delete(n.stream.userMediaStreamId),g.webRTCClient.webRTCClient.addMedia(n.callId,!0,e.userMediaStreamId).then((function(t){return i(e)})).catch((function(e){return o(new Error("replacePublishedStream() - "+e))})),n.stream=e,e.publishedInConversations.set(n.conversation.getName(),n.callId),n.conversation.callIdToStreamId.set(n.callId,e.userMediaStreamId);var l={contact:null,isRemote:!1,hasAudio:e.hasAudio(),hasVideo:e.hasVideo(),isScreensharing:e.isScreensharing(),streamId:e.userMediaStreamId,callId:n.callId};n.conversation.conversationPublishedStreams.set(e.userMediaStreamId,l)}}))}},{key:"startStreaming",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){return e.asyncCallbacks?i(a.a.createError(r.a.ERROR_OTHER,"startStreaming() - busy",v)):g.webRTCClient.startStreaming(t.service,t.server,t.streamKey,e.callId)?(e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(g.removeEventListener("MCUStreamingStarted",e.asyncCallbacks.streamingStarted),delete e.asyncCallbacks),i(a.a.createError(r.a.ERROR_OTHER,"startStreaming() - timeout",v))}),r.a.CONVERSATION_STREAMING_STARTED_DELAY),e.asyncCallbacks.streamingStarted=function(t){if(t.detail.roomName===e.conversation._getTechnicalName()&&t.detail.callId===e.callId){e.asyncCallbacks&&(g.removeEventListener("MCUStreamingStarted",e.asyncCallbacks.streamingStarted),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=Object(s.i)("MCUStreamingStarted",t.detail);return n(r)}},void g.onEvent("MCUStreamingStarted",e.asyncCallbacks.streamingStarted)):i(a.a.createError(r.a.ERROR_BAD_PARAMETER,"startStreaming() - cannot start streaming",v))}))}},{key:"stopStreaming",value:function(){var e=this;return new Promise((function(t,n){return e.asyncCallbacks?n(a.a.createError(r.a.ERROR_OTHER,"stopStreaming() - busy",v)):g.webRTCClient.stopStreaming(e.callId)?(e.asyncCallbacks={},e.asyncCallbacks.timeoutId=setTimeout((function(){return e.asyncCallbacks&&(g.removeEventListener("MCUStreamingStopped",e.asyncCallbacks.streamingStopped),delete e.asyncCallbacks),n(a.a.createError(r.a.ERROR_OTHER,"stopStreaming() - timeout",v))}),r.a.CONVERSATION_STREAMING_STOPPED_DELAY),e.asyncCallbacks.streamingStopped=function(n){if(n.detail.roomName===e.conversation._getTechnicalName()&&n.detail.callId===e.callId){e.asyncCallbacks&&(g.removeEventListener("MCUStreamingStopped",e.asyncCallbacks.streamingStopped),clearTimeout(e.asyncCallbacks.timeoutId),delete e.asyncCallbacks);var r=Object(s.i)("MCUStreamingStopped",n.detail);return t(r)}},void g.onEvent("MCUStreamingStopped",e.asyncCallbacks.streamingStopped)):n(a.a.createError(r.a.ERROR_BAD_PARAMETER,"stopStreaming() - cannot stop streaming",v))}))}},{key:"changeStreamPriority",value:function(e){var t=this;return new Promise((function(n,i){return g.webRTCClient.changeStreamPriority(t.callId,e)?(t.conversation.changeStreamPriority(t.stream.userMediaStreamId,!1,e),n()):i(a.a.createError(r.a.ERROR_BAD_PARAMETER,"changeStreamPriority() - cannot change stream priority",v))}))}},{key:"updatePublishedStream",value:function(e,t){var n=this;return new Promise((function(i,o){if("audio"!==e&&"video"!==e)return o(a.a.createError(r.a.ERROR_BAD_PARAMETER,"updatePublishedStream() - wrong type",v));var s=t?"sendonly":"inactive";return g.webRTCClient.webRTCClient.processUpdateStream(n.callId,e,s)?i():o(a.a.createError(r.a.ERROR_OTHER,"updatePublishedStream() - cannot update",v))}))}}])&&d(t.prototype,n),i&&d(t,i),l}(i.a)},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(174),i=n(135),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t,n){var r=n(26),i=n(95),a=n(45),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){"use strict";var r=n(114),i=n(45),a=n(113);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(26)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r=n(29),i=n(126);e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},function(e,t,n){"use strict";var r,i,a=n(186),o=n(217),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(u||f||d)&&(c=function(e){var t,n,r,i,o=this,c=d&&o.sticky,h=a.call(o),p=o.source,m=0,v=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),v=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),n=new RegExp("^(?:"+p+")",h)),f&&(n=new RegExp("^"+p+"$(?!\\s)",h)),u&&(t=o.lastIndex),r=s.call(c?n:o,v),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:u&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),f&&r&&r.length>1&&l.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r=n(13),i=n(53).map,a=n(144),o=n(96),s=a("map"),l=o("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(43);var r=n(51),i=n(19),a=n(26),o=n(160),s=n(55),l=a("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=a("replace"),f=!!/./[d]&&""===/./[d]("a","$0"),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var p=a(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!v||"replace"===e&&(!c||!u||f)||"split"===e&&!h){var g=/./[p],b=n(p,""[e],(function(e,t,n,r,i){return t.exec===o?m&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),C=b[0],y=b[1];r(String.prototype,e,C),r(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},function(e,t,n){var r=n(94),i=n(160);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){var r=n(136),i=n(29),a=n(40),o=n(45).f,s=n(135),l=n(255),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[c].weakData},onFreeze:function(e){return l&&h.REQUIRED&&d(e)&&!a(e,c)&&f(e),e}};r[c]=!0},function(e,t,n){var r=n(35),i=n(182),a=n(33),o=n(118),s=n(143),l=n(216),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var f,h,p,m,v,g,b,C=o(t,n,u?2:1);if(d)f=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,m=a(e.length);m>p;p++)if((v=u?C(r(b=e[p])[0],b[1]):C(e[p]))&&v instanceof c)return v;return new c(!1)}f=h.call(e)}for(g=f.next;!(b=g.call(f)).done;)if("object"==typeof(v=l(f,C,b.value,u))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){"use strict";var r=n(20),i=n(34),a=n(191),o=n(55),s=n(127),l=n(19),c=n(108),u=n(67),d=n(33),f=n(220),h=n(258),p=n(125),m=n(126),v=n(116).f,g=n(45).f,b=n(192),C=n(105),y=n(56),S=y.get,w=y.set,T=r.ArrayBuffer,I=T,O=r.DataView,E=O&&O.prototype,R=Object.prototype,k=r.RangeError,M=h.pack,_=h.unpack,A=function(e){return[255&e]},x=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},j=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},P=function(e){return M(e,23,4)},N=function(e){return M(e,52,8)},L=function(e,t){g(e.prototype,t,{get:function(){return S(this)[t]}})},U=function(e,t,n,r){var i=f(n),a=S(e);if(i+t>a.byteLength)throw k("Wrong index");var o=S(a.buffer).bytes,s=i+a.byteOffset,l=o.slice(s,s+t);return r?l:l.reverse()},F=function(e,t,n,r,i,a){var o=f(n),s=S(e);if(o+t>s.byteLength)throw k("Wrong index");for(var l=S(s.buffer).bytes,c=o+s.byteOffset,u=r(+i),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(a){if(!l((function(){T(1)}))||!l((function(){new T(-1)}))||l((function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name}))){for(var W,V=(I=function(e){return c(this,I),new T(f(e))}).prototype=T.prototype,B=v(T),z=0;B.length>z;)(W=B[z++])in I||o(I,W,T[W]);V.constructor=I}m&&p(E)!==R&&m(E,R);var H=new O(new I(2)),q=E.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||s(E,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else I=function(e){c(this,I,"ArrayBuffer");var t=f(e);w(this,{bytes:b.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},O=function(e,t,n){c(this,O,"DataView"),c(e,I,"DataView");var r=S(e).byteLength,a=u(t);if(a<0||a>r)throw k("Wrong offset");if(a+(n=void 0===n?r-a:d(n))>r)throw k("Wrong length");w(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(L(I,"byteLength"),L(O,"buffer"),L(O,"byteLength"),L(O,"byteOffset")),s(O.prototype,{getInt8:function(e){return U(this,1,e)[0]<<24>>24},getUint8:function(e){return U(this,1,e)[0]},getInt16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=U(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return j(U(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return j(U(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return _(U(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return _(U(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){F(this,1,e,A,t)},setUint8:function(e,t){F(this,1,e,A,t)},setInt16:function(e,t){F(this,2,e,x,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){F(this,2,e,x,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){F(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){F(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){F(this,4,e,P,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){F(this,8,e,N,t,arguments.length>2?arguments[2]:void 0)}});C(I,"ArrayBuffer"),C(O,"DataView"),e.exports={ArrayBuffer:I,DataView:O}},function(e,t,n){n(13)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(221)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n(161),n(52),n(18),n(46);var r=n(1),i=n(9);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(5).a.get("EventCenter"),s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.consoleOutputEnabled=!1,"undefined"==typeof apiRTC_React&&(document.addEventListener("error",(function(e){t.handleErrorEvent(e)})),document.addEventListener("userMediaError",(function(e){t.handleErrorEvent(e)})))}var t,n,s;return t=e,(n=[{key:"handleErrorEvent",value:function(e){var t=e.detail;if(void 0!==t){var n={},a={},s="UNKNOWN";n.type=e.type;for(var l=0,c=Object.keys(t);l<c.length;l++){var u=c[l];"eventType"!==u&&(n[u]=t[u])}n.systemInfo={apiRTC:i.a.version,app:r.a,device:r.f,osName:r.g,osVersion:r.i,browser:r.b,browser_version:r.e},null!==i.a.session&&void 0!==i.a.session?s=i.a.session.apiCCId:null!==i.a.initApiCCId&&void 0!==i.a.initApiCCId&&(s=i.a.initApiCCId),n.userInfo={apiCCId:s,apiKey:apiRTC.initApiKey};var d=localStorage.getItem("eventCenterData");(d=d?JSON.parse(d):[]).unshift(n),d.length>100&&d.splice(100,d.length-100),localStorage.setItem("eventCenterData",JSON.stringify(d)),this.consoleOutputEnabled&&o.error("[EVENTCENTER]",n),"undefined"!=typeof Sentry&&("USER_MEDIA_ERROR"!==e.detail.errorCode?(a.type=e.type,e.detail.error&&(a.error=e.detail.error),e.detail.errorInfo&&(a.errorInfo=e.detail.errorInfo),e.detail.errorCode&&(a.errorCode=e.detail.errorCode),e.detail.callId&&(a.callId=e.detail.callId),e.detail.convId&&(a.convId=e.detail.convId),e.detail.gumConfig&&(!1===e.detail.gumConfig.video?a.gumConfigVideo=!1:a.gumConfigVideo=!0),Sentry.withScope((function(e){e.setTag("event-center",!0),e.setTag("userId",i.a.session.apiCCId),Sentry.captureException(new Error(JSON.stringify(a)))}))):o.debug("Filtering error event for USER_MEDIA_ERROR for Sentry"))}else o.error("Can't handle error event: data is undefined")}},{key:"handleDataAnswer",value:function(e){e?e.map((function(e){o.debug("[REMOTE-EVENTCENTER]: ",e)})):o.debug("[REMOTE-EVENTCENTER]: "+this.getUsername()+" has no event records")}},{key:"getStoredData",value:function(){var e=localStorage.getItem("eventCenterData");return void 0===e?(o.warn("No data was stored by event center"),null):JSON.parse(e)}},{key:"clearStoredData",value:function(){localStorage.removeItem("eventCenterData")}},{key:"enableConsoleOutput",value:function(e){this.consoleOutputEnabled=e}}])&&a(t.prototype,n),s&&a(t,s),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n(12),n(14),n(16),n(23),n(8),n(10),n(22),n(122),n(7),n(11),n(109),n(15);var r=n(5),i=n(1),a=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r.a.get("WebRTC_Event"),l=function(){if(s.debug("WebRTC_Event"),this.customEventIsDefined="notTested","notTested"===this.customEventIsDefined)try{new CustomEvent("test",{detail:"test",bubbles:!0,cancelable:!0}),this.customEventIsDefined=!0}catch(e){this.customEventIsDefined=!1,s.log("customEvent error :"+e)}("IE"===i.b&&i.e>8||"Netscape"===i.b)&&(s.log("polyfill the CustomEvent()"),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.CustomEvent.prototype,window.CustomEvent=e}(),this.customEventIsDefined=!0),"IE"===i.b&&i.e>8&&(s.log("polyfill startsWith()"),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t})),this.eventDispatchMgr=function(e,t){if("undefined"!=typeof apiRTC_React){var n={type:e,detail:t};eventManager.dispatchEvent(n)}else if(!1===this.customEventIsDefined)"undefined"!=typeof $jqApz?(s.log("CustomEvent not supported by Browser, using $jqApz "),$jqApz.event.trigger({type:e,detail:t})):"undefined"!=typeof jQuery?(s.log("CustomEvent not supported by Browser, using jQuery "),jQuery.event.trigger({type:e,detail:t})):s.warn("Custom Events not supported on this browser : eventDispatchMgr()");else{var r=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});document.dispatchEvent(r)}},this.createIncomingCallEvent=function(e,t,n,r,i,a,o,s,l,c,u){var d={eventType:"incomingCall",time:new Date,clientId:e,callerId:t,callId:r,autoAnswerActivated:i,callNumber:a,callerNickname:n,audioOnly:o,callType:s,destCallType:u,recordedCall:l,remoteType:c};this.eventDispatchMgr("incomingCall",d)},this.createCallAttemptEvent=function(e,t,n,r){var i={eventType:"callAttempt",time:new Date,clientId:e,callerId:t,callId:r,callerNickname:n};this.eventDispatchMgr("callAttempt",i)},this.createCallEstablishedEvent=function(e,t,n,r){s.debug("createCallEstablishedEvent with callType : "+t),s.debug("destCallType : "+r);var i={eventType:"callEstablished",time:new Date,calleeId:e,callType:t,callId:n,destCallType:r};this.eventDispatchMgr("callEstablished",i)},this.createHangupEvent=function(e,t,n,r,i,a,o){var s={eventType:"hangup",time:new Date,hangupType:e,clientId:t,remoteId:n,lastEstablishedCall:r,reason:i,callId:a,callType:o};this.eventDispatchMgr("hangup",s)},this.createRemoteHangupEvent=function(e,t,n,r){var i={eventType:"remoteHangup",time:new Date,clientId:e,remoteId:t,lastEstablishedCall:n,reason:r};this.eventDispatchMgr("remoteHangup",i)},this.createCallRestartingEvent=function(e,t,n,r,i,a,o,s,l){var c={eventType:"callRestarting",time:new Date,callType:e,audioOnly:t,oldCallId:n,newCallId:r,dataType:i,clientId:a,remoteId:o,destRoom:s,streamId:l};this.eventDispatchMgr("callRestarting",c)},this.createUserMediaSuccessEvent=function(e,t,n,r,i,a,o,s,l,c,u){var d={eventType:"userMediaSuccess",time:new Date,onCallEstablishment:e,audioIsAvailable:t,audioDeviceLabel:n,videoIsAvailable:r,videoDeviceLabel:i,callType:a,callId:o,stream:s,remoteId:l,restarted:c,userMediaStreamId:u};this.eventDispatchMgr("userMediaSuccess",d)},this.createUserMediaErrorEvent=function(e,t,n,r,i,a,s){var l={eventType:"userMediaError",time:new Date,onCallEstablishment:e,callType:t,userMediaStreamId:r,callId:i,tryAudioCallActivated:a,gumConfig:s};"object"===o(n)?(l.error={},l.error.message=n.message,l.error.code=n.code,l.error.name=n.name):l.error=n,this.eventDispatchMgr("userMediaError",l)},this.createUserMediaStopEvent=function(e,t,n){var r={eventType:"userMediaStop",time:new Date,callId:e,mediaType:t,userMediaStreamId:n};this.eventDispatchMgr("userMediaStop",r)},this.createICECandidateTypeUpdateEvent=function(e,t,n){var r={eventType:"ICECandidateTypeUpdate",time:new Date,callId:e,localCandidate:t,remoteCandidate:n};this.eventDispatchMgr("ICECandidateTypeUpdate",r)},this.createSelectedICECandidateEvent=function(e,t,n,r,i,a,o){var s={eventType:"selectedICECandidate",time:new Date,callId:e,localCandidateType:t,remoteCandidateType:n,localAddress:r,remoteAdress:i,transportType:a,localTransportType:o};this.eventDispatchMgr("selectedICECandidate",s)},this.createErrorEvent=function(e,t,n,r,i,o,s){var l={eventType:"error",time:new Date,errorInfo:e,errorCode:t,callId:n,roomName:r,roomCallType:i};Object(a.h)(o,"object")&&(l.data=o),Object(a.h)(s,"string")&&(l.convId=s),this.eventDispatchMgr("error",l)},this.createReceiveIMMessageEvent=function(e,t,n,r,i,a){var o={eventType:"receiveIMMessage",time:new Date,senderId:e,senderNickname:t,senderPhotoURL:n,message:r,UUCSeq:i,convId:a};this.eventDispatchMgr("receiveIMMessage",o)},this.createChannelEvent=function(e,t){var n={eventType:"channelEvent",time:new Date,channelEvent:e,event:t};this.eventDispatchMgr("channelEvent",n)},this.createSessionReadyEvent=function(e){s.debug("createSessionReadyEvent");var t={eventType:"sessionReady",time:new Date,apiCCId:e};this.eventDispatchMgr("sessionReady",t)},this.createWebRTCClientCreatedEvent=function(){var e={eventType:"webRTCClientCreated",time:new Date};this.eventDispatchMgr("webRTCClientCreated",e)},this.createUpdatePresenceEvent=function(e,t,n){var r={eventType:"updatePresence",time:new Date,connectedUsersList:e,connectedUsersListWithStatus:n,state:t};this.eventDispatchMgr("updatePresence",r)},this.createCloudEventOccurredEvent=function(e,t){var n={eventType:"cloudEventOccurred",time:new Date,topic:e,target:t};this.eventDispatchMgr("cloudEventOccurred",n)},this.createUpdateUserStatusEvent=function(e){var t={eventType:"updateUserStatus",time:new Date,message:e};this.eventDispatchMgr("updateUserStatus",t)},this.createGroupChatCreationEvent=function(e,t,n,r,i,a){var o={eventType:"groupChatCreation",time:new Date,status:e,groupChatId:t,initialDestId:n,invitationSendedToInitialDestId:r,newContactId:i,invitationSendedToNewContactId:a};this.eventDispatchMgr("groupChatCreation",o)},this.createGroupChatInvitationEvent=function(e,t,n,r,i){var a={eventType:"groupChatInvitation",time:new Date,groupChatId:e,contactList:i,senderId:t,senderNickname:n,senderPhotoURL:r};this.eventDispatchMgr("groupChatInvitation",a)},this.createGroupChatMemberUpdateEvent=function(e,t,n){var r={eventType:"groupChatMemberUpdate",time:new Date,groupChatId:e,contactList:t,status:n};this.eventDispatchMgr("groupChatMemberUpdate",r)},this.createAddUserInGroupChatEvent=function(e,t,n){var r={eventType:"addUserInGroupChatAnswer",time:new Date,invitationSended:e,groupChatId:t,contactId:n};this.eventDispatchMgr("addUserInGroupChatAnswer",r)},this.createReceiveGroupChatMessageEvent=function(e,t,n,r,i){var o={eventType:"receiveGroupChatMessage",time:new Date,groupChatId:e,senderId:t,senderNickname:n,message:r};Object(a.h)(i,"object")&&(o.metadata=i),this.eventDispatchMgr("receiveGroupChatMessage",o)},this.createReceiveConversationListAnswerEvent=function(e){var t={eventType:"receiveConversationList",time:new Date,convList:e};this.eventDispatchMgr("receiveConversationList",t)},this.createReceiveContactOccurrencesFromConversationListAnswerEvent=function(e){var t={eventType:"receiveContactOccurrencesFromConversationList",time:new Date,occurrencesList:e};this.eventDispatchMgr("receiveContactOccurrencesFromConversationList",t)},this.createReceiveConversationDetailReportAnswerEvent=function(e){var t={eventType:"receiveConversationDetailReport",time:new Date,CDR:e};this.eventDispatchMgr("receiveConversationDetailReport",t)},this.createReceiveConversationHistoryEvent=function(e,t,n){var r={eventType:"receiveConversationHistory",time:new Date,convId:e,convHistory:t,status:n};this.eventDispatchMgr("receiveConversationHistory",r)},this.createUserDataAnswerEvent=function(e,t,n,r){var i={eventType:"userDataAnswer",time:new Date,userFound:e,contactId:t,nickname:n,photoURL:r};this.eventDispatchMgr("userDataAnswer",i)},this.createReceiveDataEvent=function(e,t,n){var r={eventType:"receiveData",time:new Date,senderId:e,dstRoomId:t,data:n};this.eventDispatchMgr("receiveData",r)},this.createMCUSessionCreationEvent=function(e,t){var n={eventType:"MCUSessionCreation",time:new Date,sessionId:e,token:t};this.eventDispatchMgr("MCUSessionCreation",n)},this.createJoinMCUSessionAnswerEvent=function(e,t,n,r,i){var a={eventType:"joinMCUSessionAnswer",time:new Date,sessionId:e,token:t,groupChatId:n,initiator:r,roomId:i.roomName};i.roomMode&&(a.mode=i.roomMode),!0===i.meshOnly&&(a.meshOnly=!0),i.joinSessionAnswer&&(a.result=Object.assign({},i.joinSessionAnswer)),this.eventDispatchMgr("joinMCUSessionAnswer",a)},this.createMCUAvailableStreamEvent=function(e,t){var n={eventType:"MCUAvailableStream",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableStream",n)},this.createMCUAvailableReplayEvent=function(e,t){var n={eventType:"MCUAvailableReplay",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableReplay",n)},this.createMCUAvailableCompositeEvent=function(e,t){var n={eventType:"MCUAvailableComposite",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableComposite",n)},this.createMCURemovedStreamEvent=function(e){var t={eventType:"MCURemoveStream",time:new Date,streamId:e};this.eventDispatchMgr("MCURemoveStream",t)},this.createMCUAvailableStreamUpdateEvent=function(e,t){var n={eventType:"MCUAvailableStreamUpdate",time:new Date,streams:e,isRemoteStream:t};this.eventDispatchMgr("MCUAvailableStreamUpdate",n)},this.createMCUParticipantEjectedEvent=function(e,t,n){var r={eventType:"MCUParticipantEjected",time:new Date,roomId:e,clientId:t};n&&(r.data=n),this.eventDispatchMgr("MCUParticipantEjected",r)},this.createReceiveMCUSessionInvitationEvent=function(e,t,n,r){void 0===n&&(n=0);var i={eventType:"receiveMCUSessionInvitation",time:new Date,sessionId:e,token:t,groupChatId:n,initiatorId:r};this.eventDispatchMgr("receiveMCUSessionInvitation",i)},this.createRemoteStreamAddedEvent=function(e,t,n,r,i,a,o){var s={eventType:"remoteStreamAdded",time:new Date,callId:t,callType:e,stream:n,remoteId:r,destCallType:i,audioIsAvailable:a.available,audioIsActive:a.active,audioIsMuted:a.muted,videoIsAvailable:o.available,videoIsActive:o.active,videoIsMuted:o.muted};this.eventDispatchMgr("remoteStreamAdded",s)},this.createRemoteStreamRemovedEvent=function(e,t,n,r,i){var a={eventType:"remoteStreamRemoved",time:new Date,callId:t,callType:e,stream:n,remoteId:r,destCallType:i};this.eventDispatchMgr("remoteStreamRemoved",a)},this.createSimulcastFeedChanged=function(e,t){var n={eventType:"simulcastFeedChanged",time:new Date,callId:e,simulcast:t};this.eventDispatchMgr("simulcastFeedChanged",n)},this.createLocalStreamRemovedEvent=function(e,t,n,r,i){var a={eventType:"localStreamRemoved",time:new Date,callId:t,callType:e,stream:n,remoteId:r,destCallType:i};this.eventDispatchMgr("localStreamRemoved",a)},this.createSlowLinkEvent=function(e,t){var n={eventType:"slowLink",time:new Date,callId:e};t&&(n.advice=t),this.eventDispatchMgr("slowLink",n)},this.createVideoQualityChangedEvent=function(e,t,n,r){var i={eventType:"videoQualityChanged",time:new Date,roomname:t,callId:e,hint:n,profileType:r.name};r.bitrate&&(i.bitrate=r.bitrate),r.width&&r.height&&(i.width=r.width,i.height=r.height),r.frameRate&&(i.frameRate=r.frameRate),this.eventDispatchMgr("videoQualityChanged",i)},this.createAudioAmplitudeEvent=function(e,t,n,r){var i={eventType:"audioAmplitude",time:new Date,callId:n,userMediaStreamId:r,descriptor:{amplitude:e,isSpeaking:t}};this.eventDispatchMgr("audioAmplitude",i)},this.createLocalStreamUpdatedEvent=function(e,t,n,r,i,a,o,s,l){var c={eventType:"localStreamUpdated",time:new Date,changeList:e,audioIsAvailable:t.available,audioDeviceLabel:t.deviceLabel,audioIsActive:t.active,audioIsMuted:t.muted,videoIsAvailable:n.available,videoDeviceLabel:n.deviceLabel,videoIsActive:n.active,videoIsMuted:n.muted,onCall:r,callType:i,callId:a,stream:o,userMediaStreamId:s,cause:l};this.eventDispatchMgr("localStreamUpdated",c)},this.createRemoteStreamUpdatedEvent=function(e,t,n,r,i,a){var o={eventType:"remoteStreamUpdated",time:new Date,changeList:e,audioIsAvailable:t.available,audioIsActive:t.active,audioIsMuted:t.muted,videoIsAvailable:n.available,videoIsActive:n.active,videoIsMuted:n.muted,callType:r,callId:i,cause:a};this.eventDispatchMgr("remoteStreamUpdated",o)},this.createCanPlayRemoteVideoEvent=function(e,t,n){var r={eventType:"canPlayRemoteVideo",time:new Date,videoDivId:e,callType:t,remoteId:n};this.eventDispatchMgr("canPlayRemoteVideo",r)},this.createRecordedFileAvailableEvent=function(e){var t={eventType:"recordedFileAvailable",time:new Date,fileName:e};this.eventDispatchMgr("recordedFileAvailable",t)},this.createRecordedStreamsAvailableEvent=function(e,t,n,r,i,a,o){var s={eventType:"recordedStreamsAvailable",time:new Date,confId:e,userId1:t,userId2:n,callId:r,apiKey:apiCC.session.apiKey};i&&(s.convId=i),a&&(s.mediaId=a),o&&(s.mediaURL=o),this.eventDispatchMgr("recordedStreamsAvailable",s)},this.createMCURecordedStreamsAvailableEvent=function(e,t,n,r,i,o,s,l,c,u,d){var f={eventType:"MCURecordedStreamsAvailable",time:new Date,roomName:e,callId:t,clientId:n,convId:i,mediaId:o,mediaURL:s,recordType:l};c&&(f.remoteId=c),r&&(f.recordedFileName=r),u&&(f.mediaType=u),Object(a.h)(d,"object")?(f.descriptor={},Object(a.h)(d,"mode","string")&&(f.descriptor.mode=d.mode),Object(a.h)(d,"labelEnabled","boolean")&&(f.descriptor.labelEnabled=d.labelEnabled),!0===f.descriptor.labelEnabled&&Object(a.h)(d,"labels","array")&&(f.descriptor.labels=d.labels)):f.descriptor={mode:"complete",labelEnabled:!1},this.eventDispatchMgr("MCURecordedStreamsAvailable",f)},this.createMCURecordingStartedEvent=function(e,t,n,r,i,o,s,l,c,u,d,f){var h={eventType:"MCURecordingStarted",time:new Date,roomName:e,callId:t,clientId:n,recordType:r,recordStartTime:i};o&&(h.convId=o),s&&(h.mediaId=s),l&&(h.mediaURL=l),c&&(h.remoteId=c),u&&(h.recordedFileName=u),d&&(h.mediaType=d),Object(a.h)(f,"object")&&(h.descriptor={},Object(a.h)(f,"mode","string")&&(h.descriptor.mode=f.mode),Object(a.h)(f,"labelEnabled","boolean")&&(h.descriptor.labelEnabled=f.labelEnabled),!0===h.descriptor.labelEnabled&&Object(a.h)(f,"labels","array")&&(h.descriptor.labels=f.labels)),this.eventDispatchMgr("MCURecordingStarted",h)},this.createMCURecordingStoppedEvent=function(e,t,n,r,i,o,s,l,c,u,d,f){var h={eventType:"MCURecordingStopped",time:new Date,roomName:e,callId:t,clientId:n,recordType:r,recordStartTime:i};o&&(h.convId=o),s&&(h.mediaId=s),l&&(h.mediaURL=l),c&&(h.remoteId=c),u&&(h.recordedFileName=u),d&&(h.mediaType=d),Object(a.h)(f,"object")&&(h.descriptor={},Object(a.h)(f,"mode","string")&&(h.descriptor.mode=f.mode),Object(a.h)(f,"labelEnabled","boolean")&&(h.descriptor.labelEnabled=f.labelEnabled),!0===h.descriptor.labelEnabled&&Object(a.h)(f,"labels","array")&&(h.descriptor.labels=f.labels)),this.eventDispatchMgr("MCURecordingStopped",h)},this.createStopRecordEvent=function(){var e={eventType:"stopRecord",time:new Date};this.eventDispatchMgr("stopRecord",e)},this.createMCUStreamingStartedEvent=function(e,t,n,r){var i={eventType:"MCUStreamingStarted",time:new Date,roomName:e,callId:t,clientId:n,streamingStartTime:r};this.eventDispatchMgr("MCUStreamingStarted",i)},this.createMCUStreamingStoppedEvent=function(e,t,n,r){var i={eventType:"MCUStreamingStopped",time:new Date,roomName:e,callId:t,clientId:n,streamingEndTime:r};this.eventDispatchMgr("MCUStreamingStopped",i)},this.createMCURoomModeChangedEvent=function(e,t,n,r){var i={eventType:"MCURoomModeChanged",time:new Date,roomId:e,oldMode:t,newMode:n,state:r};this.eventDispatchMgr("MCURoomModeChanged",i)},this.createSnapShotPhotoUploaded=function(e){var t={eventType:"snapShotPhotoUploaded",time:new Date,fileName:e};this.eventDispatchMgr("snapShotPhotoUploaded",t)},this.createRoomCreationEvent=function(e,t,n){var r={eventType:"roomCreation",time:new Date,status:e,roomId:t,roomType:n};this.eventDispatchMgr("roomCreation",r)},this.createRoomJoinedEvent=function(e,t,n){var r={eventType:"roomJoined",time:new Date,status:e,roomId:t,roomType:n};this.eventDispatchMgr("roomJoined",r)},this.createRoomInvitationEvent=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s="roomInvitation",l={eventType:"roomInvitation",time:new Date,roomId:e,contactList:i,senderId:t,senderNickname:n,senderPhotoURL:r,roomType:a};o.cloudConvId&&(l.cloudConvId=o.cloudConvId),!0===o.webconf&&(l.webconf=!0),this.eventDispatchMgr(s,l)},this.createRoomMemberUpdateEvent=function(e,t,n,r){var i={eventType:"roomMemberUpdate",time:new Date,roomId:e,contactList:t,status:n,roomType:r};this.eventDispatchMgr("roomMemberUpdate",i)},this.createContactListInRoomEvent=function(e,t,n){var r={eventType:"contactListInRoom",time:new Date,roomId:e,contactList:t,roomType:n};this.eventDispatchMgr("contactListInRoom",r)},this.createReceiveRoomMessageEvent=function(e,t,n,r,i){var a={eventType:"receiveRoomMessage",time:new Date,roomId:e,senderId:t,senderNickname:n,message:r,roomType:i};this.eventDispatchMgr("receiveRoomMessage",a)},this.createDesktopCaptureEvent=function(e,t,n){var r={eventType:"desktopCapture",time:new Date,event:e,callId:t,remoteId:n};this.eventDispatchMgr("desktopCapture",r)},this.createMediaDeviceChangedEvent=function(e,t,n){var r="NotDefined";null!=t&&(r=t);var i={eventType:"mediaDeviceChanged",time:new Date,diff:e,updateReason:r,firstMediaDeviceListInitialization:n};this.eventDispatchMgr("mediaDeviceChanged",i)},this.createSwitchStreamEvent=function(e,t){var n={eventType:"switchStream",time:new Date,callId:e,stream:t};this.eventDispatchMgr("switchStream",n)},this.createConnectedUsersListUpdateEvent=function(e,t,n,r){var i={eventType:"ConnectedUsersListUpdate",time:new Date,group:e,usersList:t,status:n,updateReason:r};this.eventDispatchMgr("connectedUsersListUpdate",i)},this.createClosingWhiteBoardEvent=function(e,t){var n={eventType:"closingWhiteBoard",time:new Date,roomId:e,reason:t};this.eventDispatchMgr("closingWhiteBoard",n)},this.createExternalJsLoadingStatusEvent=function(e,t){var n={eventType:"externalJsLoadingStatus",extjs:e,status:t,time:new Date};this.eventDispatchMgr("externalJsLoadingStatus",n)},this.createBackgroundSubstractionStopVisibilityChangeEvent=function(e){var t={userMediaStreamId:e};this.eventDispatchMgr("backgroundSubstractionStopVisibilityChange",t)},this.createBackgroundSubstractionStopComputeTimeEvent=function(e){var t={userMediaStreamId:e};this.eventDispatchMgr("backgroundSubstractionStopComputeTime",t)},this.createAIESnapshotEvent=function(e,t){var n={userMediaStreamId:e,image:t};this.eventDispatchMgr("AIESnapshot",n)},this.createAIELogEvent=function(e,t){var n={userMediaStreamId:e,log:t};this.eventDispatchMgr("AIELog",n)},this.createEvent=function(e){if(!e.eventType)throw new Error("The event json must have an eventType"+e);e.time=new Date,this.eventDispatchMgr(e.eventType,e)}}},function(e,t,n){var r=n(20),i=n(29),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(20),i=n(55);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(199),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(115),i=n(199);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(19);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(29),i=n(139),a=n(26)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var r=n(13),i=n(209),a=n(125),o=n(126),s=n(105),l=n(55),c=n(51),u=n(26),d=n(115),f=n(141),h=n(210),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,h,b,C){i(n,t,u);var y,S,w,T=function(e){if(e===h&&k)return k;if(!m&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",O=!1,E=e.prototype,R=E[v]||E["@@iterator"]||h&&E[h],k=!m&&R||T(h),M="Array"==t&&E.entries||R;if(M&&(y=a(M.call(new e)),p!==Object.prototype&&y.next&&(d||a(y)===p||(o?o(y,p):"function"!=typeof y[v]&&l(y,v,g)),s(y,I,!0,!0),d&&(f[I]=g))),"values"==h&&R&&"values"!==R.name&&(O=!0,k=function(){return R.call(this)}),d&&!C||E[v]===k||l(E,v,k),f[t]=k,h)if(S={values:T("values"),keys:b?k:T("keys"),entries:T("entries")},C)for(w in S)(m||O||!(w in E))&&c(E,w,S[w]);else r({target:t,proto:!0,forced:m||O},S);return S}},function(e,t,n){var r={};r[n(26)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(67),i=n(59),a=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r=n(26),i=n(141),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r,i,a=n(20),o=n(184),s=a.process,l=s&&s.versions,c=l&&l.v8;c?i=(r=c.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(104);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(29),i=n(94),a=n(26)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(35);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(181).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(59),i="["+n(189)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(13),i=n(20),a=n(138),o=n(51),s=n(164),l=n(165),c=n(108),u=n(29),d=n(19),f=n(158),h=n(105),p=n(159);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=m?"set":"add",b=i[e],C=b&&b.prototype,y=b,S={},w=function(e){var t=C[e];o(C,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(v||C.forEach&&!d((function(){(new b).entries().next()})))))y=n.getConstructor(t,e,m,g),s.REQUIRED=!0;else if(a(e,!0)){var T=new y,I=T[g](v?{}:-0,1)!=T,O=d((function(){T.has(1)})),E=f((function(e){new b(e)})),R=!v&&d((function(){for(var e=new b,t=5;t--;)e[g](t,t);return!e.has(-0)}));E||((y=t((function(t,n){c(t,y,e);var r=p(new b,t,y);return null!=n&&l(n,r[g],r,m),r}))).prototype=C,C.constructor=y),(O||R)&&(w("delete"),w("has"),m&&w("get")),(R||I)&&w(g),v&&C.clear&&delete C.clear}return S[e]=y,r({global:!0,forced:y!=b},S),h(y,e),v||n.setStrong(y,e,m),y}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){"use strict";var r=n(48),i=n(117),a=n(33);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var r=n(13),i=n(225).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(162),i=n(35),a=n(59),o=n(279),s=n(163);r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var u=s(a,l);return o(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n(12),n(14),n(16),n(23),n(31),n(8),n(99),n(10),n(36),n(18),n(37),n(38),n(7),n(21),n(39),n(43),n(17),n(11),n(97),n(109),n(61),n(15),n(30);var r=n(0),i=n(2),a=n(4),o=n(25),s=n(24),l=n(133),c=n(50),u=n(5),d=n(32),f=n(58),h=n(1);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=u.a.get("UserAgent"),T=d.a.get(),I=f.a.get(),O=new WeakMap,E=["mediaDeviceChanged","externalJsLoadingStatus","ccsConnectionStatus","userMediaError"],R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,s,l=b(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,u),e=l.call(this,w),w.debug("Create UserAgent"),e.uri=t.hasOwnProperty("uri")?t.uri:null,e.userId=null,e.username=null,e.profile=null,e.preRegisterUserData=new c.a,e.callStatsMonitoringEnabled=null,e.callStatsMonitoringInterval=null,e.meshModeEnabled=null,e.apiRTCMediaDeviceDetectionEnabled=!!t.hasOwnProperty("apiRTCMediaDeviceDetectionEnabled")&&t.apiRTCMediaDeviceDetectionEnabled,e.apiRTCMediaDeviceDetectionDelay=t.hasOwnProperty("apiRTCMediaDeviceDetectionDelay")?t.apiRTCMediaDeviceDetectionDelay:r.a.APIRTC_MEDIA_DEVICE_DETECTION_DELAY,e.targetBandwidthUsage=0,e.videoBandwidthSettings={overallIncoming:3e3,overallOutgoing:3e3},e.currentSession=null,e.enterprise=null,e.capabilities={whiteboardCursor:"ON",mediaDeviceChanged:"ON",webRTCCompliant:"ON",screenSharingCompliant:"ON",qoSStatCompliant:"ON"},e.browser=apiRTC.browser,e.browser_major_version=apiRTC.browser_major_version,e.browser_version=apiRTC.browser_version,e.osName=apiRTC.osName,e.osVersion=apiRTC.osVersion,e.browserInfo=apiRTC.browserInfo,e.browserDetails=apiRTC.browserDetails,O.set(y(e),null),T.createWhiteBoard(),apiCC.activateScreenSharing();var n=function(t){a.b.get(y(e)).emit("mediaDeviceChanged",{added:t.detail.diff.added,removed:t.detail.diff.removed,updated:t.detail.diff.updated,updateReason:t.detail.updateReason,firstMediaDeviceListInitialization:t.detail.firstMediaDeviceListInitialization})};apiRTC.addEventListener("mediaDeviceChanged",n);var i=function(t){a.b.get(y(e)).emit("externalJsLoadingStatus",{extjs:t.detail.extjs,status:t.detail.status})};apiRTC.addEventListener("externalJsLoadingStatus",i);var o=function(t){var n=null;"onChannelOpened"===t.detail.channelEvent?n="connected":"onChannelDisconnect"===t.detail.channelEvent?n="disconnected":"onChannelReconnecting"===t.detail.channelEvent?n="retry":("onChannelConnectError"===t.detail.channelEvent||"onChannelError"===t.detail.channelEvent)&&(n="error"),null!==n&&a.b.get(y(e)).emit("ccsConnectionStatus",{status:n})};apiRTC.addEventListener("channelEvent",o);var s=function(t){var n={error:t.detail.error};"media"===t.detail.callType?(n.audio=!0,n.video=!0,n.screenSharing=!1):"audio"===t.detail.callType?(n.audio=!0,n.video=!1,n.screenSharing=!1):"videoOnly"===t.detail.callType?(n.audio=!1,n.video=!0,n.screenSharing=!1):"screenSharing"===t.detail.callType?(n.audio=!1,n.video=!0,n.screenSharing=!0):"screenSharingWithAudio"===t.detail.callType&&(n.audio=!0,n.video=!0,n.screenSharing=!0),a.b.get(y(e)).emit("userMediaError",n)};return apiRTC.addEventListener("userMediaError",s),e.checkUACapabilities(),"OFF"===e.capabilities.mediaDeviceChanged&&(w.debug("mediaDeviceChanged is not supported"),!0===e.apiRTCMediaDeviceDetectionEnabled&&(w.debug("apiRTCMediaDeviceDetectionEnabled is activated, starting process"),setInterval((function(){apiCC.mediaDeviceMgr.getMediaDevices()}),e.apiRTCMediaDeviceDetectionDelay))),apiRTC.userAgentInstance=y(e),e}return t=u,s=[{key:"getAvailableEvents",value:function(){return E}}],(n=[{key:"fetchUserMediaDevices",value:function(){return w.warn("DEPRECATION WARNING : fetchUserMediaDevices() is now deprecated, use getUserMediaDevices() instead"),new Promise((function(e,t){"IE"===apiCC.browser&&apiCC.browser_version>8?(apiCC.getMediaDevicesWithCB(apiCC.mediaDeviceMgr.gotSources),e(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray)):apiCC.getMediaDevices().then((function(t){apiCC.mediaDeviceMgr.gotSources(t),e(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray)})).catch((function(){w.log("Error on MediaDeviceManager::getMediaDevices"),apiCC.mediaDeviceMgr.gotSources(null),t(i.a.createError(r.a.ERROR_OTHER,"fetchUserMediaDevices() - Could not get media devices",w))}))}))}},{key:"getUserMediaDevices",value:function(){return apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray}},{key:"createStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w.info("createStream() with option :",e),o.a.createStreamFromUserMedia(e.audioInputId,e.videoInputId,e.constraints,e)}},{key:"createStreamFromMediaStream",value:function(e){return w.info("createStreamFromMediaStream()"),o.a.createStreamFromMediaStream(e)}},{key:"fetchNetworkInformation_v2",value:function(e,t){w.debug("fetchNetworkInformation Version 2 :",e);var n=I.cloudUrl;null!=e&&(n=e);var r={testServer:n,httpPing:{},upload:{},download:{}};return null!=t&&Array.isArray(t)?(apiRTC.bandwidthRatingThresholds=t,w.debug("New bandwidthRatingThresholds is defined :",apiRTC.bandwidthRatingThresholds)):w.debug("Using default bandwidthRatingThresholds :",apiRTC.bandwidthRatingThresholds),apiRTC.bandwidthTestServer=n,w.info("Start Network test"),new Promise((function(e,t){apiRTC.testUserPing((function(n,i){null!==n?t(n):(r.httpPing=i,apiRTC.testUserUpload(25e4,(function(n,i){null!==n?t(n):(r.upload.kbps=8*i.kBPerSec,r.upload.rating=i.rating,apiRTC.testUserUploadLoop(5e5,r.upload,(function(n,i){null!==n?t(n):(r.upload.kbps=8*i.kBPerSec,r.upload.rating=i.rating,apiRTC.testUserDownload(256,(function(n,i){null!==n?t(n):(r.download.kbps=8*i.kBPerSec,r.download.rating=i.rating,apiRTC.testUserDownloadLoop(1e3,r.download,(function(n,i){null!==n?t(n):(r.download.kbps=8*i.kBPerSec,r.download.rating=i.rating,e(r))})))})))})))})))}))}))}},{key:"fetchNetworkInformation_v1",value:function(e,t){w.debug("fetchNetworkInformation Version 1 :",e);var n=I.cloudUrl;null!=e&&(n=e);var r={testServer:n,httpPing:{},upload:{},download:{}};return null!=t&&Array.isArray(t)?(apiRTC.bandwidthRatingThresholds=t,w.debug("New bandwidthRatingThresholds is defined :",apiRTC.bandwidthRatingThresholds)):w.debug("Using default bandwidthRatingThresholds :",apiRTC.bandwidthRatingThresholds),apiRTC.bandwidthTestServer=n,w.info("Start Network test"),new Promise((function(e,t){apiRTC.testUserPing((function(n,i){null!==n?t(n):(r.httpPing=i,apiRTC.testUserUpload(25e4,(function(n,i){null!==n?t(n):(r.upload.kbps=8*i.kBPerSec,r.upload.rating=i.rating,r.upload.kbps>=1e3&&apiRTC.testUserUpload(5e5,(function(e,n){null!==e?t(e):(r.upload.kbps=8*n.kBPerSec,r.upload.rating=n.rating)})),apiRTC.testUserDownload(256,(function(n,i){null!==n?t(n):(r.download.kbps=8*i.kBPerSec,r.download.rating=i.rating,r.download.kbps>=500&&r.download.kbps<1500?apiRTC.testUserDownload(500,(function(n,i){null!==n?t(n):(r.download.kbps=8*i.kBPerSec,r.download.rating=i.rating,e(r))})):r.download.kbps>=1500?apiRTC.testUserDownload(768,(function(n,i){null!==n?t(n):(r.download.kbps=8*i.kBPerSec,r.download.rating=i.rating,e(r))})):e(r))})))})))}))}))}},{key:"fetchNetworkInformation",value:function(e,t){return this.fetchNetworkInformation_v1(e,t)}},{key:"fetchGeolocationInformation",value:function(e){return null==e&&(e={enableHighAccuracy:!1,timeout:1/0,maximumAge:0}),new Promise((function(t,n){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t(e)}),(function(e){n(e)}),e)}))}},{key:"setUserData",value:function(e){this.currentSession&&this.currentSession.setUserData(e)}},{key:"setUsername",value:function(e){this.currentSession?this.currentSession.setUsername(e):this.preRegisterUserData.setProp("username",e)}},{key:"setPhotoUrl",value:function(e){this.currentSession?this.currentSession.setPhotoUrl(e):this.preRegisterUserData.setProp("photo_url",e)}},{key:"getUserData",value:function(){return this.currentSession?this.currentSession.getUserData():this.preRegisterUserData}},{key:"getUsername",value:function(){return this.currentSession?this.currentSession.getUsername():null!==this.preRegisterUserData.get("username")?this.preRegisterUserData.get("username"):null!==this.preRegisterUserData.get("nickname")?this.preRegisterUserData.get("nickname"):this.username}},{key:"getPhotoUrl",value:function(){return this.currentSession?this.currentSession.getPhotoUrl():null!==this.preRegisterUserData.get("photo_url")?this.preRegisterUserData.get("photo_url"):null!==this.preRegisterUserData.get("photoUrl")?this.preRegisterUserData.get("photoUrl"):this.userId?I.getUserPhotoUrl(this.userId):null}},{key:"fetchProfileInformation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,r){var i=null;null===e.profile||t?e.userId&&null!==(i=T.getActiveApiKey())?I.getUserProfile(i,e.userId).then((function(t){e.profile=t,n(t)})).catch(r):r("fetchProfileInformation() - missing registration"):n(e.profile)}))}},{key:"getEnterprise",value:function(){return O.get(this)}},{key:"getCurrentSession",value:function(){return this.currentSession}},{key:"getEventCenter",value:function(){return apiRTC.eventCenter}},{key:"startWhiteboard",value:function(e,t){w.trace("startWhiteboard()"),T.whiteBoardClient.start(),T.whiteBoardClient.setCanvas(e),null!=t&&T.whiteBoardClient.setUserCursorColor(t)}},{key:"stopWhiteboard",value:function(){w.trace("stopWhiteboard()"),T.whiteBoardClient.stop()}},{key:"getWhiteboardClient",value:function(){return w.trace("getWhiteboardClient()"),T.whiteBoardClient}},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,a){if(w.info("Register "+e.uri),t.hasOwnProperty("uri")&&(e.uri=t.uri),t.hasOwnProperty("cloudUrl")&&I.setCloudURL(t.cloudUrl),t.hasOwnProperty("cloudFetchRetries")&&I.setFetchRetries(t.cloudFetchRetries),t.hasOwnProperty("cloudFetchRetryDelay")&&I.setFetchRetryDelay(t.cloudFetchRetryDelay),null!==e.uri)if(e.currentSession)a(i.a.createError(r.a.ERROR_APIRTC_SESSION_ALREADY_ON,"register() - Session already ON",w));else if(e.uri.startsWith("token:"))M(e,t,n,a);else if(e.uri.startsWith("apizee:"))k(e,t,n,a);else if(e.uri.startsWith("apzkey:"))_(e,t,n,a);else{var o=e.uri.split(":")[0];a(i.a.createError(r.a.ERROR_REGISTRATION_URI_INVALID,"register() - prefix invalid used for uri :"+o,w))}else a(i.a.createError(r.a.ERROR_REGISTRATION_URI_INVALID,"register() - Cannot register UserAgent, no uri was specified",w))}))}},{key:"unregister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{invalidateUserToken:!0};return new Promise((function(n,a){null!==e.currentSession?e.currentSession.disconnect(t).then((function(){e.currentSession=null,O.set(e,null),n()})).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"unregister() - unregistration error",w))})):a(i.a.createError(r.a.ERROR_OTHER,"unregister() - no current session",w))}))}},{key:"isRegistered",value:function(){return null!==this.currentSession}},{key:"getDefaultDevices",value:function(){return{audioInput:apiCC.mediaDeviceMgr.defaultAudioInput,audioOutput:apiCC.mediaDeviceMgr.defaultAudioOuput,videoInput:apiCC.mediaDeviceMgr.defaultVideoInput}}},{key:"enableCallStatsMonitoring",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};["chrome","firefox"].indexOf(apiCC.browserDetails.type)<0?w.warn("enableCallStatsMonitoring() is only supported on Chrome and Firefox, support on other browsers will be added soon"):!0===e?(this.callStatsMonitoringEnabled=!0,i.a.isPropertyTypeof(t,"interval","number")&&t.interval>=1e3&&(this.callStatsMonitoringInterval=t.interval),this.isRegistered&&T.webRTCClient&&T.webRTCClient.enableCallStatsMonitoring(!0,this.callStatsMonitoringInterval)):(this.callStatsMonitoringEnabled=!1,this.isRegistered&&T.webRTCClient&&T.webRTCClient.enableCallStatsMonitoring(!1))}},{key:"enableActiveSpeakerDetecting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0===e?i.a.isPropertyTypeof(t,"threshold","number")&&t.threshold>0?apiRTC.enableActiveSpeakerDetecting(!0,t.threshold):apiRTC.enableActiveSpeakerDetecting(!0):apiRTC.enableActiveSpeakerDetecting(!1)}},{key:"enableMeshRoomMode",value:function(e){!1===e||!0===e?(this.meshModeEnabled=e,this.isRegistered&&T.webRTCClient&&T.webRTCClient.enableMeshRoomMode(e)):w.error("Wrong value",e)}},{key:"setTargetBandwidthUsage",value:function(e){!isNaN(e)&&e>0?(this.targetBandwidthUsage=e,this.isRegistered&&T.webRTCClient.setVideoBandwidth(e)):w.error("Unvalid target bandwidth usage value",e)}},{key:"setOverallIncomingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.overallIncoming=e,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setOverallIncomingVideoBandwidth(e)):(delete this.videoBandwidthSettings.overallIncoming,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setOverallIncomingVideoBandwidth(0))}},{key:"setOverallOutgoingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.overallOutgoing=e,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setOverallOutgoingVideoBandwidth(e)):(delete this.videoBandwidthSettings.overallOutgoing,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setOverallOutgoingVideoBandwidth(0))}},{key:"setPerCallIncomingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.perCallIncoming=e,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setPerCallIncomingVideoBandwidth(e)):(delete this.videoBandwidthSettings.perCallIncoming,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setPerCallIncomingVideoBandwidth(0))}},{key:"setPerCallOutgoingVideoBandwidth",value:function(e){e>0?(this.videoBandwidthSettings.perCallOutgoing=e,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setPerCallOutgoingVideoBandwidth(e)):(delete this.videoBandwidthSettings.perCallOutgoing,this.isRegistered&&T.webRTCClient&&T.webRTCClient.setPerCallOutgoingVideoBandwidth(0))}},{key:"updateMediaOnCall",value:function(e,t){T.webRTCClient.updateMediaDeviceOnCall(e,t)}},{key:"getCapabilities",value:function(){return this.capabilities}},{key:"getBrowser",value:function(){return this.capabilities}},{key:"getBrowserMajorVersion",value:function(){return this.browser_major_version}},{key:"getBrowserVersion",value:function(){return this.browser_version}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getBrowserInfo",value:function(){return this.browserInfo}},{key:"getBrowserDetails",value:function(){return this.browserDetails}},{key:"checkUACapabilities",value:function(){w.debug("checkUACapabilities"),"iOS"===apiRTC.osName&&(w.debug("Deactivating whiteboardCursor for iOS"),this.capabilities.whiteboardCursor="OFF"),"Android"===apiRTC.osName&&"Chrome"===apiRTC.browser&&(w.debug("mediaDeviceChanged not supported on Chrome/Android"),this.capabilities.mediaDeviceChanged="OFF"),"Safari"!==h.b&&"Mobile Safari"!==h.b||(w.debug("mediaDeviceChanged not supported on Safari"),this.capabilities.mediaDeviceChanged="OFF"),!1===apiRTC.webRTCCompliant&&(w.debug("WebRTC not compliant"),this.capabilities.webRTCCompliant="OFF"),!1===apiRTC.screenSharingCompliant&&(w.debug("screenSharing not compliant"),this.capabilities.screenSharingCompliant="OFF"),!1===apiRTC.qoSStatCompliant&&(w.debug("qoS Stat not compliant"),this.capabilities.qoSStatCompliant="OFF")}},{key:"startPrecallTest",value:function(e,t,n,r,i){T.webRTCClient.startPrecallTest(e,t,n,r,i)}},{key:"sendLogToCloud",value:function(e,t,n,r){apiCC.sendLogToCloud(e,t,n,r)}}])&&v(t.prototype,n),s&&v(t,s),u}(a.a),k=function(e,t,n,a){w.debug("register() - Registration using prefix :apizee:");var o=e.uri.split(":")[1];null!==t.password&&"string"==typeof t.password?I.authentication(o,t.password).then((function(n){return A(e,n.token,t)})).then((function(e){n(e)})).catch((function(e){var t="register() - An error occured during cloud credentials registration :"+JSON.stringify(e),n={error:new Error(t),code:r.a.ERROR_OTHER};w.error(t,e),e.hasOwnProperty("code")?n.code=e.code:e.hasOwnProperty("http_code")&&(e.http_code.toString().startsWith("4")?n.code=r.a.ERROR_INVALID_CREDENTIALS:n.code=r.a.ERROR_SERVER_UNAVAILABLE),a(n)})):a(i.a.createError(r.a.ERROR_INVALID_CREDENTIALS,"register() - No password was specified for apizee: UserAgent registration",w))},M=function(e,t,n,a){w.debug("register() - Registration using prefix :token:");var o=e.uri.split(":")[1];I.checkUserToken(o).then((function(n){return A(e,o,t)})).then(n).catch((function(e){a(i.a.createError(r.a.ERROR_OTHER,"register() - An error occured during cloud token registration",w))}))},_=function(e,t,n,a){w.debug("register() - Registration using prefix :apzkey:");var o=e.uri.split(":")[1];new Promise((function(e,n){t.ccs?e(t.ccs):I.getPreferredCCS(o).then((function(t){e(t.ccs)})).catch((function(){n(i.a.createError(r.a.ERROR_OTHER,"register() - Could not get preferred CCS",w))}))})).then((function(n){e.currentSession=new s.b(e),e.currentSession.user=e,e.currentSession.token=null,i.a.isPropertyTypeof(t,"nickname","string")?e.username=t.nickname:e.username="guest-"+i.a.guid().substr(0,13),e.preRegisterUserData.setProp("username",e.username),e.preRegisterUserData.setProp("userConfId",e.username+Date.now()),t.userData&&e.preRegisterUserData.setProps(t.userData);var a={apiKey:o,MCUActivated:!0,mcu:t.hasOwnProperty("mcu")?t.mcu:r.a.DEFAULT_MCU,nickname:e.username,ccsServer:n,bandwidthTestServer:I.cloudUrl,webRTCPluginActivated:!0,userData:e.preRegisterUserData,tryAudioCallAfterUserMediaError:!0,extJsLoadingRetryNb:t.extJsLoadingRetryNb,extJsLoadingRetryDelay:t.extJsLoadingRetryDelay,ccsConnectionRetryNb:t.ccsConnectionRetryNb,ccsConnectionRetryDelay:t.ccsConnectionRetryDelay,turnServerAddress:t.turnServerAddress,userAcceptOnIncomingDataCall:t.userAcceptOnIncomingDataCall,userAcceptOnIncomingScreenSharingCall:t.userAcceptOnIncomingScreenSharingCall};return t.hasOwnProperty("id")&&(a.apiCCId=t.id),i.a.isPropertyTypeof(t,"idPersistenceTimeout","number")&&t.idPersistenceTimeout>=0&&(a.apiCCIdPersistenceTimeout=t.idPersistenceTimeout),t.hasOwnProperty("groups")&&(a.presenceGroup=t.groups),t.hasOwnProperty("subscribeTo")&&(a.subscribeToPresenceGroup=t.subscribeTo),t.hasOwnProperty("contactDisconnectionDelay")&&(w.debug("Setting contactDisconnectionDelay :",t.contactDisconnectionDelay),T.contactDisconnectionDelay=t.contactDisconnectionDelay),a.idConversionActivated=!1,t.hasOwnProperty("idConversionActivated")&&(a.idConversionActivated=t.idConversionActivated),t.hasOwnProperty("conversationSpace")&&(a.conversationSpace=t.conversationSpace),t.hasOwnProperty("token")&&(a.token=t.token,e.currentSession.ccsToken=t.token),T.initializeApiRTC(a)})).then((function(t){!1!==e.callStatsMonitoringEnabled&&!0!==e.callStatsMonitoringEnabled||T.webRTCClient.enableCallStatsMonitoring(e.callStatsMonitoringEnabled,e.callStatsMonitoringInterval),!1!==e.meshModeEnabled&&!0!==e.meshModeEnabled||T.webRTCClient.enableMeshRoomMode(e.meshModeEnabled),e.targetBandwidthUsage>0&&T.webRTCClient.setVideoBandwidth(e.targetBandwidthUsage),e.videoBandwidthSettings.overallIncoming>0&&T.webRTCClient.setOverallIncomingVideoBandwidth(e.videoBandwidthSettings.overallIncoming),e.videoBandwidthSettings.overallOutgoing>0&&T.webRTCClient.setOverallOutgoingVideoBandwidth(e.videoBandwidthSettings.overallOutgoing),e.videoBandwidthSettings.perCallIncoming>0&&T.webRTCClient.setPerCallIncomingVideoBandwidth(e.videoBandwidthSettings.perCallIncoming),e.videoBandwidthSettings.perCallOutgoing>0&&T.webRTCClient.setPerCallOutgoingVideoBandwidth(e.videoBandwidthSettings.perCallOutgoing),e.userId=t,e.currentSession.init(t),w.log("register() - APIRTC init OK",t),void 0!==T.apiRTCSession.userData&&null!==T.apiRTCSession.userData&&(e.currentSession.userData=new c.a(T.apiRTCSession.userData)),n(e.currentSession)})).catch((function(t){a(i.a.createError(r.a.ERROR_APIRTC_INITIALISATION_FAILED,"register() - ApiRTC Initialization error : "+t,w)),delete e.currentSession,e.currentSession=null}))},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,o=null;return w.debug("initializeCloudUASession :",n),new Promise((function(u,d){I.getConnectedUserInformation(t).then((function(t){if(o=t,w.debug("Connected user information : ",t),e.currentSession=new s.b(e),e.currentSession.user=e,e.currentSession.token=t.token,n.hasOwnProperty("idPersistenceTimeout")&&(e.currentSession.idPersistenceTimeout=n.idPersistenceTimeout),e.username=t.nickname,e.preRegisterUserData.setProp("username",e.username),e.preRegisterUserData.setProp("nickname",e.username),e.preRegisterUserData.setProp("photo_url",t.photo_url),t.mail&&e.preRegisterUserData.setProp("mail",t.mail),e.preRegisterUserData.setProp("userConfId",e.username+Date.now()),n.userData&&e.preRegisterUserData.setProps(n.userData),!n.hasOwnProperty("overLoadedApiRTCKey")||null===n.overLoadedApiRTCKey||void 0===n.overLoadedApiRTCKey||t.apiKey===n.overLoadedApiRTCKey)return e.userId=t.userId,a=new l.a(t.enterpriseId,t.apiKey,e.currentSession),O.set(e,a),a.load();w.debug("overLoadedApiRTCKey is defined :",n.overLoadedApiRTCKey),a=new l.a(t.enterpriseId,n.overLoadedApiRTCKey,e.currentSession),delete n.id,e.userId=null,O.set(e,a),w.debug("... no enterprise users data loading")})).then((function(){var t={apiKey:a.getApiKey(),ccsServer:n.ccs||o.ccs,MCUActivated:!0,mcu:n.hasOwnProperty("mcu")?n.mcu:r.a.DEFAULT_MCU,nickname:e.username,bandwidthTestServer:I.cloudUrl,webRTCPluginActivated:!0,apiCCId:n.hasOwnProperty("id")?n.id:e.userId,userData:e.preRegisterUserData,tryAudioCallAfterUserMediaError:!0,presenceGroup:["agent"],subscribeToPresenceGroup:["agent","visitor"],extJsLoadingRetryNb:n.extJsLoadingRetryNb,extJsLoadingRetryDelay:n.extJsLoadingRetryDelay,ccsConnectionRetryNb:n.ccsConnectionRetryNb,ccsConnectionRetryDelay:n.ccsConnectionRetryDelay,turnServerAddress:n.turnServerAddress,userAcceptOnIncomingDataCall:n.userAcceptOnIncomingDataCall,userAcceptOnIncomingScreenSharingCall:n.userAcceptOnIncomingScreenSharingCall};return i.a.isPropertyTypeof(n,"idPersistenceTimeout","number")&&n.idPersistenceTimeout>=0&&(t.apiCCIdPersistenceTimeout=n.idPersistenceTimeout),n.hasOwnProperty("groups")&&(t.presenceGroup=n.groups),n.hasOwnProperty("subscribeTo")&&(t.subscribeToPresenceGroup=n.subscribeTo),n.hasOwnProperty("contactDisconnectionDelay")&&(w.debug("Setting contactDisconnectionDelay :",n.contactDisconnectionDelay),T.contactDisconnectionDelay=n.contactDisconnectionDelay),t.idConversionActivated=!1,n.hasOwnProperty("idConversionActivated")&&(t.idConversionActivated=n.idConversionActivated),n.hasOwnProperty("conversationSpace")&&(t.conversationSpace=n.conversationSpace),T.initializeApiRTC(t)})).then((function(t){!1!==e.callStatsMonitoringEnabled&&!0!==e.callStatsMonitoringEnabled||T.webRTCClient.enableCallStatsMonitoring(e.callStatsMonitoringEnabled,e.callStatsMonitoringInterval),!1!==e.meshModeEnabled&&!0!==e.meshModeEnabled||T.webRTCClient.enableMeshRoomMode(e.meshModeEnabled),e.targetBandwidthUsage>0&&T.webRTCClient.setVideoBandwidth(e.targetBandwidthUsage),e.videoBandwidthSettings.overallIncoming>0&&T.webRTCClient.setOverallIncomingVideoBandwidth(e.videoBandwidthSettings.overallIncoming),e.videoBandwidthSettings.overallOutgoing>0&&T.webRTCClient.setOverallOutgoingVideoBandwidth(e.videoBandwidthSettings.overallOutgoing),e.videoBandwidthSettings.perCallIncoming>0&&T.webRTCClient.setPerCallIncomingVideoBandwidth(e.videoBandwidthSettings.perCallIncoming),e.videoBandwidthSettings.perCallOutgoing>0&&T.webRTCClient.setPerCallOutgoingVideoBandwidth(e.videoBandwidthSettings.perCallOutgoing),e.currentSession.init(t),w.info("APIRTC init OK",t),void 0!==T.apiRTCSession.userData&&null!==T.apiRTCSession.userData&&(e.currentSession.userData=new c.a(T.apiRTCSession.userData)),u(e.currentSession)})).catch((function(e){w.error(e),d(e)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n(12),n(14),n(16),n(23),n(8),n(18),n(46),n(7),n(21),n(11),n(15);var r=n(5),i=n(2),a=n(58);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=r.a.get("CloudApiPublic"),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"request",value:function(e,t,n,r,o){var s=a.a.get().cloudUrl,l=e.indexOf(s),c=null;c=-1===l?s+e:e;var u=null;return new Promise((function(e,a){var s=new XMLHttpRequest;if(s.onreadystatechange=function(t){if(s.readyState===XMLHttpRequest.DONE)if(s.status>=200&&s.status<300)if(s.responseText){var n=null;try{n=JSON.parse(s.responseText)}catch(e){n=s.responseText}e(n)}else e();else{var r={status:s.status,text:s.statusText};if(s.responseText)try{r.response=JSON.parse(s.responseText)}catch(e){r.responseText=s.responseText}a(r)}},s.onprogress=function(e){"function"==typeof r&&r(e)},s.onerror=function(e){return a(e)},"GET"===n)c+=i.a.paramsToQueryString(t);else{u=new FormData;for(var l=0,d=Object.keys(t);l<d.length;l++){var f=d[l];u.append(f,t[f])}}if(s.open(n,c,!0),null!=o)for(var h=0,p=Object.keys(o);h<p.length;h++){var m=p[h];s.setRequestHeader(m,o[m])}s.send(u)}))}},{key:"get",value:function(t,n,r){return l.log("Send HTTP request : GET ".concat(t)),e.request(t,n,"GET",null,r)}},{key:"post",value:function(t,n,r,i){return l.log("Send HTTP request : POST ".concat(t)),e.request(t,n,"POST",r,i)}},{key:"put",value:function(t,n,r,i){return l.log("Send HTTP request : PUT ".concat(t)),null!==n&&"object"===o(n)||(n={}),n._method="PUT",e.request(t,n,"POST",r,i)}},{key:"delete",value:function(t,n,r){return l.log("Send HTTP request : DELETE ".concat(t)),null!==n&&"object"===o(n)||(n={}),n._method="DELETE",e.request(t,n,"POST",null,r)}},{key:"setCloudURL",value:function(e){l.debug("setCloudURL() :",e),a.a.get().setCloudURL(e)}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}()},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=n(34),i=n(19),a=n(171);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(20),i=n(172),a=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},function(e,t,n){var r=n(20),i=n(173),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},function(e,t,n){var r=n(40),i=n(244),a=n(93),o=n(45);e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},function(e,t,n){var r=n(20);e.exports=r},function(e,t,n){var r=n(40),i=n(63),a=n(137).indexOf,o=n(136);e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(177);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(34),i=n(45),a=n(35),o=n(140);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(104);e.exports=r("document","documentElement")},function(e,t,n){var r=n(26);t.f=r},function(e,t,n){var r=n(202),i=n(40),a=n(207),o=n(45).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";var r=n(210).IteratorPrototype,i=n(95),a=n(113),o=n(105),s=n(141),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=l,e}},function(e,t,n){"use strict";var r,i,a,o=n(125),s=n(55),l=n(40),c=n(26),u=n(115),d=c("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),u||l(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(19);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var r=n(13),i=n(19),a=n(48),o=n(114);r({target:"Date",proto:!0,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";n(13)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){"use strict";var r=n(118),i=n(48),a=n(216),o=n(182),s=n(33),l=n(157),c=n(143);e.exports=function(e){var t,n,u,d,f,h,p=i(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,C=c(p),y=0;if(b&&(g=r(g,v>2?arguments[2]:void 0,2)),null==C||m==Array&&o(C))for(n=new m(t=s(p.length));t>y;y++)h=b?g(p[y],y):p[y],l(n,y,h);else for(f=(d=C.call(p)).next,n=new m;!(u=f.call(d)).done;y++)h=b?a(d,g,[u.value,y],!0):u.value,l(n,y,h);return n.length=y,n}},function(e,t,n){var r=n(35);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){"use strict";var r=n(19);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(45).f,i=n(95),a=n(127),o=n(118),s=n(108),l=n(165),c=n(179),u=n(146),d=n(34),f=n(164).fastKey,h=n(56),p=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&l(r,e[c],e,n)})),h=m(t),v=function(e,t,n){var r,i,a=h(e),o=g(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},g=function(e,t){var n,r=h(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(u.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=h(this),n=g(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!g(this,e)}}),a(u.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),a=m(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},function(e,t,n){var r=n(67),i=n(33);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(13),i=n(20),a=n(34),o=n(260),s=n(28),l=n(166),c=n(108),u=n(113),d=n(55),f=n(33),h=n(220),p=n(222),m=n(114),v=n(40),g=n(142),b=n(29),C=n(95),y=n(126),S=n(116).f,w=n(262),T=n(53).forEach,I=n(146),O=n(45),E=n(93),R=n(56),k=n(159),M=R.get,_=R.set,A=O.f,x=E.f,D=Math.round,j=i.RangeError,P=l.ArrayBuffer,N=l.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,F=s.TypedArray,W=s.TypedArrayPrototype,V=s.aTypedArrayConstructor,B=s.isTypedArray,z=function(e,t){for(var n=0,r=t.length,i=new(V(e))(r);r>n;)i[n]=t[n++];return i},H=function(e,t){A(e,t,{get:function(){return M(this)[t]}})},q=function(e){var t;return e instanceof P||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},G=function(e,t){return B(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},J=function(e,t){return G(e,t=m(t,!0))?u(2,e[t]):x(e,t)},Y=function(e,t,n){return!(G(e,t=m(t,!0))&&b(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?A(e,t,n):(e[t]=n.value,e)};a?(L||(E.f=J,O.f=Y,H(W,"buffer"),H(W,"byteOffset"),H(W,"byteLength"),H(W,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:J,defineProperty:Y}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,m=i[s],v=m,g=v&&v.prototype,O={},E=function(e,t){A(e,t,{get:function(){return function(e,t){var n=M(e);return n.view[l](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=M(e);n&&(r=(r=D(r))<0?0:r>255?255:255&r),i.view[u](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};L?o&&(v=t((function(e,t,n,r){return c(e,v,s),k(b(t)?q(t)?void 0!==r?new m(t,p(n,a),r):void 0!==n?new m(t,p(n,a)):new m(t):B(t)?z(v,t):w.call(v,t):new m(h(t)),e,v)})),y&&y(v,F),T(S(m),(function(e){e in v||d(v,e,m[e])})),v.prototype=g):(v=t((function(e,t,n,r){c(e,v,s);var i,o,l,u=0,d=0;if(b(t)){if(!q(t))return B(t)?z(v,t):w.call(v,t);i=t,d=p(n,a);var m=t.byteLength;if(void 0===r){if(m%a)throw j("Wrong length");if((o=m-d)<0)throw j("Wrong length")}else if((o=f(r)*a)+d>m)throw j("Wrong length");l=o/a}else l=h(t),i=new P(o=l*a);for(_(e,{buffer:i,byteOffset:d,byteLength:o,length:l,view:new N(i)});u<l;)E(e,u++)})),y&&y(v,F),g=v.prototype=C(W)),g.constructor!==v&&d(g,"constructor",v),U&&d(g,U,s),O[s]=v,r({global:!0,forced:v!=m,sham:!L},O),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",a),I(s)}):e.exports=function(){}},function(e,t,n){var r=n(261);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(106),i=n(48),a=n(134),o=n(33),s=function(e){return function(t,n,s,l){r(n);var c=i(t),u=a(c),d=o(c.length),f=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(f in u){l=u[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in u&&(l=n(l,u[f],f,c));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(53).forEach,i=n(147),a=n(96),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(34),i=n(140),a=n(63),o=n(154).f,s=function(e){return function(t){for(var n,s=a(t),l=i(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){var r,i,a,o=n(20),s=n(19),l=n(94),c=n(118),u=n(206),d=n(171),f=n(227),h=o.location,p=o.setImmediate,m=o.clearImmediate,v=o.process,g=o.MessageChannel,b=o.Dispatch,C=0,y={},S=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},w=function(e){return function(){S(e)}},T=function(e){S(e.data)},I=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&m||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++C]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(C),C},m=function(e){delete y[e]},"process"==l(v)?r=function(e){v.nextTick(w(e))}:b&&b.now?r=function(e){b.now(w(e))}:g&&!f?(a=(i=new g).port2,i.port1.onmessage=T,r=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(I)||"file:"===h.protocol?r="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}:(r=I,o.addEventListener("message",T,!1))),e.exports={set:p,clear:m}},function(e,t,n){var r=n(184);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(106),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";var r=n(106),i=n(29),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function r(){var i=n.concat(a.call(arguments));return this instanceof r?s(t,i.length,i):t.apply(e,i)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){"use strict";n(11);var r,i=n(13),a=n(34),o=n(231),s=n(20),l=n(205),c=n(51),u=n(108),d=n(40),f=n(232),h=n(215),p=n(181).codeAt,m=n(271),v=n(105),g=n(272),b=n(56),C=s.URL,y=g.URLSearchParams,S=g.getState,w=b.set,T=b.getterFor("URL"),I=Math.floor,O=Math.pow,E=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,k=/\d/,M=/^(0x|0X)/,_=/^[0-7]+$/,A=/^\d+$/,x=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,L=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=F(t.slice(1,-1))))return"Invalid host";e.host=n}else if(J(e)){if(t=m(t),D.test(t))return"Invalid host";if(null===(n=U(t)))return"Invalid host";e.host=n}else{if(j.test(t))return"Invalid host";for(n="",r=h(t),i=0;i<r.length;i++)n+=q(r[i],V);e.host=n}},U=function(e){var t,n,r,i,a,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=M.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?A:8==a?_:x).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=O(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s},F=function(e){var t,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&x.test(f());)t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!k.test(f()))return;for(;k.test(f());){if(a=parseInt(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},W=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},V={},B=f({},V,{" ":1,'"':1,"<":1,">":1,"`":1}),z=f({},B,{"#":1,"?":1,"{":1,"}":1}),H=f({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return d(G,e.scheme)},Y=function(e){return""!=e.username||""!=e.password},Z=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},K=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},$=function(e){var t;return e.length>1&&K(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&K(t[0],!0)||t.pop()},X=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},ae={},oe={},se={},le={},ce={},ue={},de={},fe={},he={},pe={},me={},ve={},ge={},be={},Ce={},ye={},Se=function(e,t,n,i){var a,o,s,l,c,u=n||ee,f=0,p="",m=!1,v=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(N,""),a=h(t);f<=a.length;){switch(o=a[f],u){case ee:if(!o||!E.test(o)){if(n)return"Invalid scheme";u=ne;continue}p+=o.toLowerCase(),u=te;break;case te:if(o&&(R.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",u=ne,f=0;continue}if(n&&(J(e)!=d(G,p)||"file"==p&&(Y(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(J(e)&&G[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=he:J(e)&&i&&i.scheme==e.scheme?u=re:J(e)?u=se:"/"==a[f+1]?(u=ie,f++):(e.cannotBeABaseURL=!0,e.path.push(""),u=be)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=ye;break}u="file"==i.scheme?he:ae;continue;case re:if("/"!=o||"/"!=a[f+1]){u=ae;continue}u=le,f++;break;case ie:if("/"==o){u=ce;break}u=ge;continue;case ae:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&J(e))u=oe;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=Ce;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=ge;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ye}break;case oe:if(!J(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=ge;continue}u=ce}else u=le;break;case se:if(u=le,"/"!=o||"/"!=p.charAt(f+1))continue;f++;break;case le:if("/"!=o&&"\\"!=o){u=ce;continue}break;case ce:if("@"==o){m&&(p="%40"+p),m=!0,s=h(p);for(var b=0;b<s.length;b++){var C=s[b];if(":"!=C||g){var y=q(C,H);g?e.password+=y:e.username+=y}else g=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&J(e)){if(m&&""==p)return"Invalid authority";f-=h(p).length+1,p="",u=ue}else p+=o;break;case ue:case de:if(n&&"file"==e.scheme){u=me;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&J(e)){if(J(e)&&""==p)return"Invalid host";if(n&&""==p&&(Y(e)||null!==e.port))return;if(l=L(e,p))return l;if(p="",u=ve,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),p+=o}else{if(""==p)return"Invalid host";if(l=L(e,p))return l;if(p="",u=fe,n==de)return}break;case fe:if(!k.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&J(e)||n){if(""!=p){var S=parseInt(p,10);if(S>65535)return"Invalid port";e.port=J(e)&&S===G[e.scheme]?null:S,p=""}if(n)return;u=ve;continue}return"Invalid port"}p+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)u=pe;else{if(!i||"file"!=i.scheme){u=ge;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",u=Ce;else{if("#"!=o){$(a.slice(f).join(""))||(e.host=i.host,e.path=i.path.slice(),Q(e)),u=ge;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ye}}break;case pe:if("/"==o||"\\"==o){u=me;break}i&&"file"==i.scheme&&!$(a.slice(f).join(""))&&(K(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=ge;continue;case me:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&K(p))u=ge;else if(""==p){if(e.host="",n)return;u=ve}else{if(l=L(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ve}continue}p+=o;break;case ve:if(J(e)){if(u=ge,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(u=ge,"/"!=o))continue}else e.fragment="",u=ye;else e.query="",u=Ce;break;case ge:if(o==r||"/"==o||"\\"==o&&J(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Q(e),"/"==o||"\\"==o&&J(e)||e.path.push("")):X(p)?"/"==o||"\\"==o&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&K(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=Ce):"#"==o&&(e.fragment="",u=ye)}else p+=q(o,z);break;case be:"?"==o?(e.query="",u=Ce):"#"==o?(e.fragment="",u=ye):o!=r&&(e.path[0]+=q(o,V));break;case Ce:n||"#"!=o?o!=r&&("'"==o&&J(e)?e.query+="%27":e.query+="#"==o?"%23":q(o,V)):(e.fragment="",u=ye);break;case ye:o!=r&&(e.fragment+=q(o,B))}f++}},we=function e(t){var n,r,i=u(this,e,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(t),l=w(i,{type:"URL"});if(void 0!==o)if(o instanceof e)n=T(o);else if(r=Se(n={},String(o)))throw TypeError(r);if(r=Se(l,s,null,n))throw TypeError(r);var c=l.searchParams=new y,d=S(c);d.updateSearchParams(l.query),d.updateURL=function(){l.query=String(c)||null},a||(i.href=Ie.call(i),i.origin=Oe.call(i),i.protocol=Ee.call(i),i.username=Re.call(i),i.password=ke.call(i),i.host=Me.call(i),i.hostname=_e.call(i),i.port=Ae.call(i),i.pathname=xe.call(i),i.search=De.call(i),i.searchParams=je.call(i),i.hash=Pe.call(i))},Te=we.prototype,Ie=function(){var e=T(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Y(e)&&(c+=n+(r?":"+r:"")+"@"),c+=W(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Oe=function(){var e=T(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&J(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return T(this).scheme+":"},Re=function(){return T(this).username},ke=function(){return T(this).password},Me=function(){var e=T(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},_e=function(){var e=T(this).host;return null===e?"":W(e)},Ae=function(){var e=T(this).port;return null===e?"":String(e)},xe=function(){var e=T(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=T(this).query;return e?"?"+e:""},je=function(){return T(this).searchParams},Pe=function(){var e=T(this).fragment;return e?"#"+e:""},Ne=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&l(Te,{href:Ne(Ie,(function(e){var t=T(this),n=String(e),r=Se(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Ne(Oe),protocol:Ne(Ee,(function(e){var t=T(this);Se(t,String(e)+":",ee)})),username:Ne(Re,(function(e){var t=T(this),n=h(String(e));if(!Z(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=q(n[r],H)}})),password:Ne(ke,(function(e){var t=T(this),n=h(String(e));if(!Z(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=q(n[r],H)}})),host:Ne(Me,(function(e){var t=T(this);t.cannotBeABaseURL||Se(t,String(e),ue)})),hostname:Ne(_e,(function(e){var t=T(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:Ne(Ae,(function(e){var t=T(this);Z(t)||(""==(e=String(e))?t.port=null:Se(t,e,fe))})),pathname:Ne(xe,(function(e){var t=T(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",ve))})),search:Ne(De,(function(e){var t=T(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,Ce)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Ne(je),hash:Ne(Pe,(function(e){var t=T(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,ye)):t.fragment=null}))}),c(Te,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),C){var Le=C.createObjectURL,Ue=C.revokeObjectURL;Le&&c(we,"createObjectURL",(function(e){return Le.apply(C,arguments)})),Ue&&c(we,"revokeObjectURL",(function(e){return Ue.apply(C,arguments)}))}v(we,"URL"),i({global:!0,forced:!o,sham:!a},{URL:we})},function(e,t,n){var r=n(19),i=n(26),a=n(115),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";var r=n(34),i=n(19),a=n(140),o=n(176),s=n(154),l=n(48),c=n(134),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=a(u({},t)).join("")}))?function(e,t){for(var n=l(e),i=arguments.length,u=1,d=o.f,f=s.f;i>u;)for(var h,p=c(arguments[u++]),m=d?a(p).concat(d(p)):a(p),v=m.length,g=0;v>g;)h=m[g++],r&&!f.call(p,h)||(n[h]=p[h]);return n}:u},function(e,t,n){var r=n(185);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(26)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(190),i=n(219);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){"use strict";var r=n(13),i=n(20),a=n(166),o=n(146),s=a.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},function(e,t,n){"use strict";var r=n(13),i=n(53).find,a=n(156),o=n(96),s=!0,l=o("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o})),n(149),n(44),n(130),n(10),n(18),n(7),n(17),n(150),n(49);var a=n(5).a.get("ResourcesLoader"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadedJsLinks=[]}var t,n,o;return t=e,(n=[{key:"loadjs",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var r=this;a.info("Load js resources",e),a.debug("Already loaded js",this.loadedJsLinks);var o=n.success;if(0===(e=e.filter((function(e){return!r.loadedJsLinks.includes(e)}))).length)return a.debug("Skip resources loading, all resources previously loaded"),void(o instanceof Function&&o());a.debug("Filtered resources to load",e),n.success=function(){r.loadedJsLinks.push.apply(r.loadedJsLinks,e),o instanceof Function&&o()},i(e,t,n)}))},{key:"unloadjs",value:function(e){var t=this;a.info("Unload js",e),e.forEach((function(e){var n=document.querySelector('script[src="'+e+'"]');void 0!==n&&(n.remove(),t.loadedJsLinks=t.loadedJsLinks.filter((function(t){return t!==e})))})),a.debug("Scripts unloaded, currently loaded js",this.loadedJsLinks)}},{key:"reset",value:function(){unloadjs(this.loadedJsLinks),this.loadedJsLinks=[]}}])&&r(t.prototype,n),o&&r(t,o),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n(23),n(22);var r=n(5),i=n(1),a=r.a.get("Init"),o=function(e){var t,n;if(a.info("apiRTC initialization, version is :"+apiCC.version),a.info("osName :"+apiCC.osName),a.info("osVersion :"+apiCC.osVersion),a.info("browser :"+apiCC.browser),a.info("browser_version :"+apiCC.browser_version),!0===(t=e.apiKey,n=!0,a.info("apiKey :",t),-1!==t.indexOf("[")&&(n=!1),n))if(e.hasOwnProperty("apiCCId")&&null!==e.apiCCId&&""!==e.apiCCId&&!0!==function(e){if(null!==e){var t=e;if("number"==typeof t&&(t=String(t)),"string"==typeof t)return t.length<=128}return!1}(e.apiCCId))a.error("apiCCId format is not correct, leaving connection process");else{var r="";if(r=void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol&&"https:"!=window.location.protocol?"http":"https","iOS"!==i.h.name&&"Android"!==i.h.name||(a.log(i.h.name+" detected forcing protocol to https"),r="https"),void 0===e.ccsServer?(a.debug("Setting ccsServer"),void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol?"https:"==window.location.protocol||"iOS"===i.h.name||"Android"===i.h.name?e.ccsServer="ccs5.apizee.com:443":e.ccsServer="ccs5.apizee.com:80":e.ccsServer="ccs5.apizee.com:443"):a.log("ccsServer is defined on init()"),null!==e.bandwidthTestServer&&void 0!==e.bandwidthTestServer?(a.log("bandwidthTestServer is defined :",e.bandwidthTestServer),apiCC.bandwidthTestServer=e.bandwidthTestServer):a.log("bandwidthTestServer is not defined"),void 0!==e.userData&&a.log("userData :",e.userData),apiCC.extJsLoadingRetryNb=e.extJsLoadingRetryNb,apiCC.extJsLoadingRetryDelay=e.extJsLoadingRetryDelay,!1===apiCC.jsLoaded){apiCC.initApiKey=e.apiKey,apiCC.initApiCCId=e.apiCCId;var o={success:function(){a.log("sio loaded"),apiCC.jsLoaded=!0,apiCC.session=new apiCC.ApiCCSession(e),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","loaded")},error:function(){a.error("sio loading error"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","error")},retrycb:function(){a.warn("sio retry"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("sio","retry")}};apiRTC_sioLoader.load(r,e,o)}else a.log("apiRTC JS Librairies already loaded"),a.log("initParameters have changed, need to reload session connection"),apiCC.addEventListener("sessionReady",e.onReady),a.log("initParameters.userData :",e.userData),void 0!==e.apiCCId&&""!==e.apiCCId&&null!==e.apiCCId||(a.log("keeping apiCCId defined by apiRTC :"+e.apiCCId),e.apiCCId=apiCC.session.apiCCId),a.log("initParameters.apiCCId :"+e.apiCCId),null!==e.userData&&void 0!==e.userData?(a.log("userData is defined :",e.userData),apiCC.session.userData=e.userData):a.log("userData is not defined"),a.log("apiCC.session.userData :",apiCC.session.userData),null!==e.token&&void 0!==e.token?(a.log("token is defined :"+e.token),apiCC.session.token=e.token):(a.log("token is not defined"),apiCC.session.token=null),null!==e.conversationSpace&&void 0!==e.conversationSpace?(a.log("conversationSpace is defined :"+e.conversationSpace),apiCC.session.conversationSpace=e.conversationSpace):(a.log("conversationSpace is not defined"),apiCC.session.conversationSpace=null),apiCC.session.reOpenChannel(e.apiCCId,e.apiKey),null!==e.nickname&&void 0!==e.nickname?(a.log("Nickname is defined :"+e.nickname),apiCC.session.nickname=e.nickname):(a.log("Nickname is not defined, setting to apiCCId value :"+apiCC.session.apiCCId),apiCC.session.nickname=apiCC.session.apiCCId),null!==e.photoURL&&void 0!==e.photoURL?(a.log("photoURL is defined :"+e.photoURL),apiCC.session.photoURL=e.photoURL):(a.log("photoURL is not defined"),apiCC.session.photoURL=null),null!==e.presenceGroup&&void 0!==e.presenceGroup?(a.log("presenceGroup is defined :"+e.presenceGroup),JSON.stringify(apiCC.session.presenceGroup)!==JSON.stringify(e.presenceGroup)&&(a.log("presenceGroup updated on initParameters"),apiCC.session.channel.updatePresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldPresenceGroup&&(apiCC.session.channel.oldPresenceGroup=apiCC.session.presenceGroup),apiCC.session.channel.newPresenceGroup=e.presenceGroup,apiCC.session.presenceGroup=e.presenceGroup)):(a.log('presenceGroup is not defined, setting to ["default"]'),JSON.stringify(apiCC.session.presenceGroup)!==JSON.stringify(["default"])&&(a.log("presenceGroup updated on initParameters"),apiCC.session.channel.updatePresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldPresenceGroup&&(apiCC.session.channel.oldPresenceGroup=apiCC.session.presenceGroup),apiCC.session.channel.newPresenceGroup=["default"],apiCC.session.presenceGroup=["default"])),null!==e.subscribeToPresenceGroup&&void 0!==e.subscribeToPresenceGroup?(a.log("subscribeToPresenceGroup is defined :"+e.subscribeToPresenceGroup),JSON.stringify(apiCC.session.subscribeToPresenceGroup)!==JSON.stringify(e.subscribeToPresenceGroup)&&(a.log("subscribeToPresenceGroup updated on initParameters"),apiCC.session.channel.updateSubscribeToPresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldSubscribeToPresenceGroup&&(apiCC.session.channel.oldSubscribeToPresenceGroup=apiCC.session.subscribeToPresenceGroup),apiCC.session.channel.newSubscribeToPresenceGroup=e.subscribeToPresenceGroup,apiCC.session.subscribeToPresenceGroup=e.subscribeToPresenceGroup)):(a.log('subscribeToPresenceGroup is not defined, setting to ["default"]'),JSON.stringify(apiCC.session.subscribeToPresenceGroup)!==JSON.stringify(["default"])&&(a.log("subscribeToPresenceGroup updated on initParameters"),apiCC.session.channel.updateSubscribeToPresenceGroupIsNeeded=!0,null===apiCC.session.channel.oldSubscribeToPresenceGroup&&(apiCC.session.channel.oldSubscribeToPresenceGroup=apiCC.session.subscribeToPresenceGroup),apiCC.session.channel.newSubscribeToPresenceGroup=["default"],apiCC.session.subscribeToPresenceGroup=["default"])),apiCC.initApiKey=e.apiKey,apiCC.initApiCCId=e.apiCCId}else a.error("Apikey format is not correct, leaving connection process")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n(46);var r=n(5),i=n(131),a=n(3),o=r.a.get("MediaDeviceManager"),s=function(){this.audioDevicePresent=!0,this.videoDevicePresent=!0,this.audioOutputPresent=!0,this.mediaSourceInfos=null,this.mediaDeviceChangedDetected=!1,this.mediaDeviceSourceInfosArray={audioinput:{},audiooutput:{},videoinput:{}},this.mediaDeviceSourceInfosArrayBeforeGotSources=null,this.defaultVideoInput=null,this.defaultAudioInput=null,this.defaultAudioOuput=null,this.realMediaDevicesListInitialization=!1,this.realMediaDevicesListInitializationWasAlreadyDone=!1,o.debug("MediaDeviceManager"),null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=function(e){o.debug("Media device have changed"),apiCC.mediaDeviceMgr.getMediaDevices("updatedOnDeviceChange")}),this.gotSources=function(e,t){o.debug("gotSources : sourceInfos :",e),apiCC.mediaDeviceMgr.audioDevicePresent=!1,apiCC.mediaDeviceMgr.videoDevicePresent=!1,apiCC.mediaDeviceMgr.audioOutputPresent=!1;var n=!1;apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources=apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray;var r={},s=!1;Object(a.d)(apiCC.mediaDeviceMgr.mediaSourceInfos,e)||(o.debug("MediaDevices change detected"),n=!0);var l,c=null,u=0,d=0,f=0,h=null;if(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray={audioinput:{},audiooutput:{},videoinput:{}},apiCC.mediaDeviceMgr.mediaSourceInfos=e,null!==e)for(l=0;l!==e.length;++l)null!==(c=e[l]).deviceId&&""!==c.deviceId?(h=new i.a(c.deviceId,c.kind),null!==c.label&&void 0!==c.label&&(this.realMediaDevicesListInitialization=!0)):(o.debug("MediaDevices change but deviceId is not correct, using fakedeviceId :",l),h=new i.a(l,c.kind)),"audio"===c.kind||"audioinput"===c.kind?(apiCC.mediaDeviceMgr.audioDevicePresent||(apiCC.mediaDeviceMgr.audioDevicePresent=!0),h.label=c.label||"microphone "+ ++u,null===apiCC.mediaDeviceMgr.defaultAudioInput&&(apiCC.mediaDeviceMgr.defaultAudioInput=h),null!==c.getCapabilities&&void 0!==c.getCapabilities?h.capabilities=c.getCapabilities():o.debug("getCapabilities not defined")):"video"===c.kind||"videoinput"===c.kind?(apiCC.mediaDeviceMgr.videoDevicePresent||(apiCC.mediaDeviceMgr.videoDevicePresent=!0),h.label=c.label||"camera "+ ++d,null===apiCC.mediaDeviceMgr.defaultVideoInput&&(apiCC.mediaDeviceMgr.defaultVideoInput=h),null!==c.getCapabilities&&void 0!==c.getCapabilities?h.capabilities=c.getCapabilities():o.debug("getCapabilities not defined")):"audiooutput"===c.kind?(apiCC.mediaDeviceMgr.audioOutputPresent||(apiCC.mediaDeviceMgr.audioOutputPresent=!0),h.label=c.label||"audio output "+ ++f,null===apiCC.mediaDeviceMgr.defaultAudioOuput&&(apiCC.mediaDeviceMgr.defaultAudioOuput=h)):(h.label=c.label||"other source "+c.deviceId,o.trace("Detected some other kind of source : "+c.kind)),o.trace("Local device : "+h.label+" - "+h.id),void 0===apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[h.type]&&(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[h.type]={}),apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray[h.type][h.id]=h;else o.warn("Media detection is not supported by browser, considering micro and camera present"),apiCC.mediaDeviceMgr.audioDevicePresent=!0,apiCC.mediaDeviceMgr.videoDevicePresent=!0,apiCC.mediaDeviceMgr.audioOutputPresent=!0;if(o.log("Audio device detected :"+apiCC.mediaDeviceMgr.audioDevicePresent),o.log("Video device detected :"+apiCC.mediaDeviceMgr.videoDevicePresent),o.log("audio Output device detected :"+apiCC.mediaDeviceMgr.audioOutputPresent),o.debug("mediaDeviceSourceInfosArray :",apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray),!1===apiCC.mediaDeviceMgr.audioDevicePresent?!1===apiCC.mediaDeviceMgr.videoDevicePresent?apiCC.myWebRTC_Event.createErrorEvent("Video device is not present","NO_AUDIO_NO_VIDEO_DEVICE"):apiCC.myWebRTC_Event.createErrorEvent("Audio device is not present","NO_AUDIO_DEVICE"):!1===apiCC.mediaDeviceMgr.videoDevicePresent&&apiCC.myWebRTC_Event.createErrorEvent("Video device is not present","NO_VIDEO_DEVICE"),Object(a.d)(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources)||(o.debug("mediaDeviceSourceInfosArray change detected"),n=!0),!0===n){o.debug("fireMediaChangedEvent :",n);var p=this.getMediaDeviceListsDiff(apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArray,apiCC.mediaDeviceMgr.mediaDeviceSourceInfosArrayBeforeGotSources);!0===this.realMediaDevicesListInitialization&&!1===this.realMediaDevicesListInitializationWasAlreadyDone&&(o.debug("This is the first real initialization of media device list"),s=!0),!0===this.realMediaDevicesListInitialization&&(this.realMediaDevicesListInitializationWasAlreadyDone=!0),this.mediaDeviceChangedDetected=!0,null!==apiCC.myWebRTC_Event&&apiCC.myWebRTC_Event.createMediaDeviceChangedEvent(p,t,s),o.debug("fireMediaChangedEvent :",apiCC.mediaDeviceMgr.mediaSourceInfos)}apiCC.session&&apiCC.session.apiCCWebRTCClient&&(apiCC.session.apiCCWebRTCClient.webRTCClient.setGumConfigWithDevicePresent(),r.audioDevicePresent=apiCC.mediaDeviceMgr.audioDevicePresent,r.videoDevicePresent=apiCC.mediaDeviceMgr.videoDevicePresent,apiCC.session.setUserData(r))},this.getMediaDevices=function(e){o.debug("MediaDeviceManager::getMediaDevices : updateReason :",e),"IE"===apiCC.browser&&apiCC.browser_version>8?apiCC.getMediaDevicesWithCB(apiCC.mediaDeviceMgr.gotSources):apiCC.getMediaDevices().then((function(t){apiCC.mediaDeviceMgr.gotSources(t,e)})).catch((function(){o.log("Error on MediaDeviceManager::getMediaDevices"),apiCC.mediaDeviceMgr.gotSources(null,e)}))},this.getMediaDeviceListsDiff=function(e,t){void 0!==t&&t||(t={}),void 0!==e&&e||(e={});for(var n=[],r=[],i=[],a=0,o=Object.keys(t);a<o.length;a++){var s=o[a];if(void 0===e[s])r[s]=t[s];else for(var l=0,c=Object.keys(t[s]);l<c.length;l++){var u=c[l];void 0===e[s][u]&&(void 0===r[s]&&(r[s]={}),r[s][u]=t[s][u])}}for(var d=0,f=Object.keys(e);d<f.length;d++)for(var h=f[d],p=0,m=Object.keys(e[h]);p<m.length;p++){var v=m[p];void 0!==t[h]&&void 0!==t[h][v]||(void 0===n[h]&&(n[h]={}),n[h][v]=e[h][v]),void 0!==t[h]&&void 0!==t[h][v]&&e[h][v].label!==t[h][v].label&&(void 0===i[h]&&(i[h]={}),i[h][v]=e[h][v])}return{added:Object.keys(n).length>0?n:null,removed:Object.keys(r).length>0?r:null,updated:Object.keys(i).length>0?i:null}}}},function(e,t,n){e.exports=n(242)},function(i,a,o){"use strict";o.r(a),function(i){o(12),o(14),o(16),o(8),o(212),o(46),o(7),o(11),o(15),o(214);var s=o(0),l=o(57);o.d(a,"EventEmitter",(function(){return l.a}));var c=o(169);o.d(a,"EventCenter",(function(){return c.a}));var u=o(5),d=o(9),f=o(131);o.d(a,"MediaDevice",(function(){return f.a}));var h=o(25);o.d(a,"Stream",(function(){return h.a}));var p=o(151);o.d(a,"Call",(function(){return p.a}));var m=o(62);o.d(a,"Contact",(function(){return m.a}));var v=o(6);o.d(a,"Conversation",(function(){return v.a}));var g=o(153);o.d(a,"ConversationCall",(function(){return g.a}));var b=o(132);o.d(a,"Conference",(function(){return b.a}));var C=o(133);o.d(a,"Enterprise",(function(){return C.a}));var y=o(65);o.d(a,"SentInvitation",(function(){return y.a}));var S=o(41);o.d(a,"ReceivedInvitation",(function(){return S.a}));var w=o(101);o.d(a,"ReceivedCallInvitation",(function(){return w.a}));var T=o(103);o.d(a,"ReceivedDataChannelInvitation",(function(){return T.a}));var I=o(112);o.d(a,"ReceivedConversationJoinRequest",(function(){return I.a}));var O=o(110);o.d(a,"ReceivedConversationInvitation",(function(){return O.a}));var E=o(102);o.d(a,"ReceivedFileTransferInvitation",(function(){return E.a}));var R=o(123);o.d(a,"ReceivedWhiteboardInvitation",(function(){return R.a}));var k=o(152);o.d(a,"ReceivedPointerSharingInvitation",(function(){return k.a}));var M=o(24);o.d(a,"Session",(function(){return M.b})),o.d(a,"PointerSharingRoom",(function(){return M.a}));var _=o(195);o.d(a,"UserAgent",(function(){return _.a}));var A=o(50);o.d(a,"UserData",(function(){return A.a}));var x=o(196);o.d(a,"CloudApi",(function(){return x.a}));var D=o(124);o.d(a,"DataChannel",(function(){return D.a}));var j=o(4);o.d(a,"Observable",(function(){return j.a}));var P=o(238),N=(o(277),o(239)),L=o(240);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}null!==console&&void 0!==console&&console.info&&console.info("Loading APIRTC_MODULE"),window.Prototype&&delete Array.prototype.toJSON,d.a.version="4.5.5",d.a.utils={},d.a.eventCenter=new c.a,d.a.resourcesLoader=new P.a;for(var F=0,W=Object.keys(s.a);F<W.length;F++){var V=W[F];d.a[V]=s.a[V]}d.a.utils.EventEmitter=l.a,d.a.utils.EventCenter=c.a,d.a.MediaDevice=f.a,d.a.Stream=h.a,d.a.Call=p.a,d.a.Conversation=v.a,d.a.ConversationCall=g.a,d.a.Conference=b.a,d.a.Contact=m.a,d.a.Enterprise=C.a,d.a.SentInvitation=y.a,d.a.ReceivedInvitation=S.a,d.a.ReceivedCallInvitation=w.a,d.a.ReceivedConversationJoinRequest=I.a,d.a.ReceivedConversationInvitation=O.a,d.a.ReceivedFileTransferInvitation=E.a,d.a.ReceivedWhiteboardInvitation=R.a,d.a.ReceivedDataChannelInvitation=T.a,d.a.ReceivedPointerSharingInvitation=k.a,d.a.PointerSharingRoom=M.a,d.a.Session=M.b,d.a.UserAgent=_.a,d.a.UserData=A.a,d.a.CloudApi=x.a,d.a.DataChannel=D.a,d.a.Observable=j.a,d.a.setLogLevel=function(e){u.a.setLogLevel(e)};var B=!1;if(void 0===window.apiRTC){if("object"===U(i)&&i.exports)i.exports=d.a;else if(o(218)){var z=d.a;void 0===(r=function(){return window.apiRTC2=window.apiRTC=z}.call(t,n,t,e))||(e.exports=r)}window.apiRTC2=window.apiRTC=window.apiCC=window.CC=d.a,B=!0}else console.info("APIRTC_MODULE already loaded with version :",apiRTC.version);!0===B&&(d.a.init=N.a,o(292),d.a.mediaDeviceMgr=new L.a,d.a.mediaDeviceMgr.getMediaDevices(),d.a.webRTCCompliant=d.a.isWebRTCCompliant(),d.a.qoSStatCompliant=d.a.isQoSStatCompliant(),d.a.screenSharingCompliant=d.a.isScreenSharingCompliant()),a.default=apiRTC}.call(this,o(197)(i))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(104),i=n(116),a=n(176),o=n(35);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(63),i=n(116).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(29);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(180),i=n(142);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(i,a,o){"use strict";(function(i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o(12),o(14),o(16),o(148),o(23),o(8),o(7),o(43),o(11),o(107),o(97),o(249),o(15),function(s){var l="model",c="name",u="type",d="vendor",f="version",h="mobile",p="tablet",m="smarttv",v={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===a(e)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(e,t){for(var n,r,i,o,s,l,c=0;c<t.length&&!s;){var u=t[c],d=t[c+1];for(n=r=0;n<u.length&&!s;)if(s=u[n++].exec(e))for(i=0;i<d.length;i++)l=s[++r],"object"===a(o=d[i])&&o.length>0?2==o.length?"function"==a(o[1])?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3==o.length?"function"!==a(o[1])||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):void 0:this[o[0]]=l?o[1].call(this,l,o[2]):void 0:4==o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):void 0):this[o]=l||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"===a(t[n])&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(v.has(t[n][r],e))return"?"===n?void 0:n}else if(v.has(t[n],e))return"?"===n?void 0:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},C={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,f],[/(opios)[\/\s]+([\w\.]+)/i],[[c,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[c,f],[/(konqueror)\/([\w\.]+)/i],[[c,"Konqueror"],f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],f],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[c,"Edge"],f],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],f],[/(Avast)\/([\w\.]+)/i],[[c,"Avast Secure Browser"],f],[/(AVG)\/([\w\.]+)/i],[[c,"AVG Secure Browser"],f],[/(puffin)\/([\w\.]+)/i],[[c,"Puffin"],f],[/(focus)\/([\w\.]+)/i],[[c,"Firefox Focus"],f],[/(opt)\/([\w\.]+)/i],[[c,"Opera Touch"],f],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],f],[/(windowswechat qbcore)\/([\w\.]+)/i],[[c,"WeChat(Win) Desktop"],f],[/(micromessenger)\/([\w\.]+)/i],[[c,"WeChat"],f],[/(brave)\/([\w\.]+)/i],[[c,"Brave"],f],[/(qqbrowserlite)\/([\w\.]+)/i],[c,f],[/(QQ)\/([\d\.]+)/i],[c,f],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[c,f],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[c,f],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[c,f],[/(MetaSr)[\/\s]?([\w\.]+)/i],[c],[/(LBBROWSER)/i],[c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[c,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[f,[c,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[c,f],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[f,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,"$1 WebView"],f],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[c,/(.+(?:g|us))(.+)/,"$1 $2"],f],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[c,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[c,"Sailfish Browser"],f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,f],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],f],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[c,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],f],[/(coast)\/([\w\.]+)/i],[[c,"Opera Coast"],f],[/fxios\/([\w\.-]+)/i],[f,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,c],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[c,"GSA"],f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[f,g.str,b.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[c,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",v.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",v.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",v.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[l,d,[u,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[d,"Apple"],[u,p]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[d,"Apple"],[u,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,l,[u,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[l,[d,"Amazon"],[u,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[l,g.str,b.device.amazon.model],[d,"Amazon"],[u,h]],[/android.+aft([bms])\sbuild/i],[l,[d,"Amazon"],[u,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,d,[u,h]],[/\((ip[honed|\s\w*]+);/i],[l,[d,"Apple"],[u,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,l,[u,h]],[/\(bb10;\s(\w+)/i],[l,[d,"BlackBerry"],[u,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[l,[d,"Asus"],[u,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[l,"Xperia Tablet"],[u,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[d,"Sony"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,l,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[l,[d,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[l,[d,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[d,g.str,b.device.sprint.vendor],[l,g.str,b.device.sprint.model],[u,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[l,/_/g," "],[u,h]],[/(nexus\s9)/i],[l,[d,"HTC"],[u,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[l,[d,"Huawei"],[u,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[l,[d,"Huawei"],[u,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,l,[u,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[d,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,"Microsoft"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[d,"Motorola"],[u,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[d,"Motorola"],[u,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,v.trim],[l,v.trim],[u,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[d,"Samsung"],[u,m]],[/\(dtv[\);].+(aquos)/i],[l,[d,"Sharp"],[u,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],l,[u,p]],[/smart-tv.+(samsung)/i],[d,[u,m],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],l,[u,h]],[/sie-(\w*)/i],[l,[d,"Siemens"],[u,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],l,[u,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[d,"Acer"],[u,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[l,[d,"LG"],[u,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],l,[u,p]],[/(lg) netcast\.tv/i],[d,l,[u,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[l,[d,"LG"],[u,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[d,l,[u,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[d,"Lenovo"],[u,p]],[/(lenovo)[_\s-]?([\w-]+)/i],[d,l,[u,h]],[/linux;.+((jolla));/i],[d,l,[u,h]],[/((pebble))app\/[\d\.]+\s/i],[d,l,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,l,[u,h]],[/crkey/i],[[l,"Chromecast"],[d,"Google"],[u,m]],[/android.+;\s(glass)\s\d/i],[l,[d,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[l,[d,"Google"],[u,p]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[l,[d,"Google"],[u,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[l,/_/g," "],[d,"Xiaomi"],[u,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[l,/_/g," "],[d,"Xiaomi"],[u,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[l,[d,"Meizu"],[u,h]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],l,[u,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[l,[d,"OnePlus"],[u,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[l,[d,"RCA"],[u,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[l,[d,"Dell"],[u,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[l,[d,"Verizon"],[u,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],l,[u,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[l,[d,"NuVision"],[u,p]],[/android.+;\s(k88)\sbuild/i],[l,[d,"ZTE"],[u,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[l,[d,"Swiss"],[u,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[l,[d,"Swiss"],[u,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[l,[d,"Zeki"],[u,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],l,[u,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[l,[d,"Insignia"],[u,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[l,[d,"NextBook"],[u,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],l,[u,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],l,[u,h]],[/android.+;\s(PH-1)\s/i],[l,[d,"Essential"],[u,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[l,[d,"Envizen"],[u,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,l,[u,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[l,[d,"MachSpeed"],[u,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,l,[u,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[l,[d,"Rotor"],[u,p]],[/android.+(KS(.+))\s+build/i],[l,[d,"Amazon"],[u,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,l,[u,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,v.lowerize],d,l],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,m]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,f],[/rv\:([\w\.]{1,9}).+(gecko)/i],[f,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[f,g.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[f,g.str,b.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[c,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[c,"Symbian"],f],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[c,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],f],[/(sunos)\s?([\w\.\d]*)/i],[[c,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[c,f],[/(haiku)\s(\w+)/i],[c,f],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[f,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[c,f]]},y=function e(t,n){if("object"===a(t)&&(n=t,t=void 0),!(this instanceof e))return new e(t,n).getResult();var r=t||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),i=n?v.extend(C,n):C;return this.getBrowser=function(){var e={name:void 0,version:void 0};return g.rgx.call(e,r,i.browser),e.major=v.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return g.rgx.call(e,r,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return g.rgx.call(e,r,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return g.rgx.call(e,r,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return g.rgx.call(e,r,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};y.VERSION="0.7.21",y.BROWSER={NAME:c,MAJOR:"major",VERSION:f},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:l,VENDOR:d,TYPE:u,CONSOLE:"console",MOBILE:h,SMARTTV:m,TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:c,VERSION:f},y.OS={NAME:c,VERSION:f},"undefined"!==a(t)?("undefined"!==a(i)&&i.exports&&(t=i.exports=y),t.UAParser=y,s.UAParser=y):o(218)?void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r):s&&(s.UAParser=y);var S=s&&(s.jQuery||s.Zepto);if(S&&!S.ua){var w=new y;S.ua=w.getResult(),S.ua.get=function(){return w.getUA()},S.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":a(window))?window:void 0)}).call(this,o(197)(i))},function(e,t,n){"use strict";var r=n(13),i=n(188).trim;r({target:"String",proto:!0,forced:n(250)("trim")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(19),i=n(189);e.exports=function(e){return r((function(){return!!i[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||i[e].name!==e}))}},function(e,t,n){var r=n(13),i=n(252);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,n){"use strict";var r=n(19),i=n(253).start,a=Math.abs,o=Date.prototype,s=o.getTime,l=o.toISOString;e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!r((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+i(a(e),n?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(t,3,0)+"Z"}:l},function(e,t,n){var r=n(33),i=n(254),a=n(59),o=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(a(t)),d=u.length,f=void 0===s?" ":String(s),h=r(n);return h<=d||""==f?u:(l=h-d,(c=i.call(f,o(l/f.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(67),i=n(59);e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var r=n(19);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){n(13)({target:"Number",stat:!0},{isInteger:n(257)})},function(e,t,n){var r=n(29),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){var n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,t,s){var l,c,u,d=new Array(s),f=8*s-t-1,h=(1<<f)-1,p=h>>1,m=23===t?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,g=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=i(a(e)/o),e*(u=r(2,-l))<1&&(l--,u*=2),(e+=l+p>=1?m/u:m*r(2,1-p))*u>=2&&(l++,u/=2),l+p>=h?(c=0,l=h):l+p>=1?(c=(e*u-1)*r(2,t),l+=p):(c=e*r(2,p-1)*r(2,t),l=0));t>=8;d[g++]=255&c,c/=256,t-=8);for(l=l<<t|c,f+=t;f>0;d[g++]=255&l,l/=256,f-=8);return d[--g]|=128*v,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===o)return n?NaN:u?-1/0:1/0;n+=r(2,t),d-=s}return(u?-1:1)*n*r(2,d-t)}}},function(e,t,n){var r=n(20),i=n(188).trim,a=n(189),o=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(a+"08")||22!==o(a+"0x16");e.exports=l?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){var r=n(20),i=n(19),a=n(158),o=n(28).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},function(e,t,n){var r=n(67);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var r=n(48),i=n(33),a=n(143),o=n(182),s=n(118),l=n(28).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,f,h=r(e),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=a(h);if(null!=g&&!o(g))for(f=(d=g.call(h)).next,h=[];!(u=f.call(d)).done;)h.push(u.value);for(v&&p>2&&(m=s(m,arguments[2],2)),n=i(h.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=v?m(h[t],t):h[t];return c}},function(e,t,n){"use strict";var r=n(48),i=n(117),a=n(33),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=a(n.length),l=i(e,s),c=i(t,s),u=arguments.length>2?arguments[2]:void 0,d=o((void 0===u?s:i(u,s))-c,s-l),f=1;for(c<l&&l<c+d&&(f=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=f,c+=f;return n}},function(e,t,n){"use strict";var r=n(63),i=n(67),a=n(33),o=n(147),s=n(96),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),h=u||!d||!f;e.exports=h?function(e){if(u)return c.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=l(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},function(e,t,n){var r=n(20);e.exports=r.Promise},function(e,t,n){var r,i,a,o,s,l,c,u,d=n(20),f=n(93).f,h=n(94),p=n(226).set,m=n(227),v=d.MutationObserver||d.WebKitMutationObserver,g=d.process,b=d.Promise,C="process"==h(g),y=f(d,"queueMicrotask"),S=y&&y.value;S||(r=function(){var e,t;for(C&&(e=g.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},C?o=function(){g.nextTick(r)}:v&&!m?(s=!0,l=document.createTextNode(""),new v(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):b&&b.resolve?(c=b.resolve(void 0),u=c.then,o=function(){u.call(c,r)}):o=function(){p.call(d,r)}),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(35),i=n(29),a=n(228);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(20);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(127),i=n(164).getWeakData,a=n(35),o=n(29),s=n(108),l=n(165),c=n(53),u=n(40),d=n(56),f=d.set,h=d.getterFor,p=c.find,m=c.findIndex,v=0,g=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},C=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=C(this,e);if(t)return t[1]},has:function(e){return!!C(this,e)},set:function(e,t){var n=C(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,r){s(e,d,t),f(e,{type:t,id:v++,frozen:void 0}),null!=r&&l(r,e[c],e,n)})),p=h(t),m=function(e,t,n){var r=p(e),o=i(a(t),!0);return!0===o?g(r).set(t,n):o[r.id]=n,e};return r(d.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?g(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?g(t).has(e):n&&u(n,t.id)}}),r(d.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=i(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},u=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,u=128,d=0,f=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<i;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<m&&(m=n);var v=p+1;if(m-u>o((2147483647-d)/v))throw RangeError(a);for(d+=(m-u)*v,u=m,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(a);if(n==u){for(var g=d,b=36;;b+=36){var C=b<=f?1:b>=f+26?26:b-f;if(g<C)break;var y=g-C,S=36-C;r.push(s(l(C+y%S))),g=o(y/S)}r.push(s(l(g))),f=c(d,v,p==h),d=0,++p}}++d,++u}return r.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+u(n):n);return a.join(".")}},function(e,t,n){"use strict";n(8);var r=n(13),i=n(104),a=n(231),o=n(51),s=n(127),l=n(105),c=n(209),u=n(56),d=n(108),f=n(40),h=n(118),p=n(142),m=n(35),v=n(29),g=n(95),b=n(113),C=n(273),y=n(143),S=n(26),w=i("fetch"),T=i("Headers"),I=S("iterator"),O=u.set,E=u.getterFor("URLSearchParams"),R=u.getterFor("URLSearchParamsIterator"),k=/\+/g,M=Array(4),_=function(e){return M[e-1]||(M[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},A=function(e){try{return decodeURIComponent(e)}catch(t){return e}},x=function(e){var t=e.replace(k," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(_(n--),A);return t}},D=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return j[e]},N=function(e){return encodeURIComponent(e).replace(D,P)},L=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:x(r.shift()),value:x(r.join("="))}))},U=function(e){this.entries.length=0,L(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},W=c((function(e,t){O(this,{type:"URLSearchParamsIterator",iterator:C(E(e).entries),kind:t})}),"Iterator",(function(){var e=R(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),V=function e(){d(this,e,"URLSearchParams");var t,n,r,i,a,o,s,l,c,u=arguments.length>0?arguments[0]:void 0,h=[];if(O(this,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:U}),void 0!==u)if(v(u))if("function"==typeof(t=y(u)))for(r=(n=t.call(u)).next;!(i=r.call(n)).done;){if((s=(o=(a=C(m(i.value))).next).call(a)).done||(l=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:l.value+""})}else for(c in u)f(u,c)&&h.push({key:c,value:u[c]+""});else L(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},B=V.prototype;s(B,{append:function(e,t){F(arguments.length,2);var n=E(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);for(var t=E(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){F(arguments.length,1);for(var t=E(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){F(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,r=E(this),i=r.entries,a=!1,o=e+"",s=t+"",l=0;l<i.length;l++)(n=i[l]).key===o&&(a?i.splice(l--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=E(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=E(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),o(B,I,B.entries),o(B,"toString",(function(){for(var e,t=E(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(N(e.key)+"="+N(e.value));return n.join("&")}),{enumerable:!0}),l(V,"URLSearchParams"),r({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof w||"function"!=typeof T||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(v(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new T(t.headers):new T).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:b(0,String(n)),headers:b(0,r)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:V,getState:E}},function(e,t,n){var r=n(35),i=n(143);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(13),i=n(166);r({global:!0,forced:!n(191)},{DataView:i.DataView})},function(e,t,n){var r=n(13),i=n(19),a=n(63),o=n(93).f,s=n(34),l=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){var r=n(13),i=n(29),a=n(35),o=n(40),s=n(93),l=n(125);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,u=arguments.length<3?t:arguments[2];return a(t)===u?t[n]:(r=s.f(t,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):i(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){"use strict";n(52),n(10),n(7),n(43),n(17),n(128),function(e){var t,n,r=null,i=null,a=[];function o(){return Math.random().toString(36).substr(2)}t=function(){if("undefined"!=typeof apiRTC_React)return"react-native";var e,t=navigator.appName,n=navigator.userAgent,r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),(r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"])[0]}(),n=function(){if("undefined"!=typeof apiRTC_React)return 1;var e,t=navigator.appName,n=navigator.userAgent,r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),(r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"])[1]}(),i=new function(){("MSIE"===t&&n>8||"Netscape"===t)&&function(){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}t.prototype=e.CustomEvent.prototype,e.CustomEvent=t}(),this.eventDispatchMgr=function(e,r){if("undefined"!=typeof apiRTC_React){var i={type:e,detail:r};eventManager.dispatchEvent(i)}else if("MSIE"===t&&n<=8)"undefined"!=typeof $jqApz?$jqApz.event.trigger({type:e,detail:r}):"undefined"!=typeof jQuery&&jQuery.event.trigger({type:e,detail:r});else{var a=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(a)}},this.createGetUserFromIdAnswerEvent=function(e){var t={eventType:"getUserFromIdAnswer",time:new Date,message:e};this.eventDispatchMgr("getUserFromIdAnswer",t)},this.createGetAllUsersAnswerEvent=function(e){var t={eventType:"getAllUsersAnswer",time:new Date,message:e};this.eventDispatchMgr("getAllUsersAnswer",t)},this.createErrorEvent=function(e){var t={eventType:"error :",time:new Date,errorInfo:e};this.eventDispatchMgr("error",t)},this.createSearchUserAnswerEvent=function(e,t,n){var r={eventType:"searchUserAnswer :",time:new Date,searchStr:e,searchAnswerList:t,group:n};this.eventDispatchMgr("searchUserAnswer",r)}},(r={version:"1.0.4",description:"Apizee DataBase Library"}).init=function(e){this.socket=e,this.socket.on("getUserFromIdAnswer",this.callback(this,"onGetUserFromIdAnswer")).on("getAllUsersAnswer",this.callback(this,"onGetAllUsersAnswer")).on("searchUserAnswer",this.callback(this,"onSearchUserAnswer"))},r.createUser=function(e){if(null!==e&&null!==e.mail&&null!==e.id){var t=JSON.stringify(e);this.socket.emit("createUser",t)}},r.searchUserInGroup=function(e,t,n,r){var i=null,s=null,l=o();(void 0===t||"all"!==t&&"connected"!==t&&"disconnected"!==t)&&(t="all"),null!==e&&(i={searchStr:e,presenceState:t,group:n},void 0!==r&&(i.callbackId=l,a[l]=r),s=JSON.stringify(i),this.socket.emit("searchUser",s))},r.searchUser=function(e,t,n,i){var a=null;"function"==typeof n?(a=n,r.searchUserInGroup(e,t,void 0,a)):r.searchUserInGroup(e,t,n,i)},r.onSearchUserAnswer=function(e){var t=JSON.parse(e);void 0!==t.callbackId&&t.callbackId in a?(a[t.callbackId](t.searchStr,t.searchAnswerList),a.splice(t.callbackId,1)):i.createSearchUserAnswerEvent(t.searchStr,t.searchAnswerList,t.group)},r.getUserFromId=function(e,t){var n=null,r=null,i=o();null!==e&&(n={id:e},void 0!==t&&(n.callbackId=i,a[i]=t),r=JSON.stringify(n),this.socket.emit("getUserFromId",r))},r.onGetUserFromIdAnswer=function(e){null!==e&&void 0!==e.callbackId&&e.callbackId in a?(a[e.callbackId](e),a.splice(e.callbackId,1)):i.createGetUserFromIdAnswerEvent(e)},r.getAllUsers=function(){var e,t;e={},t=JSON.stringify(e),this.socket.emit("getAllUsers",t)},r.onGetAllUsersAnswer=function(e){i.createGetAllUsersAnswerEvent(e)},r.setPresenceStatus=function(e,t,n){var r,i;r={id:e,presenceStatus:t,commentStatus:n},i=JSON.stringify(r),this.socket.emit("setPresenceStatus",i)},r.setUserStatus=function(e,t){var n;t.id=e,n=JSON.stringify(t),this.socket.emit("setUserStatus",n)},r.setUserInfos=function(e){var t,n;t=e,n=JSON.stringify(t),this.socket.emit("setUserInfos",n)},r.addEventListener=function(e,t){"undefined"!=typeof apiRTC_React?eventManager.addEventListener(e,t):"getUserFromIdAnswer"!==e||"error"!==e||"getAllUsersAnswer"!==e||"searchUserAnswer"!==e?document.addEventListener(e,t,!1):i.createErrorEvent("ERROR: Trying to add a listener on an unknow event")},r.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},e.apiDB=r}(window)},function(e,t,n){"use strict";n.r(t),n.d(t,"WebRTC_Adapter",(function(){return i}));var r=n(5).a.get("WebRTC_Stack"),i=function(){this.adaptForIoSCordova=function(){if("iOS"===apiRTC.osName&&"undefined"!=typeof cordova){if(r.log("Modification for iOS cordova"),void 0===cordova.plugins)return void r.log("cordova.plugins not defined");if(void 0===cordova.plugins.iosrtc)return void r.log("cordova.plugins.iosrtc not defined");this.RTCPeerConnection=cordova.plugins.iosrtc.RTCPeerConnection,this.RTCSessionDescription=cordova.plugins.iosrtc.RTCSessionDescription,this.RTCIceCandidate=cordova.plugins.iosrtc.RTCIceCandidate}},"undefined"!=typeof RTCSessionDescription?this.RTCSessionDescription=RTCSessionDescription:r.log("RTCSessionDescription is undefined"),"undefined"!=typeof RTCIceCandidate?this.RTCIceCandidate=RTCIceCandidate:r.log("RTCIceCandidate is undefined"),"undefined"!=typeof RTCPeerConnection?this.RTCPeerConnection=RTCPeerConnection:r.log("RTCPeerConnection is undefined"),void 0!==navigator.getUserMedia?this.getUserMedia=navigator.getUserMedia:"undefined"!=typeof getUserMedia?this.getUserMedia=getUserMedia:r.log("getUserMedia is undefined")}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(13),i=Math.log,a=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(e){return i(e)*a}})},function(e,t,n){var r=n(13),i=n(225).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCPointerSharingClient",(function(){return o})),n(12),n(14),n(7),n(30);var r=n(5),i=n(3),a=r.a.get("ApiCCPointerSharingClient"),o=function e(t){this.roomTable={},this.getRoomIds=function(){var e=[],t=null;for(t in this.roomTable)e.push(t);return e},this.roomExists=function(e){return this.roomTable.hasOwnProperty(e)},this.roomActive=function(t){return this.roomTable.hasOwnProperty(t)&&this.roomTable[t].state===e.STATE_ACTIVE},this.joinRoom=function(t,n){var r=this;a.info("ApiCCPointerSharingClient::joinRoom()"),Object(i.h)(n,"object")||(n={}),Object(i.g)(n,"success","function")||(n.success=function(){}),Object(i.g)(n,"failure","function")||(n.failure=function(){}),this.roomTable.hasOwnProperty(t)?n.failure("room already joined",t):(this.roomTable[t]={roomId:t,state:e.STATE_JOINING,joinRoomCallbacks:n},this.roomTable[t].joinRoomTimeoutId=setTimeout((function(){delete r.roomTable[t],n.failure("timeout",t)}),15e3),apiCC.session.roomMgr.joinRoom(t,"pointerSharing"))},this.leaveRoom=function(e){this.roomTable.hasOwnProperty(e)&&delete this.roomTable[e],apiCC.session.roomMgr.leaveRoom(e,"pointerSharing")},this.inviteInRoom=function(e,t,n){a.info("ApiCCPointerSharingClient::inviteInRoom()"),apiCC.session.roomMgr.inviteInRoom(e,t,"pointerSharing",n)},this.sendPointerLocation=function(t,n,r,a,o){var s;return!(!this.roomTable.hasOwnProperty(t)||this.roomTable[t].state!==e.STATE_ACTIVE)&&(s={type:"pointerLocation",source:n,x:r,y:a},Object(i.h)(o,"object")&&(s.data=o),apiCC.session.roomMgr.sendMessageToRoom(t,"pointerSharing",s),!0)},this.processMessageRoomJoin=function(t){this.roomTable.hasOwnProperty(t.roomId)&&this.roomTable[t.roomId].state===e.STATE_JOINING&&(clearTimeout(this.roomTable[t.roomId].joinRoomTimeoutId),delete this.roomTable[t.roomId].joinRoomTimeoutId,this.roomTable[t.roomId].state=e.STATE_ACTIVE,this.roomTable[t.roomId].joinRoomCallbacks.success(t.roomId),delete this.roomTable[t.roomId].joinRoomCallbacks)},this.stop=function(){for(var e=this.getRoomIds(),t=e.length;--t>=0;)this.leaveRoom(e[t])}};o.STATE_IDLE=Symbol("idle"),o.STATE_JOINING=Symbol("joining"),o.STATE_ACTIVE=Symbol("active"),o.STATE_ERROR=Symbol("error")},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCWhiteBoardClient",(function(){return i})),n(148),n(284),n(23),n(52),n(99),n(10),n(92),n(120),n(46),n(68),n(43),n(97),n(109),n(30);var r=n(5).a.get("ApiCCWhiteBoardClient"),i=function(e,t,n,i,a){function o(e){e.style.display="none"}r.debug("Loading apiCC.ApiCCWhiteBoardClient"),this.roomId=null,this.whiteBoardDisconnectionTimeoutId=0,this.sessionStarted=!1,this.prev={},this.lastEmit=Date.now(),this.clients={},this.listenedPeers={},this.touchScreenActivated=!1,this.touchControlPoint={},this.drawElements=[],this.ghostElements={},this.redoStack=[],this.undoIndex=0,this.userCursorColor=null,this.cursors={},this.cursorStyle="cross",this.CURSOR_STYLES=["circle","cross"],this.currentScale=1,this.dx=0,this.dy=0,this.instructionsFaded=!1,this.canvas=null,this.ctx=null,this.currentTool="pen",this.currentColor="rgba(0, 0, 0, 1)",this.currentBrushWidth=1,this.readOnly=!1,this.isDrawing=!1,this.focusOnDrawing=!1,this.paperSheetId=0,this.drawingId=0,this.offline=!1,this.roomJoined=!1,this.laserModeActivated=!1,this.AVAILABLE_TOOLS=["pen","ellipse","rectangle","erase","void","arrow"],this.GEOMETRY_TOOLS=["arrow","rectangle","ellipse"],this.disconnectionTimer=void 0!==a?a:3e4,r.log("Setting Whiteboard disconnectionTimer to : "+this.disconnectionTimer),this.setCanvas=function(e){r.debug("[Whiteboard] setCanvas() :",e),null!==this.canvas&&(r.log("Unsetting old canvas events"),this.sessionStarted&&!this.readOnly&&(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1)))),null!==e&&null!==document.getElementById(e)?(this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.sessionStarted&&!this.readOnly&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove,this.touchScreenActivated&&(this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)))):(null!==e&&null===document.getElementById(e)&&r.warn("No such element whose id is : "+e),this.canvas=null,this.ctx=null)},this.setCanvas(t),this.sendDataToRoom=function(e){if(r.info("[Whiteboard] sendDataToRoom()"),!1===this.offline&&null!==this.roomId){if(null===apiCC.session||void 0===apiCC.session)return void r.info("apiCC.session does not exist, leaving process");r.debug("this.drawElements :",this.drawElements),r.debug("data.tool :",e.tool);var t=[];r.debug("drawElementsToSend :",t);var n,i={x:0,y:0,drawing:!1,tool:this.currentTool,cursorColor:this.userCursorColor,color:this.currentColor,width:this.currentBrushWidth,paperSheetId:this.paperSheetId,drawElements:t,id:apiCC.session.apiCCId},a=Object.keys(e);for(n=0;n<a.length;n++)i[a[n]]=e[a[n]];apiCC.session.roomMgr.sendMessageToRoom(this.roomId,"whiteBoard",i)}},this.setCursorsDiv=function(){r.warn("[Whiteboard] setCursorsDiv() - method obsolete, please use setUserCursorColor to set a cursor pointer that will be seen by other users")},this.setUserCursorColor=function(e){r.debug("[Whiteboard] setUserCursorColor() : "+e),null===e||"invisible"===e?this.userCursorColor="invisible":/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?this.userCursorColor=e:(r.warn("[Whiteboard] setUserCursorColor() color "+e+" is invalid, defaulting to invisible"),this.userCursorColor="invisible")},this.setUserCursorColor(n),this.setCursorStyle=function(e){r.debug("[Whiteboard] setCursorStyle() : "+e),this.CURSOR_STYLES.indexOf(e)>-1?(this.userCursorColor="invisible",this.cursorStyle=e):r.error("[Whiteboard] setCursorStyle() style "+e+" is invalid")},this.setFocusOnDrawing=function(e){r.debug("[Whiteboard] setFocusOnDrawing()"),this.focusOnDrawing=e},this.createRoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.debug("[Whiteboard] createRoom()"),apiCC.session.roomMgr.createRoom("whiteBoard",e)},this.requestContactListInRoom=function(e){r.log("[Whiteboard] requestContactListInRoom :"+e),apiCC.session.roomMgr.requestContactListInRoom(e)},this.setDrawingTool=function(e){r.debug("[Whiteboard] setDrawingTool()");var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.AVAILABLE_TOOLS.indexOf(e)>-1&&(this.currentTool=e,this.ghostElements[t]=null)},this.setReadOnly=function(e){r.debug("[Whiteboard] setReadOnly()");var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.ghostElements[t]=null,this.readOnly=!0===e,this.readOnly&&null!==this.canvas?(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1))):null!==this.canvas&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove,this.touchScreenActivated&&(this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)))},this.laserModeProcess=function(e){var t=this;setTimeout((function(){return t.undo(e)}),5e3)},this.undo=function(e){r.debug("[Whiteboard] undo()");var t=this.drawElements.length-1,n=null,i=[],a=[],o=null,s=0;if(null!==apiCC.session&&(s=apiCC.session.apiCCId),void 0===e)for(;t>=0;)this.drawElements[t].userId==s&&(null===n&&(n=this.drawElements[t].undoIndex),n===this.drawElements[t].undoIndex&&(o=this.drawElements.splice(t,1)[0],i.push(o),a.push(o.drawingId))),t--;else for(t=0;t<this.drawElements.length;t++)this.drawElements[t].userId==s&&this.drawElements[t].drawingId===e&&(r.debug("[Whiteboard] element found with drawingId in undo laser :",e),o=this.drawElements.splice(t,1)[0],i.push(o),a.push(o.drawingId));i.length>0&&(this.redraw(),this.sendDataToRoom({tool:"void",delete:a,undoneElements:i}),this.redoStack.push(i))},this.redo=function(){r.debug("[Whiteboard] redo()");var e,t=[];if(this.redoStack.length>0){for(t=this.redoStack.pop(),e=0;e<t.length;e++)this.addNewDrawing(t[e]);this.sendDataToRoom({tool:"void",drawObjectsArray:t}),this.redraw()}},this.setBrushSize=function(e){r.debug("[Whiteboard] setBrushSize()"),!isNaN(e)&&e>0&&(this.currentBrushWidth=e)},this.setBrushColor=function(e){r.debug("[Whiteboard] setBrushColor()"),this.currentColor=e},this.setScale=function(e){r.debug("[Whiteboard] setScale()"),e>0?(this.currentScale=e,this.redraw()):r.warn("Scale factor must be > 0!")},this.getScale=function(){return r.debug("[Whiteboard] getScale()"),this.currentScale},this.setOffset=function(e,t){r.debug("[Whiteboard] setOffset()");var n=parseInt(e,10),i=parseInt(t,10);isNaN(n)||isNaN(i)||(this.dx=Number(n),this.dy=Number(i),this.redraw())},this.getOffset=function(){return r.debug("[Whiteboard] getOffset()"),{x:this.dx,y:this.dy}},this.printSharedText=function(e,t,n,i,a,o){r.debug("[Whiteboard] printSharedText()"),this.setBrushStyle(this.currentColor,this.currentBrushWidth),this.undoIndex++,this.redoStack=[];var s=0;null!==apiCC.session&&(s=apiCC.session.apiCCId);var l={type:"text",x:e,y:t,text:n,size:i,font:a,border:o,userId:s,drawingId:this.drawingId,color:this.currentColor,width:this.currentBrushWidth,undoIndex:this.undoIndex,time:Date.now()};this.sendDataToRoom({x:e,y:t,tool:"void",drawObject:l}),this.drawingId++,this.addNewDrawing(l)},this.addPeerListener=function(e,t){r.debug("[Whiteboard] addPeerListener()"),this.listenedPeers.hasOwnProperty(e)||(this.listenedPeers[e]=[]),this.listenedPeers[e].push(t)},this.inviteInRoom=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.debug("[Whiteboard] inviteInRoom()"),null!==e?null!==t?apiCC.session.roomMgr.inviteInRoom(e,t,"whiteBoard",n,i):r.debug("wrong destId"):r.debug("wrong roomId")},this.answerToRoomInvitation=function(e,t){r.info("[Whiteboard] answerToRoomInvitation()");var n=t&&!this.isInRoom();return this.isInRoom()?r.error("[Whiteboard] cannot answer room invitation : user is already in a room"):apiCC.session.roomMgr.answerToRoomInvitation(e,t,"whiteBoard"),n&&(r.log("[Whiteboard] user joining room"),this.paperSheetId=0,this.drawingId=0,this.roomId=e,this.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})),n},this.joinRoom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.info("[Whiteboard] joinRoom() roomId :",e),null==e?r.error("[Whiteboard] cannot join room : room is null or undefined"):this.isInRoom()&&!0===this.roomJoined?r.error("[Whiteboard] cannot join room : user is already in a room"):apiCC.session.roomMgr.joinRoom(e,"whiteBoard",t)},this.leaveRoom=function(){r.info("[Whiteboard] leaveRoom()"),this.isInRoom()&&(apiCC.session.roomMgr.leaveRoom(this.roomId,"whiteBoard"),this.roomId=null,this.paperSheetId=0,this.drawingId=0,this.listenedPeers={},this.roomJoined=!1)},this.isInRoom=function(){return null!==this.roomId},this.clearPaper=function(){r.debug("[Whiteboard] clearPaper()"),this.deleteHistory()},this.refreshCanvas=function(){if(null!==this.canvas&&null!==this.ctx){var e=this.canvas.width;this.canvas.width=e}},this.deleteHistory=function(){r.info("[Whiteboard] deleteHistory()");var e=0;null!==apiCC.session&&(e=apiCC.session.apiCCId),this.refreshCanvas(),this.drawElements=[],this.ghostElements[e]=null,this.paperSheetId++,this.drawingId=0,this.sendDataToRoom({tool:"void",deleteHistory:!0})},this.setBrushStyle=function(e,t){null!==this.ctx&&(this.ctx.strokeStyle=e,this.ctx.fillStyle=e,this.ctx.lineWidth=t)},this.redraw=function(){var e,t,n;for(r.debug("[Whiteboard] redraw()"),this.refreshCanvas(),e=0;e<this.drawElements.length;e++)this.drawSingleObject(this.drawElements[e]);for(t=Object.keys(this.ghostElements),e=0;e<t.length;e++)null!==this.ghostElements[t[e]]&&this.drawSingleObject(this.ghostElements[t[e]]);for(t=Object.keys(this.cursors),e=0;e<t.length;e++)if(null!==this.cursors[t[e]]&&"invisible"!==this.cursors[t[e]].color&&(0!==this.cursors[t[e]].x||0!==this.cursors[t[e]].y))switch(n={fromx:(this.cursors[t[e]].x-this.dx)*this.currentScale-13,fromy:(this.cursors[t[e]].y-this.dy)*this.currentScale-13,tox:(this.cursors[t[e]].x-this.dx)*this.currentScale+13,toy:(this.cursors[t[e]].y-this.dy)*this.currentScale+13},this.setBrushStyle(this.cursors[t[e]].color,4),this.cursorStyle){case"circle":null!==this.ctx&&(this.ctx.globalAlpha=.4,this.fillEllipse(n.fromx,n.fromy,n.tox,n.toy),this.drawEllipse(n.fromx+2,n.fromy+2,n.tox-2,n.toy-2),this.ctx.globalAlpha=1);break;case"cross":null!==this.ctx&&(this.ctx.globalAlpha=.7,this.ctx.beginPath(),this.ctx.moveTo(n.fromx+(n.tox-n.fromx)/2,n.fromy),this.ctx.lineTo(n.fromx+(n.tox-n.fromx)/2,n.toy),this.ctx.lineCap="butt",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(n.fromx,n.fromy+(n.toy-n.fromy)/2),this.ctx.lineTo(n.tox,n.fromy+(n.toy-n.fromy)/2),this.ctx.lineCap="butt",this.ctx.stroke(),this.ctx.globalAlpha=1)}},this.addNewDrawing=function(e){var t=0;this.drawElements.push(e),this.drawSingleObject(e),null!==apiCC.session&&(t=apiCC.session.apiCCId),e.userId===t&&!0===this.laserModeActivated&&this.laserModeProcess(e.drawingId)},this.drawSingleObject=function(e){if(null!==this.ctx&&null!==this.canvas){var t={};switch(this.setBrushStyle(e.color,e.width),this.ctx.scale(this.currentScale,this.currentScale),t.fromx=e.fromx-this.dx,t.tox=e.tox-this.dx,t.x=e.x-this.dx,t.fromy=e.fromy-this.dy,t.toy=e.toy-this.dy,t.y=e.y-this.dy,e.type){case"arrow":this.drawArrow(t.fromx,t.fromy,t.tox,t.toy);break;case"ellipse":this.drawEllipse(t.fromx,t.fromy,t.tox,t.toy);break;case"rectangle":this.drawRectangle(t.fromx,t.fromy,t.tox,t.toy);break;case"pen":this.drawLine(t.fromx,t.fromy,t.tox,t.toy);break;case"erase":this.eraseArea(t.fromx,t.fromy);break;case"text":this.drawText(t.x,t.y,e.text,e.size,e.font,e.border)}this.ctx.scale(1/this.currentScale,1/this.currentScale)}},this.drawLine=function(e,t,n,r){null!==this.ctx&&(this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(n,r),this.ctx.lineCap="round",this.ctx.stroke())},this.drawText=function(e,t,n,r,i,a){if(null!==this.ctx){var o,s,l="Arial";null!=i&&(l=i),this.ctx.font=r+"px "+l,this.ctx.fillText(n,e,t),null!=a&&(o=this.ctx.strokeStyle,s=this.ctx.lineWidth,this.ctx.strokeStyle=a,this.ctx.lineWidth=1,this.ctx.strokeText(n,e,t),this.ctx.strokeStyle=o,this.ctx.lineWidth=s)}},this.eraseArea=function(e,t){null!==this.ctx&&this.ctx.clearRect(e-this.ctx.lineWidth-1,t-this.ctx.lineWidth-1,2*this.ctx.lineWidth+2,2*this.ctx.lineWidth+2)},this.drawArrow=function(e,t,n,r){if(null!==this.ctx){var i=Math.atan2(r-t,n-e);this.ctx.beginPath(),this.ctx.lineCap="butt",this.ctx.moveTo(e,t),this.ctx.lineTo(n,r),this.ctx.stroke(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(n,r),this.ctx.rotate(i+Math.PI/2),this.ctx.moveTo(0,-this.ctx.lineWidth),this.ctx.lineTo(5*this.ctx.lineWidth*.5+1,10+.25*this.ctx.lineWidth),this.ctx.lineTo(-5*this.ctx.lineWidth*.5-1,10+.25*this.ctx.lineWidth),this.ctx.closePath(),this.ctx.restore(),this.ctx.fill()}},this.drawEllipse=function(e,t,n,r){var i=null,a=null;null!==this.ctx&&(i={x:Math.abs(e-n)/2,y:Math.abs(t-r)/2},a={x:e-(e-n)/2,y:t-(t-r)/2},this.ctx.beginPath(),"IE"!==apiRTC.browser&&this.ctx.ellipse(a.x,a.y,i.x,i.y,0,0,2*Math.PI),this.ctx.stroke())},this.fillEllipse=function(e,t,n,r){if(null!==this.ctx){var i={x:Math.abs(e-n)/2,y:Math.abs(t-r)/2},a={x:e-(e-n)/2,y:t-(t-r)/2};this.ctx.beginPath(),"IE"!==apiRTC.browser&&this.ctx.ellipse(a.x,a.y,i.x,i.y,0,0,2*Math.PI),this.ctx.fill()}},this.drawRectangle=function(e,t,n,r){if(null!==this.ctx){this.ctx.beginPath();var i=e,a=t;e>n&&(i=n),t>r&&(a=r),this.ctx.rect(i,a,Math.abs(e-n),Math.abs(t-r)),this.ctx.stroke()}},this.getContext=function(){return this.ctx},this.loadPhotoInBackground=function(e){r.debug("[Whiteboard] loadPhotoInBackground :"+e);var t=document.getElementsByTagName("body")[0];t.style.backgroundImage="url("+e+")",t.style.backgroundPosition="50% 50%",t.style.backgroundRepeat="no-repeat"},this.messageProcessing=function(e){r.debug("[Whiteboard] messageProcessing");var t,n=null,i=null,a=!1,o=null,s=null,l=null,c=null,u=null;if(this.cursors[e.id]||(r.log("[Whiteboard] messageProcessing - creating cursor for new user : "+e.id),this.cursors[e.id]={id:e.id},this.clients[e.id]={}),this.cursors[e.id].x=e.x,this.cursors[e.id].y=e.y,this.cursors[e.id].lastUpdate=Date.now(),e.cursorColor&&null!==e.cursorColor?this.cursors[e.id].color=e.cursorColor:this.cursors[e.id].color="invisible",void 0===apiRTC.userAgentInstance||"ON"===apiRTC.userAgentInstance.capabilities.whiteboardCursor?"invisible"!==this.cursors[e.id].color&&(a=!0):(r.debug("[Whiteboard] - cursor is not supported on userAgent"),this.cursors[e.id].color="invisible"),null!==this.ghostElements[e.id]&&(this.ghostElements[e.id]=null,a=!0),this.listenedPeers.hasOwnProperty(e.id))for(o={id:e.id,x:e.x,y:e.y,tool:e.tool,drawing:e.drawing},t=0;t<this.listenedPeers[e.id].length;t++)"function"==typeof this.listenedPeers[e.id][t]?this.listenedPeers[e.id][t](o):r.warn("[Whiteboard] Peer listenener is not a function!");if(e.drawing&&this.clients[e.id]&&(r.debug("data.drawing && this.clients[data.id]"),i={fromx:void 0!==e.prevX?e.prevX:this.clients[e.id].x,fromy:void 0!==e.prevY?e.prevY:this.clients[e.id].y,tox:e.x,toy:e.y,type:null!==e.tool?e.tool:"pen",color:e.color,width:e.width,userId:e.id,drawingId:e.drawingId},this.GEOMETRY_TOOLS.indexOf(i.type)>-1?e.prevX&&e.prevY&&(this.ghostElements[e.id]=i,a=!0):this.addNewDrawing(i),this.focusOnDrawing&&((n=this.canvas.parentNode).scrollLeft=this.currentScale*(e.x-this.dx)-n.clientWidth/2,n.scrollTop=this.currentScale*(e.y-this.dy)-n.clientHeight/2)),e.drawObject&&((i=e.drawObject).color=e.color,i.width=e.width,this.ghostElements[e.id]=null,this.addNewDrawing(i),this.focusOnDrawing&&((n=this.canvas.parentNode).scrollLeft=this.currentScale*(e.x-this.dx)-n.clientWidth/2,n.scrollTop=this.currentScale*(e.y-this.dy)-n.clientHeight/2)),e.hasOwnProperty("drawObjectsArray"))for(t=0;t<e.drawObjectsArray.length;t++)this.addNewDrawing(e.drawObjectsArray[t]);if(e.hasOwnProperty("delete"))for(t=this.drawElements.length-1,a=!0;t>=0;)e.delete.indexOf(this.drawElements[t].drawingId)>-1&&this.drawElements[t].userId==e.id&&this.drawElements.splice(t,1),t--;if(e.hasOwnProperty("paperSheetId")){if(e.paperSheetId<this.paperSheetId)r.debug("[Whiteboard] - data.paperSheetId < this.paperSheetId");else if(e.paperSheetId>this.paperSheetId){if(r.debug("[Whiteboard] - messageProcessing : peer has a more recent version : "+this.paperSheetId+" vs "+e.paperSheetId),e.hasOwnProperty("deleteHistory")&&r.debug("User : "+e.id+" ,has deleted the history"),e.hasOwnProperty("drawElements")){for(r.debug("[Whiteboard] - messageProcessing : receiving update from peer"),null!==e.drawElements?this.drawElements=e.drawElements:this.drawElements=[],t=0;t<this.drawElements.length;t++)this.drawElements[t].hasOwnProperty("userId")&&this.drawElements[t].hasOwnProperty("drawingId")&&(this.clients[this.drawElements[t].userId]={x:0,y:0,drawing:!1,tool:"pen",cursorColor:null,color:null,width:1,paperSheetId:this.paperSheetId,drawingId:this.drawElements[t].drawingId,id:this.drawElements[t].userId});this.paperSheetId=e.paperSheetId,this.drawingId=0,a=!0}}else if(e.hasOwnProperty("drawingId"))if(r.debug("[Whiteboard] - data.hasOwnProperty(drawingId): "),0!==e.drawingId&&void 0===this.clients[e.id]||void 0!==this.clients[e.id]&&this.clients[e.id].hasOwnProperty("drawingId")&&e.drawingId-this.clients[e.id].drawingId>1)r.log("[Whiteboard] - messageProcessing : catchup from peer required : "+e.drawingId),c=e.id+"||-1",void 0!==this.clients[e.id]&&this.clients[e.id].hasOwnProperty("drawingId")&&(c=e.id+"||"+this.clients[e.id].drawingId),this.sendDataToRoom({tool:"void",needCatchUp:c});else if(e.hasOwnProperty("needCatchUp")&&(e.needCatchUp.startsWith(apiCC.session.apiCCId+"||")||e.needCatchUp.startsWith("*||"))){for(r.debug("[Whiteboard] - messageProcessing : letting peer catchup: "+e.id),s=e.needCatchUp.split("||")[1],l=[],t=0;t<this.drawElements.length;t++)(u=this.drawElements[t]).hasOwnProperty("userId")&&u.hasOwnProperty("drawingId")&&u.userId===apiCC.session.apiCCId&&u.drawingId>parseInt(s,10)&&l.push(u);this.sendDataToRoom({tool:"void",catchUpData:l,catchupIndex:s})}else r.debug("[Whiteboard] - else - drawingId");else if(e.hasOwnProperty("needCatchUp")){for(r.debug("[Whiteboard] - messageProcessing : needCatchUp"+e.id),s=e.needCatchUp.split("||")[1],l=[],t=0;t<this.drawElements.length;t++)u=this.drawElements[t],l.push(u);r.debug("[Whiteboard] - sending catchUpData : ",l),this.sendDataToRoom({tool:"void",catchUpData:l,catchupIndex:s})}else r.debug("[Whiteboard] - else - paperSheetId");if(e.hasOwnProperty("catchUpData")){for(r.debug("[Whiteboard] - messageProcessing : catching up: "+e.id),"complete"===e.catchUpStatus&&(r.debug("catchUpData is complete, cleaning drawElements"),this.drawElements.splice(0,this.drawElements.length)),t=0;t<e.catchUpData.length;t++)u=e.catchUpData[t],e.userId===apiCC.session.apiCCId&&u.hasOwnProperty("drawingId")&&this.drawingId<u.drawingId&&(this.drawingId=u.drawingId+1);this.drawElements=e.catchUpData.concat(this.drawElements),this.paperSheetId=e.paperSheetId,a=!0}}a&&this.redraw(),this.clients[e.id]=e},this.isStarted=function(){return this.sessionStarted},this.start=function(){this.isStarted()?r.warn("[Whiteboard] WhiteBoardClient is already started"):(r.info("[Whiteboard] starting WhiteBoardClient"),this.isDrawing=!1,this.prev={},this.lastEmit=Date.now(),this.currentScale=1,this.dx=0,this.dy=0,this.drawingId=0,this.clients={},this.listenedPeers={},this.cursors={},this.drawElements=[],this.touchScreenActivated=!1,this.sessionStarted=!0,null!==this.canvas&&(this.canvas.onmousedown=this.onmousedown,this.canvas.onmouseup=this.onmouseup,this.canvas.onmouseleave=this.onmouseleave,this.canvas.onmousemove=this.onmousemove),this.redraw()),null!==apiCC.session&&void 0!==apiCC.session.roomMgr||(r.log("[Whiteboard] roomMgr is not defined, setting offline mode"),this.offline=!0)},this.stop=function(){this.isStarted()?(r.info("[Whiteboard] Stopping WhiteBoardClient"),this.isInRoom()&&this.leaveRoom(),this.sessionStarted=!1,null!==this.canvas&&(this.canvas.onmousedown=null,this.canvas.onmouseup=null,this.canvas.onmouseleave=null,this.canvas.onmousemove=null,this.touchScreenActivated&&(this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1))),this.drawElements=[],this.ghostElements={},this.redoStack=[]):r.info("[Whiteboard] cannot stop WhiteboardClient as it is not started")},this.getTouchOffSet=function(e){r.debug("[Whiteboard] getTouchOffSet():");var t,n,i,a,o=null,s={offsetX:0,offsetY:0};return o=e.target,t=window.getComputedStyle(o,null),n=parseInt(t.borderLeftWidth,10),i=parseInt(t.borderTopWidth,10),a=o.getBoundingClientRect(),s.offsetX=e.clientX-n-a.left,s.offsetY=e.clientY-i-a.top,r.log("offset.offsetX :"+s.offsetX),r.log("offset.offsetY :"+s.offsetY),s},this.toggleTouchScreen=function(){!0===this.touchScreenActivated?this.deactivateTouchScreen():this.activateTouchScreen()},this.activateTouchScreen=function(){null!==this.canvas?(this.touchScreenActivated=!0,this.canvas.addEventListener("touchstart",this.onTouchStart,!1),this.canvas.addEventListener("touchend",this.onTouchEnd,!1),this.canvas.addEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.addEventListener("touchleave",this.onTouchEnd,!1),this.canvas.addEventListener("touchmove",this.onTouchMove,!1)):r.warn("Trying to activateTouchScreen() while canvas is null.")},this.deactivateTouchScreen=function(){null!==this.canvas?(this.touchScreenActivated=!1,this.canvas.removeEventListener("touchstart",this.onTouchStart,!1),this.canvas.removeEventListener("touchend",this.onTouchEnd,!1),this.canvas.removeEventListener("touchcancel",this.onTouchCancel,!1),this.canvas.removeEventListener("touchleave",this.onTouchEnd,!1),this.canvas.removeEventListener("touchmove",this.onTouchMove,!1)):r.warn("Trying to deactivateTouchScreen() while canvas is null.")},this.activateLaserMode=function(){this.laserModeActivated=!0},this.deactivateLaserMode=function(){this.laserModeActivated=!1},this.sendDrawingData=function(e,t,n){r.debug("[Whiteboard] sendDrawingData()");var i={x:e.offsetX,y:e.offsetY,drawing:t,prevX:this.prev.x,prevY:this.prev.y};if(!1!==t||"invisible"!==this.userCursorColor){var a=0;null!==apiCC.session&&(a=apiCC.session.apiCCId),null!==n&&(i.drawObject=n,i.drawObject.drawingId=this.drawingId,i.drawObject.userId=a,this.drawingId++),i.drawingId=this.drawingId,this.sendDataToRoom(i)}else r.debug("isDrawing false and userCursorColor invisible - leaving sendDrawingData")},this.onmousedown=function(e){e.preventDefault();var t,n,r=e.target||e.srcElement,a=r.currentStyle||window.getComputedStyle(r,null),s=parseInt(a.borderLeftWidth,10)||0,l=parseInt(a.borderTopWidth,10)||0,c=r.getBoundingClientRect(),u={offsetX:this.dx+1/this.currentScale*(e.clientX-s-c.left),offsetY:this.dy+1/this.currentScale*(e.clientY-l-c.top)};if(this.prev.x=u.offsetX,this.prev.y=u.offsetY,this.isDrawing=!0,this.undoIndex++,this.redoStack=[],null===(t=document.getElementById(i))||this.instructionsFaded||(o(t),this.instructionsFaded=!0),"erase"===this.currentTool){this.sendDrawingData(u,this.isDrawing,null);var d=0;null!==apiCC.session&&(d=apiCC.session.apiCCId),this.lastEmit=Date.now(),n={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:d,drawingId:this.drawingId,undoIndex:this.undoIndex,time:Date.now()},this.drawingId++,this.addNewDrawing(n),this.redraw()}}.bind(this),this.onmouseup=function(e){var t,n=null,r=null,i=0,a=0,o=null,s={offsetX:0,offsetY:0},l=0;this.isDrawing&&this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(r=(n=e.target||e.srcElement).currentStyle||window.getComputedStyle(n,null),i=parseInt(r.borderLeftWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,o=n.getBoundingClientRect(),s.offsetX=this.dx+1/this.currentScale*(e.clientX-i-o.left),s.offsetY=this.dy+1/this.currentScale*(e.clientY-a-o.top),null!==apiCC.session&&(l=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,tox:s.offsetX,toy:s.offsetY,color:this.currentColor,width:this.currentBrushWidth,userId:l,undoIndex:this.undoIndex,time:Date.now()},this.sendDrawingData(s,this.isDrawing,t),this.ghostElements[l]=null,this.redraw(),this.addNewDrawing(t),this.prev.x=s.offsetX,this.prev.y=s.offsetY),this.isDrawing=!1,this.ghostElements[l]=null}.bind(this),this.onmouseleave=function(){var e=0;null!==apiCC.session&&(e=apiCC.session.apiCCId),this.isDrawing=!1,this.sendDrawingData({offsetX:0,offsetY:0},this.isDrawing,null),this.ghostElements[e]=null}.bind(this),this.onmousemove=function(e){var t,n,r,i,a,o=null,s={};if(t=(o=e.target||e.srcElement).currentStyle||window.getComputedStyle(o,null),n=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderTopWidth,10)||0,i=o.getBoundingClientRect(),s.offsetX=this.dx+1/this.currentScale*(e.clientX-n-i.left),s.offsetY=this.dy+1/this.currentScale*(e.clientY-r-i.top),Date.now()-this.lastEmit>30)if(this.sendDrawingData(s,this.isDrawing,null),this.lastEmit=Date.now(),this.isDrawing){var l=0;null!==apiCC.session&&(l=apiCC.session.apiCCId),a={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:l,undoIndex:this.undoIndex,time:Date.now()},"pen"===this.currentTool||"erase"===this.currentTool?("pen"===this.currentTool&&(a.tox=s.offsetX,a.toy=s.offsetY),a.drawingId=this.drawingId,this.drawingId++,this.addNewDrawing(a),this.prev.x=s.offsetX,this.prev.y=s.offsetY):this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(a.tox=s.offsetX,a.toy=s.offsetY,this.ghostElements[l]=a),"pen"!==this.currentTool&&this.redraw()}else"erase"===this.currentTool&&(this.redraw(),a={type:"rectangle",fromx:s.offsetX-this.currentBrushWidth,fromy:s.offsetY-this.currentBrushWidth,tox:parseInt(s.offsetX,10)+parseInt(this.currentBrushWidth,10),toy:parseInt(s.offsetY,10)+parseInt(this.currentBrushWidth,10),color:"#444444",width:1},this.drawSingleObject(a),a.color="#DDDDDD",a.fromx=a.fromx-1,a.fromy=a.fromy-1,a.tox=a.tox+1,a.toy=a.toy+1,this.drawSingleObject(a))}.bind(this),this.onTouchStart=function(e){r.debug("[Whiteboard] handleStart"),e.preventDefault();var t,n=e.changedTouches,a={};this.isDrawing=!0,this.undoIndex++,this.redoStack=[],(a=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*a.offsetX,a.offsetY=this.dy+1/this.currentScale*a.offsetY,this.prev.x=a.offsetX,this.prev.y=a.offsetY,this.sendDrawingData(a,!1,null),null!==(t=document.getElementById(i))&&o(t)}.bind(this),this.onTouchEnd=function(e){r.debug("[Whiteboard] handleEnd :"+e);var t,n=null,i=null,a={},o=e.changedTouches,s=0;this.isDrawing&&this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(i=(n=e.target||e.srcElement).currentStyle||window.getComputedStyle(n,null),parseInt(i.borderLeftWidth,10),parseInt(i.borderTopWidth,10),n.getBoundingClientRect(),(a=this.getTouchOffSet(o[0])).offsetX=this.dx+1/this.currentScale*a.offsetX,a.offsetY=this.dy+1/this.currentScale*a.offsetY,null!==apiCC.session&&(s=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,tox:a.offsetX,toy:a.offsetY,color:this.currentColor,width:this.currentBrushWidth,userId:s,undoIndex:this.undoIndex,time:Date.now()},this.sendDrawingData(a,this.isDrawing,t),this.addNewDrawing(t),this.prev.x=a.offsetX,this.prev.y=a.offsetY),this.isDrawing=!1,this.ghostElements[s]=null,e=null}.bind(this),this.onTouchCancel=function(e){r.debug("[Whiteboard] handleCancel :"+e);var t=0;null!==apiCC.session&&(t=apiCC.session.apiCCId),this.isDrawing=!1,this.ghostElements[t]=null,e=null}.bind(this),this.onTouchMove=function(e){r.debug("[Whiteboard] handleMove :"+e);var t,n=e.changedTouches,i={};if(Date.now()-this.lastEmit>30&&((i=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*i.offsetX,i.offsetY=this.dy+1/this.currentScale*i.offsetY,this.sendDrawingData(i,this.isDrawing,null),this.lastEmit=Date.now(),this.isDrawing)){(i=this.getTouchOffSet(n[0])).offsetX=this.dx+1/this.currentScale*i.offsetX,i.offsetY=this.dy+1/this.currentScale*i.offsetY;var a=0;null!==apiCC.session&&(a=apiCC.session.apiCCId),t={type:this.currentTool,fromx:this.prev.x,fromy:this.prev.y,color:this.currentColor,width:this.currentBrushWidth,userId:a,undoIndex:this.undoIndex,time:Date.now()},"pen"===this.currentTool||"erase"===this.currentTool?("pen"===this.currentTool&&(t.tox=i.offsetX,t.toy=i.offsetY),t.drawingId=this.drawingId,this.drawingId++,this.addNewDrawing(t),this.prev.x=i.offsetX,this.prev.y=i.offsetY):this.GEOMETRY_TOOLS.indexOf(this.currentTool)>-1&&(t.tox=i.offsetX,t.toy=i.offsetY,this.ghostElements[a]=t,this.redraw())}}.bind(this)}},function(e,t,n){var r=n(13),i=n(192),a=n(156);r({target:"Array",proto:!0},{fill:i}),a("fill")},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCDataClient",(function(){return a})),n(30);var r=n(5).a.get("ApiCCDataClient"),i=apiCC.myWebRTC_Event,a=function(e){this.sendData=function(t,n,i){r.info("Call sending data function .... to :"+t+" message :"+n);var a,o,s=e.channel.getNewCSeq(),l=null;return a={type:"dataMessage",senderId:e.apiCCId,dstRoomId:t,data:n,cSeq:s},o=JSON.stringify(a),r.log("C->S: "+o),void 0!==i?(r.log("Ack management activated"),l=setTimeout((function(){i({reason:"timeoutReached",cSeq:s}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[s]}),e.messageTimeOutTimer),r.log("timeOutId: "+l),e.messageTimeOutTable[s]=l,e.channel.socket.emit("dataMessage",o,(function(e){r.log("callback on dataMessage"),r.log("callback reason :"+e.reason),r.log("cSeq :"+e.cSeq),i(e),void 0!==apiCC.session.messageTimeOutTable[s]?(r.log("clearing timeOutId: "+apiCC.session.messageTimeOutTable[s]),clearTimeout(apiCC.session.messageTimeOutTable[s]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[s]):r.warn("messageTimeOutTable was already deleted : timeout may have been reached before Ack")}))):(r.log("Ack management not activated"),e.channel.socket.emit("dataMessage",o)),s},this.sendDataToGroup=function(t,n){r.info("[ApiCCDataClient] sendDataToGroup - "+t);var i,a=e.getConnectedUsersList(t);for(i=0;i<a.length;i++)e.apiCCId!=a[i].userId&&this.sendData(a[i].userId,n)},this.receiveData=function(e){r.info("receiveData :"+e.data),i.createReceiveDataEvent(e.senderId,e.dstRoomId,e.data)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCIMClient",(function(){return l})),n(12),n(14),n(16),n(44),n(8),n(7),n(11),n(49),n(15),n(30);var r=n(5),i=n(3),a=n(66);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r.a.get("ApiCCIMClient"),l=function(e,t){this.convTable=[],this.myWebRTC_Event=apiCC.myWebRTC_Event,this.nickname=e.nickname,this.photoURL=null,this.userDataSetted=!1,this.myWebRTC_Stack=new a.a(e.channel.socket),this.findIMIdWithDestID=function(e){var t,n=this.convTable.length;for(s.log("findIMIdWithDestID = "+e),t=0;t<n;t+=1)if(s.log("this.convTable[i].dest_roomId = "+this.convTable[t].dest_roomId),this.convTable[t].dest_roomId==e)return this.convTable[t].IMId;return s.log("Conversation IMId not found"),0},this.addInConvTable=function(e){s.debug("addInConvTable");var t,n=this.convTable.length;for(t=0;t<n;t+=1)if(s.log("this.convTable[i].dest_roomId = "+this.convTable[t].dest_roomId),this.convTable[t].dest_roomId==e.dest_roomId)return void(this.convTable[t].IMId=e.IMId);s.log("Conversation not found in the table, adding .."),this.convTable.push(e)},this.sendMessage=function(t,n,r,i){s.info("Call sending message function .... from :"+this.nickname+" message :"+n);var a,l=this.findIMIdWithDestID(t),c=null,u=null,d=null,f=e.channel.getNewCSeq();return 0===l?s.log("Creation of a new IM conversation"):s.log("Message is for existing conversation with ID : "+l),s.log("IMConvId :"+l),c={type:"IMMessage",IMId:l,senderId:e.apiCCId,nickname:this.nickname,photoURL:this.photoURL,dstRoomId:t,data:n,cSeq:f,convData:i},e.getConnectedUserIdsList().forEach((function(e){e.userId==t&&e.hasOwnProperty("userData")&&null!==e.userData&&o(e.userData.hasOwnProperty("isChatbot"))&&e.userData.isChatbot&&(c.pubSub="BotConnector")})),a=JSON.stringify(c),u=document.createElement("message"),s.log("C->S: "+a),void 0!==r?(s.log("Ack management activated"),d=setTimeout((function(){r({reason:"timeoutReached",cSeq:f}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[f]}),e.messageTimeOutTimer),s.log("timeOutId: "+d),e.messageTimeOutTable[f]=d,e.channel.socket.emit("IMMessage",a,(function(e){s.log("callback on IMMessage"),s.log("data :",e),s.log("callback reason :"+e.reason),s.log("callback convId :"+e.convId),s.log("cSeq :"+e.cSeq),r(e),void 0!==apiCC.session.messageTimeOutTable[f]?(s.log("clearing timeOutId: "+apiCC.session.messageTimeOutTable[f]),clearTimeout(apiCC.session.messageTimeOutTable[f]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[f]):s.warn("messageTimeOutTable was already deleted : timeout may have been reached before Ack")}))):(s.log("Ack management not activated"),e.channel.socket.emit("IMMessage",a)),null!==this.conversation&&(u.innerHTML="<b>me :</b> "+i+"<br>",this.conversation.appendChild(u),this.conversation.scrollTop=this.conversation.scrollHeight),f},this.newConversationCreated=function(e){s.debug("newConversationCreated :"+e),s.log("msg.dstRoomId :"+e.dstRoomId),s.log("msg.IMId :"+e.IMId);var t={dest_roomId:e.dstRoomId,IMId:e.IMId};this.addInConvTable(t)},this.receiveMessage=function(e){s.info("Call receiveMessage message :"+e);var t,n=null;t={dest_roomId:e.senderId,IMId:e.IMId},this.addInConvTable(t),null!==this.conversation&&((n=document.createElement("message")).innerHTML="<b>"+e.nickname+":</b> "+e.data+"<br>",this.conversation.appendChild(n),this.conversation.scrollTop=this.conversation.scrollHeight),this.myWebRTC_Event.createReceiveIMMessageEvent(e.senderId,e.nickname,e.photoURL,e.data,e.UUCSeq,e.IMId)},this.createGroupChat=function(t,n){var r,i;s.info("createGroupChat with contacts : "+t+","+n),r={type:"createGroupChat",nickname:this.nickname,photoURL:this.photoURL,contactId1:t,contactId2:n},i=JSON.stringify(r),s.log("C->S: "+i),e.channel.socket.emit("createGroupChat",i)},this.groupChatCreation=function(e){s.debug("groupChatCreation"),this.myWebRTC_Event.createGroupChatCreationEvent(e.status,e.groupChatId,e.contactId1,e.invitationSendedToInitialDestId,e.contactId2,e.invitationSendedToNewContactId)},this.joinGroupChat=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.debug("joinGroupChat : "+t);var r=null,i=null;r={type:"joinGroupChat",groupChatId:t},n.convId&&(r.data={},r.data.cloudConvId=n.convId),i=JSON.stringify(r),s.log("C->S: "+i),e.channel.socket.emit("joinGroupChat",i)},this.groupChatInvitation=function(e){s.debug("groupChatInvitation"),this.myWebRTC_Event.createGroupChatInvitationEvent(e.groupChatId,e.senderId,e.senderNickname,e.senderPhotoURL,e.contactList)},this.answerToGroupChatInvitation=function(t,n){var r,i;s.debug("answerToGroupChatInvitation: "+t+" : "+n),!0===n||!1===n?(r={type:"groupChatInvitationAnswer",groupChatId:t,senderId:e.apiCCId,nickname:this.nickname,photoURL:this.photoURL,accept:n},i=JSON.stringify(r),s.log("C->S: "+i),e.channel.socket.emit("groupChatInvitationAnswer",i)):s.log("accept value is not correct")},this.groupChatMemberUpdate=function(e){s.info("groupChatMemberUpdate"),this.myWebRTC_Event.createGroupChatMemberUpdateEvent(e.groupChatId,e.contactList,e.status)},this.addUserInGroupChat=function(t,n){var r,i;s.debug("addUser : "+n+"in Group Chat with Id :"+t),r={type:"addUserInGroupChat",groupChatId:t,nickname:this.nickname,photoURL:this.photoURL,contactId:n},i=JSON.stringify(r),s.log("C->S: "+i),e.channel.socket.emit("addUserInGroupChat",i)},this.addUserInGroupChatAnswer=function(e){s.info("addUserInGroupChatAnswer"),this.myWebRTC_Event.createAddUserInGroupChatEvent(e.invitationSended,e.groupChatId,e.contactId)},this.leaveGroupChat=function(t){var n,r;s.info("Leave Group Chat with Id :"+t),n={type:"leaveGroupChat",groupChatId:t,nickname:this.nickname,photoURL:this.photoURL},r=JSON.stringify(n),s.log("C->S: "+r),e.channel.socket.emit("leaveGroupChat",r)},this.sendMessageToGroupChat=function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s.info("Call sending message to Group Chat .... from :"+this.nickname+" message :"+n);var o=null,l=null,c=apiCC.session.channel.getNewCSeq();o={type:"groupChatMessage",groupChatId:t,senderId:e.apiCCId,nickname:this.nickname,cSeq:c,data:n},Object(i.h)(a,"metadata","object")&&(o.metadata=a.metadata),l=JSON.stringify(o),null!==r&&"function"==typeof r?(apiCC.session.messageTimeOutTable[c]=setTimeout((function(){r({reason:"timeoutReached",cSeq:c}),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[c]}),apiCC.session.messageTimeOutTimer),s.log("C->S: "+l),e.channel.socket.emit("groupChatMessage",l,(function(e){clearTimeout(apiCC.session.messageTimeOutTable[e.cSeq]),null!==apiCC.session&&void 0!==apiCC.session&&delete apiCC.session.messageTimeOutTable[e.cSeq],r(e)}))):(s.log("C->S: "+l),e.channel.socket.emit("groupChatMessage",l))},this.receiveGroupChatMessage=function(e){s.info("receiveGroupChatMessage"),this.myWebRTC_Event.createReceiveGroupChatMessageEvent(e.groupChatId,e.senderId,e.nickname,e.data,e.metadata)},this.getConversationHistory=function(t){var n,r;s.debug("getConversationHistory"),n={type:"getConversationHistory",convId:t},r=JSON.stringify(n),s.log("C->S: "+r),e.channel.socket.emit("getConversationHistory",r)},this.receiveConversationHistory=function(e){s.debug("receiveConversationHistory"),s.log("msg.convId :"+e.convId);var t,n=0,r=[],i=null;if(null!==e.convHistory)for(s.log("msg.convHistory.length :"+e.convHistory.length),n=e.convHistory.length,r=[],t=0;t<n;t+=1)i=JSON.parse(e.convHistory[t]),r.push(i);this.myWebRTC_Event.createReceiveConversationHistoryEvent(e.convId,r,e.status)},this.setUserData=function(t){var n,r;s.info("setUserData"),this.photoURL=t.photoURL,e.photoURL=t.photoURL,s.log("photoURL :"+this.photoURL),n={type:"setUserData",nickname:this.nickname,photoURL:this.photoURL},r=JSON.stringify(n),s.log("C->S: "+r),e.channel.socket.emit("setUserData",r),this.userDataSetted=!0},this.getUserData=function(t){var n,r;s.info("getUserData"),n={type:"getUserData",contactId:t},r=JSON.stringify(n),s.log("C->S: "+r),e.channel.socket.emit("getUserData",r)},this.receiveUserDataAnswer=function(e){s.info("receiveUserDataAnswer"),this.myWebRTC_Event.createUserDataAnswerEvent(e.userFound,e.contactId,e.nickname,e.photoURL)},this.initialize=function(t){var n,r;this.conversation=document.getElementById(t),null===this.conversation&&(s.log("conversationElementId Div Name is not correct : INCORRECT_DIV_NAME_CONVERSATION"),s.log("conversationElementId is null")),n={type:"registerIM",username:this.nickname},r=JSON.stringify(n),s.log("C->S: "+r),e.channel.socket.emit("registerIM",r)},this.initialize(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCCoBrowsingClient",(function(){return i}));var r=n(5).a.get("ApiCCCoBrowsingClient"),i=function(e){r.debug("apiCC.ApiCCCoBrowsingClient"),this.createRoom=function(){r.debug("createRoom()"),e.roomMgr.createRoom("coBrowsing")},this.inviteInRoom=function(t,n){r.debug("inviteInRoom()"),e.roomMgr.inviteInRoom(t,n,"coBrowsing")},this.answerToRoomInvitation=function(t,n){r.debug("answerToRoomInvitation()"),e.roomMgr.answerToRoomInvitation(t,n,"coBrowsing")},this.leaveRoom=function(t){r.debug("leaveRoom()"),e.roomMgr.leaveRoom(t,"coBrowsing")}}},function(e,t,n){"use strict";n.r(t);var r=n(5).a.get("onbeforeunload");apiCC.beforeUnloadFct=function(e){r.debug("User has refreshed or left the page, eventType :",e);try{if("undefined"!=typeof mailClicked&&null!==mailClicked&&(r.log("mailClicked variable is defined"),!0===mailClicked))return r.log("mailClicked is true : leaving onbeforeunload"),void(mailClicked=!1)}catch(e){r.log("Catch error on PATCH/WORKAROUND to avoid reload of page in chrome when mailto :"+e)}try{if(void 0!==apiCC.iePluginInstallationPreventUnload&&null!==apiCC.iePluginInstallationPreventUnload&&!0===apiCC.iePluginInstallationPreventUnload)return void r.log("iePluginInstallationPreventUnload is true : leaving onbeforeunload")}catch(e){r.log("Catch error on PATCH/WORKAROUND to avoid reload of page in IE when installing webRTC plugin :"+e)}null!==apiCC&&void 0!==apiCC&&(apiCC.storeSessionCookies(),apiCC.cleanApiRTCContext(),apiCC.disconnect({invalidateApiCCId:!0}),apiCC.cleanAllEventListener(),apiCC.myEventTable=[]),null!==apiCC&&void 0!==apiCC&&(apiCC.session=null,apiCC.jsLoaded=!1)},"Mobile Safari"===apiRTC.browser?window.addEventListener("pagehide",(function(){apiCC.beforeUnloadFct("unload_MobileSafari")})):window.onbeforeunload=function(){apiCC.beforeUnloadFct("unload")}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCWebRTCClient",(function(){return q})),n(23),n(10),n(7),n(21),n(17);var r=n(5),i=(n(12),n(14),n(16),n(44),n(8),n(27),n(52),n(236),n(60),n(212),n(92),n(22),n(122),n(46),n(145),n(43),n(11),n(107),n(194),n(109),n(129),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(49),n(15),n(30),n(214),n(1)),a=n(3),o=n(66);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){this.sdp={original:null,global:[],mlines:[]},this.mlines=[]}function c(e){var t=new l,n=e.split("\r\n"),r=0,i=null,a=null,o=null,s=null;for(t.sdp.original=e;r<n.length;)if(0!==(i=n[r]).length)if(null!==o)if(i.match(/^m=/))a=null,o=null;else if(i.match(/^a=/)){if(a.push(i),!(s=i.match(/^a=([\w-]+):(\d+) (.+)$/))||"rtpmap"!==s[1]&&"rtcp-fb"!==s[1]&&"fmtp"!==s[1]){if(s=i.match(/^a=mid:(\w+)$/))o.mid=s[1];else if("a=sendrecv"===i)o.direction="sendrecv";else if("a=recvonly"===i)o.direction="recvonly";else if("a=sendonly"===i)o.direction="sendonly";else if("a=inactive"===i)o.direction="inactive";else if(s=i.match(/^a=ssrc-group:SIM (.+)$/)){var c=s[1].split(" ");o.ssrc_groups.sim.push(c.slice())}else if(s=i.match(/^a=ssrc-group:FID (.+)$/)){var d=s[1].split(" ");o.ssrc_groups.fid.push(d.slice())}else if(s=i.match(/^a=ssrc:(\d+) (.+)$/)){var f=o.ssrcs.find((function(e){return e.original===s[1]}));f||(f={original:s[1],ssrc:s[1],content:{}},o.ssrcs.push(f));var h=s[2].match(/^(\w+):(.+)$/);if(!h)throw new Error("cannot parse ssrc parameters (regex failure): "+s[2]);if("cname"===h[1])f.content.cname=h[2];else if("msid"===h[1])f.content.msid=h[2];else if("mslabel"===h[1])f.content.mslabel=h[2];else{if("label"!==h[1])throw new Error("cannot parse ssrc parameters (wrong attribute): "+h[1]);f.content.label=h[2]}}}else if("rtpmap"===s[1])o.codecs[s[2]].codec=s[3].split("/")[0].toLowerCase(),o.codecs[s[2]].rtpmap=s[3];else if("rtcp-fb"===s[1])o.codecs[s[2]]["rtcp-fb"]||(o.codecs[s[2]]["rtcp-fb"]=[]),o.codecs[s[2]]["rtcp-fb"].push(s[3]);else if("fmtp"===s[1]){o.codecs[s[2]].fmtp=[];for(var p=s[3].split(";"),m=0;m<p.length;m+=1){var v=p[m].split("=");2===v.length&&o.codecs[s[2]].fmtp.push(v)}}r+=1}else if(i.match(/^b=/)){if(a.push(i),s=i.match(/^b=AS:(\d+)$/)){o.bandwidth=parseInt(s[1],10),r+=1;continue}r+=1}else a.push(i),r+=1;else{if(s=i.match(/^m=([a-z]+) (\d+) ([A-Z/]+) ([0-9 ]+)$/)){a=[],t.sdp.mlines.push(a),a.push(i),o={type:s[1],port:parseInt(s[2],10),proto:s[3],payload_types:[],direction:"sendrecv",mid:s[1],bandwidth:0,codecs:{},ssrc_groups:{sim:[],fid:[]},ssrcs:[]};for(var g=s[4].split(" "),b=0;b<g.length;b+=1)o.payload_types.push(g[b]),o.codecs[g[b]]={};t.mlines.push(o),r+=1;continue}t.sdp.global.push(i),r+=1}else r+=1;for(t.unifiedPlan=!0,r=t.mlines.length;--r>=0;)"audio"!==t.mlines[r].type||t.audio?"video"!==t.mlines[r].type||t.video||(t.video=t.mlines[r]):t.audio=t.mlines[r],!0===t.unifiedPlan&&t.mlines[r].mid!==String(r)&&(t.unifiedPlan=!1);return t.isAudioActive=u.bind(null,t,"audio"),t.isVideoActive=u.bind(null,t,"video"),t}function u(e,t){return!("audio"!==t&&"video"!==t||null===e||"object"!==s(e)||!Object.prototype.hasOwnProperty.call(e,t)||null===e[t]||"object"!==s(e[t]))&&("sendrecv"===e[t].direction||"sendonly"===e[t].direction||"recvonly"===e[t].direction)}n(98),n(128),n(97),n(237),n(68),l.prototype.mungeForSimulcasting=function(){if(!0!==this.simulcasting){this.simulcasting=!0;for(var e=0;e<this.mlines.length;e+=1){var t=this.mlines[e];if("video"===t.type){var n=t.ssrcs[0].content.cname,r=t.ssrcs[0].content.msid,i=t.ssrcs[0].content.mslabel,a=t.ssrcs[0].content.label,o=[];o.push(t.ssrcs[0].ssrc);for(var s=2;--s>=0;){var l=Math.floor(4294967295*Math.random());t.ssrcs.push({original:l,ssrc:l,content:{cname:n,msid:r,mslabel:i,label:a}});var c=Math.floor(4294967295*Math.random());t.ssrcs.push({original:c,ssrc:c,content:{cname:n,msid:r,mslabel:i,label:a}}),t.ssrc_groups.fid.push([l,c]),o.push(l)}t.ssrc_groups.sim.push(o)}}}},l.prototype.generate=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=0;n<this.sdp.global.length;n+=1){var r=this.sdp.global[n];if(r.match(/^a=group:BUNDLE([\w ]+)$/)){t.push("a=group:BUNDLE");for(var i=0;i<this.mlines.length;i+=1)"inactive"===this.mlines[i].direction&&!0===e.stripInactiveMLines||(t.push(" "),t.push(this.mlines[i].mid));t.push("\r\n")}else t.push(r),t.push("\r\n")}for(var a=0;a<this.sdp.mlines.length;a+=1){var o=this.mlines[a];if("inactive"!==o.direction||!0!==e.stripInactiveMLines)for(var s=!1,l=this.sdp.mlines[a],c=0;c<l.length;c+=1){var u=l[c];if(u.match(/^m=/))t.push("m="),t.push(o.type),t.push(" "),t.push(o.port),t.push(" "),t.push(o.proto),t.push(" "),t.push(o.payload_types.join(" ")),t.push("\r\n");else if(u.match(/^a=/)){var d=u.match(/^a=([\w-]+):(\d+) (.+)$/);if(d&&("rtpmap"===d[1]||"rtcp-fb"===d[1]||"fmtp"===d[1])){if("rtpmap"===d[1]){var f=d[2];if(o.codecs[f]){t.push("a=rtpmap:"),t.push(f),t.push(" "),t.push(o.codecs[f].rtpmap),t.push("\r\n");var h=o.codecs[f]["rtcp-fb"];if(h)for(var p=0;p<h.length;p+=1)t.push("a=rtcp-fb:"),t.push(f),t.push(" "),t.push(h[p]),t.push("\r\n");var m=o.codecs[f].fmtp;if(m){for(var v=[],g=0;g<m.length;g+=1)v.push(m[g].join("="));v.length>0&&(t.push("a=fmtp:"),t.push(f),t.push(" "),t.push(v.join(";")),t.push("\r\n"))}continue}continue}if("rtcp-fb"===d[1]||"fmtp"===d[1])continue;throw new Error("internal error")}if(u.match(/^a=mid:(\w+)$/))t.push("a=mid:"),t.push(o.mid),t.push("\r\n"),o.bandwidth>0&&(t.push("b=AS:"),t.push(o.bandwidth),t.push("\r\n"),t.push("b=TIAS:"),t.push(o.bandwidth),t.push("000"),t.push("\r\n"));else if("a=sendrecv"!==u&&"a=recvonly"!==u&&"a=sendonly"!==u&&"a=inactive"!==u){if(u.match(/^a=ssrc-group:SIM (.+)$/));else if(!u.match(/^a=ssrc-group:FID (.+)$/)){if(u.match(/^a=ssrc:(\d+) (.+)$/)){if(s)continue;s=!0;for(var b=0;b<o.ssrc_groups.sim.length;b+=1)t.push("a=ssrc-group:SIM "),t.push(o.ssrc_groups.sim[b].join(" ")),t.push("\r\n");for(var C=0;C<o.ssrc_groups.fid.length;C+=1)t.push("a=ssrc-group:FID "),t.push(o.ssrc_groups.fid[C].join(" ")),t.push("\r\n");for(var y=function(e){var n=o.ssrcs[e];["cname","msid","mslabel","label"].forEach((function(e){Object.prototype.hasOwnProperty.call(n.content,e)&&(t.push("a=ssrc:"),t.push(n.ssrc),t.push(" "),t.push(e),t.push(":"),t.push(n.content[e]),t.push("\r\n"))}))},S=0;S<o.ssrcs.length;S+=1)y(S);continue}t.push(u),t.push("\r\n");continue}}else t.push("a="),t.push(o.direction),t.push("\r\n")}else{if(u.match(/^b=/))continue;t.push(u),t.push("\r\n")}}}return t.join("")};var d=r.a.get("SDPManager"),f=function(){d.debug("SDPManager"),this.getSDPLines=function(e){d.debug("SDPManager::getSDPLines");var t,n=e.split("\r\n");for(t=0;t<n.length;t+=1)d.log("sdpLines[i] : "+n[t]);return n},this.getAudioMediaDescriptionPart=function(e){d.debug("SDPManager::getAudioMediaDescriptionPart");var t=e.split("m=audio"),n=null;return void 0!==t[1]&&null!==t[1]?(n=t[1].split("m=video"),d.log("SDP audio part : "+n[0]),n[0]):null},this.getVideoMediaDescriptionPart=function(e){d.debug("SDPManager::getVideoMediaDescriptionPart");var t,n=e.split("m=video");for(t=0;t<n.length;t+=1)d.log("sdpMediaPart[i] : "+n[t]);return n[1]},this.searchMediaDescriptionForRecvOnly=function(e){return d.debug("searchMediaDescriptionForRecvOnly"),-1!==e.search("a=recvonly")?(d.log("recvonly found in media description"),!0):(d.log("recvonly not found in media description"),!1)},this.searchSDPForRecvOnly=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForRecvOnly(e)):(d.log("recvonly not found in SDP"),!1)},this.searchMediaDescriptionForSendOnly=function(e){return d.debug("searchMediaDescriptionForSendOnly"),-1!==e.search("a=sendonly")?(d.log("sendonly found in media description"),!0):(d.log("sendonly not found in media description"),!1)},this.searchSDPForSendOnly=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForSendOnly(e)):(d.log("sendonly not found in SDP"),!1)},this.searchMediaDescriptionForInactive=function(e){return d.debug("searchMediaDescriptionForInactive"),-1!==e.search("a=inactive")?(d.log("inactive found in media description"),!0):(d.log("inactive not found in media description"),!1)},this.searchSDPForInactive=function(e){return void 0!==e?(d.log("sdpPart !== undefined"),this.searchMediaDescriptionForInactive(e)):(d.log("inactive not found in SDP"),!1)},this.stripAudioMediaDescriptionFromSDP=function(e){d.debug("SDPManager::stripAudioMediaDescriptionFromSDP");var t=this.createGuideline(e);return t.audio?(t.audio.direction="inactive",t.generate({stripInactiveMLines:!0})):e},this.stripVideoMediaDescriptionFromSDP=function(e){d.debug("SDPManager::stripVideoMediaDescriptionFromSDP");var t=this.createGuideline(e);return t.video?(t.video.direction="inactive",t.generate({stripInactiveMLines:!0})):e},this.setAudioBandwidth=function(e,t){return d.info("SDPManager::setAudioBandwidth",t),t?e=e.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+t+"\r\n"):(d.warn("No maxAudioBW !"),e)},this.setVideoBandwidth=function(e,t){if(d.info("SDPManager::setVideoBandwidth",t),!t)return d.warn("No maxVideoBW !"),e;for(var n=[],r=e.split("\r\n"),i=0,a=null,o=null;i<r.length;)if(0!==(a=r[i]).length)if(null!==o)a.match(/^m=/)?o=null:a.match(/^a=mid:(\w+)$/)?(n.push(a),n.push("\r\n"),n.push("b=AS:"),n.push(t),n.push("\r\n"),n.push("b=TIAS:"),n.push(t),n.push("000"),n.push("\r\n"),i+=1):(a.match(/^b=([A-Z]+):(\w+)$/)||(n.push(a),n.push("\r\n")),i+=1);else{var s=a.match(/^m=([a-z]+)(.+)$/);if(s&&"video"===s[1]){o="video",n.push(a),n.push("\r\n"),i+=1;continue}n.push(a),n.push("\r\n"),i+=1}else i+=1;return n.join("")},this.setDataBandwidth=function(e,t){return d.info("SDPManager::setDataBandwidth",t),t?e=e.replace(/a=mid:data\r\n/g,"a=mid:data\r\nb=AS:"+t+"\r\n"):(d.warn("No maxDataBW !"),e)},this.setSendOnlyForAudio=function(e){d.debug("SDPManager::setSendOnlyForAudio");var t=this.createGuideline(e);return Object(a.g)(t,"audio","object")&&(t.audio.direction="sendonly"),t.generate()},this.setSendOnlyForVideo=function(e){d.debug("SDPManager::setSendOnlyForVideo");var t=this.createGuideline(e);return Object(a.g)(t,"video","object")&&(t.video.direction="sendonly"),t.generate()},this.setSendOnly=function(e){d.debug("SDPManager::setSendOnly : global");var t=this.createGuideline(e);return Object(a.g)(t,"audio","object")&&(t.audio.direction="sendonly"),Object(a.g)(t,"video","object")&&(t.video.direction="sendonly"),t.generate()},this.setRecvOnlyForAudio=function(e){d.debug("SDPManager::setRecvOnlyForAudio");var t=this.createGuideline(e);return t.audio&&"inactive"!==t.audio.direction&&(t.audio.direction="recvonly"),t.generate()},this.setRecvOnlyForVideo=function(e){d.debug("SDPManager::setRecvOnlyForVideo");var t=this.createGuideline(e);return t.video&&"inactive"!==t.video.direction&&(t.video.direction="recvonly"),t.generate()},this.setRecvOnly=function(e){d.debug("SDPManager::setRecvOnly : global");var t=this.createGuideline(e);return t.audio&&"inactive"!==t.audio.direction&&(t.audio.direction="recvonly"),t.video&&"inactive"!==t.video.direction&&(t.video.direction="recvonly"),t.generate()},this.updateSDPcodecs=function(e,t,n,r){var i,a,o,s,l,c,u,f,h=!1,p=new RegExp("\r\n$"),m=!1,v=null,g="",b="",C="",y="",S="",w="",T="",I="";if(d.log("updateSDPcodecs():\n\tsdpType = "+t+"\n\tmediaType = "+n+"\n\tavailableCodecSet = "+r+"\n"),""==r)return e;for(o=(o=RTCSessionDescription&&e instanceof RTCSessionDescription?e.sdp:window.SessionDescription&&e instanceof SessionDescription?e.toSdp():e).split("\r\nm="),!1===p.test(o[o.length-2])&&(o[o.length-2]=o[o.length-2]+"\r\n",m=!0),i=0;i<o.length;i++)if(0===o[i].indexOf(n)){for(v=o[i].split("\r\n")[0].split(" "),a=3;a<v.length;a++)if(s=!0,!1===isNaN(v[a])){switch(b="a=rtpmap:"+v[a]+" ",-1!==(l=o[i].indexOf(b))&&(c=o[i].indexOf("\r\n",l)),v[a]){case 0:g="PCMU/8000";break;case 8:g="PCMA/8000";break;case 9:g="G722/8000";break;case 13:g="CN/8000";break;case 18:g="G729/8000";break;default:-1!==l&&(g=o[i].substring(l+b.length,c))}""!=g&&-1!==r.indexOf(g)?d.log("PT("+v[a]+"): "+g+" FOUND in availableCodecSet.\n"):(s=!1,d.log("PT("+v[a]+"): "+g+" NOT FOUND in availableCodecSet.\n")),s||(C=b+".*\r\n",y="a=fmtp:"+v[a]+" .*\r\n",T="a=rtcp-fb:"+v[a]+" .*\r\n",S=" "+v[a]+" ",w=" "+v[a]+"\r",o[i]=o[i].replace(new RegExp(C,"g"),""),o[i]=o[i].replace(new RegExp(y,"g"),""),o[i]=o[i].replace(new RegExp(T,"g"),""),(f=(u=o[i].split("\n"))[0].split("RTP"))[1]=f[1].replace(S," "),f[1]=f[1].replace(w,"\r"),u[0]=f.join("RTP"),o[i]=u.join("\n"),"video"===n&&(T="a=rtcp-fb:"+v[a]+" .*\r\n",o[i]=o[i].replace(new RegExp(T,"g"),""),""!=g&&"rtx/"===g.substr(0,4)&&(I="a=ssrc-group:FID .*\r\n",o[i]=o[i].replace(new RegExp(I,"g"),""),(u=o[i].split("\r\na=")).splice(u.length-8,4),o[i]=u.join("\r\na="))),h=!0)}break}return m&&(o[o.length-2]=o[o.length-2].substr(0,o[o.length-2].length-2)),o=o.join("\r\nm="),!0===h?(d.log("updateSDPcodecs(), SDP has been updated."),RTCSessionDescription&&e instanceof RTCSessionDescription?new RTCSessionDescription({type:t,sdp:o}):window.SessionDescription&&e instanceof SessionDescription?new SessionDescription(o):o):(d.log("updateSDPcodecs(), SDP has not been updated."),e)},this.preferOpus=function(e){var t,n=e.split("\r\n"),r=0,i=null;for(t=0;t<n.length;t+=1)if(-1!==n[t].search("m=audio")){r=t;break}if(0===r)return e;for(t=0;t<n.length;t+=1)if(-1!==n[t].search("opus/48000")){(i=this.extractSdp(n[t],/:(\d+) opus\/48000/i))&&(n[r]=this.setDefaultCodec(n[r],i));break}return(n=this.removeCN(n,r)).join("\r\n")},this.removeCN=function(e,t){var n=0,r=e[t].split(" "),i=null,a=0;for(n=e.length-1;n>=0;n--)(i=this.extractSdp(e[n],/a=rtpmap:(\d+) CN\/\d+/i))&&(-1!==(a=r.indexOf(i))&&r.splice(a,1),e.splice(n,1));return e[t]=r.join(" "),e},this.extractSdp=function(e,t){var n=e.match(t);return n&&2==n.length?n[1]:null},this.setDefaultCodec=function(e,t){var n=0,r=e.split(" "),i=r.slice(0,3);for(i.push(t),n=3;n<r.length;n++)r[n]!==t&&i.push(r[n]);return i.join(" ")},this.findLineInRange=function(e,t,n,r,i){var a,o=-1!==n?n:e.length;for(a=t;a<o;++a)if(0===e[a].indexOf(r)&&(!i||-1!==e[a].toLowerCase().indexOf(i.toLowerCase())))return a;return null},this.findLine=function(e,t,n){return this.findLineInRange(e,0,-1,t,n)},this.getCodecPayloadType=function(e,t){var n=this.findLine(e,"a=rtpmap",t);return n?this.getCodecPayloadTypeFromLine(e[n]):null},this.getCodecPayloadTypeFromLine=function(e){var t=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),n=e.match(t);return n&&2===n.length?n[1]:null},this.findFmtpLine=function(e,t){var n=this.getCodecPayloadType(e,t);return n?this.findLine(e,"a=fmtp:"+n.toString()):null},this.writeFmtpLine=function(e){if(!e.hasOwnProperty("pt")||!e.hasOwnProperty("params"))return null;var t=e.pt,n=e.params,r=[],i=0,a=null;for(a in n)r[i]=a+"="+n[a],++i;return 0===i?null:"a=fmtp:"+t.toString()+" "+r.join("; ")},this.setCodecParam=function(e,t,n,r){var i=e.split("\r\n"),a=this.findFmtpLine(i,t),o={},s=null,l=null;if(null===a){if(null===(l=this.findLine(i,"a=rtpmap",t)))return e;s=this.getCodecPayloadTypeFromLine(i[l]),o.pt=s.toString(),o.params={},o.params[n]=r,i.splice(l+1,0,this.writeFmtpLine(o))}else(o=function(e){var t,n={},r=e.indexOf(" "),i=e.substring(r+1).split("; "),a=new RegExp("a=fmtp:(\\d+)"),o=e.match(a),s={},l=null;if(!o||2!==o.length)return null;for(n.pt=o[1],t=0;t<i.length;++t)2===(l=i[t].split("=")).length&&(s[l[0]]=l[1]);return n.params=s,n}(i[a])).params[n]=r,i[a]=this.writeFmtpLine(o);return i.join("\r\n")},this.maybePreferCodec=function(e,t,n){var r,i,a=t+" codec",o=null;return n?(d.log("Prefer "+a+": "+n),o=e.split("\r\n"),null===(r=this.findLine(o,"m=",t))?(d.log("mLineIndex === null"),e):((i=this.getCodecPayloadType(o,n))&&(o[r]=this.setDefaultCodec(o[r],i)),e=o.join("\r\n"))):(d.log("No preference on "+a+"."),e)},this.createGuideline=c},h=(n(47),n(31),n(149),n(161),n(99),function(e,t,n,r,i,a,o,s){this.rawStats={},this.rawStats.connectedPair=[],this.rawStats.audio_send=[],this.rawStats.audio_recv=[],this.rawStats.video_send=[],this.rawStats.video_recv=[],this.instantRTT=0,this.moyRttCP=[0,0,0,0,0,0,0,0,0,0],this.moyRttAS=[0,0,0,0,0,0,0,0,0,0],this.moyRttVS=[0,0,0,0,0,0,0,0,0,0],this.tauxPacketLossAS=[0],this.oldLostAS=this.oldSentAS=0,this.oldLostVS=this.oldLostVS=0,this.cptTaux=0,this.tauxPacketLossVS=[0],this.oldBandwidthAS=0,this.oldBandwidthVS=0,this.oldBandwidthAR=0,this.oldBandwidthVR=0,this.bandwidthAS=[0,0,0,0,0,0,0,0,0,0],this.bandwidthAR=[0,0,0,0,0,0,0,0,0,0],this.bandwidthVS=[0,0,0,0,0,0,0,0,0,0],this.bandwidthVR=[0,0,0,0,0,0,0,0,0,0],this.qosIn=0,this.qosInAverage=0,this.qosInAverageCount=0,this.qosAudioIn=0,this.qosAudioInAverage=0,this.qosAudioInAverageCount=0,this.qosVideoIn=0,this.qosVideoInAverage=0,this.qosVideoInAverageCount=0,this.qosOut=0,this.qosOutAverage=0,this.qosOutAverageCount=0,this.qosAudioOut=0,this.qosAudioOutAverage=0,this.qosAudioOutAverageCount=0,this.qosVideoOut=0,this.qosVideoOutAverage=0,this.qosVideoOutAverageCount=0,this.onQosChange=t,this.onQosAudioChange=n,this.onQosVideoChange=r,this.cpt=0,this.cptRes=5,this.cptDb=60,this.saveStatsFlag=!0,this.tabQosIn=[],this.tabQosAudioIn=[],this.tabQosVideoIn=[],this.tabQosOut=[],this.tabQosAudioOut=[],this.tabQosVideoOut=[],this.tabTimestamp=[],this.tabDelay=[],this.tabJitterBufferAudio=[],this.tabJitterBufferVideo=[],this.tabAudioRtt=[],this.tabVideoRtt=[],this.tabAudioBW=[],this.tabVideoBW=[],this.clientId=o,this.callId=i,this.apiKey=a,this.socket=s,this.interval=e,this.insertStats=function(e,t,n,r){var i,a,o,s=null;for(this.cpt=this.cpt+this.interval,i=0;i<e.length;++i){var l=e[i];switch(l.type){case"googCandidatePair":for(s=l.names(),o=0;o<s.length;++o)if("googActiveConnection"==s[o]&&"true"==l.stat(s[o]))for(a=0;a<s.length;++a)"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.bytesSent=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.bytesReceived=l.stat(s[a])),"googRtt"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.connectedPair.googRtt=l.stat(s[a]));break;case"ssrc":for(s=l.names(),o=0;o<s.length;++o){if("audioOutputLevel"==s[o])for(a=0;a<s.length;++a)"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.packetsLost=l.stat(s[a])),"googDecodingPLC"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googDecodingPLC=l.stat(s[a])),"googJitterReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googJitterReceived=l.stat(s[a])),"googJitterBufferMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googJitterBufferMs=l.stat(s[a])),"googCurrentDelayMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.googCurrentDelayMs=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_recv.bytesReceived=l.stat(s[a]));if("audioInputLevel"==s[o])for(a=0;a<s.length;++a)"googRtt"==s[a]&&void 0!==l.stat(s[a])&&-1!=l.stat(s[a])&&(this.rawStats.audio_send.googRtt=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.packetsLost=l.stat(s[a])),"packetsSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.packetsSent=l.stat(s[a])),"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.bytesSent=l.stat(s[a])),"googJitterReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.audio_send.googJitterReceived=l.stat(s[a]));if("googFrameHeightReceived"==s[o])for(a=0;a<s.length;++a)"googFrameHeightReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.FrameHeight=l.stat(s[a])),"googFrameWidthReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.FrameWidth=l.stat(s[a])),"googCurrentDelayMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.delay=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.packetsLost=l.stat(s[a])),"googNacksSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googNacksSent=l.stat(s[a])),"googJitterBufferMs"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googJitterBufferMs=l.stat(s[a])),"bytesReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.bytesReceived=l.stat(s[a])),"googFrameRateReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_recv.googFrameRateReceived=l.stat(s[a]));if("googFrameHeightSent"==s[o])for(a=0;a<s.length;++a)"googFrameHeightSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.FrameHeight=l.stat(s[a])),"googFrameWidthSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.FrameWidth=l.stat(s[a])),"packetsLost"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.packetsLost=l.stat(s[a])),"googNacksReceived"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googNacksReceived=l.stat(s[a])),"googRtt"==s[a]&&void 0!==l.stat(s[a])&&-1!=l.stat(s[a])&&(this.rawStats.video_send.googRtt=l.stat(s[a])),"packetsSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.packetsSent=l.stat(s[a])),"bytesSent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.bytesSent=l.stat(s[a])),"googEncodeUsagePercent"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googEncodeUsagePercent=l.stat(s[a])),"googCpuLimitedResolution"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googCpuLimitedResolution=l.stat(s[a])),"googBandwidthLimitedResolution"==s[a]&&void 0!==l.stat(s[a])&&(this.rawStats.video_send.googBandwidthLimitedResolution=l.stat(s[a]))}}}this.computeStats(t,n,r),this.cpt%this.cptRes==0&&this.saveStatsLocal(),this.cpt%this.cptDb==0&&this.saveStatsToDb(!1)},this.saveStatsLocal=function(){if(this.saveStatsFlag){var e=Date.now();this.tabTimestamp.push(e),this.tabQosIn.push(this.qosIn),this.tabQosAudioIn.push(this.qosAudioIn),0!==this.qosVideoIn&&this.tabQosVideoIn.push(this.qosVideoIn),this.tabQosOut.push(this.qosOut),this.tabQosAudioOut.push(this.qosAudioOut),0!==this.qosVideoOut&&this.tabQosVideoOut.push(this.qosVideoOut),this.tabJitterBufferAudio.push(this.rawStats.audio_recv.googJitterBufferMs),void 0!==this.rawStats.video_recv.googJitterBufferMs&&this.tabJitterBufferVideo.push(this.rawStats.video_recv.googJitterBufferMs),void 0!==this.rawStats.video_send.googRtt&&this.tabVideoRtt.push(this.rawStats.video_send.googRtt),this.tabAudioRtt.push(this.rawStats.audio_send.googRtt),void 0!==this.bandwidthAS&&this.tabVideoBW.push(8*this.Average(this.bandwidthAS)/1024),void 0!==this.bandwidthVS&&this.tabVideoBW.push(8*this.Average(this.bandwidthVS)/1024),void 0!==this.bandwidthAR&&this.tabVideoBW.push(8*this.Average(this.bandwidthAR)/1024),void 0!==this.bandwidthVR&&this.tabVideoBW.push(8*this.Average(this.bandwidthVR)/1024)}},this.saveStatsToDb=function(e){},this.saveStatsToDb=function(e){this.saveStatsFlag=e},this.computeStats=function(e,t,n){var r=0;-1!==this.rawStats.connectedPair.googRtt&&0!==this.rawStats.connectedPair.googRtt&&void 0!==this.rawStats.connectedPair.googRtt&&this.add(this.rawStats.connectedPair.googRtt,this.moyRttCP),-1!==this.rawStats.video_send.googRtt&&0!==this.rawStats.video_send.googRtt&&void 0!==this.rawStats.video_send.googRtt&&(this.add(this.rawStats.video_send.googRtt,this.moyRttVS),this.instantRTT=this.rawStats.video_send.googRtt),-1!==this.rawStats.audio_send.googRtt&&0!==this.rawStats.audio_send.googRtt&&void 0!==this.rawStats.audio_send.googRtt&&this.add(this.rawStats.audio_send.googRtt,this.moyRttAS),-1!==this.rawStats.audio_send.packetsLost&&void 0!==this.rawStats.audio_send.packetsLost&&-1!==this.rawStats.audio_send.packetsSent&&0!==this.rawStats.audio_send.packetsSent&&void 0!==this.rawStats.audio_send.packetsSent&&(r=100*(this.rawStats.audio_send.packetsLost-this.oldLostAS)/(this.rawStats.audio_send.packetsSent-this.oldSentAS),this.oldLostAS=this.rawStats.audio_send.packetsLost,this.oldSentAS=this.rawStats.audio_send.packetsSent,this.add(r,this.tauxPacketLossAS)),-1!==this.rawStats.video_send.packetsLost&&void 0!==this.rawStats.video_send.packetsLost&&-1!==this.rawStats.video_send.packetsSent&&0!==this.rawStats.video_send.packetsSent&&void 0!==this.rawStats.video_send.packetsSent&&(r=100*(this.rawStats.video_send.packetsLost-this.oldLostVS)/(this.rawStats.video_send.packetsSent-this.oldSentVS),this.oldLostVS=this.rawStats.video_send.packetsLost,this.oldSentVS=this.rawStats.video_send.packetsSent,this.add(r,this.tauxPacketLossVS)),-1!==this.rawStats.audio_recv.bytesReceived&&void 0!==this.rawStats.audio_recv.bytesReceived&&(void 0===this.oldBandwidthAR&&(this.oldBandwidthAR=0),this.add((this.rawStats.audio_recv.bytesReceived-this.oldBandwidthAR)/this.interval,this.bandwidthAR),this.oldBandwidthAR=this.rawStats.audio_recv.bytesReceived),-1!==this.rawStats.video_recv.bytesReceived&&void 0!==this.rawStats.video_recv.bytesReceived&&(void 0===this.oldBandwidthVR&&(this.oldBandwidthVR=0),this.add((this.rawStats.video_recv.bytesReceived-this.oldBandwidthVR)/this.interval,this.bandwidthVR),this.oldBandwidthVR=this.rawStats.video_recv.bytesReceived),-1!==this.rawStats.audio_send.bytesSent&&void 0!==this.rawStats.audio_send.bytesSent&&(void 0===this.oldBandwidthAS&&(this.oldBandwidthAS=0),this.add((this.rawStats.audio_send.bytesSent-this.oldBandwidthAS)/this.interval,this.bandwidthAS),this.oldBandwidthAS=this.rawStats.audio_send.bytesSent),-1!==this.rawStats.video_send.bytesSent&&void 0!==this.rawStats.video_send.bytesSent&&(void 0===this.oldBandwidthVS&&(this.oldBandwidthVS=0),this.add((this.rawStats.video_send.bytesSent-this.oldBandwidthVS)/this.interval,this.bandwidthVS),this.oldBandwidthVS=this.rawStats.video_send.bytesSent);var i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,f=0,h=0,p=this.getCodecs(t),m=8*this.Average(this.bandwidthAS)/1024;if(m<5?i=1:m>=5&&m<10?i=2:m>=10&&(i=3),null!==p&&p[1]){var v=8*this.Average(this.bandwidthVS)/1024;v<240?s=1:v>=240&&v<330?s=2:v>=330&&(s=3)}this.rawStats.audio_recv.googJitterBufferMs<60?a=3:this.rawStats.audio_recv.googJitterBufferMs>=60&&this.rawStats.audio_recv.googJitterBufferMs<100?a=2:this.rawStats.audio_recv.googJitterBufferMs>=100&&(a=1),this.rawStats.audio_recv.googCurrentDelayMs<100?o=3:this.rawStats.audio_recv.googCurrentDelayMs>=100&&this.rawStats.audio_recv.googCurrentDelayMs<200?o=2:this.rawStats.audio_recv.googCurrentDelayMs>=200&&(o=1),null!==p&&p[1]&&(this.rawStats.video_recv.googJitterBufferMs<100?l=3:this.rawStats.video_recv.googJitterBufferMs>=100&&this.rawStats.video_recv.googJitterBufferMs<200?l=2:this.rawStats.video_recv.googJitterBufferMs>=200&&(l=1));var g=!1,b=!1,C=!1;null!==p&&p[1]?(Math.ceil((i+2*s+l+a+o)/6)!=this.qosIn&&(g=!0),this.qosIn=Math.ceil((i+2*s+l+a+o)/6),this.qosInAverage=(this.qosInAverage*this.qosInAverageCount+this.qosIn)/(this.qosInAverageCount+1),this.qosInAverageCount++,Math.ceil((i+a+o)/3)!=this.qosAudioIn&&(b=!0),this.qosAudioIn=Math.ceil((i+a+o)/3),this.qosAudioInAverage=(this.qosAudioInAverage*this.qosAudioInAverageCount+this.qosAudioIn)/(this.qosAudioInAverageCount+1),this.qosAudioInAverageCount++,Math.ceil((2*s+l)/3)!=this.qosVideoIn&&(C=!0),this.qosVideoIn=Math.ceil((2*s+l)/3),this.qosVideoInAverage=(this.qosVideoInAverage*this.qosVideoInAverageCount+this.qosVideoIn)/(this.qosVideoInAverageCount+1),this.qosVideoInAverageCount++):(Math.ceil((i+a+o)/3)!=this.qosOut&&(g=!0),this.qosIn=Math.ceil((i+a+o)/3),this.qosInAverage=(this.qosInAverage*this.qosInAverageCount+this.qosIn)/(this.qosInAverageCount+1),this.qosInAverageCount++,Math.ceil((i+a+o)/3)!=this.qosAudioIn&&(b=!0),this.qosAudioIn=Math.ceil((i+a+o)/3),this.qosAudioInAverage=(this.qosAudioInAverage*this.qosAudioInAverageCount+this.qosAudioIn)/(this.qosAudioInAverageCount+1),this.qosAudioInAverageCount++),this.RttAverage(this.moyRttAS)<80?u=3:this.RttAverage(this.moyRttAS)>=80&&this.RttAverage(this.moyRttAS)<150?u=2:this.RttAverage(this.moyRttAS)>=150&&(u=1),this.tauxPacketLossAS<=5?c=3:this.tauxPacketLossAS>5&&this.tauxPacketLossAS<10?c=2:this.tauxPacketLossAS>=10&&(c=1),this.rawStats.audio_recv.googJitterReceived<80?d=3:this.rawStats.audio_recv.googJitterReceived>=80&&this.rawStats.audio_recv.googJitterReceived<150?d=2:this.rawStats.audio_recv.googJitterReceived>=150&&(d=1),null!==p&&p[1]&&(this.tauxPacketLossVS<=5?f=3:this.tauxPacketLossVS>5&&this.tauxPacketLossVS<10?f=2:this.tauxPacketLossVS>=10&&(f=1),this.RttAverage(this.moyRttVS)<80?h=3:this.RttAverage(this.moyRttVS)>=80&&this.RttAverage(this.moyRttVS)<150?h=2:this.RttAverage(this.moyRttVS)>=150&&(h=1)),null!==p&&p[1]?(Math.ceil((u+2*c+d+2*f+h)/7)!=this.qosOut&&(g=!0),this.qosOut=Math.ceil((u+2*c+d+2*f+h)/7),this.qosOutAverage=(this.qosOutAverage*this.qosOutAverageCount+this.qosOut)/(this.qosOutAverageCount+1),this.qosOutAverageCount++,Math.ceil((u+2*c+d)/4)!=this.qosAudioOut&&(b=!0),this.qosAudioOut=Math.ceil((u+2*c+d)/4),this.qosAudioOutAverage=(this.qosAudioOutAverage*this.qosAudioOutAverageCount+this.qosAudioOut)/(this.qosAudioOutAverageCount+1),this.qosAudioOutAverageCount++,Math.ceil((2*f+h)/3)!=this.qosVideoOut&&(C=!0),this.qosVideoOut=Math.ceil((2*f+h)/3),this.qosVideoOutAverage=(this.qosVideoOutAverage*this.qosVideoOutAverageCount+this.qosVideoOut)/(this.qosVideoOutAverageCount+1),this.qosVideoOutAverageCount++):(Math.ceil((u+2*c+d)/4)!=this.qosOut&&(g=!0),this.qosOut=Math.ceil((u+2*c+d)/4),this.qosOutAverage=(this.qosOutAverage*this.qosOutAverageCount+this.qosOut)/(this.qosOutAverageCount+1),this.qosOutAverageCount++,Math.ceil((u+2*c+d)/4)!=this.qosAudioOut&&(b=!0),this.qosAudioOut=Math.ceil((u+2*c+d)/4),this.qosAudioOutAverage=(this.qosAudioOutAverage*this.qosAudioOutAverageCount+this.qosAudioOut)/(this.qosAudioOutAverageCount+1),this.qosAudioOutAverageCount++),g&&this.onQosChange(this.qosIn,this.qosOut),b&&this.onQosAudioChange(this.qosAudioIn,this.qosAudioOut),C&&this.onQosVideoChange(this.qosVideoIn,this.qosVideoOut)},this.getCodecs=function(e){var t=!1,n=!1,r=null,i=null;if(null!=e&&void 0!==e.sdp){for(var a=e.sdp.split("\n"),o=0;o<a.length;o++)-1!=a[o].indexOf("a=mid:audio")&&(t=!0),-1!=a[o].indexOf("a=mid:video")&&(n=!0),t&&-1!=a[o].indexOf("a=rtpmap:")&&(r=a[o],t=!1),n&&-1!=a[o].indexOf("a=rtpmap:")&&(i=a[o],n=!1);return[r,i]}return null},this.getQosScore=function(){return[this.qosIn,this.qosOut,this.qosAudioIn,this.qosAudioOut,this.qosVideoIn,this.qosVideoOut]},this.getStat=function(e){switch(e){case"AudioOutBandwidth":return 8*this.Average(this.bandwidthAS)/1024;case"VideoOutBandwidth":return 8*this.Average(this.bandwidthVS)/1024;case"AudioInBandwidth":return 8*this.Average(this.bandwidthAR)/1024;case"VideoInBandwidth":return 8*this.Average(this.bandwidthVR)/1024;case"AudioInJitterReceived":return this.rawStats.audio_recv.googJitterReceived;case"AudioInJitterBufferMs":return this.rawStats.audio_recv.googJitterBufferMs;case"AudioInDelay":return this.rawStats.audio_recv.googCurrentDelayMs;case"AudioOutLossRate":return this.tauxPacketLossAS;case"AudioOutRtt":return this.RttAverage(this.moyRttAS);case"AudioOutJitterReceived":return this.rawStats.audio_send.googJitterReceived;case"VideoInJitterBufferMs":return this.rawStats.video_recv.googJitterBufferMs;case"VideoOutLossRate":return this.tauxPacketLossVS;case"VideoOutRtt":return this.RttAverage(this.moyRttVS)}},this.getAllStats=function(){for(var e={AudioRecv:{},AudioSend:{},VideoRecv:{},VideoSend:{}},t={AudioRecv:"audio_recv",VideoRecv:"video_recv",AudioSend:"audio_send",VideoSend:"video_send"},n=Object.keys(t),r=0;r<n.length;r++)for(var i=Object.keys(this.rawStats[t[n[r]]]),a=0;a<i.length;a++)e[n[r]][i[a]]=this.rawStats[t[n[r]]][i[a]];return e.AudioRecv.bandwidth=8*this.Average(this.bandwidthAR)/1024,e.VideoRecv.bandwidth=8*this.Average(this.bandwidthVR)/1024,e.AudioSend.bandwidth=8*this.Average(this.bandwidthAS)/1024,e.VideoSend.bandwidth=8*this.Average(this.bandwidthVS)/1024,e.AudioRecv.jitterReceived=this.rawStats.audio_recv.googJitterReceived,e.AudioRecv.jitterBufferMs=this.rawStats.audio_recv.googJitterBufferMs,e.VideoRecv.jitterBufferMs=this.rawStats.video_recv.googJitterBufferMs,e.AudioRecv.delay=this.rawStats.audio_recv.googCurrentDelayMs,e.AudioSend.rtt=this.RttAverage(this.moyRttAS),e.VideoSend.moyRtt=this.RttAverage(this.moyRttVS),e.VideoSend.rtt=this.instantRTT,e.VideoSend.FrameHeight=this.rawStats.video_send.FrameHeight,e.VideoSend.FrameWidth=this.rawStats.video_send.FrameWidth,e.AudioSend.packetLostRatio=this.tauxPacketLossAS[this.tauxPacketLossAS.length-1],e.VideoSend.packetLostRatio=this.tauxPacketLossVS[this.tauxPacketLossVS.length-1],e.VideoSend.googEncodeUsagePercent=this.rawStats.video_send.googEncodeUsagePercent,e.VideoSend.googCpuLimitedResolution=this.rawStats.video_send.googCpuLimitedResolution,e.VideoSend.googBandwidthLimitedResolution=this.rawStats.video_send.googBandwidthLimitedResolution,delete e.AudioRecv.googCurrentDelayMs,delete e.AudioRecv.googJitterReceived,delete e.AudioRecv.googJitterBufferMs,delete e.VideoRecv.googJitterBufferMs,delete e.AudioSend.googRtt,delete e.VideoSend.googRtt,e},this.displayComputedStats=function(){console.log("Audio IN JitterReceived:"+this.rawStats.audio_recv.googJitterReceived+" jitterbufferMs:"+this.rawStats.audio_recv.googJitterBufferMs+" delay:"+this.rawStats.audio_recv.googCurrentDelayMs+" bandwidth :"+8*this.Average(this.bandwidthAS)/1024+" kBits/s"),console.log("Audio OUT  lossRate:"+this.tauxPacketLossAS+" rtt:"+this.RttAverage(this.moyRttAS)+" googJitterReceived:"+this.rawStats.audio_recv.googJitterReceived),console.log("Video IN jitter buffer ms:"+this.rawStats.video_recv.googJitterBufferMs+" bandwidth:"+8*this.Average(this.bandwidthVS)/1024+" kBits/s"),console.log("Video OUT loss rate:"+this.tauxPacketLossVS+" rtt:"+this.RttAverage(this.moyRttVS))},this.RttAverage=function(e){for(var t=0,n=0,r=0;r<e.length;++r)0!==e[r]&&-1!==e[r]&&void 0!==e[r]&&(t+=parseInt(e[r],10),n++);return parseInt(t/n,10)},this.Average=function(e){for(var t=0,n=0,r=0;r<e.length;++r)-1!=e[r]&&void 0!==e[r]&&(t+=parseInt(e[r],10),n++);return parseInt(t/n,10)},this.add=function(e,t){t.pop(),t.unshift(e)},this.displayTab=function(e){for(var t in e)console.log(t+" = "+e[t])}}),p=r.a.get("DataChannelFileSender"),m=apiCC.myWebRTC_Event,v=function(e){this.call=e,this.sendChunkNb=0,this.send=function(t,n,r){var i={},o=null,s={},l=!1,c={};if(p.info("DataChannelFileSender send"),p.log("data.name :"+t.name),t.file instanceof Blob?(p.log("Blob"),this.blob=t.file,this.contentType=t.file.type,this.size=t.file.size,this.originalDataType="Blob"):t.file instanceof ArrayBuffer?(p.log("ArrayBuffer"),this.blob=t.file,this.contentType="application/octet-stream",this.size=t.file.byteLength,this.originalDataType="ArrayBuffer"):t.file instanceof String||"string"==typeof t.file?(p.log("string"),this.blob=t.file,this.size=t.file.length,this.contentType="application/octet-stream",this.originalDataType="String"):(p.log("unknown type"),this.blob=t.file,this.contentType="application/octet-stream",this.size=t.file.length||t.file.byteLength||t.file.size,this.originalDataType="Unknown"),this.contentType||(this.contentType="application/octet-stream"),0===this.size)return p.log("sending done"),void 0!==r&&(p.log("onProgress"),this.transferDuration=new Date-this.startingDate,r({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:l,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!0})),m.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:l,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!0}),void m.createEvent({eventType:"onFileSended",callId:e.callId,remoteId:e.remoteId,name:t.name,uuid:t.uuid});if(n)if("open"===n.readyState){if(0===this.sendChunkNb&&p.log("first packet"),0===this.sendChunkNb){t.uuid=(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"-"),s={name:t.name,type:t.type,size:this.size,contentType:this.contentType,uuid:t.uuid},p.log("first packet",s),this.fileSize=this.size,void 0!==r&&(p.log("onProgress"),this.startingDate=new Date,this.transferDuration=0,r({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:l,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}),m.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,lastPacket:l,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}));try{n.send(JSON.stringify(s))}catch(e){p.warn("error detected when sending on datachannel :",n),p.warn("error is :",e)}m.createEvent({eventType:"onFileSending",callId:e.callId,remoteId:e.remoteId,name:t.name,uuid:t.uuid})}else{12e3<this.size?(p.log("sending chunk"),i=this.blob.slice(0,12e3)):(p.log("sending last chunk"),i=this.blob.slice(0),l=!0),p.log("dataToSend.byteLength ="+i.byteLength),"ArrayBuffer"===this.originalDataType?c.message=a.b.encode(i):c.message=i,c.messageSize=i.byteLength,c.uuid=t.uuid,c.originalDataType=this.originalDataType,void 0!==r&&(p.log("onProgress"),this.transferDuration=new Date-this.startingDate,r({sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,startingDate:this.startingDate,lastPacket:l,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}),m.createEvent({eventType:"onFileProgress",sendChunkNb:this.sendChunkNb,fileSize:this.fileSize,remainingSize:this.size,callId:e.callId,uuid:t.uuid,remoteId:e.remoteId,startingDate:this.startingDate,lastPacket:l,transferDuration:this.transferDuration,percentage:parseInt(100*(this.fileSize-this.size)/this.fileSize,10),transferEnded:!1}));try{n.send(JSON.stringify(c))}catch(e){p.warn("error detected when sending on datachannel :",n),p.warn("error is :",e)}}o=0===this.sendChunkNb?this.blob:this.blob.slice(12e3),!1===l?this.sendChunkNb++:this.sendChunkNb=0,t.file=o,setTimeout(function(){this.send(t,n,r)}.bind(this))}else p.log("Trying to send on a closed channel");else p.log("No data channel to send data")},this.terminateTransfer=function(){var e=this;p.debug("terminateTransfer; terminated: "+this.terminated),null!==this.channel?!0===this.useBufferedAmount&&this.channel.bufferedAmount>0&&!0!==this.canceled?setTimeout(this.terminateTransfer.bind(this)):!0!==this.terminated&&(this.terminated=!0,this.recvDataEndAckTimeoutId&&(clearTimeout(this.recvDataEndAckTimeoutId),delete this.recvDataEndAckTimeoutId),delete this.call.dcfs,p.debug("terminateTransfer; terminating"),this.call.pipelineCallId?(this.call.pipelineCall&&(delete this.call.pipelineCall.clientCall,delete this.call.pipelineCall,this.call.sendDataChannel=null),this.channel=null):setTimeout((function(){e.channel.close(),e.channel=null})),setTimeout((function(){if(!0===e.canceled)m.createEvent({eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename,error:"canceled"}),e.call.callbacks.failure("canceled");else if(e.call.failure)m.createEvent({eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename,error:e.call.failure}),e.call.callbacks.failure(e.call.failure);else{var t={eventType:"onFileSended",callId:e.call.callId,remoteId:e.call.remoteId,name:e.call.data.filename};e.call.success.data&&(t.data=e.call.success.data),m.createEvent(t),e.call.callbacks.success(e.call.success)}apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e.call.callId)}))):p.warn("No data channel to send data, leaving terminateTransfer")},this.recvDataEndAckTimeout=function(){p.error("recvDataEndAckTimeout"),this.call.failure="ackNotReceived",setTimeout(this.terminateTransfer.bind(this))},this.subsequentTransfer=function(){var e,t=!1;if(p.debug("subsequentTransfer; remByteCount: "+this.remByteCount),!0!==this.canceled)if(null!==this.channel)if(!0===this.useBufferedAmount&&this.channel.bufferedAmount>1<<17)setTimeout(this.subsequentTransfer.bind(this));else try{for(;;){if(!(this.remByteCount>=this.chunkLength)){e=this.data.slice(this.offset,this.offset+this.remByteCount),this.channel.send(e),this.packetsSent+=1,p.debug("packetSent "+this.packetsSent+" "+this.remByteCount),this.offset+=this.remByteCount,this.remByteCount-=this.remByteCount,t=!0;break}if(e=this.data.slice(this.offset,this.offset+this.chunkLength),this.channel.send(e),this.packetsSent+=1,p.debug("packetSent "+this.packetsSent+" "+this.chunkLength),this.offset+=this.chunkLength,this.remByteCount-=this.chunkLength,this.remByteCount<=0){t=!0;break}if(!0!==this.useBufferedAmount||this.channel.bufferedAmount>1<<17)break}!0===t?(m.createEvent({eventType:"onFileProgress",name:this.call.data.filename,sendChunkNb:this.packetsSent,fileSize:this.call.data.size,remainingSize:this.remByteCount,callId:this.call.callId,remoteId:this.call.remoteId,percentage:100}),this.call.callbacks.progress({state:"complete",filename:this.call.data.filename,size:this.call.data.size,remBytes:0,progress:100}),this.call.success={state:"complete",filename:this.call.data.filename,size:this.call.data.size,mediaURL:this.call.mediaURL,mediaId:this.call.mediaId},this.recvDataEndAckTimeoutId=setTimeout(this.recvDataEndAckTimeout.bind(this),3e4)):(m.createEvent({eventType:"onFileProgress",name:this.call.data.filename,sendChunkNb:this.packetsSent,fileSize:this.call.data.size,remainingSize:this.remByteCount,callId:this.call.callId,remoteId:this.call.remoteId,percentage:Math.floor(100*this.offset/this.call.data.size)}),this.call.callbacks.progress({state:"incomplete",filename:this.call.data.filename,size:this.call.data.size,remBytes:this.remByteCount,progress:Math.floor(100*this.offset/this.call.data.size)}),setTimeout(this.subsequentTransfer.bind(this)))}catch(e){return p.error("transfer: "+e),this.call.failure="dataChannelFailed",void setTimeout(this.terminateTransfer.bind(this))}else p.warn("No data channel to send data, leaving subsequentTransfer");else setTimeout(this.terminateTransfer.bind(this))},this.transfer=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.hasOwnProperty("delay")?i.delay:100;if(p.info("transfer",n,o),this.call.beginTimeoutId&&(clearTimeout(this.call.beginTimeoutId),delete this.call.beginTimeoutId),this.data=t,this.channel=r,null!==this.channel){"number"==typeof this.channel.bufferedAmount&&this.channel.bufferedAmount>=0&&(p.debug("browserDetails",a.c),"chrome"===a.c.type?a.c.version>=37&&(this.useBufferedAmount=!0,p.debug("useBufferedAmount enabled")):(this.useBufferedAmount=!0,p.debug("useBufferedAmount enabled"))),this.chunkLength=8192,n>0?(this.offset=Math.floor(n/this.chunkLength)*this.chunkLength,this.remByteCount=this.data.byteLength-this.offset):(this.offset=0,this.remByteCount=this.data.byteLength),this.packetsSent=0;try{var s={chunkLength:this.chunkLength,offset:this.offset,remBytes:this.remByteCount};this.call.pipelineCallId&&(s.pluginName=e.data.pluginName,s.pluginData=e.data.pluginData,e.data.context&&(s.context=e.data.context)),this.channel.send(JSON.stringify(s))}catch(e){return p.error("transfer:",e),this.call.failure="dataChannelFailed",void setTimeout(this.terminateTransfer.bind(this))}m.createEvent({eventType:"onFileSending",callId:this.call.callId,remoteId:this.call.remoteId,name:this.call.data.filename}),setTimeout(this.subsequentTransfer.bind(this),o)}else p.warn("No data channel to send data, leaving transfer")}},g=(r.a.get("CallStatsMonitor"),function(e,t,n,r){this.interval=e,this.browserType=t,this.browserVersion=n,this.flavor=r,this.prevData={},this.prevDataThreshold=10/e,this.prevDataThreshold<2&&(this.prevDataThreshold=2),this.STANDARD_STAT_KEYS={audioReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},videoReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteAudioSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteVideoSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},audioSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},videoSent:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteAudioReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1},remoteVideoReceived:{codecId:!1,id:!1,ssrc:!1,trackId:!1,transportId:!1}},this.refineStats_chrome_proprietary=function(e,t){var n,r;for(n=0;n<t.length;n+=1){var i=t[n],a=null,o=null;if("ssrc"===i.type)if(i.id.indexOf("recv")>=0){if("audio"===i.stat("mediaType"))for(e.audioReceived={timestamp:Math.floor(Date.parse(i.timestamp))/1e3,type:"inbound-rtp",isRemote:!1,mediaType:"audio",packetsReceived:0,bytesReceived:0},a=i.names(),r=0;r<a.length;r+=1)"packetsReceived"===(o=a[r])?e.audioReceived.packetsReceived=parseInt(i.stat("packetsReceived"),10):"bytesReceived"===o&&(e.audioReceived.bytesReceived=parseInt(i.stat("bytesReceived"),10));else if("video"===i.stat("mediaType"))for(e.videoReceived={timestamp:Math.floor(Date.parse(i.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"video",framesDecoded:0,packetsReceived:0,bytesReceived:0},a=i.names(),r=0;r<a.length;r+=1)"framesDecoded"===(o=a[r])?e.videoReceived.framesDecoded=parseInt(i.stat("framesDecoded"),10):"packetsReceived"===o?e.videoReceived.packetsReceived=parseInt(i.stat("packetsReceived"),10):"bytesReceived"===o&&(e.videoReceived.bytesReceived=parseInt(i.stat("bytesReceived"),10))}else if(i.id.indexOf("send")>=0)if("audio"===i.stat("mediaType"))for(e.audioSent={timestamp:Math.floor(Date.parse(i.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"audio",packetsSent:0,bytesSent:0},a=i.names(),r=0;r<a.length;r+=1)"packetsSent"===(o=a[r])?e.audioSent.packetsSent=parseInt(i.stat("packetsSent"),10):"bytesSent"===o&&(e.audioSent.bytesSent=parseInt(i.stat("bytesSent"),10));else if("video"===i.stat("mediaType"))for(e.videoSent={timestamp:Math.floor(Date.parse(i.timestamp))/1e3,type:"outbound-rtp",isRemote:!1,mediaType:"video",framesEncoded:0,packetsSent:0,bytesSent:0},a=i.names(),r=0;r<a.length;r+=1)"framesEncoded"===(o=a[r])?e.videoSent.framesEncoded=parseInt(i.stat("framesEncoded"),10):"packetsSent"===o?e.videoSent.packetsSent=parseInt(i.stat("packetsSent"),10):"bytesSent"===o&&(e.videoSent.bytesSent=parseInt(i.stat("bytesSent"),10))}return!1},this.refineStats_chrome_legacy=function(e,t){var n=!1;return t.forEach((function(t){var r=null,i=null;if("ssrc"===t.type&&t.id.indexOf("recv")>=0){if("audio"===t.mediaType){for(i in e.audioReceived={},r=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===i?e.audioReceived.timestamp=r:e.audioReceived[i]=t[i];n=!0}else if("video"===t.mediaType){for(i in e.videoReceived={},r=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===i?e.videoReceived.timestamp=r:e.videoReceived[i]=t[i];n=!0}}else if("ssrc"===t.type&&t.id.indexOf("send")>=0)if("audio"===t.mediaType){for(i in e.audioSent={},r=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===i?e.audioSent.timestamp=r:e.audioSent[i]=t[i];n=!0}else if("video"===t.mediaType){for(i in e.videoSent={},r=Math.floor(Date.parse(t.timestamp)/1e3),t)"timestamp"===i?e.videoSent.timestamp=r:e.videoSent[i]=t[i];n=!0}})),n},this.refineStats_chrome_58=function(e,t){var n=this,r=!1;return t.forEach((function(t){if("inbound-rtp"!==t.type||t.isRemote){if("outbound-rtp"===t.type&&!t.isRemote)if("audio"===t.mediaType){e.audioSent={};var i=Math.floor(t.timestamp/1e3);for(var a in t)!1!==n.STANDARD_STAT_KEYS.audioSent[a]&&("timestamp"===a?e.audioSent.timestamp=i:e.audioSent[a]=t[a]);r=!0}else if("video"===t.mediaType){e.videoSent={};var o=Math.floor(t.timestamp/1e3);for(var s in t)!1!==n.STANDARD_STAT_KEYS.videoSent[s]&&("timestamp"===s?e.videoSent.timestamp=o:e.videoSent[s]=t[s]);r=!0}}else if("audio"===t.mediaType||t.id.indexOf("Audio")>=0){e.audioReceived={};var l=Math.floor(t.timestamp/1e3);for(var c in t)!1!==n.STANDARD_STAT_KEYS.audioReceived[c]&&("timestamp"===c?e.audioReceived.timestamp=l:e.audioReceived[c]=t[c]);r=!0}else if("video"===t.mediaType||t.id.indexOf("Video")>=0){e.videoReceived={};var u=Math.floor(t.timestamp/1e3);for(var d in t)!1!==n.STANDARD_STAT_KEYS.videoReceived[d]&&("timestamp"===d?e.videoReceived.timestamp=u:e.videoReceived[d]=t[d]);r=!0}})),r},this.refineStats_firefox_legacy=function(e,t){var n=!1,r=this;return t.forEach((function(t){var i=null,a=null;if("inbound-rtp"===t.type&&!1===t.isRemote){if("audio"===t.mediaType){for(i in e.audioReceived={packetsReceived:0,bytesReceived:0},a=Math.floor(t.timestamp/1e3),t)!1!==r.STANDARD_STAT_KEYS.audioReceived[i]&&("timestamp"===i?e.audioReceived.timestamp=a:e.audioReceived[i]=t[i]);n=!0}else if("video"===t.mediaType){for(i in e.videoReceived={packetsReceived:0,bytesReceived:0,framesDecoded:0},a=Math.floor(t.timestamp/1e3),t)!1!==r.STANDARD_STAT_KEYS.videoReceived[i]&&("timestamp"===i?e.videoReceived.timestamp=a:e.videoReceived[i]=t[i]);n=!0}}else if("outbound-rtp"===t.type&&!1===t.isRemote)if("audio"===t.mediaType){for(i in e.audioSent={packetsSent:0,bytesSent:0},a=Math.floor(t.timestamp/1e3),t)!1!==r.STANDARD_STAT_KEYS.audioSent[i]&&("timestamp"===i?e.audioSent.timestamp=a:e.audioSent[i]=t[i]);n=!0}else if("video"===t.mediaType){for(i in e.videoSent={packetsSent:0,bytesSent:0,framesEncoded:0},a=Math.floor(t.timestamp/1e3),t)!1!==r.STANDARD_STAT_KEYS.videoSent[i]&&("timestamp"===i?e.videoSent.timestamp=a:e.videoSent[i]=t[i]);n=!0}})),n},this.refineStats_firefox_63=function(e,t){var n=!1,r=this;return t.forEach((function(t){if("inbound-rtp"!==t.type||t.isRemote){if("outbound-rtp"===t.type&&!t.isRemote)if("audio"===t.kind){e.audioSent={packetsSent:0,bytesSent:0};var i=Math.floor(t.timestamp/1e3);for(var a in t)!1!==r.STANDARD_STAT_KEYS.audioSent[a]&&("timestamp"===a?e.audioSent.timestamp=i:e.audioSent[a]=t[a]);n=!0}else if("video"===t.kind){e.videoSent={packetsSent:0,bytesSent:0,framesEncoded:0};var o=Math.floor(t.timestamp/1e3);for(var s in t)!1!==r.STANDARD_STAT_KEYS.videoSent[s]&&("timestamp"===s?e.videoSent.timestamp=o:e.videoSent[s]=t[s]);n=!0}}else if("audio"===t.kind){e.audioReceived={packetsReceived:0,bytesReceived:0};var l=Math.floor(t.timestamp/1e3);for(var c in t)!1!==r.STANDARD_STAT_KEYS.audioReceived[c]&&("timestamp"===c?e.audioReceived.timestamp=l:e.audioReceived[c]=t[c]);n=!0}else if("video"===t.kind){e.videoReceived={packetsReceived:0,bytesReceived:0,framesDecoded:0};var u=Math.floor(t.timestamp/1e3);for(var d in t)!1!==r.STANDARD_STAT_KEYS.videoReceived[d]&&("timestamp"===d?e.videoReceived.timestamp=u:e.videoReceived[d]=t[d]);n=!0}})),n},this.addCallStats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if(void 0!==this.refineStats){if(this.refineStats(n,e),void 0!==n.audioReceived){if(void 0!==this.prevData.audioReceived){var r=n.audioReceived.timestamp-this.prevData.audioReceived[0].timestamp;r>0?(void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=Math.floor((n.audioReceived.packetsReceived-this.prevData.audioReceived[0].packetsReceived)/r)),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=Math.floor(8*(n.audioReceived.bytesReceived-this.prevData.audioReceived[0].bytesReceived)/r)),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=Math.floor((n.audioReceived.packetsLost-this.prevData.audioReceived[0].packetsLost)/r)),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=100*(n.audioReceived.packetsLost-this.prevData.audioReceived[0].packetsLost)/(n.audioReceived.packetsReceived-this.prevData.audioReceived[0].packetsReceived)),n.audioReceived.samplingInterval=r):(void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=0),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=0),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=0),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=0),n.audioReceived.samplingInterval=0)}else void 0===n.audioReceived.packetsReceivedPerSecond&&(n.audioReceived.packetsReceivedPerSecond=0),void 0===n.audioReceived.bitsReceivedPerSecond&&(n.audioReceived.bitsReceivedPerSecond=0),void 0===n.audioReceived.packetsLostPerSecond&&(n.audioReceived.packetsLostPerSecond=0),void 0===n.audioReceived.packetLossRatio&&(n.audioReceived.packetLossRatio=0),n.audioReceived.samplingInterval=0,this.prevData.audioReceived=[];for(this.prevData.audioReceived.push(n.audioReceived);this.prevData.audioReceived.length>this.prevDataThreshold;)this.prevData.audioReceived.shift()}if(void 0!==n.videoReceived){if(void 0!==this.prevData.videoReceived){var i=n.videoReceived.timestamp-this.prevData.videoReceived[0].timestamp;i>0?(void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=Math.floor((n.videoReceived.packetsReceived-this.prevData.videoReceived[0].packetsReceived)/i)),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=Math.floor(8*(n.videoReceived.bytesReceived-this.prevData.videoReceived[0].bytesReceived)/i)),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=Math.floor((n.videoReceived.packetsLost-this.prevData.videoReceived[0].packetsLost)/i)),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=Math.floor((n.videoReceived.framesDecoded-this.prevData.videoReceived[0].framesDecoded)/i)),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=100*(n.videoReceived.packetsLost-this.prevData.videoReceived[0].packetsLost)/(n.videoReceived.packetsReceived-this.prevData.videoReceived[0].packetsReceived)),n.videoReceived.samplingInterval=i):(void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=0),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=0),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=0),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=0),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=0),n.videoReceived.samplingInterval=0)}else void 0===n.videoReceived.packetsReceivedPerSecond&&(n.videoReceived.packetsReceivedPerSecond=0),void 0===n.videoReceived.bitsReceivedPerSecond&&(n.videoReceived.bitsReceivedPerSecond=0),void 0===n.videoReceived.packetsLostPerSecond&&(n.videoReceived.packetsLostPerSecond=0),void 0===n.videoReceived.framesDecodedPerSecond&&(n.videoReceived.framesDecodedPerSecond=0),void 0===n.videoReceived.packetLossRatio&&(n.videoReceived.packetLossRatio=0),n.videoReceived.samplingInterval=0,this.prevData.videoReceived=[];for(this.prevData.videoReceived.push(n.videoReceived);this.prevData.videoReceived.length>this.prevDataThreshold;)this.prevData.videoReceived.shift()}if(void 0!==n.audioSent){if(void 0!==this.prevData.audioSent){var a=n.audioSent.timestamp-this.prevData.audioSent[0].timestamp;a>0?(void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=Math.floor((n.audioSent.packetsSent-this.prevData.audioSent[0].packetsSent)/a)),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=Math.floor(8*(n.audioSent.bytesSent-this.prevData.audioSent[0].bytesSent)/a)),n.audioSent.samplingInterval=a):(void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=0),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=0),n.audioSent.samplingInterval=0)}else void 0===n.audioSent.packetsSentPerSecond&&(n.audioSent.packetsSentPerSecond=0),void 0===n.audioSent.bitsSentPerSecond&&(n.audioSent.bitsSentPerSecond=0),n.audioSent.samplingInterval=0,this.prevData.audioSent=[];for(this.prevData.audioSent.push(n.audioSent);this.prevData.audioSent.length>this.prevDataThreshold;)this.prevData.audioSent.shift()}if(void 0!==n.videoSent){if(void 0!==this.prevData.videoSent){var o=n.videoSent.timestamp-this.prevData.videoSent[0].timestamp;o>0?(void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=Math.floor((n.videoSent.packetsSent-this.prevData.videoSent[0].packetsSent)/o)),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=Math.floor(8*(n.videoSent.bytesSent-this.prevData.videoSent[0].bytesSent)/o)),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=Math.floor((n.videoSent.framesEncoded-this.prevData.videoSent[0].framesEncoded)/o)),n.videoSent.samplingInterval=o):(void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=0),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=0),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=0),n.videoSent.samplingInterval=0)}else void 0===n.videoSent.packetsSentPerSecond&&(n.videoSent.packetsSentPerSecond=0),void 0===n.videoSent.bitsSentPerSecond&&(n.videoSent.bitsSentPerSecond=0),void 0===n.videoSent.framesEncodedPerSecond&&(n.videoSent.framesEncodedPerSecond=0),n.videoSent.samplingInterval=0,this.prevData.videoSent=[];for(this.prevData.videoSent.push(n.videoSent);this.prevData.videoSent.length>this.prevDataThreshold;)this.prevData.videoSent.shift()}}return Object.keys(n).length>0&&"function"==typeof t.post&&t.post(n),n},"chrome"===this.browserType?"proprietary"===r?this.refineStats=this.refineStats_chrome_proprietary:this.browserVersion>=58?this.refineStats=this.refineStats_chrome_58:this.refineStats=this.refineStats_chrome_legacy:"firefox"===this.browserType?this.browserVersion>=63?this.refineStats=this.refineStats_firefox_63:this.refineStats=this.refineStats_firefox_legacy:"safari"===this.browserType&&(this.refineStats=this.refineStats_chrome_58)}),b=(n(280),function(){this.NarrowBandSpeechQuality=function(e,t){var n,r,i=1,a=1+e/10,o=1+e/150,s=(94.769-(n=80+2.5*(65-40*Math.log10(a/o)+6*Math.exp(e*e*-.3)-14)))*(94.769-n)/4+100;return(r=93.193-((94.769-n)/2+Math.sqrt(s)-1)*(1-Math.exp(-e))-(0+t/(t+4.3)*95))<0&&(i=1),r<100&r>0&&(i=1+.035*r+r*(r-60)*(100-r)*7*1e-6),r>100&&(i=4.5),i},this.WideBandspeechQuality=function(e,t){var n,r,i,a=0,o=1;e<100&&(a=.08-e+10),e>=100&&(a=18);var s=1+e/10,l=1+e/150,c=(129-(n=80+3*(65+a-40*Math.log10(s/l)+6*Math.exp(e*e*-.3)-14)))*(129-n)/4+100;return(i=(r=129-((129-n)/2+Math.sqrt(c)-1)*(1-Math.exp(-e))-(0+t/(t+4.3)*95))/1.29)<=0&&(o=1),i<100&i>0&&(o=1+.035*r+r*(r-60)*(100-r)*7*1e-6),i>=100&&(o=4.5),o},this.videoQuality=function(e,t,n,r,i){var a,o,s,l,c,u,d,f,h=[];return h=t>720?[0,2.77,.009,3.95,460,1.28,2.12,32e-5,1.28,262,1.98,22.84,7.999]:t>576?[0,6.31,.008,3.68,262,1.28,1.97,33e-5,1.24,343,2.76,6.25,6.013]:t>480?[0,6.96,.007,3.58,214,1.2,1.75,63e-5,1.13,171,4.25,7.98,12.001]:t>288?[0,5.61,.01,3.38,182,1.31,2.23,75e-5,1.51,136,4.05,20.16,22.332]:[0,3.988,.013,3.625,89.25,1.125,.713,0,1.542,245.5,3.011,39.31,16.67],u=1+Math.pow(r/h[4],h[5]),a=h[3]-h[3]/u,o=h[1]+h[2]*r,s=h[6]+h[7]*r,d=Math.pow(Math.log(i)-Math.log(o),2),f=2*Math.pow(s,2),l=a*Math.exp(-d/f),c=h[10]+h[11]*Math.exp(-i/h[8])+h[12]*Math.exp(-r/h[9]),1+l*Math.exp(-n/c)},this.audiovisualQuality=function(e,t,n,r){var i,a,o,s,l;return e>0&&t>0?(i=(l=[0,-.6966,-.8127,.4562,3.003,-.1638,.3626,.1291,.5457,-1251e-7,3.763,-.001065,.01465,-.001002,0])[9]*(n+r)+l[10],n>=r&&(a=Math.min(l[11]*(n-r)+l[12],0)),n<r&&(a=Math.min(l[13]*(r-n)+l[14],0)),o=Math.max(i+a,1),l[1]*(s=l[5]*e+l[6]*t+l[7]*e*t+l[8])+l[2]*o+l[3]*s*o+l[4]):"NoAudiovisualStream"}}),C=r.a.get("WebRTC_Call"),y=apiCC.myWebRTC_Event,S=function(e){this.dest_roomId="",this.pc=null,this.callId=0,this.callee=!1,this.callerId=0,this.calleeId=0,this.started=!1,this.localDescriptionSetted=!1,this.remoteDescriptionSetted=!1,this.sendedSdpOfferMessage=null,this.receivedSdpOfferMessage=null,this.myWebRTC_Stack=new o.a(e.socket),this.remoteMediaStreams=[],this.rtpSenders={audio:[],video:[]},this.addingUserMedia=!1,this.myWebRTC_Event=apiCC.myWebRTC_Event,this.dtmfSender=null,this.incomingcandidatesQueue=[],"Firefox"===i.b?i.d>43?(this.mediaConstraintsAudioOnly={offerToReceiveAudio:!0,offerToReceiveVideo:!1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):(this.mediaConstraintsAudioOnly={mandatory:{offerToReceiveAudio:!0,offerToReceiveVideo:!1}},this.mediaConstraints={mandatory:{offerToReceiveAudio:!0,offerToReceiveVideo:!0}}):"Chrome"===i.b?i.d<55?(this.mediaConstraintsAudioOnly={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this.mediaConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):(this.mediaConstraintsAudioOnly={offerToReceiveAudio:1,offerToReceiveVideo:1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):"Edge"===i.b?(this.mediaConstraintsAudioOnly={offerToReceiveAudio:!0,offerToReceiveVideo:!1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}):(this.mediaConstraintsAudioOnly={offerToReceiveAudio:1,offerToReceiveVideo:1},this.mediaConstraints={offerToReceiveAudio:1,offerToReceiveVideo:1}),"iOS"===i.h.name&&(C.log("Defining mediaConstraints for iOS "),this.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0}),this.trickleIce=e.trickleIce,this.callLocalStream=null,this.generatedLocalStream=!1,this.audioOnly=!1,this.inviteSended=!1,this.sendInviteTrickleIceFalseTimeOutId=0,this.sendInviteTrickleIceFalseTimer=5e3,this.message200OKSended=!1,this.send200OKTrickleIceFalseTimeOutId=0,this.send200OKTrickleIceFalseTimer=5e3,this.message200OKReceived=!1,this.callCancelled=!1,this.screenSharing=!1,this.desktopId=0,this.pc_config=e.pc_config,this.pc_constraints=e.pc_constraints,this.audioFileMediaElement=null,this.videoReceivedWidth=640,this.videoReceivedHeight=480,this.videoSendWidth=640,this.videoSendHeight=480,this.videoReceivedDelay=0,this.audioReceivedDelay=0,this.audioSendDelay=0,this.videoSendDelay=0,this.videoSendPacketLossRatio=0,this.audioSendPacketLossRatio=0,this.getStatsInterval=e.qosInterval,this.qm=null,this.statisticId=null,this.csmIntervalMs=e.csmIntervalMs,this.csmIntervalId=null,this.remoteId=0,this.callType="media",this.localCallProfile={audio:!1,audioActive:!1,video:!1,videoActive:!1},this.remoteCallProfile={audio:!1,audioActive:!1,video:!1,videoActive:!1},this.disconnectionTimeoutId=0,this.disconnectionTimer=4e4,this.disconnectionWarningDelay=9e3,this.disconnectionWarningInterval=0,this.disconnectionWarningTimeout=0,this.disconnectionWarningCount=0,this.checkCandidateTypesTimer=1e4,this.checkCandidateTypesTimeoutId=0,this.checkCandidateTypesTimeoutTable=[],this.data={},this.screenStream=null,this.screenIsDisplayed=!1,this.addingDataChannelOnCallOngoing=!1,this.sendDataChannel=null,this.receiveDataChannel=null,this.receiveChunkNb={},this.firstDataPacket={},this.receivedSize={},this.receiveArrayToStoreChunks={},this.destCallType="media",this.mcuRemoteStream=null,this.userMediaAccessRequired=!0,this.settingUpMode="normal",this.remoteType="web",this.mediaTypeForIncomingCall=e.mediaTypeForIncomingCall,this.mediaTypeForOutgoingCall=e.mediaTypeForOutgoingCall,this.mediaRoutingMode=e.mediaRoutingMode,this.stripAudioSDPActivated=!1,this.stripVideoSDPActivated=!1,this.iceState="notdefined",this.restarted=!1,this.audioSdpDirection=null,this.videoSdpDirection=null,this.isLocalAudioMuted=!1,this.isLocalVideoMuted=!1,this.isRemoteAudioMuted=!1,this.isRemoteVideoMuted=!1,this.isAccepted=!1,this.accessToMedia=!1,this.callConfiguration=null,this.captureSourceType=null,this.preferH264Codec=!1,this.preferVP8Codec=!1,this.preferVP9Codec=!1,this.candidateNb=0,this.sessionMCU=null,this.instanceId=0,this.retryUpdateMedia=!1,this.updateMediaOngoing=!1,this.setCallTurnServer=function(e){C.info("setCallTurnServer :",e);var t=JSON.stringify(this.pc_config);t=t.replace(/mp1.apizee.com/g,e),this.pc_config=JSON.parse(t)},this.setCallMediaRoutingMode=function(t){C.info("setCallMediaRoutingMode :",t),"hostOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.hostOnly:"stun"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.stun:"stunOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.stunOnly:"turn"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.turn:"turnOnly"===t?this.mediaRoutingMode=e.mediaRoutingModeEnum.turnOnly:(C.log("parameter error when calling function : setCallMediaRoutingMode()"),this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setCallMediaRoutingMode()","PARAMETER_ERROR_SETCALLMEDIAROUTINGMODE"))},this.checkDTLSCompliancy=function(){if(C.debug("checkDTLSCompliancy"),!1===apiCC.session.isDeviceDTLSCompliant())C.log("Device not DTLS compliant, setting DtlsSrtpKeyAgreement: false"),this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:!1}]};else{var e=apiCC.session.isClientDTLSCompliant(this.remoteId);!1!==e&&"false"!==e||(C.log("Remote Device not DTLS compliant, setting DtlsSrtpKeyAgreement: false"),this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:!1}]})}},this.sendData=function(e,t){C.info("datachannel - sendData");var n=null,r=null;if(e.file instanceof File)return C.log("File"),this.contentType=e.file.type,this.originalDataType="File",n=new FileReader,r=this,n.onload=function(i){var a=i.target.result||n.result;r.sendData({file:a,name:e.name,type:e.type},t)},void n.readAsArrayBuffer(e.file);new v(this).send(e,this.sendDataChannel,t)},C.log("New Call for client with Id :"+e.clientId),this.generateCallId=function(){this.callId=apiCC.generateCallId(),C.info("new call with callId :"+this.callId)},this.sendInviteTrickleIceFalse=function(){C.log("sendInviteTrickleIceFalse"),C.log("sendInvite on candidate timer reached"),this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,this.pc.localDescription,this.callType,this.data,this.mcuRemoteStream),this.inviteSended=!0},this.send200OkTrickleIceFalse=function(){C.log("send200OkTrickleIceFalse"),this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,this.pc.localDescription,this.data),this.message200OKSended=!0},this.onSetLocalDescriptionSuccess=function(){C.info("onSetLocalDescriptionSuccess"),this.localDescriptionSetted=!0,this.asyncCallbacks&&"subscribe"===this.asyncCallbacks.type&&delete this.asyncCallbacks,!1===this.trickleIce&&(!0===this.callee?(C.info("starting send200OKTrickleIceFalseTimeOutId"),this.send200OKTrickleIceFalseTimeOutId=setTimeout(this.callback(this,"send200OkTrickleIceFalse"),this.send200OKTrickleIceFalseTimer)):(C.info("starting sendInviteTrickleIceFalseTimeOutId"),this.sendInviteTrickleIceFalseTimeOutId=setTimeout(this.callback(this,"sendInviteTrickleIceFalse"),this.sendInviteTrickleIceFalseTimer))),e.rtpSenderSetParamatersCapable&&e.evaluateVideoCap(this)},this.onSetLocalDescriptionFailure=function(e){C.warn("onSetLocalDescriptionFailure",e);var t=null,n=null;this.callControl&&(t=this.callControl.roomName,n=this.callControl.type),y.createErrorEvent("Set local Description Failure","SET_LOCAL_DESCRIPTION_FAILURE",this.callId,t,n)},this.onSetRemoteDescriptionSuccess=function(){C.info("onSetRemoteDescriptionSuccess");var t=null;for(this.remoteDescriptionSetted=!0,!0===this.restarting&&delete this.restarting,this.data&&(this.data.mesh||this.data.subscribeOrder)||y.createCallEstablishedEvent(this.calleeId,this.callType,this.callId,this.destCallType);this.incomingcandidatesQueue.length;)t=this.incomingcandidatesQueue.shift(),this.processCandidateMsg(t);if(void 0!==e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId]){for(C.debug("Restoring candidate from client, this.callId :"+this.callId+" , instanceId :"+this.instanceId);e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId].length;)t=e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId].shift(),this.processCandidateMsg(t);delete e.clientIncomingCandidatesQueue[this.callId+"-"+this.instanceId]}if(this.asyncCallbacks&&("addingUserMedia"===this.asyncCallbacks.type?(this.asyncCallbacks.resolve(this.callConfiguration.userMediaStreamId),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks):"updateCallConfiguration"===this.asyncCallbacks.type&&(this.asyncCallbacks.resolve(),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks)),this.updateMediaOngoing=!1,!0===this.retryUpdateMedia){C.debug("an updateMedia was waiting for sig stable state or an other updateMedia end, updating Media now ..."),this.retryUpdateMedia=!1;var n=this.updateMedia(!1);C.debug("Retried updateMediaResult :",n)}},this.processCandidateMsg=function(e){C.info("processCandidateMsg :",e);var t=null;null!==this.pc?(void 0!==e.completeCandidate?(C.trace("new behavior of 2.13.8"),t=new apiCC.myWebRTC_Adapter.RTCIceCandidate(e.completeCandidate)):(C.log("old behavior < 2.13.8"),t=new apiCC.myWebRTC_Adapter.RTCIceCandidate({sdpMLineIndex:e.label,candidate:e.candidate})),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("addIceCandidate"),this.pc.addIceCandidate(t,(function(){C.trace("addIceCandidate success")}),(function(e){C.warn("addIceCandidate failure: "+e),e=null}))):(C.log("addIceCandidate - Promise version"),this.pc.addIceCandidate(t).then((function(){C.trace("addIceCandidate success")})).catch((function(e){C.warn("addIceCandidate failure: "+e),e=null})))):C.error("Error, call is not null but pc is null")},this.onSetRemoteDescriptionFailure=function(e){C.warn("onSetRemoteDescriptionFailure :",e);var t=null,n=null;this.callControl&&(t=this.callControl.roomName,n=this.callControl.type),y.createErrorEvent("Set remote Description Failure","SET_REMOTE_DESCRIPTION_FAILURE",this.callId,t,n)},this.getUserMediaOnCall=function(){var t=this,n=!1;if(C.info("getUserMediaOnCall, audio Only :"+this.audioOnly),C.info("getUserMediaOnCall, screenSharing activated :"+this.screenSharing),C.log("webRTCClient.gum_config :",e.gum_config),this.callerId===e.clientId){if(C.log("outgoing call"),"VIDEO"===this.mediaTypeForOutgoingCall||"VIDEOONLY"===this.mediaTypeForOutgoingCall)if(C.log("mediaTypeForOutgoingCall :"+this.mediaTypeForOutgoingCall),"VIDEOONLY"===this.mediaTypeForOutgoingCall&&(n=!0),!0!==this.screenSharing){if(!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return C.log("getUserMediaOnCall without any device, calling without device"),void this.onUserMediaSuccessOnCall();C.log("video is not present :"+this.callType),"media"===this.callType&&(C.log("callType is media, but no webcam present, forcing callType to audio"),this.callType="audio",this.audioOnly=!0)}}else C.log("screenSharing, no device checking");else if("AUDIO"===this.mediaTypeForOutgoingCall)C.log("mediaTypeForOutgoingCall is AUDIO, setting call to audioOnly"),this.callType="audio",this.audioOnly=!0;else if("NONE"===this.mediaTypeForOutgoingCall||"DATA"===this.mediaTypeForOutgoingCall)return C.log("mediaTypeForOutgoingCall is NONE, call will be recvOnly"),void this.onUserMediaSuccessOnCall()}else if(C.log("incoming call"),"VIDEO"===this.mediaTypeForIncomingCall||"VIDEOONLY"===this.mediaTypeForIncomingCall){if(C.log("mediaTypeForIncomingCall :"+this.mediaTypeForIncomingCall),"VIDEOONLY"===this.mediaTypeForIncomingCall&&(n=!0),!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return C.log("getUserMediaOnCall without any device, calling without device"),void this.onUserMediaSuccessOnCall();C.log("video is not present :"+this.callType),"media"===this.callType&&(C.log("callType is media, but no webcam present, forcing callType to audio"),this.callType="audio",this.audioOnly=!0)}}else if("AUDIO"===this.mediaTypeForIncomingCall)C.log("mediaTypeForIncomingCall is AUDIO, setting call to audioOnly"),this.callType="audio",this.audioOnly=!0;else if("NONE"===this.mediaTypeForIncomingCall||"DATA"===this.mediaTypeForIncomingCall)return C.log("mediaTypeForIncomingCall is NONE, call will be recvOnly"),void this.onUserMediaSuccessOnCall();e.getUserMediaOnGoing=!0;var r=null,o=null;if(C.log("this.screenSharing :"+this.screenSharing),C.log("this.audioOnly :"+this.audioOnly),!0===this.screenSharing)if(C.log("getScreenMedia"),"Chrome"===i.b)C.log("this.desktopId :"+this.desktopId),r={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:this.desktopId}}};else{if(C.log("this.captureSourceType :"+this.captureSourceType),"screen"!==this.captureSourceType&&"window"!==this.captureSourceType&&"application"!==this.captureSourceType)return void C.error("captureSourceType value is not correct");r={video:{mediaSource:this.captureSourceType}}}else!0===this.audioOnly?(C.log("this.audioOnly = true"),e.gum_config=apiCC.setAudioSourceIdInConstraint(e.audioSourceId,e.gum_config),o=JSON.parse(JSON.stringify(e.gum_config)),!1===e.allowAsymetricMediaCalls?o.video=!1:C.log("allow AsymetricMediaCalls is activated"),r=o):(C.log("audio and video call"),r=Object(a.a)({},e.gum_config),n?r.audio=!1:r=apiCC.setAudioSourceIdInConstraint(e.audioSourceId,r),r=apiCC.setVideoSourceIdInConstraint(e.videoSourceId,r),r=apiCC.setVideoFacingModeInConstraint(e.facingMode,r),"undefined"!=typeof apiRTC_React&&(r={audio:!0,video:{mandatory:{minWidth:500,minHeight:300,minFrameRate:30},facingMode:"user"}}));apiCC.createUserMediaStream({callId:this.callId,type:this.callType,gum_config:r,success:function(e){C.debug("[getUserMediaOnCall] success; userMediaStreamId: "+e.userMediaStreamId),void 0!==t.callConfiguration&&null!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.userMediaStreamId=e.userMediaStreamId,t.onUserMediaSuccessOnCall(e.stream)},failure:function(e,n){C.debug("[getUserMediaOnCall] failure; userMediaStreamId: "+e.userMediaStreamId),t.onUserMediaErrorOnCall(n)}})},this.handleToneChangeEvent=function(e){C.debug("handleToneChangeEvent :",e.tone),""!==e.tone?C.debug("Tone played: "+e.tone):C.debug("All tones have played.")},this.sendTones=function(e,t,n){C.debug("sendTones :"),this.dtmfSender&&(C.debug("sendTones : Tones, duration, gap: ",e,t,n),this.dtmfSender.insertDTMF(e,t,n))},this.addStream=function(e){var t,n=null,r=null,o=0,s=!1,l=null,c=[];if("undefined"!=typeof apiRTC_React||"Firefox"===i.b&&i.d<51||"Chrome"===i.b&&i.d<65||"Safari"===i.b&&i.e<12.1||"Mobile Safari"===i.b&&i.e<12.1||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)C.info("using addStream method"),this.pc.addStream(e),C.debug("end addStream method");else{if(!("Firefox"===i.b&&i.d<59||"Edge"===i.b)){for(C.info("using addTrack/replaceTrack method"),n=e.getTracks(),t=0;t<n.length;t+=1){for(s=!1,r=this.rtpSenders[n[t].kind],o=0;o<r.length;o+=1)if(null===r[o].track){s=!0;break}if(!0===s)c.push(r[o].replaceTrack(n[t])),C.debug("addStream -> replaceTrack",r[o]);else{if("RID"===this.simulcast&&"video"===n[t].kind&&"chrome"===a.c.type){var u=[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}];this.callControl.callConfiguration.simulcast&&this.callControl.callConfiguration.simulcast.sendEncodings&&(u=this.callControl.callConfiguration.simulcast.sendEncodings.slice()),l=this.pc.addTransceiver(n[t],{direction:"sendonly",streams:[e],sendEncodings:u}).sender}else if(l=this.pc.addTrack(n[t],e),"RID"===this.simulcast&&"video"===n[t].kind&&"firefox"===a.c.type){var d=l.getParameters();d||(d={}),this.callControl.callConfiguration.simulcast&&this.callControl.callConfiguration.simulcast.sendEncodings?d.encodings=this.callControl.callConfiguration.simulcast.sendEncodings.slice():d.encodings=[{rid:"h",active:!0,maxBitrate:9e5},{rid:"m",active:!0,maxBitrate:3e5,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:1e5,scaleResolutionDownBy:4}],c.push(l.setParameters(d))}C.debug("addStream -> addTrack",l),this.rtpSenders[n[t].kind].push(l)}}return C.debug("end addTrack/replaceTrack method"),this.rtpSenders.audio.length>0&&(this.dtmfSender=this.rtpSenders.audio[0].dtmf,this.dtmfSender&&(this.dtmfSender.ontonechange=this.handleToneChangeEvent)),new Promise((function(e,t){Promise.all(c).then((function(t){e()})).catch(t)}))}for(C.info("using addTrack method"),n=e.getTracks(),t=0;t<n.length;t+=1)this.pc.addTrack(n[t],e);C.debug("end addTrack method")}return Promise.resolve()},this.removeStream=function(e){var t,n=null,r=[];if(C.info("removeStream in call",e.id),"Firefox"===i.b&&i.d<51||"Chrome"===i.b&&i.d<65||"Safari"===i.b&&i.e<12.1||"Mobile Safari"===i.b&&i.e<12.1||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)C.info("using removeStream method"),this.pc.removeStream(e),C.debug("end removeStream method");else{if(!("Firefox"===i.b&&i.d<59||"Edge"===i.b)){for(C.info("using replaceTrack method"),t=0;t<this.rtpSenders.audio.length;t+=1)r.push(this.rtpSenders.audio[t].replaceTrack(null));for(t=0;t<this.rtpSenders.video.length;t+=1)r.push(this.rtpSenders.video[t].replaceTrack(null));return C.debug("end replaceTrack method"),new Promise((function(e,t){Promise.all(r).then((function(t){e()})).catch(t)}))}for(C.info("using removeTrack method"),n=this.pc.getSenders(),C.debug("senders :",n),t=0;t<n.length;t+=1)this.pc.removeTrack(n[t]);C.debug("end removeTrack method")}return Promise.resolve()},this.stopStream=function(e){C.info("stopStream in call");var t,n=null;if("Chrome"===i.b&&i.d<45||"Firefox"===i.b&&i.d<44||"Opera"===i.b&&i.d<34||"Chromium"===i.b&&i.d<44||"Chrome WebView"===i.b&&i.d<45)C.log("... using MediaStream.stop"),e.stop();else{for(C.log("... using MediaStreamTrack.stop"),n=e.getTracks(),t=0;t<n.length;t+=1)n[t].stop();C.log("... tracks stopped")}e=null},this.getScreenUserMediaOnCall=function(){C.info("getScreenUserMediaOnCall");try{C.log("getScreenMedia"),navigator.webkitGetUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:this.desktopId,maxWidth:1920,maxHeight:1080,minAspectRatio:1.77}}},this.callback(this,"onScreenUserMediaSuccessOnCall"),this.callback(this,"onScreenUserMediaErrorOnCall")),C.log("Requested access to local media with new syntax.")}catch(e){C.error("getUserMedia() failed. Is this a WebRTC capable browser?"),C.log("getUserMedia failed with exception: "+e.message)}},this.onScreenUserMediaSuccessOnCall=function(e){C.info("onScreenUserMediaSuccessOnCall");var t,n="Unknown",r="Unknown";e.getAudioTracks().length>0&&(e.getAudioTracks()[0].label&&(n=e.getAudioTracks()[0].label),C.log("Using audio device: "+n)),e.getVideoTracks().length>0&&(e.getVideoTracks()[0].label&&(r=e.getVideoTracks()[0].label),C.log("Using video device: "+r)),C.log("Changing video stream with screen"),this.screenStream=e,this.screenStream.getVideoTracks()[0].onended=this.callback(this,"stopScreenSharingOnSwitchStream"),C.log("Adding callLocalstream to screen MediaStream"),t=this.callLocalStream.getAudioTracks()[0].clone(),this.screenStream.addTrack(t),this.switchVideoToScreen()},this.toggleVideoScreen=function(){!0===this.screenIsDisplayed?this.switchScreenToVideo():this.switchVideoToScreen()},this.switchVideoToScreen=function(){var t=this;C.info("switchVideoToScreen in call"),this.removeStream(this.callLocalStream).then((function(){t.addStream(t.screenStream),t.updateMediaWithRetryManagement(!1),e.myWebRTC_Event.createSwitchStreamEvent(t.callId,t.screenStream),t.screenIsDisplayed=!0})).catch((function(n){C.error("Failed to switchVideoToScreen",n);var r=null,i=null;t.callControl&&(r=t.callControl.roomName,i=t.callControl.type),e.myWebRTC_Event.createErrorEvent("Failed to switchVideoToScreen","MEDIA_UPDATE_ERROR",t.callId,r,i)}))},this.switchScreenToVideo=function(){var t=this;C.info("switchScreenToVideo in call"),this.removeStream(this.screenStream).then((function(){t.addStream(t.callLocalStream),t.updateMediaWithRetryManagement(!1),e.myWebRTC_Event.createSwitchStreamEvent(t.callId,t.callLocalStream),t.screenIsDisplayed=!1})).catch((function(n){C.error("Failed to switchScreenToVideo",n);var r=null,i=null;t.callControl&&(r=t.callControl.roomName,i=t.callControl.type),e.myWebRTC_Event.createErrorEvent("Failed to switchScreenToVideo","MEDIA_UPDATE_ERROR",t.callId,r,i)}))},this.onScreenUserMediaErrorOnCall=function(e){C.error("Failed to get access to local media. Error code was "+e.code),C.error(e),e=null},this.addVideoMedia=function(){var t=this;C.info("addVideoMedia");var n=e.gum_config;apiCC.createUserMediaStream({callId:this.callId,type:"media",gum_config:n,success:function(n){C.debug("[addVideoMedia] success; userMediaStreamId: "+n.userMediaStreamId);var r=apiCC.getUserMediaStream(t.callConfiguration.userMediaStreamId),i=Promise.resolve();r&&(i=t.removeStream(r.stream).then((function(){e.myWebRTC_Event.createLocalStreamRemovedEvent(t.callType,t.callId,r.stream,t.remoteId,t.destCallType),apiCC.releaseUserMediaStream(r.userMediaStreamId,t.callId)}))),i.then((function(){t.callConfiguration.userMediaStreamId=n.userMediaStreamId,t.callLocalStream=n.stream,t.addStream(n.stream),t.updateMediaWithRetryManagement(!1)})).catch((function(n){C.error("Failed to addVideoMedia",n);var r=null,i=null;t.callControl&&(r=t.callControl.roomName,i=t.callControl.type),e.myWebRTC_Event.createErrorEvent("Failed to addVideoMedia","MEDIA_UPDATE_ERROR",t.callId,r,i)}))},failure:function(e,n){C.debug("[addVideoMedia] failure; userMediaStreamId: "+e.userMediaStreamId),t.onUserMediaErrorOnCall(n)}})},this.stopScreenSharingOnSwitchStream=function(){C.info("stopScreenSharingOnSwitchStream detected"),this.switchScreenToVideo(this.callId),null!==this.screenStream&&(C.log("stopping screenStream"),this.stopStream(this.screenStream),y.createUserMediaStopEvent(this.callId,"screen"))},this.stopScreenSharing=function(){C.info("stopScreenSharing detected"),e.removeCallFromTableWithCallIdAndSendBye(this.callId,"stop_ScreenSharing")},this.checkingMutingState=function(){var t=this,n=null;C.debug("checkingMutingState");var r=function(){Object(a.g)(t,"mcuRemoteStream","object")||(t.mcuRemoteStream={}),t.mcuRemoteStream.videoMuted=!0},i=function(){Object(a.g)(t,"mcuRemoteStream","object")||(t.mcuRemoteStream={}),t.mcuRemoteStream.audioMuted=!0};Object(a.g)(this.callConfiguration,"userMediaStreamId","string")&&(n=apiCC.getUserMediaStream(this.callConfiguration.userMediaStreamId))&&(n.videoMuted?(r(),this.isLocalVideoMuted=!0):this.isLocalVideoMuted=!1,n.audioMuted?(i(),this.isLocalAudioMuted=!0):this.isLocalAudioMuted=!1);var o=function(){t.isLocalVideoMuted||(n?n.video&&!n.videoMuted&&n.muteVideoOnStreams():t.callLocalStream&&(e.muteTracks(t.callLocalStream.getVideoTracks()),t.isLocalVideoMuted=!0),r())},s=function(){t.isLocalAudioMuted||(n?n.audio&&!n.audioMuted&&n.muteAudioOnStreams():t.callLocalStream&&(e.muteTracks(t.callLocalStream.getAudioTracks()),t.isLocalAudioMuted=!0),i())};!0===e.isVideoMuted&&(C.log("Client is video muted, applying to call"),o()),!0===e.isAudioMuted&&(C.log("Client is audio muted, applying to call"),s()),Object(a.g)(this.callConfiguration,"muted","string")&&(C.log("callConfiguration muted is set :",this.callConfiguration.muted),"VIDEO"===this.callConfiguration.muted&&(o(),s()),"AUDIOONLY"===this.callConfiguration.muted&&s(),"VIDEOONLY"===this.callConfiguration.muted&&o(),delete this.callConfiguration.muted)},this.onUserMediaSuccessOnCall=function(t){C.info("onUserMediaSuccessOnCall");var n=Object(a.f)(),r={};!0===e.userMediaErrorDetected&&(e.userMediaErrorDetected=!1,r.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(r)),C.log("isHTTPS()"+n),e.getUserMediaOnGoing=!1,C.log("User has granted access to local media."),e.accessToLocalMedia=!0,e.displayHangUpButtonInCommand(),this.accessToMedia=!0,"LOCAL"!==this.calleeId&&(!0===this.callee?e.setStatus("You are connected to :"+this.callerId):e.setStatus("You are connected to :"+this.calleeId)),!0===this.screenSharing?(this.callType="screenSharing",null!=t&&(t.onended=this.callback(this,"stopScreenSharing"),t.getVideoTracks().length>0&&(t.getVideoTracks()[0].onended=this.callback(this,"stopScreenSharing")))):!0===this.audioOnly&&(this.callType="audio"),!1===this.addingUserMedia?(e.miniVideo&&(C.log("webRTCClient.miniVideo.src :"+e.miniVideo.src),C.log("document.URL :"+document.URL),void 0!==t&&apiCC.attachMediaStream(e.miniVideo,t)),e.localVideo&&(C.log("webRTCClient.localVideo.src :"+e.localVideo.src),C.log("document.URL :"+document.URL),void 0!==t&&apiCC.attachMediaStream(e.localVideo,t),e.localVideo.style.opacity=1)):e.miniVideo&&void 0!==t&&apiCC.attachMediaStream(e.miniVideo,t),void 0!==t&&(this.callLocalStream=t),Object(a.e)()?(C.log("isHTTP true"),this.establishCall()):(C.log("webRTCClient.userAcceptOnIncomingCall :"+e.userAcceptOnIncomingCall),C.log("this.callee :"+this.callee),void 0!==this.data&&C.log("this.data.MCUType :"+this.data.MCUType),!0!==e.userAcceptOnIncomingCall||!0!==this.callee&&"MCU-Callee"!==this.data.MCUType||!1!==this.isAccepted?"LOCAL"!==this.calleeId?this.establishCall():C.log("call is not established as this is a LOCAL stream request"):C.log("Stand-by :: wait for establishCall"))},this.establishCall=function(){var t=this;C.debug("establishCall()"),!0!==this.started||!0!==this.addingUserMedia||!this.belongsToRoom()||"publish"!==this.settingUpType||this.data&&this.data.hasOwnProperty("MCUType")||!this.sessionMCU||this.sessionMCU.hasOwnProperty("roomMode")||(this.restarting=!0,this.pc.close(),this.pc=null,this.started=!1,this.localDescriptionSetted=!1,this.remoteDescriptionSetted=!1,this.sendedSdpOfferMessage=null,this.receivedSdpOfferMessage=null,this.rtpSenders={audio:[],video:[]},this.addingUserMedia=!1,this.updateUserMedia=!1,this.updateCause=null,this.incomingcandidatesQueue=[],this.message200OKReceived=!1,this.statisticId&&(clearInterval(this.statisticId),this.statisticId=null),this.csmIntervalId&&(clearInterval(this.csmIntervalId),this.csmIntervalId=null),this.instanceId=apiCC.generateInstanceId(),this.data.instanceId=this.instanceId),!0!==this.dataCall&&this.checkingMutingState(),this.maybeStart();var n=null;this.callee&&!0!==this.addingUserMedia&&!0!==this.updateUserMedia?(n=new apiCC.myWebRTC_Adapter.RTCSessionDescription(this.receivedSdpOfferMessage),C.log("Avant setRemote pour le callee :",n),null!==this.pc?(e.preferSendingH264Codec&&(C.log("Modification of SDP to set H264 as prefered sending codec"),n.sdp=e.mySDPManager.maybePreferCodec(n.sdp,"video","H264")),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("establishCall : before setRemoteDescription for callee"),this.pc.setRemoteDescription(n,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(C.log("establishCall : before setRemoteDescription for callee - Promise version"),this.pc.setRemoteDescription(n).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure")))):C.log("Error : PC is null"),this.doAnswer()):!0===this.addingUserMedia?(C.log("Adding local stream 1."),null!==this.pc?(null===this.callLocalStream&&null!==e.localStream&&(this.callLocalStream=e.localStream),null!==this.callLocalStream?(C.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream).then((function(){t.updateMediaWithRetryManagement(!1)})).catch((function(e){C.error("failed to add stream",e)}))):(C.log("No Stream to addStream"),this.updateMediaWithRetryManagement(!1))):C.error("Error : PC is null")):!0===this.updateUserMedia&&this.updateMediaWithRetryManagement(!1),C.log("End of establishCall()")},this.onUserMediaSuccessTestUni=function(){e.getUserMediaOnGoing=!1,C.info("onUserMediaSuccessTestUni : User has not granted access to local media.");var t=null,n={};!0===e.userMediaErrorDetected&&(e.userMediaErrorDetected=!1,n.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(n)),e.accessToLocalMedia=!0,this.maybeStart(),this.callee&&(t=new apiCC.myWebRTC_Adapter.RTCSessionDescription(this.receivedSdpOfferMessage),e.preferSendingH264Codec&&(C.log("Modification of SDP to set H264 as prefered sending codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("onUserMediaSuccessTestUni : before setRemoteDescription for callee"),this.pc.setRemoteDescription(t,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(C.log("onUserMediaSuccessTestUni : before setRemoteDescription for callee - Promise version"),this.pc.setRemoteDescription(t).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure"))),this.doAnswer())},this.onUserMediaErrorOnCall=function(t){var n=this;C.log("onUserMediaErrorOnCall");var r={};e.getUserMediaOnGoing=!1,setTimeout((function(){y.createErrorEvent(t,"USER_MEDIA_ERROR",n.callId)})),C.error("Failed to get access to local media. Error code was "+t.code),C.error(t),t=null,"electron"!==i.a&&"Chrome"===i.b&&i.d>47&&(C.log("browser_version > 47"),"https:"!==window.location.protocol&&C.error("HTTPS is now mandatory to use getUserMedia()")),e.setStatus("<div>Your phone is registered, you can be reached at this number : "+e.clientId+"</div>"),!0===this.screenSharing&&(this.callType="screenSharing","https:"!==window.location.protocol?(C.log("You need to be connected using HTTPS for screenSharing"),y.createDesktopCaptureEvent("UserMediaError_HTTPS_needed",this.callId,this.remoteId)):(C.log("screenSharing UserMediaError"),y.createDesktopCaptureEvent("UserMediaError",this.callId,this.remoteId))),!0===this.callee?(this.myWebRTC_Stack.sendBye(this.callId,this.calleeId,this.dest_roomId,this.callerId,"User_Media_Error",this.data),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.callerId,"User_Media_Error")):(void 0!==this.data&&null!==this.data&&"MCU-Callee"===this.data.MCUType&&this.myWebRTC_Stack.sendBye(this.callId,this.callerId,this.dest_roomId,this.calleeId,"User_Media_Error",this.data),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.calleeId,"User_Media_Error")),!1===this.screenSharing&&(e.userMediaErrorDetected=!0,r.userMediaErrorDetected=e.userMediaErrorDetected,apiCC.session.setUserData(r))},this.maybeStart=function(){C.debug("maybeStart"),!this.started&&e.channelReady&&(e.accessToLocalMedia||this.dataCall)&&(C.log("Creating PeerConnection."),this.createPeerConnection(),e.unidirectionelCallOnly||!0===this.screenSharing?!1===this.callee&&(C.log("Adding local stream 2."),null!==this.callLocalStream?(C.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream)):null!==e.localStream?(C.log("Add Stream of client.localStream"),this.addStream(e.localStream),this.callLocalStream=e.localStream):C.log("No Stream to add")):this.dataCall||(C.log("Adding local stream 3."),null!==this.callLocalStream?(C.log("Add Stream of callLocalStream"),this.addStream(this.callLocalStream)):null!==e.localStream?(C.log("Add Stream of client.localStream"),this.addStream(e.localStream),this.callLocalStream=e.localStream):(C.log("No Stream to add"),this.belongsToRoom()||"safari"!==a.c.type||"function"!=typeof this.pc.addTransceiver||(C.debug("add transceivers"),this.pc.addTransceiver("audio",{direction:"recvonly"}),this.pc.addTransceiver("video",{direction:"recvonly"})))),this.started=!0,!1===this.callee&&(C.log("Before doCall()"),this.doCall())),C.log("End of maybeStart")},this.createDataChannel=function(){if(C.info("createDataChannel"),"Edge"===i.b&&i.d<79)C.warn("Cannot create DataChannel as it is not supported on Edge");else if(null===this.sendDataChannel)try{this.sendDataChannel=this.pc.createDataChannel("apiRTCDataChannel",{}),this.sendDataChannel.binaryType="arraybuffer",C.log("Created data channel"),C.log("Subscribing to dc events"),this.sendDataChannel.onopen=this.callback(this,"onSendDataChannelOpen"),this.sendDataChannel.onclose=this.callback(this,"onSendDataChannelClose"),this.sendDataChannel.onmessage=this.callback(this,"onSendDataChannelMessage"),this.sendDataChannel.onerror=this.callback(this,"onSendDataChannelError")}catch(e){C.log("createDataChannel() failed with exception: "+e.message)}else C.log("Datachannel already exist")},this.createPeerConnection=function(){C.info("createPeerConnection");try{C.log("createPeerConnection with pc_config:",JSON.stringify(this.pc_config)),C.log("and pc_constraints:",JSON.stringify(this.pc_constraints)),void 0!==this.data&&null!==this.data&&"sipConnector"===this.data.pubSub&&"chrome"===a.c.type&&a.c.version>=72?(C.debug("SIP call on Chrome : force sdpSemantics plan-b"),this.pc_config.sdpSemantics="plan-b"):"chrome"===a.c.type&&a.c.version>=72&&a.c.version<78?(C.debug("Chrome 72=+ and 78-, force sdpSemantics plan-b"),this.pc_config.sdpSemantics="plan-b"):"iOS"===apiRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc?(C.debug("Cordova, force sdpSemantics plan-b"),this.pc_config.sdpSemantics="plan-b"):C.debug("sdpSemantics unified-plan is being used"),this.pc=new apiCC.myWebRTC_Adapter.RTCPeerConnection(this.pc_config,this.pc_constraints),this.dataCall&&this.createDataChannel(),this.pc.onicecandidate=this.callback(this,"onIceCandidate")}catch(e){return C.log("Failed to create PeerConnection, exception: "+e.message),void C.error("Cannot create RTCPeerConnection object; WebRTC is not supported by this browser.")}"Firefox"===i.b&&i.d>=53||"Edge"===i.b||"chrome"===a.c.type&&a.c.version>=64?(this.pc.ontrack=this.callback(this,"onRemoteTrackAdded"),this.pc.onaddstream=this.callback(this,"onRemoteStreamAdded")):"Safari"===i.b&&i.d>=12||"Mobile Safari"===i.b&&i.d>=12?this.pc.ontrack=this.callback(this,"onRemoteTrackAdded"):this.pc.onaddstream=this.callback(this,"onRemoteStreamAdded"),this.pc.onremovestream=this.callback(this,"onRemoteStreamRemoved"),this.pc.onnegotiationneeded=this.callback(this,"onNegotiationNeeded"),this.pc.onsignalingstatechange=this.callback(this,"onSignalingStateChange"),this.pc.oniceconnectionstatechange=this.callback(this,"onIceConnectionStateChange"),this.pc.ondatachannel=this.callback(this,"onDataChannel"),this.pc.onicegatheringstatechange=this.callback(this,"onIceGatheringStateChange"),this.pc.onconnectionstatechange=this.callback(this,"onConnectionStateChange"),e.qosEnable&&(this.statisticId=setInterval(this.callback(this,"getStatistics"),this.getStatsInterval)),e.csmEnable&&(this.csmLastResults={},this.csmIntervalId=setInterval(this.callback(this,"csmHandler"),this.csmIntervalMs))},this.onIceGatheringStateChange=function(e){C.log("onIceGatheringStateChange"),null!==this.pc&&(C.info("onIceGatheringStateChange, Ice Gathering State is now : "+this.pc.iceGatheringState),"complete"===this.pc.iceGatheringState&&0===this.candidateNb&&C.warn("Warning, no candidate where retrieved for this call on client"))},this.onConnectionStateChange=function(e){C.log("onConnectionStateChange event :",e)},this.onDataChannel=function(e){C.info("onDataChannel event"),this.receiveDataChannel=e.channel,this.receiveDataChannel.binaryType="arraybuffer",null===this.sendDataChannel&&(C.log("Setting this.sendDataChannel with receivedDataChannel"),this.sendDataChannel=e.channel,this.sendDataChannel.onopen=this.callback(this,"onSendDataChannelOpen"),this.sendDataChannel.onclose=this.callback(this,"onSendDataChannelClose"),this.sendDataChannel.onmessage=this.callback(this,"onSendDataChannelMessage"),this.sendDataChannel.onerror=this.callback(this,"onSendDataChannelError")),C.log("got dataChannel",e.channel.label),C.log("Subscribing to dc events"),this.receiveDataChannel.onopen=this.callback(this,"onReceiveDataChannelOpen"),this.receiveDataChannel.onclose=this.callback(this,"onReceiveDataChannelClose"),this.receiveDataChannel.onmessage=this.callback(this,"onReceiveDataChannelMessage"),this.receiveDataChannel.onerror=this.callback(this,"onReceiveDataChannelError")},this.onSendDataChannelOpen=function(t){C.info("onSendDataChannelOpen"),"data"===this.callType&&"dataChannelConnector"===this.calleeId&&(this.pushDataStatus&&"pipeline"===this.pushDataStatus.type?(this.pushDataStatus.state="ready",setTimeout((function(){e.startNextPushData()}))):!0!==this.transferStarted&&this.startTransfer()),y.createEvent({eventType:"sendDataChannelOpen",callId:this.callId,remoteId:this.remoteId,details:t})},this.onSendDataChannelClose=function(e){C.info("onSendDataChannelClose"),this.sendDataChannel=null,null!==y&&y.createEvent({eventType:"sendDataChannelClose",callId:this.callId,remoteId:this.remoteId,details:e})},this.processOnDataChannelMessage=function(e){var t,n,r=null,i=null,o="",s=0;if(C.info("processOnDataChannelMessage"),r=JSON.parse(e.data),C.log("data.uuid :"+r.uuid),C.log("data.messageSize :"+r.messageSize),C.log("data.originalDataType :"+r.originalDataType),t=r.uuid,"ArrayBuffer"===r.originalDataType&&(C.log("ArrayBuffer conversion"),r.message=a.b.decode(r.message)),C.log("data :"+r),C.log("data.uuid :"+t),C.log("receiveChunkNb[uuid] :"+this.receiveChunkNb[t]),void 0===this.receiveChunkNb[t])C.log("receiving first packet for uuid :"+t),C.log("evt.data.message :"+e.data),this.firstDataPacket[t]=r,this.receiveChunkNb[t]=1,this.receivedSize[t]=0,this.startingDate=new Date,this.transferDuration=0,y.createEvent({eventType:"onFileReceiving",remoteId:this.remoteId,callId:this.callId,name:r.name,uuid:t}),y.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:this.firstDataPacket[t].size,callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:0,transferEnded:!1});else if(C.log("new packet for uuid :"+t),this.receiveChunkNb[t]+=1,C.log("data.messageSize :"+r.messageSize),C.log("data.message.length :"+r.message.length),s=r.messageSize||r.message.length,C.log("receivedSize :"+s),this.receiveArrayToStoreChunks[t]||(this.receiveArrayToStoreChunks[t]=[]),this.receiveArrayToStoreChunks[t].push(r.message),this.receivedSize[t]+=s,this.transferDuration=new Date-this.startingDate,this.receivedSize[t]===this.firstDataPacket[t].size){if(C.log("End of data transfert"),C.log("this.firstDataPacket.type :"+this.firstDataPacket[t].type),"image/png-dataUrl"===this.firstDataPacket[t].type){for(C.log("Photo received from a takeSnapshot"),n=0;n<this.receiveArrayToStoreChunks[t].length;n+=1)o+=this.receiveArrayToStoreChunks[t][n];i=o}else i=new window.Blob(this.receiveArrayToStoreChunks[t]);y.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:0,callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:100,transferEnded:!0}),y.createEvent({eventType:"onFileReceived",callId:this.callId,uuid:t,remoteId:this.remoteId,callerId:this.callerId,calleeId:this.calleeId,data:{file:i,name:this.firstDataPacket[t].name,type:this.firstDataPacket[t].type,uuid:t},details:e}),delete this.receiveArrayToStoreChunks[t],delete this.receivedSize[t],delete this.receiveChunkNb[t],delete this.firstDataPacket[t]}else y.createEvent({eventType:"onFileProgress",sendChunkNb:this.receiveChunkNb[t],fileSize:this.firstDataPacket[t].size,remainingSize:this.firstDataPacket[t].size-this.receivedSize[t],callId:this.callId,uuid:t,remoteId:this.remoteId,lastPacket:!1,startingDate:this.startingDate,transferDuration:this.transferDuration,percentage:parseInt(100*this.receivedSize[t]/this.firstDataPacket[t].size,10),transferEnded:!1})},this.onSendDataChannelMessage=function(e){C.info("onSendDataChannelMessage :",e),this.processOnDataChannelMessage(e)},this.onSendDataChannelError=function(e){C.info("onSendDataChannelError"),this.sendDataChannel=null,y.createEvent({eventType:"sendDataChannelError",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelOpen=function(e){C.info("onReceiveChannelOpen"),y.createEvent({eventType:"receiveDataChannelOpen",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelClose=function(e){C.info("onReceiveDataChannelClose"),this.receiveDataChannel=null,null!==y&&y.createEvent({eventType:"receiveDataChannelClose",callId:this.callId,remoteId:this.remoteId,details:e})},this.onReceiveDataChannelMessage=function(e){C.info("onReceiveChannelMessage"),this.processOnDataChannelMessage(e)},this.onReceiveDataChannelError=function(e){C.info("onReceiveChannelError"),y.createEvent({eventType:"receiveDataChannelError",callId:this.callId,remoteId:this.remoteId,details:e})},this.startTransfer=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasOwnProperty("delay")?t.delay:100;!0!==this.transferStarted&&(C.info("startTransfer",n),this.transferStarted=!0,setTimeout((function(){e.dcfs||(e.dcfs=new v(e),e.data.offset>0?e.dcfs.transfer(e.fileContent.buffer,e.data.offset,e.sendDataChannel,{delay:n}):e.dcfs.transfer(e.fileContent.buffer,0,e.sendDataChannel,{delay:n}))}),n))},this.statisticsAnswer=function(t){var n=t.result(),r=null;this.qm||(this.qm=new h(this.getStatsInterval/1e3,this.callback(this,"onQosChange"),this.callback(this,"onQosAudioChange"),this.callback(this,"onQosVideoChange"),this.callId,e.apiKey,e.clientId,e.socket)),n&&(this.qm.insertStats(n,this.sendedSdpOfferMessage,this.receivedSdpOfferMessage,e.remoteVideo),r=this.qm.getAllStats(),e.qosEnable&&y.createEvent({eventType:"onQosStatsUpdate",callId:this.callId,remoteId:this.remoteId,stats:r}),this.videoReceivedWidth=r.VideoRecv.FrameWidth,this.videoReceivedHeight=r.VideoRecv.FrameHeight,this.videoSendWidth=r.VideoSend.FrameWidth,this.videoSendHeight=r.VideoSend.FrameHeight,this.videoReceivedDelay=r.VideoRecv.delay,this.audioReceivedDelay=r.AudioRecv.delay,this.audioSendDelay=r.AudioSend.rtt,this.videoSendDelay=r.VideoSend.rtt,this.videoSendMoyDelay=r.VideoSend.moyRtt,this.videoSendPacketLossRatio=r.VideoSend.packetLostRatio,this.audioSendPacketLossRatio=r.AudioSend.packetLostRatio,this.videoSendEncodeUsagePercent=r.VideoSend.googEncodeUsagePercent,this.videoSendCpuLimitedResolution=r.VideoSend.googCpuLimitedResolution,this.videoSendBandwidthLimitedResolution=r.VideoSend.googBandwidthLimitedResolution,void 0!==this.videoSendCpuLimitedResolution&&!0===JSON.parse(this.videoSendCpuLimitedResolution)&&y.createEvent({eventType:"cpuLimited",callId:this.callId,encodeUsagePercent:this.videoSendEncodeUsagePercent}),void 0!==this.videoSendBandwidthLimitedResolution&&!0===JSON.parse(this.videoSendBandwidthLimitedResolution)&&y.createEvent({eventType:"bandwidthLimited",callId:this.callId}))},this.csmGetStatsHandler=function(t){var n,r=this,o=null,s=null,l={};if(this.csm||(this.csm=new g(this.csmIntervalMs/1e3,a.c.type,a.c.version,"standard"),this.csm.browserInfo={browserAbout:i.b+" "+i.e,browserType:a.c.type,browserVersion:a.c.version},Object(a.h)(this.mcuRemoteStream,"attributes","object")&&(!0===this.mcuRemoteStream.replay?Object(a.h)(this.mcuRemoteStream.attributes.callerId,"string")&&Object(a.h)(this.mcuRemoteStream.attributes.callId,"string")&&Object(a.h)(this.mcuRemoteStream.attributes.recId,"string")&&(this.csm.callFeed={clientId:this.mcuRemoteStream.attributes.callerId,callId:this.mcuRemoteStream.attributes.callId,modifier:"replay",recId:this.mcuRemoteStream.attributes.recId}):Object(a.h)(this.mcuRemoteStream.attributes.callerId,"string")&&Object(a.h)(this.mcuRemoteStream.attributes.callId,"string")&&(this.csm.callFeed={clientId:this.mcuRemoteStream.attributes.callerId,callId:this.mcuRemoteStream.attributes.callId}))),l.post=function(e){r.mos||(r.mos=new b),e.quality={},e.audioReceived?r.isRemoteAudioMuted?e.quality.mosS="Muted":0!==e.audioReceived.bitsReceivedPerSecond?(e.audioReceived.delay=parseInt(r.audioReceivedDelay,10),e.quality.mosS=r.mos.NarrowBandSpeechQuality(e.audioReceived.delay,e.audioReceived.packetLossRatio)):e.quality.mosS="NoStream":e.quality.mosS="NoStream",e.videoReceived?r.isRemoteVideoMuted?e.quality.mosV="Muted":0!==e.videoReceived.bitsReceivedPerSecond?(e.videoReceived.width=r.videoReceivedWidth,e.videoReceived.height=r.videoReceivedHeight,e.videoReceived.delay=parseInt(r.videoReceivedDelay,10),e.quality.mosV=r.mos.videoQuality(e.videoReceived.width,e.videoReceived.height,e.videoReceived.packetLossRatio,Math.floor(e.videoReceived.bitsReceivedPerSecond/1e3),e.videoReceived.framesDecodedPerSecond)):e.quality.mosV="NoStream":e.quality.mosV="NoStream",e.audioReceived&&e.videoReceived&&(e.quality.mosAV=r.mos.audiovisualQuality(e.quality.mosS,e.quality.mosV,e.audioReceived.delay,e.videoReceived.delay)),e.audioSent?r.isLocalAudioMuted?e.quality.mosSS="Muted":0!==e.audioSent.bitsSentPerSecond?(e.audioSent.delay=parseInt(r.audioSendDelay,10),e.audioSent.packetLossRatio=r.audioSendPacketLossRatio,e.quality.mosSS=r.mos.NarrowBandSpeechQuality(e.audioSent.delay,e.audioSent.packetLossRatio)):e.quality.mosSS="NoStream":e.quality.mosSS="NoStream",e.videoSent?r.isLocalVideoMuted?e.quality.mosSV="Muted":0!==e.videoSent.bitsSentPerSecond?(e.videoSent.width=r.videoSendWidth,e.videoSent.height=r.videoSendHeight,e.videoSent.delay=parseInt(r.videoSendDelay,10),e.videoSent.moyDelay=parseInt(r.videoSendMoyDelay,10),e.videoSent.packetLossRatio=r.videoSendPacketLossRatio,e.videoSent.encodeUsagePercent=r.videoSendEncodeUsagePercent,e.videoSent.cpuLimitedResolution=r.videoSendCpuLimitedResolution,e.videoSent.bandwidthLimitedResolution=r.videoSendBandwidthLimitedResolution,e.quality.mosSV=r.mos.videoQuality(e.videoSent.width,e.videoSent.height,e.videoSent.packetLossRatio,Math.floor(e.videoSent.bitsSentPerSecond/1e3),e.videoSent.framesEncodedPerSecond)):e.quality.mosSV="NoStream":e.quality.mosSV="NoStream",e.audioSent&&e.videoSent&&(e.quality.mosSAV=r.mos.audiovisualQuality(e.quality.mosSS,e.quality.mosSV,e.audioSent.delay,e.videoSent.delay))},n=this.csm.addCallStats(t,l),0!==Object.keys(n).length){!n.quality||"Muted"===n.quality.mosS&&"Muted"===n.quality.mosV&&"Muted"===n.quality.mosSS&&"Muted"===n.quality.mosSV||e.qualityScoreEnable&&y.createEvent({eventType:"onCallScoreUpdate",callId:this.callId,score:n.quality}),this.csmLastResults=n,this.callLocalStream&&"function"==typeof this.callLocalStream.getVideoTracks&&(o=this.callLocalStream.getVideoTracks())&&o[0]&&"function"==typeof o[0].getSettings&&(s=o[0].getSettings());var c={save:!0,clientId:e.clientId,callId:this.callId,instanceId:this.instanceId,browserInfo:this.csm.browserInfo,stats:n};this.sessionMCU&&(c.roomId=this.sessionMCU.roomName,c.pubSub=e.MCUClient.pubConnector),this.csm.callFeed&&(c.callFeed=this.csm.callFeed),s&&(c.videoSettings=s),this.data.mesh&&(c.mesh=this.data.mesh),this.myWebRTC_Stack.sendInfo("callStats",c),e.csmEnable&&(this.data&&this.data.mesh&&(this.data.mesh.calleeCompositeUserId?this.data.mesh.calleeCompositeUserId===e.compositeClientId:this.data.mesh.calleeId===e.clientId)?y.createEvent({eventType:"onCallStatsUpdate",callId:this.data.mesh.calleeCallId,userId:this.data.mesh.callerId,stats:n}):y.createEvent({eventType:"onCallStatsUpdate",callId:this.callId,stats:n}))}},this.onQosChange=function(e,t){y.createEvent({eventType:"onQosChange",callId:this.callId,remoteId:this.remoteId,qosIn:e,qosOut:t})},this.onQosAudioChange=function(e,t){y.createEvent({eventType:"onQosAudioChange",callId:this.callId,remoteId:this.remoteId,qosAudioIn:e,qosAudioOut:t})},this.onQosVideoChange=function(e,t){y.createEvent({eventType:"onQosVideoChange",callId:this.callId,remoteId:this.remoteId,qosVideoIn:e,qosVideoOut:t})},this.getStatistics=function(){this.pc&&this.pc.getStats&&"Firefox"!==i.b&&this.pc.getStats(this.callback(this,"statisticsAnswer"))},this.csmHandler=function(){this.statisticId||this.getStatistics(),this.pc&&"function"==typeof this.pc.getStats&&this.pc.getStats(null).then(this.callback(this,"csmGetStatsHandler")).catch((function(e){C.warn("failed to get stats",e)}))},this.doCall=function(){var e=null;C.log("Sending offer to peer"),this.audioOnly?(C.log("audioOnly call :",this.mediaConstraintsAudioOnly),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraintsAudioOnly)):(C.log("createOffer - Promise version"),this.pc.createOffer(this.mediaConstraintsAudioOnly).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):!0===this.screenSharing?(C.log("screenSharing call : one way media :",e),e={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),e)):(C.log("createOffer - Promise version"),this.pc.createOffer(e).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):!0===this.dataCall?(C.log("call is data only :",e),e="Firefox"===i.b&&i.d>43?{offerToReceiveAudio:!1,offerToReceiveVideo:!1}:{mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),e)):(C.log("createOffer - Promise version"),this.pc.createOffer(e).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure")))):(C.log("call is audio & video :",this.mediaConstraints),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOffer"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraints)):(C.log("createOffer - Promise version"),this.pc.createOffer(this.mediaConstraints).then(this.callback(this,"setLocalAndSendMessageonOffer")).catch(this.callback(this,"onCreateOfferFailure"))))},this.doAnswer=function(){C.info("doAnswer");var e=null;this.audioOnly?(C.log("audioOnly call"),e=this.mediaConstraintsAudioOnly):e=this.mediaConstraints,"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createAnswer"),this.pc.createAnswer(this.callback(this,"setLocalAndSendMessage"),this.callback(this,"onCreateAnswerFailure"),e)):(C.log("createAnswer - Promise version"),this.pc.createAnswer(e).then(this.callback(this,"setLocalAndSendMessage")).catch(this.callback(this,"onCreateAnswerFailure")))},this.doUpdateAnswer=function(){C.info("doUpdateAnswer");var e=null;this.audioOnly?(C.log("audioOnly call"),e=this.mediaConstraintsAudioOnly):e=this.mediaConstraints,"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createAnswer"),this.pc.createAnswer(this.callback(this,"setLocalAndSendMessageUpdate"),this.callback(this,"onCreateAnswerFailure"),e)):(C.log("createAnswer - Promise version"),this.pc.createAnswer(e).then(this.callback(this,"setLocalAndSendMessageUpdate")).catch(this.callback(this,"onCreateAnswerFailure")))},this.updateMediaWithRetryManagement=function(e){C.debug("updateMediaWithRetryManagement");var t=this.updateMedia(e);C.debug("updateMediaResult :",t),"Sig_state_not_stable"!==t.reason&&"Update_already_ongoing"!==t.reason||(C.debug("updateMedia will be retried later for reason :",t.reason),this.retryUpdateMedia=!0)},this.updateMedia=function(e){return C.debug("updateMedia, callId :",this.callId),C.log("iceRestartActivated :",e),null===this.pc?(C.log("updateMedia, pc no more exist"),{status:"Not_Done",reason:"PC_Not_Exit"}):!0===this.updateMediaOngoing?(C.log("updateMedia, already ongoing"),{status:"Not_Done",reason:"Update_already_ongoing"}):(this.updateMediaOngoing=!0,"stable"!==this.pc.signalingState?{status:"Not_Done",reason:"Sig_state_not_stable"}:(C.log("Sending Update offer to peer."),this.audioOnly?(C.log("audioOnly call :",this.mediaConstraintsAudioOnly),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),void 0!==this.mediaConstraintsAudioOnly.mandatory?this.mediaConstraintsAudioOnly.mandatory.IceRestart=!0:this.mediaConstraintsAudioOnly.iceRestart=!0,C.log("this.mediaConstraints :",this.mediaConstraintsAudioOnly),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOfferUpdate"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraintsAudioOnly)):(C.log("createOffer - Promise version"),!0===e&&(this.mediaConstraintsAudioOnly.iceRestart=!0),C.log("this.mediaConstraints :",this.mediaConstraintsAudioOnly),this.pc.createOffer(this.mediaConstraintsAudioOnly).then(this.callback(this,"setLocalAndSendMessageonOfferUpdate")).catch(this.callback(this,"onCreateOfferFailure")))):"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("createOffer"),!0===e&&(void 0!==this.mediaConstraints.mandatory?this.mediaConstraints.mandatory.IceRestart=!0:this.mediaConstraints.iceRestart=!0),C.log("this.mediaConstraints :",this.mediaConstraints),this.pc.createOffer(this.callback(this,"setLocalAndSendMessageonOfferUpdate"),this.callback(this,"onCreateOfferFailure"),this.mediaConstraints)):(C.log("createOffer - Promise version"),!0===e&&(this.mediaConstraints.iceRestart=!0),C.log("this.mediaConstraints :",this.mediaConstraints),this.pc.createOffer(this.mediaConstraints).then(this.callback(this,"setLocalAndSendMessageonOfferUpdate")).catch(this.callback(this,"onCreateOfferFailure"))),{status:"OnGoing",reason:"OK"}))},this.manipulateSDP=function(t,n){var r=null,i=!1;return C.log("manipulateSDP with type :",n),!0===e.receiveMediaDeactivated&&(C.log("setting receiveMediaDeactivated in SDP :"+e.receiveMediaDeactivated),t.sdp=e.mySDPManager.setSendOnly(t.sdp)),!0===e.RTPMedia&&(t.sdp=t.sdp.replace(/RTP\/SAVPF/g,"RTP/SF")),null!==e.audioBandwidth&&(C.log("setting audioBandwidth in SDP :"+e.audioBandwidth),t.sdp=e.mySDPManager.setAudioBandwidth(t.sdp,e.audioBandwidth)),null!==e.videoBandwidth&&(C.log("setting videoBandwidth in SDP :"+e.videoBandwidth),t.sdp=e.mySDPManager.setVideoBandwidth(t.sdp,e.videoBandwidth)),null!==e.dataBandwidth&&(C.log("setting dataBandwidth in SDP :"+e.dataBandwidth),t.sdp=e.mySDPManager.setDataBandwidth(t.sdp,e.dataBandwidth)),!0===e.preferOpusCodec&&(C.log("setting preferOpusCodec"),t.sdp=e.mySDPManager.preferOpus(t.sdp)),!0!==e.preferVP9Codec&&!0!==this.preferVP9Codec||(C.log("Call prefer VP9 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","VP9")),!0!==e.preferH264Codec&&!0!==this.preferH264Codec||(C.log("Call prefer H264 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),!0===this.preferVP8Codec&&(C.log("Call prefer VP8 Codec"),t.sdp=e.mySDPManager.maybePreferCodec(t.sdp,"video","VP8")),!0===e.setStereo&&(C.log("Set Stereo"),t.sdp=e.mySDPManager.setCodecParam(t.sdp,"opus/48000","stereo","1")),t=e.mySDPManager.updateSDPcodecs(t,t.type,"audio",e.allowedAudioCodecs),t=e.mySDPManager.updateSDPcodecs(t,t.type,"video",e.allowedVideoCodecs),"OFFER"===n?"publish"===this.settingUpType&&"NONE"===this.mediaTypeForIncomingCall?(r=e.mySDPManager.createGuideline(t.sdp),"VIDEO"===this.mediaTypeForOutgoingCall?(Object(a.g)(r,"audio","object")&&"sendonly"!==r.audio.direction&&(r.audio.direction="sendonly",i=!0),Object(a.g)(r,"video","object")&&"sendonly"!==r.video.direction&&(r.video.direction="sendonly",i=!0)):"AUDIO"===this.mediaTypeForOutgoingCall?(Object(a.g)(r,"audio","object")&&"sendonly"!==r.audio.direction&&(r.audio.direction="sendonly",i=!0),Object(a.g)(r,"video","object")&&"inactive"!==r.video.direction&&(r.video.direction="inactive",i=!0)):"VIDEOONLY"===this.mediaTypeForOutgoingCall&&(Object(a.g)(r,"audio","object")&&"inactive"!==r.audio.direction&&(r.audio.direction="inactive",i=!0),Object(a.g)(r,"video","object")&&"sendonly"!==r.video.direction&&(r.video.direction="sendonly",i=!0)),!0===i&&(t.sdp=r.generate())):"VIDEO"===this.mediaTypeForOutgoingCall?C.log("mediaTypeForOutgoingCall is VIDEO"):"AUDIO"===this.mediaTypeForOutgoingCall||!0===this.audioOnly?(C.log("mediaTypeForOutgoingCall is AUDIO"),t.sdp=e.mySDPManager.setRecvOnlyForVideo(t.sdp)):"VIDEOONLY"===this.mediaTypeForOutgoingCall?(C.log("mediaTypeForOutgoingCall is VIDEOONLY"),t.sdp=e.mySDPManager.setRecvOnlyForAudio(t.sdp)):"NONE"===this.mediaTypeForOutgoingCall&&(C.log("mediaTypeForOutgoingCall is NONE"),t.sdp=e.mySDPManager.setRecvOnly(t.sdp)):"ANSWER"===n&&("VIDEO"===this.mediaTypeForIncomingCall?C.log("mediaTypeForIncomingCall is VIDEO"):"AUDIO"===this.mediaTypeForIncomingCall||!0===this.audioOnly?(C.log("mediaTypeForIncomingCall is AUDIO"),t.sdp=e.mySDPManager.setRecvOnlyForVideo(t.sdp)):"VIDEOONLY"===this.mediaTypeForIncomingCall?(C.log("mediaTypeForIncomingCall is VIDEOONLY"),t.sdp=e.mySDPManager.setRecvOnlyForAudio(t.sdp)):"NONE"===this.mediaTypeForIncomingCall&&(C.log("mediaTypeForIncomingCall is NONE"),t.sdp=e.mySDPManager.setRecvOnly(t.sdp))),"SDP"===this.simulcast&&"OFFER"===n&&"publish"===this.settingUpType&&((r=e.mySDPManager.createGuideline(t.sdp)).mungeForSimulcasting(),t.sdp=r.generate()),t},this.setLocalAndSendMessageonOffer=function(t){C.info("setLocalAndSendMessageonOffer"),C.log("sessionDescription = ",t),C.log("sessionDescription.sdp = ",t.sdp);var n=null;t.sdp=this.manipulateSDP(t,"OFFER").sdp,C.log("manipulated sessionDescription.sdp = ",t.sdp),!0===this.stripAudioSDPActivated&&(t.sdp=e.mySDPManager.stripAudioMediaDescriptionFromSDP(t.sdp)),!0===this.stripVideoSDPActivated&&(t.sdp=e.mySDPManager.stripVideoMediaDescriptionFromSDP(t.sdp)),this.setLocalCallProfile(e.evalCallProfileWithSdp(t.sdp,"local","send")),this.sendedSdpOfferMessage=t,!0===this.dataCall&&(C.log("setLocalAndSendMessageonOffer : data Call"),this.callType="data"),!1===this.callCancelled?!1===e.NtoNConf?(C.log("Conf N to 1"),!0===this.screenSharing&&(n=e.mySDPManager.getAudioMediaDescriptionPart(this.sendedSdpOfferMessage.sdp),this.callType=null!=n?"screenSharingWithAudio":"screenSharing"),!0===this.trickleIce&&(this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,t,this.callType,this.data,this.mcuRemoteStream),this.inviteSended=!0),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessageonOffer : before setLocalDescription"),this.pc.setLocalDescription(this.sendedSdpOfferMessage,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(C.log("setLocalAndSendMessageonOffer : before setLocalDescription - Promise version"),this.pc.setLocalDescription(this.sendedSdpOfferMessage).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure")))):(C.log("Conf N to N"),this.myWebRTC_Stack.sendInviteBroadcast(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,t),this.inviteSended=!0):(C.warn("Invite is not sent has call has been canceled"),e.removeCallFromTableWithCallIdandRemoteId(this.callId,this.calleeId,"Call_Cancelled"),0===e.callsTable.length&&(C.log("No more established calls for client"),e.initMediaElementState(),e.displayCallButtonInCommand()))},this.setLocalAndSendMessageonOfferUpdate=function(t){var n=null,r=0;C.info("setLocalAndSendMessageonOfferUpdate, sessionDescription :"+t),this.sendedSdpOfferMessage=t,C.log("sessionDescription.sdp = ",t.sdp),(Object(a.h)(this.audioSdpDirection,"string")||Object(a.h)(this.videoSdpDirection,"string"))&&(n=e.mySDPManager.createGuideline(t.sdp),Object(a.g)(n,"audio","object")&&Object(a.h)(this.audioSdpDirection,"string")&&(n.audio.direction=this.audioSdpDirection),Object(a.g)(n,"video","object")&&Object(a.h)(this.videoSdpDirection,"string")&&(n.video.direction=this.videoSdpDirection),t.sdp=n.generate()),this.setLocalCallProfile(e.evalCallProfileWithSdp(t.sdp,"local","send"),!0),r=this.callee?this.callerId:this.calleeId,!0===this.trickleIce?(this.myWebRTC_Stack.sendUpdate(this.callId,this.callerId,this.calleeId,this.dest_roomId,r,t,this.callType,this.data),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(C.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure")))):(C.log("Updating PC offer and answer after switch Stream"),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(C.log("setLocalAndSendMessageonOfferUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure"))),e.preferSendingH264Codec&&(C.log("Modification of SDP to set H264 as prefered sending codec"),this.pc.remoteDescription.sdp=e.mySDPManager.maybePreferCodec(this.pc.remoteDescription.sdp,"video","H264")),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessageonOfferUpdate : before setRemoteDescription"),this.pc.setRemoteDescription(this.pc.remoteDescription,this.callback(this,"onSetRemoteDescriptionSuccess"),this.callback(this,"onSetRemoteDescriptionFailure"))):(C.log("setLocalAndSendMessageonOfferUpdate : before setRemoteDescription - Promise version"),this.pc.setRemoteDescription(this.pc.remoteDescription).then(this.callback(this,"onSetRemoteDescriptionSuccess")).catch(this.callback(this,"onSetRemoteDescriptionFailure"))))},this.onCreateOfferFailure=function(e){C.info("onCreateOfferFailure"+e),e=null},this.onCreateAnswerFailure=function(e){C.info("onCreateAnswerFailure"+e),e=null},this.setLocalAndSendMessage=function(t){var n;C.info("setLocalAndSendMessage"),C.log("sessionDescription.sdp = ",t.sdp),null!==this.pc?(t=this.manipulateSDP(t,"ANSWER"),n=e.mySDPManager.createGuideline(t.sdp),this.setLocalCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","send")),this.setRemoteCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","receive")),C.log("manipulated sessionDescription.sdp = ",t.sdp),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessage : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(C.log("setLocalAndSendMessage : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure"))),this.sendedSdpOfferMessage=t,!0===this.trickleIce&&this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,t,this.data)):C.log("setLocalAndSendMessage, pc no more exist")},this.setLocalAndSendMessageUpdate=function(t){var n;if(null!==this.pc){"safari"===a.c.type&&(t.sdp=this.manipulateSDP(t,"OFFER").sdp),n=e.mySDPManager.createGuideline(t.sdp),"AUDIOONLY"===this.mediaType?n.hasOwnProperty("video")&&"inactive"!==n.video.direction&&(C.debug("Only audio was requested at call setup: deactivating video"),n.video.direction="inactive",t.sdp=n.generate()):"VIDEOONLY"===this.mediaType&&n.hasOwnProperty("audio")&&"inactive"!==n.audio.direction&&(C.debug("Only video was requested at call setup: deactivating audio"),n.audio.direction="inactive",t.sdp=n.generate()),this.setLocalCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","send"),!0),this.setRemoteCallProfile(e.evalCallProfileWithSdpGuideline(n,t.sdp,"local","receive"),!0),this.updateOngoingTimeoutId&&(clearTimeout(this.updateOngoingTimeoutId),delete this.updateOngoingTimeoutId),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b?(C.log("setLocalAndSendMessageUpdate : before setLocalDescription"),this.pc.setLocalDescription(t,this.callback(this,"onSetLocalDescriptionSuccess"),this.callback(this,"onSetLocalDescriptionFailure"))):(C.log("setLocalAndSendMessageUpdate : before setLocalDescription - Promise version"),this.pc.setLocalDescription(t).then(this.callback(this,"onSetLocalDescriptionSuccess")).catch(this.callback(this,"onSetLocalDescriptionFailure")));var r=0;r=this.callee?this.callerId:this.calleeId,this.myWebRTC_Stack.send200Update(this.callId,this.callerId,this.calleeId,this.dest_roomId,r,t,this.data),this.asyncCallbacks&&"updateMediaType"===this.asyncCallbacks.type&&(C.debug("asyncCallbacks resolve"),this.asyncCallbacks.resolve(),this.asyncCallbacks.timeoutId&&(clearTimeout(this.asyncCallbacks.timeoutId),delete this.asyncCallbacks.timeoutId),delete this.asyncCallbacks)}else C.log("setLocalAndSendMessageUpdate, pc no more exist")},this.onIceCandidate=function(t){try{C.debug("onIceCandidate :",JSON.stringify(t.candidate))}catch(e){C.error(e)}var n=0,r=0,i=0;n=this.callee?this.callerId:this.calleeId,null!==this.pc&&(C.debug("Ice Connection State is now : "+this.pc.iceConnectionState),C.debug("Ice Gathering State is now : "+this.pc.iceGatheringState)),t.candidate?(this.candidateNb+=1,!0===this.trickleIce?this.mediaRoutingMode===e.mediaRoutingModeEnum.hostOnly?-1!==(r=t.candidate.candidate.search("host"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate):C.log("Media routing mode is hostOnly and not a HOST Candidate : ignoring message"):this.mediaRoutingMode===e.mediaRoutingModeEnum.stun?(r=t.candidate.candidate.search("host"),i=t.candidate.candidate.search("srflx"),-1!==r||-1!==i?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate):C.log("Media routing mode is stun and not a HOST or SRFLX Candidate : ignoring message")):this.mediaRoutingMode===e.mediaRoutingModeEnum.stunOnly?-1!==(r=t.candidate.candidate.search("srflx"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate):C.log("Media routing mode is stunOnly and not a SRFLX Candidate : ignoring message"):this.mediaRoutingMode===e.mediaRoutingModeEnum.turn?(C.log("Media routing mode is turn : all candidates are considered"),this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate)):this.mediaRoutingMode===e.mediaRoutingModeEnum.turnOnly&&(-1!==(r=t.candidate.candidate.search("relay"))?this.myWebRTC_Stack.sendCandidate(this.callId,this.callerId,this.calleeId,this.dest_roomId,n,t.candidate.sdpMLineIndex,t.candidate.sdpMid,t.candidate.candidate,this.data,t.candidate):C.log("Media routing mode is TurnOnly and not a RELAY Candidate : ignoring message")):C.log("trickleIce is deactivated : candidates are not sended")):(C.info("End of candidates."),!1===this.trickleIce&&(C.log("trickleIce === false"),!0===this.callee?(0!==this.send200OKTrickleIceFalseTimeOutId&&(clearTimeout(this.send200OKTrickleIceFalseTimeOutId),this.send200OKTrickleIceFalseTimeOutId=0),!1===this.message200OKSended?this.myWebRTC_Stack.send200OK(this.callId,this.callerId,this.calleeId,e.nickname,this.dest_roomId,this.pc.localDescription,this.data):C.log("200OK already sended")):null!==this.pc&&(0!==this.sendInviteTrickleIceFalseTimeOutId&&(clearTimeout(this.sendInviteTrickleIceFalseTimeOutId),this.sendInviteTrickleIceFalseTimeOutId=0),!1===this.inviteSended?(C.log("sendInvite on end of candidate"),this.myWebRTC_Stack.sendInvite(this.callId,this.callerId,e.nickname,this.dest_roomId,this.dest_roomId,this.pc.localDescription,this.callType,this.data,this.mcuRemoteStream),this.inviteSended=!0):C.log("Invite already sended"))))},this.combineRemoteStreams=function(e,t,n,r){var i=e.getTracks(),a=n.getTracks();if(1===i.length&&1===a.length&&("audio"===i[0].kind&&"video"===a[0].kind||"video"===i[0].kind&&"audio"===a[0].kind)){C.debug("combineRemoteStreams");var o=new MediaStream;return o.addTrack(i[0]),o.addTrack(a[0]),"internal"===r&&(n.removeTrack(a[0]),this.onRemoteStreamRemoved({stream:n})),"internal"===t&&(e.removeTrack(i[0]),this.onRemoteStreamRemoved({stream:e})),this.onRemoteStreamAdded({stream:o}),!0}return!1},this.checkRemoteStreamExists=function(e,t){var n=!1,r=null,i=null,a=null,o=null,s=null;for(t&&Array.isArray(t)&&(o=t.slice(0)),r=this.remoteMediaStreams.length;--r>=0;){if(this.remoteMediaStreams[r].id===e){n=!0;break}if(o)for(a=(i=this.remoteMediaStreams[r].getTracks()).length;--a>=0;)(s=t.indexOf(i[a].id))>=0&&(o[s]=!0)}if(!n&&o){for(s=0,a=o.length;--a>=0;)!0===o[a]&&(s+=1);s===o.length&&(n=!0)}return n},this.onRemoteStreamAdded=function(t){var n,r=null,a=0;C.info("onRemoteStreamAdded",t),this.checkRemoteStreamExists(t.stream.id,t.stream.getTracks().map((function(e){return e.id})))?C.debug("onRemoteStreamAdded: ignoring event; stream/track already known"):1===this.remoteMediaStreams.length&&this.combineRemoteStreams(this.remoteMediaStreams[0],"internal",t.stream,"event")||(C.debug("onRemoteStreamAdded adding",t.stream.id),this.remoteMediaStreams.push(t.stream),C.log("CallId is :"+this.callId),C.log("ClientId is :"+e.clientId),a=this.callee?this.callerId:this.calleeId,"undefined"==typeof apiRTC_React&&(!0===e.hideLocalVideoOnCall&&e.localVideo&&("Firefox"===i.b?""!==e.localVideo.mozSrcObject&&(e.localVideo.style.opacity=0):""!==e.localVideo.src&&(e.localVideo.style.opacity=0)),e.transitionToActive(),e.remoteVideo&&(e.remoteVideo.style.opacity=1),r=document.createElement("video"),e.remoteVideo&&(e.remoteVideo.appendChild(r),apiCC.attachMediaStream(r,t.stream),r.autoplay=!0,r.id="callId_"+this.callId+"-"+this.calleeId),r.oncanplay=e.myWebRTC_Event.createCanPlayRemoteVideoEvent(r.id,this.callType,a),e.remoteVideoDisplayManager()),this.sessionMCU&&"new"===this.sessionMCU.modeChangeKind&&e.processRemoteStreamAdded(this,t.stream),!0===this.screenSharing?this.callType="screenSharing":!0===this.audioOnly&&(this.callType="audio"),n={available:this.remoteCallProfile.audio,active:this.remoteCallProfile.audioActive,muted:this.isRemoteAudioMuted},r={available:this.remoteCallProfile.video,active:this.remoteCallProfile.videoActive,muted:this.isRemoteVideoMuted},null!==this.data?void 0!==this.data.mesh?e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,r):"publish"===this.data.type&&"passive"!==this.data.mode?C.warn("Filtering Remote stream added event (behavior on Chrome 44), no remote stream on publish calls"):!0===this.data.subscribeOrder&&void 0!==this.data.pubCallId?(C.debug("substitute callId: "+this.callId+" -> "+this.data.pubCallId),e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.data.pubCallId,t.stream,this.remoteId,this.destCallType,n,r)):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,r):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType,n,r))},this.onRemoteTrackAdded=function(t){C.info("onRemoteTrackAdded",t);var n,r=null,a=0;if(void 0!==t.streams[0]&&void 0!==t.track){if(this.checkRemoteStreamExists(t.streams[0].id,[t.track.id]))C.debug("onRemoteTrackAdded: ignoring event; stream/track already known");else if(1!==this.remoteMediaStreams.length||!this.combineRemoteStreams(this.remoteMediaStreams[0],"internal",t.streams[0],"event")){if(this.belongsToRoom()){if("audio"===this.callType&&"audio"!==t.track.kind||"videoOnly"===this.callType&&"video"!==t.track.kind||"media"===this.callType&&"video"!==t.track.kind||"screenSharing"===this.callType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.callType&&"video"!==t.track.kind)return void C.debug("onRemoteTrackAdded: ignoring event; callType: "+this.callType+", event.track.kind: "+t.track.kind)}else if("audio"===this.destCallType&&"audio"!==t.track.kind||"videoOnly"===this.destCallType&&"video"!==t.track.kind||"media"===this.destCallType&&"video"!==t.track.kind||"screenSharing"===this.destCallType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"!==t.track.kind)return C.debug("onRemoteTrackAdded: ignoring event; destCallType: "+this.destCallType+", event.track.kind: "+t.track.kind),void(2===this.remoteMediaStreams.length&&this.combineRemoveStreams(this.remoteMediaStreams[0],"internal",this.remoteMediaStreams[1],"internal"));C.debug("onRemoteTrackAdded adding; stream.id: "+t.streams[0].id),this.remoteMediaStreams.push(t.streams[0]),C.log("CallId is :"+this.callId),C.log("ClientId is :"+e.clientId),C.log("this.callType :"+this.callType),a=this.callee?this.callerId:this.calleeId,!0===e.hideLocalVideoOnCall&&e.localVideo&&("Firefox"===i.b?""!==e.localVideo.mozSrcObject&&(e.localVideo.style.opacity=0):""!==e.localVideo.src&&(e.localVideo.style.opacity=0)),e.transitionToActive(),e.remoteVideo&&(e.remoteVideo.style.opacity=1),r=document.createElement("video"),e.remoteVideo&&(e.remoteVideo.appendChild(r),apiCC.attachMediaStream(r,t.streams[0]),r.autoplay=!0,r.id="callId_"+this.callId+"-"+this.calleeId),!0===this.screenSharing?this.callType="screenSharing":!0===this.audioOnly&&(this.callType="audio"),r.oncanplay=e.myWebRTC_Event.createCanPlayRemoteVideoEvent(r.id,this.callType,a),e.remoteVideoDisplayManager(),this.sessionMCU&&"new"===this.sessionMCU.modeChangeKind&&e.processRemoteStreamAdded(this,t.streams[0]),t.streams[0].onaddtrack=function(e){C.debug("onRemoteTrackAdded ontrack.onaddtrack",e)},t.streams[0].onremovetrack=function(t){var n=null;if(C.debug("onRemoteTrackAdded ontrack.onremovetrack",t),this.updateOngoingTimeoutId)return C.debug("onRemoteTrackAdded onremovetrack: update ongoing"),void C.debug("onRemoteTrackAdded onremovetrack: ignoring event",t.track.kind);if("audio"===this.callType&&"audio"!==t.track.kind||"videoOnly"===this.callType&&"video"!==t.track.kind||"media"===this.callType&&"video"!==t.track.kind||"screenSharing"===this.callType&&"video"!==t.track.kind||"screenSharingWithAudio"===this.callType&&"video"!==t.track.kind)C.debug("onRemoteTrackAdded onremovetrack: ignoring event",t.track.kind);else if(t.target instanceof MediaStream){for(n=this.remoteMediaStreams.length;--n>=0;)if(this.remoteMediaStreams[n].id===t.target.id){C.debug("onRemoteTrackAdded onremovetrack removing",t.target.id),this.remoteMediaStreams.splice(n,1);break}e.myWebRTC_Event.createRemoteStreamRemovedEvent(this.callType,this.callId,t.target,this.remoteId,this.destCallType)}else C.debug("onRemoteTrackAdded onremovetrack: ignoring event target not MediaStream")}.bind(this),n={available:this.remoteCallProfile.audio,active:this.remoteCallProfile.audioActive,muted:this.isRemoteAudioMuted},r={available:this.remoteCallProfile.video,active:this.remoteCallProfile.videoActive,muted:this.isRemoteVideoMuted},null!==this.data?void 0!==this.data.mesh?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,r):"publish"===this.data.type&&"passive"!==this.data.mode?C.warn("Filtering Remote stream added event (behavior on Chrome 44), no remote stream on publish calls"):this.belongsToRoom()?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&(!0===this.data.subscribeOrder&&void 0!==this.data.pubCallId?(C.debug("substitute callId: "+this.callId+" -> "+this.data.pubCallId),e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.data.pubCallId,t.streams[0],this.remoteId,this.destCallType,n,r)):e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,r)):("audio"===this.destCallType&&"audio"===t.track.kind||"videoOnly"===this.destCallType&&"video"===t.track.kind||"media"===this.destCallType&&"video"===t.track.kind||"screenSharing"===this.destCallType&&"video"===t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,r):this.belongsToRoom()?("audio"===this.callType&&"audio"===t.track.kind||"videoOnly"===this.callType&&"video"===t.track.kind||"media"===this.callType&&"video"===t.track.kind||"screenSharing"===this.callType&&"video"===t.track.kind||"screenSharingWithAudio"===this.callType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,r):("audio"===this.destCallType&&"audio"===t.track.kind||"videoOnly"===this.destCallType&&"video"===t.track.kind||"media"===this.destCallType&&"video"===t.track.kind||"screenSharing"===this.destCallType&&"video"===t.track.kind||"screenSharingWithAudio"===this.destCallType&&"video"===t.track.kind)&&e.myWebRTC_Event.createRemoteStreamAddedEvent(this.callType,this.callId,t.streams[0],this.remoteId,this.destCallType,n,r)}}else C.debug("onRemoteTrackAdded: ignoring event; event data are not correct")},this.onRemoteStreamRemoved=function(t){var n=null;for(C.info("onRemoteStreamRemoved",t),n=this.remoteMediaStreams.length;--n>=0;)if(this.remoteMediaStreams[n].id===t.stream.id){C.debug("onRemoteStreamRemoved removing",t.stream.id),this.remoteMediaStreams.splice(n,1);break}e.myWebRTC_Event.createRemoteStreamRemovedEvent(this.callType,this.callId,t.stream,this.remoteId,this.destCallType),t=null},this.onNegotiationNeeded=function(e){C.debug("onNegotiationNeeded",e),e=null,this.addingDataChannelOnCallOngoing&&(this.updateMediaWithRetryManagement(!1),this.addingDataChannelOnCallOngoing=!1)},this.onSignalingStateChange=function(e){C.debug("onSignalingStateChange",e),e=null},this.onCallDisconnection=function(){C.info("onCallDisconnection; callId: "+this.callId);var t=new Date;C.debug("date:",t),0!==this.disconnectionWarningInterval&&(C.debug("date:",t),C.debug("clearing disconnectionWarningInterval"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0),0!==this.disconnectionWarningTimeout&&(C.debug("date:",t),C.debug("clearing disconnectionWarningTimeout"),clearTimeout(this.disconnectionWarningTimeout),this.disconnectionWarningTimeout=0),this.belongsToRoom()?e.onHangup(this.callId,"disconnected"):e.onHangup(this.callId,"Ice_disconnected")},this.sendDisconnectionWarning=function(){C.log("sendDisconnectionWarning()");var e=null,t=null;if(this.callControl&&(e=this.callControl.roomName,t=this.callControl.type),this.disconnectionWarningCount++,y.createEvent({eventType:"disconnectionWarning",callId:this.callId,remoteId:this.remoteId,tries:this.disconnectionWarningCount,roomName:e,settingUpType:t}),(this.disconnectionWarningCount-1)*this.disconnectionWarningDelay>=this.disconnectionTimer&&0!==this.disconnectionWarningInterval){var n=Date();C.debug("date :"+n),C.debug("clearing disconnectionWarningInterval : no more warnings"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0}},this.createIceErrorDescriptor=function(t,n){var r={};return"disconnected"===t?r.iceState="disconnected":"failed"===t?(r.iceState="failed",!0===n&&(r.previousIceState="disconnected")):r.iceState="unknown",r.callType=this.callType,this.belongsToRoom()?(r.context="conf",this.data.mesh?(r.mode="mesh",(this.data.mesh.callerCompositeUserId?this.data.mesh.callerCompositeUserId===e.compositeClientId:this.data.mesh.callerId===e.clientId)?(r.type="subscribe",r.clientId=this.data.mesh.callerId,r.remoteId=this.data.mesh.calleeId):(this.data.mesh.calleeCompositeUserId?this.data.mesh.calleeCompositeUserId===e.compositeClientId:this.data.mesh.calleeId===e.clientId)?(r.type="publish",r.clientId=this.data.mesh.calleeId,r.remoteId=this.data.mesh.callerId):r.type="unknown",r.mesh=this.data.mesh):(r.mode="sfu","publish"===this.settingUpType||"shareScreen"===this.settingUpType?r.type="publish":"subscribe"===this.settingUpType?r.type="subscribe":r.type="unknown",this.callee?(r.clientId=this.calleeId,r.remoteId=this.callerId):(r.clientId=this.callerId,r.remoteId=this.calleeId)),this.mcuRemoteStream&&(r.stream=this.mcuRemoteStream)):(r.context="call",r.mode="p2p",this.callerId===e.clientId?(r.clientId=this.callerId,r.remoteId=this.calleeId):this.calleeId===e.clientId&&(r.clientId=this.calleeId,r.remoteId=this.callerId)),r},this.onIceConnectionStateChange=function(t){C.debug("onIceConnectionStateChange: ",t),t=null;var n=0,r=null,i=null,o=null;null!==this.pc?(C.info("Ice Connection State is now : "+this.pc.iceConnectionState),this.iceState=this.pc.iceConnectionState,"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState||"checking"===this.pc.iceConnectionState?(C.debug("iceConnectionState === connected or completed or checking"),C.debug("this.disconnectionTimeoutId :"+this.disconnectionTimeoutId),0!==this.disconnectionTimeoutId&&(n=Date(),C.debug("date:",n),C.debug("clearing disconnectionTimeout"),clearTimeout(this.disconnectionTimeoutId),this.disconnectionTimeoutId=0),0!==this.disconnectionWarningInterval&&(n=Date(),C.debug("date:",n),C.debug("clearing disconnectionWarningInterval"),clearInterval(this.disconnectionWarningInterval),this.disconnectionWarningInterval=0),"checking"!==this.pc.iceConnectionState&&(this.checkCandidateTypesTimeoutId=setTimeout(this.callback(this,"checkCandidateTypes"),this.checkCandidateTypesTimer),this.checkCandidateTypesTimeoutTable.push(this.checkCandidateTypesTimeoutId))):"disconnected"===this.pc.iceConnectionState?(this.callControl&&(r=this.callControl.roomName,i=this.callControl.type),"conf"===(o=this.createIceErrorDescriptor("disconnected")).context&&this.myWebRTC_Stack.sendInfo("iceError",{clientId:e.clientId,callId:this.callId,roomId:this.sessionMCU.roomName,pubSub:e.MCUClient.pubConnector,descriptor:o}),C.warn("disconnection detected"),y.createErrorEvent("iceDisconnection detected","ICE_CONNECTION_STATE_DISCONNECTED",this.callId,r,i,o),n=new Date,C.debug("date:",n),this.disconnectionTimeoutId=setTimeout(this.callback(this,"onCallDisconnection"),this.disconnectionTimer),this.disconnectionWarningCount=0,this.disconnectionWarningTimeout=setTimeout(this.callback(this,"sendDisconnectionWarning"),2e3),this.disconnectionWarningInterval=setInterval(this.callback(this,"sendDisconnectionWarning"),this.disconnectionWarningDelay)):"failed"===this.pc.iceConnectionState&&(this.callControl&&(r=this.callControl.roomName,i=this.callControl.type),"conf"===(o=this.createIceErrorDescriptor("failed",0!==this.disconnectionTimeoutId)).context&&this.myWebRTC_Stack.sendInfo("iceError",{clientId:e.clientId,callId:this.callId,roomId:this.sessionMCU.roomName,pubSub:e.MCUClient.pubConnector,descriptor:o}),C.warn("iceConnection failed detected"),y.createErrorEvent("iceConnection failed detected","ICE_CONNECTION_STATE_FAILED",this.callId,r,i,o),0!==this.disconnectionTimeoutId?this.belongsToRoom()&&(clearTimeout(this.disconnectionTimeoutId),this.disconnectionTimeoutId=0,e.onHangup(this.callId,"disconnected")):this.belongsToRoom()&&Object(a.g)(this.callControl,["autoRestart","counter"],"number")&&this.callControl.autoRestart.counter>0?e.onHangup(this.callId,"disconnected"):(C.warn("Removing call with callId: "+this.callId),e.removeCallFromTableWithCallIdAndSendBye(this.callId,"Ice_failed")))):C.log("Ice Connection State change with pc is null")},this.callback=function(e,t){return this.closureHandler=function(n,r){return e[t](n,r)},this.closureHandler},this.onSelectedCandidate=function(t){if(void 0===this.selectedCandidate||null===this.selectedCandidate||this.selectedCandidate.LocalCandidateType!==t.LocalCandidateType||this.selectedCandidate.RemoteCandidateType!==t.RemoteCandidateType||this.selectedCandidate.LocalAddress!==t.LocalAddress||this.selectedCandidate.RemoteAddress!==t.RemoteAddress||this.selectedCandidate.TransportType!==t.TransportType||this.selectedCandidate.LocalTransportType!==t.LocalTransportType){C.debug("WebRTC_Call::onSelectedCandidate() :",t),this.selectedCandidate=t,this.callControl&&this.callControl.autoRestart&&(C.debug("selectedCandidate, this.callControl.autoRestart.counter:",this.callControl.autoRestart.counter),C.debug("selectedCandidate, this.callControl.autoRestart.callIdWhenStartingTimer:",this.callControl.autoRestart.callIdWhenStartingTimer),this.callControl.autoRestart.counter&&(C.debug("Reinit of autoRestart.counter"),this.callControl.autoRestart.counter=0,void 0!==this.callControl.autoRestart.callIdWhenStartingTimer&&e.stopMaxCallRetriesTimer(this.callControl.autoRestart.callIdWhenStartingTimer))),this.myWebRTC_Event.createSelectedICECandidateEvent(this.callId,t.LocalCandidateType,t.RemoteCandidateType,t.LocalAddress,t.RemoteAddress,t.TransportType,t.LocalTransportType);var n=t;n.callId=this.callId,n.clientId=e.clientId,n.roomId=this.dest_roomId,void 0!==this.data.pubSub&&(n.pubSub=this.data.pubSub),void 0!==this.data.confId&&(n.confId=this.data.confId),void 0!==this.data.mesh&&(n.mesh=this.data.mesh),void 0!==this.data.instanceId&&(n.instanceId=this.data.instanceId),this.myWebRTC_Stack.sendInfo("callSelectedCandidate",n)}else C.debug("filtering duplicate candidate")},this.checkCandidateTypes=function(){C.debug("WebRTC_Call::checkCandidatesTypes()");var e=this,t={LocalCandidateType:"unknow",RemoteCandidateType:"unknow",LocalAddress:"unknow",RemoteAddress:"unknow",TransportType:"unknow",LocalTransportType:"unknow"},n=["googLocalAddress","googLocalCandidateType","googRemoteAddress","googRemoteCandidateType","googTransportType"];null===this.pc?(C.warn("Peer connection is null : no candidates"),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)):"undefined"!=typeof apiRTC_React?(C.warn("apiRTC_React : no info on candidates"),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)):"chrome"===a.c.type?(C.debug("WebRTC_Call::checkCandidatesTypes() chrome"),this.pc.getStats((function(r){var i=r.result().filter((function(e){return 0===e.id.indexOf("Conn-")&&"true"===e.stat("googActiveConnection")}))[0];i?(n.forEach((function(e){t[e.replace("goog","")]=i.stat(e)})),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)):(e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t))}))):"firefox"===a.c.type?(C.debug("WebRTC_Call::checkCandidatesTypes() firefox"),this.pc.getStats(null).then((function(n){var r=null;if(n.forEach((function(e){!0===e.selected&&(null!==r&&C.warn("multiple selected candidate-pairs"),r=e)})),null!==r){var i=n.get(r.localCandidateId),a=n.get(r.remoteCandidateId);t.LocalCandidateType=i.candidateType,t.RemoteCandidateType=a.candidateType,i.address&&i.port?t.LocalAddress=i.address+":"+i.port:t.LocalAddress=i.ipAddress+":"+i.portNumber,a.address&&a.port?t.RemoteAddress=a.address+":"+a.port:t.RemoteAddress=a.ipAddress+":"+a.portNumber,t.TransportType=i.transport,t.LocalTransportType=i.mozLocalTransport,e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t)}})).catch((function(e){C.warn("failed to get stats",e)}))):(C.debug("checkCandidateTypes not Chrome or Firefox"),e.myWebRTC_Event.createICECandidateTypeUpdateEvent(e.callId,t.LocalCandidateType,t.RemoteCandidateType),e.onSelectedCandidate(t))},this.belongsToRoom=function(){return!!Object(a.g)(this.sessionMCU,"roomName","string")&&(Object(a.g)(this.data,"MCUType","string")&&("MCU-Caller"===this.data.MCUType||"MCU-Callee"===this.data.MCUType)&&Object(a.g)(this.data,"confId","string")?this.data.confId===this.sessionMCU.roomName:this.dest_roomId===this.sessionMCU.roomName)},this.setLocalCallProfile=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r={},i={},a=null,o=null,s="adaptation";!0!==this.dataCall&&"subscribe"!==this.settingUpType&&(this.localCallProfile.audioActive!==e.audioActive&&n.push("audioIsActive"),this.localCallProfile.videoActive!==e.videoActive&&n.push("videoIsActive"),this.localCallProfile=e,!0===this.screenSharing?!0===this.localCallProfile.audioActive&&!0===this.localCallProfile.videoActive?"screenSharingWithAudio"!==this.callType&&(this.callType="screenSharingWithAudio",n.push("callType")):!0===this.localCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.localCallProfile.videoActive?"screenSharing"!==this.callType&&(this.callType="screenSharing",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")):!0===this.localCallProfile.audioActive&&!0===this.localCallProfile.videoActive?"media"!==this.callType&&(this.callType="media",n.push("callType")):!0===this.localCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.localCallProfile.videoActive?"videoOnly"!==this.callType&&(this.callType="videoOnly",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")),!0===t&&n.length>0&&(r.available=this.localCallProfile.audio,r.active=this.localCallProfile.audioActive,r.muted=this.isLocalAudioMuted,i.available=this.localCallProfile.video,i.active=this.localCallProfile.videoActive,i.muted=this.isLocalVideoMuted,this.callConfiguration&&this.callConfiguration.userMediaStreamId&&(a=this.callConfiguration.userMediaStreamId,(o=apiCC.getUserMediaStream(a))&&(r.deviceLabel=o.audioDeviceLabel,i.deviceLabel=o.videoDeviceLabel)),this.updateCause&&(s=this.updateCause),this.myWebRTC_Event.createLocalStreamUpdatedEvent(n,r,i,!0,this.callType,this.callId,this.callLocalStream,a,s)))},this.setRemoteCallProfile=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r={},i={},a="adaptation";!0!==this.dataCall&&(this.remoteCallProfile.audioActive!==e.audioActive&&n.push("audioIsActive"),this.remoteCallProfile.videoActive!==e.videoActive&&n.push("videoIsActive"),this.remoteCallProfile=e,"subscribe"===this.settingUpType?(!0===this.screenSharing?!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"screenSharingWithAudio"!==this.callType&&(this.callType="screenSharingWithAudio",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"screenSharing"!==this.callType&&(this.callType="screenSharing",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")):!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"media"!==this.callType&&(this.callType="media",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.callType&&(this.callType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"videoOnly"!==this.callType&&(this.callType="videoOnly",n.push("callType")):"inactive"!==this.callType&&(this.callType="inactive",n.push("callType")),!0===t&&n.length>0&&(r.available=this.remoteCallProfile.audio,r.active=this.remoteCallProfile.audioActive,r.muted=this.isRemoteAudioMuted,i.available=this.remoteCallProfile.video,i.active=this.remoteCallProfile.videoActive,i.muted=this.isRemoteVideoMuted,this.updateCause&&(a=this.updateCause),this.myWebRTC_Event.createRemoteStreamUpdatedEvent(n,r,i,this.callType,this.callId,a))):(!0===this.screenSharing?!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"screenSharingWithAudio"!==this.destCallType&&(this.destCallType="screenSharingWithAudio",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.destCallType&&(this.destCallType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"screenSharing"!==this.destCallType&&(this.destCallType="screenSharing",n.push("callType")):"inactive"!==this.destCallType&&(this.destCallType="inactive",n.push("callType")):"publish"!==this.settingUpType&&"shareScreen"!==this.settingUpType||(!0===this.remoteCallProfile.audioActive&&!0===this.remoteCallProfile.videoActive?"media"!==this.destCallType&&(this.destCallType="media",n.push("callType")):!0===this.remoteCallProfile.audioActive?"audio"!==this.destCallType&&(this.destCallType="audio",n.push("callType")):!0===this.remoteCallProfile.videoActive?"videoOnly"!==this.destCallType&&(this.destCallType="videoOnly",n.push("callType")):"inactive"!==this.destCallType&&(this.destCallType="inactive",n.push("callType"))),!0===t&&n.length>0&&(r.available=this.remoteCallProfile.audio,r.active=this.remoteCallProfile.audioActive,r.muted=this.isRemoteAudioMuted,i.available=this.remoteCallProfile.video,i.active=this.remoteCallProfile.videoActive,i.muted=this.isRemoteVideoMuted,this.updateCause&&(a=this.updateCause),this.myWebRTC_Event.createRemoteStreamUpdatedEvent(n,r,i,this.destCallType,this.callId,a))))},this.setMediaConstraintsToSendOnlyOffer=function(){"firefox"===a.c.type?i.d>43?this.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1}:this.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}}:"edge"===a.c.type?this.mediaConstraints={offerToReceiveAudio:0,offerToReceiveVideo:0}:"chrome"===a.c.type&&a.c.version<55?this.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}}:this.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1,mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},this.mediaConstraintsAudioOnly=this.mediaConstraints},this.applyOutgoingBitrate=function(e){var t=this;C.debug("applyOutgoingBitrate",this.callId,e);for(var n=null,r=0;r<this.rtpSenders.video.length;r+=1)if(this.rtpSenders.video[r].track){n=this.rtpSenders.video[r];break}if(n)if("function"==typeof n.getParameters&&"function"==typeof n.setParameters){var i=n.getParameters();if(Object.prototype.hasOwnProperty.call(i,"encodings")){if(1!==i.encodings.length)return void C.debug("encodings cannot be changed",this.callId,i.encodings.length)}else i.encodings=[{}];if(null!==e&&"number"==typeof e){e<50&&(e=50);var a=1e3*e;if(i.encodings[0].maxBitrate===a)return;i.encodings[0].maxBitrate=a}else{if(!Object.prototype.hasOwnProperty.call(i.encodings[0],"maxBitrate"))return;delete i.encodings[0].maxBitrate}n.setParameters(i).catch((function(e){C.error("applyOutgoingBitrate - setParameters",t.callId,e)}))}else C.warn("no such functions: getParameters/setParameters",this.callId);else C.warn("no such video rtpSender",this.callId)},this.configureSimulcastEncodings=function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C.debug("configureSimulcastEncodings",this.callId,t,r.maxBitrate),"RID"===this.simulcast){for(var i=null,o=0;o<this.rtpSenders.video.length;o+=1)if(this.rtpSenders.video[o].track){i=this.rtpSenders.video[o];break}if(i)if("function"==typeof i.getParameters&&"function"==typeof i.setParameters){var s=i.getParameters();if(Object.prototype.hasOwnProperty.call(s,"encodings"))if(3===s.encodings.length){for(var l=null,c=null,u=null,d=s.encodings.length;--d>=0;){var f=s.encodings[d];l||"h"!==f.rid?c||"m"!==f.rid?u||"l"!==f.rid||(u=f):c=f:l=f}if(l&&Object.prototype.hasOwnProperty.call(l,"maxBitrate")&&c&&Object.prototype.hasOwnProperty.call(c,"maxBitrate")&&u&&Object.prototype.hasOwnProperty.call(u,"maxBitrate")){var h=!1,p=Math.floor(u.maxBitrate/1e3),m=!1,v=!1;if(l.active&&l.maxBitrate>1&&(p+=Math.floor(l.maxBitrate/1e3),m=!0),c.active&&c.maxBitrate>1&&(p+=Math.floor(c.maxBitrate/1e3),v=!0),C.debug("currentStatus",p,m,v),"changeMaxBitrate"===t){if(!Object(a.g)(r,"maxBitrate","number"))return;var g=r.maxBitrate;p<=g?(v||p+this.callConfiguration.simulcast.encodings.medium.maxBitrate<=g&&("chrome"===a.c.type?c.active=!0:"firefox"===a.c.type&&(c.maxBitrate=1e3*this.callConfiguration.simulcast.encodings.medium.maxBitrate),this.callConfiguration.simulcast.encodings.medium.active=!0,v=!0,p+=this.callConfiguration.simulcast.encodings.medium.maxBitrate,h=!0),m||p+this.callConfiguration.simulcast.encodings.high.maxBitrate<=g&&("chrome"===a.c.type?l.active=!0:"firefox"===a.c.type&&(l.maxBitrate=1e3*this.callConfiguration.simulcast.encodings.high.maxBitrate),this.callConfiguration.simulcast.encodings.high.active=!0,m=!0,p+=this.callConfiguration.simulcast.encodings.high.maxBitrate,h=!0)):(m&&(m=!1,this.callConfiguration.simulcast.encodings.high.active=!1,p-=Math.floor(l.maxBitrate/1e3),"chrome"===a.c.type?l.active=!1:"firefox"===a.c.type&&(l.maxBitrate=1),h=!0),p>g&&v&&(v=!1,this.callConfiguration.simulcast.encodings.medium.active=!1,p-=Math.floor(c.maxBitrate/1e3),"chrome"===a.c.type?c.active=!1:"firefox"===a.c.type&&(c.maxBitrate=1),h=!0))}else"disableEncoding"===t&&(m?(m=!1,this.callConfiguration.simulcast.encodings.high.active=!1,p-=Math.floor(l.maxBitrate/1e3),"chrome"===a.c.type?l.active=!1:"firefox"===a.c.type&&(l.maxBitrate=1),h=!0):v&&(v=!1,this.callConfiguration.simulcast.encodings.medium.active=!1,p-=Math.floor(c.maxBitrate/1e3),"chrome"===a.c.type?c.active=!1:"firefox"===a.c.type&&(c.maxBitrate=1),h=!0));C.debug("applyChanges",p,m,v,h),h&&(i.setParameters(s).catch((function(e){C.error("configureEncodings - setParameters",n.callId,e)})),this.myWebRTC_Stack.sendInfo("configureEncodings",{pubSub:e.MCUClient.pubConnector,clientId:e.clientId,roomId:this.sessionMCU.roomName,callId:this.callId,instanceId:this.instanceId,hint:"simulcast",encodings:this.callConfiguration.simulcast.encodings}))}else C.warn("cannot find h/m/l encodings",this.callId)}else C.warn("wrong encodings",this.callId,s.encodings.length);else C.warn("no encodings configured",this.callId)}else C.warn("no such functions: getParameters/setParameters",this.callId);else C.warn("no such video rtpSender",this.callId)}}},w=(n(120),n(167),function(e){this.disconnectionTimer=15e3,void 0!==Number.MAX_SAFE_INTEGER?this.userMediaId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():this.userMediaId=Math.floor(1000001*Math.random()).toString(),this.callType="media",this.audio=!1,this.video=!1,this.audioSdpDirection=null,this.videoSdpDirection=null,this.callConfiguration={},this.sessionMCU=null,this.myWebRTC_Stack=new o.a(e.socket),this.getUserMediaStream=function(){return this.callConfiguration&&this.callConfiguration.userMediaStreamId?apiCC.getUserMediaStream(this.callConfiguration.userMediaStreamId):null},this.releaseUserMediaStream=function(){if(this.callConfiguration&&this.callConfiguration.userMediaStreamId){var e=this.callConfiguration.userMediaStreamId;return delete this.callConfiguration.userMediaStreamId,apiCC.releaseUserMediaStream(e,this.userMediaId)}return!1},this.close=function(){(this.addAck||this.addTimeoutId)&&(delete this.addAck,clearTimeout(this.addTimeoutId),delete this.addTimeoutId)}});function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=r.a.get("ApiCCMCUClient"),R=apiCC.myWebRTC_Event,k=function(e,t){E.debug("ApiCCMCUClient creation"),this.pubConnector="janusConnector",this.meshModeEnabled=!1,this.sessionMCUs=[],this.distantCalls=[],this.streamList=[],this.disputableStreamList=[],this.publishCallId=null,this.joinSessionReqs=[],this.transitionCount=0,this.browserCapabilities={updateStream:!0,mesh2janusTransition:!0,checkCallStatus:!0},this.receiveSessionId=function(e){E.debug("receiveSessionId()"),R.createMCUSessionCreationEvent(e.sessionId,e.token),this.publish(e.sessionId,e.token)},this.sendSessionInvitation=function(e,n,r){var i,a;E.debug("sendSessionInvitation()"),null!=n?(void 0===r&&(r=0),i={type:"MCUSessionInvitation",srcId:t,destId:e,sessionId:n,groupChatId:r},a=JSON.stringify(i),E.log("C->S: "+a),apiCC.session.channel.socket.emit("MCUSessionInvitation",a)):E.log("Session is null or undefined, MCU Session invitation is not sended")},this.sendSessionInvitationToGroupChat=function(e,n){var r,i;E.debug("sendSessionInvitationToGroupChat()"),null!=e?null!=n?(r={type:"MCUSessionInvitationToGroupChat",srcId:t,groupChatId:e,sessionId:n},i=JSON.stringify(r),E.log("C->S: "+i),apiCC.session.channel.socket.emit("MCUSessionInvitationToGroupChat",i)):E.log("Session is null or undefined, MCU Session invitation is not sended"):E.log("groupChatId is null or undefined, MCU Session invitation is not sended")},this.receiveSessionInvitation=function(e){E.debug("receiveSessionInvitation()"),E.log("msg.sessionId :"+e.sessionId),E.log("msg.token :"+e.token),E.log("msg.groupChatId :"+e.groupChatId),R.createReceiveMCUSessionInvitationEvent(e.sessionId,e.token,e.groupChatId,e.srcId)},this.acceptSessionInvitation=function(e,t){E.debug("acceptSessionInvitation()"),E.log("sessionId :"+e),E.log("token :"+t),this.publish(e,t)},this.leaveSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E.info("leaveSession()");var n=null,r=null,i=null;if(!(i=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0})))return new Error("leaveSession: session not set");!0!==t.noHangup&&(apiCC.session.apiCCWebRTCClient.webRTCClient.removeAllCallsFromRoom(i.roomName,"leaveSession"),this.meshOnHangup(null,null,{roomId:i.roomName}));var a=[];a.push(i.roomName),apiCC.session.leavePresenceGroup(a),apiCC.session.unsubscribePresenceGroup(a),n={type:"leaveSession",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},r=JSON.stringify(n),E.log("C->S: "+r),apiCC.session.channel.socket.emit("leaveSession",r),E.debug("leaveSession: distant call clean up");for(var o=this.distantCalls.length;--o>=0;)this.distantCalls[o].roomId===i.roomName&&(E.debug("leaveSession: remove distant call descriptor",this.distantCalls[o]),this.distantCalls.splice(o,1));apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({multi:!0,roomName:i.roomName});for(var s=this.streamList.length;--s>=0;)this.streamList[s].roomId===i.roomName&&this.streamList.splice(s,1);return this.removeSessionMCU(i),"OK"},this.createJoinSessionMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;e||(n=t.hasOwnProperty("sessionMCU")?t.sessionMCU:this.getSessionMCU(null,{first:!0}))&&(e=n.roomName);var r=n&&"mesh"===n.roomMode||!0===this.meshModeEnabled||!0===t.meshModeEnabled,o=n&&!0===n.meshOnly||!0===t.meshOnlyEnabled,s={type:"joinSession",roomId:e,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector,meshModeEnabled:r,meshOnlyEnabled:o,videoBandwidthSettings:apiCC.session.apiCCWebRTCClient.webRTCClient.videoBandwidthSettings,browserInfo:{browserAbout:i.b+" "+i.e,browserType:a.c.type,browserVersion:a.c.version,osName:i.g,osVersion:i.i,deviceType:i.f}}};if(t.hasOwnProperty("transactionId")&&(s.transactionId=t.transactionId),t.hasOwnProperty("convId")?s.data.convId=t.convId:n&&n.hasOwnProperty("convId")&&(s.data.convId=n.convId),t.qualityAdaptationEnabled&&(s.data.qualityAdaptationEnabled=!0),Array.isArray(t.supportedVideoCodecs)){s.data.supportedVideoCodecs=[];var l,c=I(t.supportedVideoCodecs);try{for(c.s();!(l=c.n()).done;){var u=l.value;"h264"===u?s.data.supportedVideoCodecs.push({codec:"h264",profilelevelid:"42e01f"}):"string"==typeof u?s.data.supportedVideoCodecs.push({codec:u}):s.data.supportedVideoCodecs.push(u)}}catch(e){c.e(e)}finally{c.f()}}else"safari"===a.c.type&&("Safari"===i.b&&i.e<12.1||"Mobile Safari"===i.b&&i.e<12.1)&&(s.data.supportedVideoCodecs=[{codec:"h264",profilelevelid:"42e01f"}]);return s.data.capabilities=this.browserCapabilities,s},this.createSessionDescriptor=function(e){var t={roomId:e.roomName};return e.convId&&(t.convId=e.convId),e.roomMode&&(t.roomMode=e.roomMode),e.modeChangeKind&&(t.modeChangeKind=e.modeChangeKind),t},this.joinSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.getSessionMCU(e))return E.warn("joinSession: session already set"),new Error("joinSession: session already set");if(this.getJoinSessionReq(e))return E.warn("joinSession: session already requested"),new Error("joinSession: session already requested");var n={};n.roomId=e,n.transactionId=apiCC.randomString(12),this.joinSessionReqs.push(n);var r=Object.assign({},t);r.transactionId=n.transactionId,E.info("joinSession() on Apizee MCU with roomId:",e);var i=this.createJoinSessionMessage(e,r),a=JSON.stringify(i);return E.log("C->S: "+a),apiCC.session.channel.socket.emit("joinSession",a),"OK"},this.joinSessionAnswer=function(e){if(E.debug("joinSessionAnswer()"),this.getSessionMCU(e.roomName))E.warn("joinSessionAnswer: session already set");else{var t=null;if(e.hasOwnProperty("transactionId")&&(t=this.getJoinSessionReq(null,{transactionId:e.transactionId})),t||(t=this.getJoinSessionReq(e.roomName)),t){this.removeJoinSessionReq(t);var n={};n.roomID=e.sessionId,n.roomName=e.roomName,e.hasOwnProperty("convId")&&(n.convId=e.convId),n.joinSessionAnswer={},Object(a.g)(e,"data","object")?(!0===e.data.failed?(n.joinSessionAnswer.failed=!0,n.joinSessionAnswer.reason=e.data.reason):n.joinSessionAnswer.failed=!1,e.data.mode&&"string"==typeof e.data.mode&&(n.roomMode=e.data.mode,E.debug("session joined with mode; roomMode: "+n.roomMode)),"mesh"===n.roomMode&&!0===e.data.meshOnly&&(n.meshOnly=!0,E.debug("meshOnly"))):n.joinSessionAnswer.failed=!1,this.sessionMCUs.push(n);var r=[];r.push(e.roomName),apiCC.session.joinPresenceGroup(r),apiCC.session.subscribePresenceGroup(r),R.createJoinMCUSessionAnswerEvent(e.sessionId,e.token,e.groupChatId,e.initiator,n)}else E.debug("joinSessionAnswer: no joinSession requested")}},this.changeSessionMode=function(t,n){var r=this.getSessionMCU(t.roomName);if(r)if("mesh"===r.roomMode){for(var i=0,a=e.userMediaTable.length;--a>=0;)if(e.userMediaTable[a].sessionMCU===r){E.debug("changeSessionMode: userMedia",e.userMediaTable[a]),e.userMediaTable[a].distantCalls=[],i+=1;for(var o=this.distantCalls.length;--o>=0;)E.debug("changeSessionMode: distantCall",this.distantCalls[o]),"mesh"===this.distantCalls[o].callMode&&this.distantCalls[o].callFeed.callId===e.userMediaTable[a].userMediaId&&(E.debug("changeSessionMode: match"),e.userMediaTable[a].distantCalls.push(this.distantCalls[o]))}for(var s=0,l=e.callControlTable.length;--l>=0;)"subscribe"===e.callControlTable[l].type&&e.callControlTable[l].roomName===r.roomName&&(s+=1,e.callControlTable[l].autoRestart.force=!0);if(R.createMCURoomModeChangedEvent(r.roomName,"mesh","sfu","ongoing"),0===i&&0===s)delete r.roomMode,R.createMCURoomModeChangedEvent(r.roomName,"mesh","sfu","complete");else{r.modeChangeKind="old";var c={};c.roomID=t.roomName,c.roomName=t.roomName,t.hasOwnProperty("convId")&&(c.convId=t.convId),c.joinSessionAnswer={failed:!1},c.modeChangeKind="new",c.transitionTimeoutId=setTimeout(function(t,n){delete n.transitionTimeoutId,e.finalizeMeshToJanusTransition(t,n,{force:!0})}.bind(this,r,c),3e4),this.sessionMCUs.push(c),this.transitionCount+=1}}else E.warn("changeSessionMode: session not using mesh mode");else E.warn("changeSessionMode: no session")},this.updateSessionAnswer=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E.debug("updateSessionAnswer");var r=this.getSessionMCU(t.roomName);if(!r){if(!n.createSession)return void E.warn("updateSessionAnswer: no such session",t.roomName);E.debug("force session creation; roomName: "+t.roomName),(r={}).roomID=t.roomName,r.roomName=t.roomName,t.hasOwnProperty("convId")&&(r.convId=t.convId),r.joinSessionAnswer={failed:!1},this.sessionMCUs.push(r);for(var i=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length;--i>=0;){var a=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[i];!a.data||"MCU-Caller"!==a.data.MCUType&&"MCU-Callee"!==a.data.MCUType||a.data.confId!==r.roomName||(a.sessionMCU=r)}}var o=!1;if(t.data&&"mesh"===t.data.mode?(r.roomMode="mesh",!0===t.data.meshOnly&&(r.meshOnly=!0)):("mesh"===r.roomMode&&(o=!0),delete r.roomMode),"new"===r.modeChangeKind){E.debug("transition already ongoing");var s=this.getSessionMCU(null,{callback:function(e){return e.roomName===r.roomName&&"old"===e.modeChangeKind}});s&&e.finalizeMeshToJanusTransition(s,r,{force:!0})}else if(o){E.debug("transition NOT ongoing but should be"),R.createMCURoomModeChangedEvent(r.roomName,"mesh","sfu","ongoing"),r.modeChangeKind="old";var l={};l.roomID=r.roomID,l.roomName=r.roomName,r.hasOwnProperty("convId")&&(l.convId=r.convId),l.joinSessionAnswer={failed:!1},l.modeChangeKind="new",this.sessionMCUs.push(l),this.transitionCount+=1,e.finalizeMeshToJanusTransition(r,l,{force:!0})}if(n.updateCalls)if(E.debug("update stream list (prune)"),this.updateStreamList(t,{prune:!0}),"mesh"===r.roomMode){E.debug("restart publish/shareScreen calls");for(var c=e.userMediaTable.slice(),u=c.length;--u>=0;){var d=c[u];d.sessionMCU===r&&e.onHangup(d.userMediaId,"disconnected")}}else{E.debug("restart publish/shareScreen calls with no PeerConnection");for(var f=e.callsTable.slice(),h=f.length;--h>=0;){var p=f[h];p.sessionMCU===r&&("publish"!==p.settingUpType&&"shareScreen"!==p.settingUpType||p.data&&p.data.mesh||p.pc||e.onHangup(p.callId,"disconnected"))}}},this.processCheckCallStatus=function(e){this.updateStreamList(e)},this.updateStreamList=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.g)(e,"availableStreams","array")?e.availableStreams.slice():null,r=Object(a.g)(e,"availableComposite","array")?e.availableComposite.slice():null,i=Object(a.g)(e,"availableReplay","array")?e.availableReplay.slice():null,o=this.streamList.length;--o>=0;){var s=this.streamList[o];if("regular"===s.type){if(!n)continue;for(var l=n.length;--l>=0&&n[l].id!==s.streamInfo.id;);if(l>=0){Object(a.g)(s,"clearDisputableEntry","function")&&s.clearDisputableEntry(),n.splice(l,1);continue}!0===t.prune?(Object(a.g)(s,"clearDisputableEntry","function")&&s.clearDisputableEntry(),apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:s.streamInfo}),R.createMCURemovedStreamEvent(s.streamInfo.id),this.streamList.splice(o,1)):s.disputableTimeoutId||(s.disputableTimeoutId=setTimeout(M.bind(this,s.streamInfo.id),3e4),s.clearDisputableEntry=_.bind(this,s.streamInfo.id),this.disputableStreamList.push(s))}else if("composite"===s.type){if(!r)continue;for(var c=r.length;--c>=0&&r[c].id!==s.streamInfo.id;);if(c>=0){r.splice(c,1);continue}apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:s.streamInfo}),R.createMCURemovedStreamEvent(s.streamInfo.id),this.streamList.splice(o,1)}else if("replay"===s.type){if(!i)continue;for(var u=i.length;--u>=0&&i[u].id!==s.streamInfo.id;);u>=0&&i.splice(u,1)}}if(n)for(var d=0;d<n.length;d+=1){var f=[];f.push(n[d]);var h=this.newAvailableStream(f,"regular");R.createMCUAvailableStreamEvent(f,h)}if(r)for(var p=0;p<r.length;p+=1){var m=[];m.push(r[p]);var v=this.newAvailableStream(m,"composite");R.createMCUAvailableCompositeEvent(m,v)}if(i)for(var g=0;g<i.length;g+=1){var b=[];b.push(i[g]);var C=this.newAvailableReplay(b);R.createMCUAvailableReplayEvent(b,C)}},this.getStreamList=function(){return E.debug("getStreamList :",this.streamList),this.streamList},this.getStreamFromList=function(e){var t;for(E.debug("getStreamFromList() with Id :",e),E.log("this.streamList :",this.streamList),t=0;t<this.streamList.length;t+=1){if(this.streamList[t].streamInfo.id===e)return E.log("stream found",this.streamList[t].streamInfo),this.streamList[t].streamInfo;E.log("not the same stream",e)}return null},this.getStreamIdOfUser=function(e){var t;for(E.debug("getStreamIdOfUser() with Id :",e),E.log("this.streamList :",this.streamList),t=0;t<this.streamList.length;t+=1)if("replay"!==this.streamList[t].type){if(this.streamList[t].userId===e)return E.log("stream found",this.streamList[t].streamInfo),this.streamList[t].streamInfo.id;E.log("not the same userId",e)}return null},this.getStreamOfUserCall=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.streamList.length,i=!1;for(Object(a.g)(n,"replay","boolean")&&!0===n.replay&&(i=!0);--r>=0;){if(!0===i){if("replay"!==this.streamList[r].type)continue}else if("replay"===this.streamList[r].type)continue;if(this.streamList[r].userId===e&&this.streamList[r].streamInfo.attributes.callId===t)return this.streamList[r].streamInfo}return null},this.newAvailableStream=function(n,r,i){E.debug("newAvailableStream():",n);var o=!1,s=!1,l=this.getSessionMCU(n[0].room);if(l){n[0].attributes.callerId!==t&&(o=!0);for(var c=e.getCallControls(["publish","shareScreen"],{addUserMedia:!0}),u=0;u<n.length;u+=1){for(var d=this.streamList.length;--d>=0&&("regular"!==this.streamList[d].type||n[u].id!==this.streamList[d].streamInfo.id););d>=0?(s=!0,Object(a.g)(this.streamList[d],"clearDisputableEntry","function")?this.streamList[d].clearDisputableEntry():E.debug("clearDisputableEntry is not set")):E.debug("streamList is empty"),o=!Object.prototype.hasOwnProperty.call(c,n[u].attributes.callId);var f={type:r,userId:n[u].attributes.callerId,roomId:l.roomName,isRemoteStream:o,streamInfo:n[u]};if(!0===s?this.streamList[d]=f:this.streamList.push(f),E.log("this.streamList :",this.streamList),!0!==o&&"mesh"===l.roomMode){var h=e.findUserMediaById(n[u].attributes.callId);h&&!0===h.addAck&&(delete h.addAck,clearTimeout(h.addTimeoutId),delete h.addTimeoutId,R.createCallEstablishedEvent(l.roomName,h.callType,h.userMediaId,"none"))}var p=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:n[u]});if(p&&!p.autoRestart.pending){E.info("[newAvailableStream] auto subscribing to stream");var m=!!p.autoRestart.force;delete p.autoRestart.force;var v=p.callId,g=this.subscribeToStreams([n[u]],p.mediaType,p.data,p.callConfiguration,{noStreamCheck:!0,force:m});v&&g[0]&&R.createCallRestartingEvent(p.callType,p.audioOnly,v,g[0],"subscribe",apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,p.roomName,p.roomName,n[u].id)}!0!==s&&Object(a.h)(i,"function")&&i(o,n[u],r)}return o}E.debug("newAvailableStream() but client is not in session")},this.updateAvailableStream=function(e,n,r){E.info("updateAvailableStream():",e);var i=!1;if(this.getSessionMCU(e[0].room)){e[0].attributes.callerId!==t&&(i=!0);for(var o=0;o<e.length;o+=1)for(var s=this.streamList.length;--s>=0;)if(this.streamList[s].streamInfo.id===e[o].id){for(var l=[],c=0,u=["audio","audioMuted","video","videoMuted"];c<u.length;c++){var d=u[c];this.streamList[s].streamInfo[d]!==e[o][d]&&(this.streamList[s].streamInfo[d]=e[o][d],l.push(d))}this.streamList[s].streamInfo.attributes.callType!==e[o].attributes.callType&&(this.streamList[s].streamInfo.attributes.callType=e[o].attributes.callType,l.push("callType")),this.streamList[s].streamInfo.attributes.descriptor&&e[o].attributes.descriptor&&this.streamList[s].streamInfo.attributes.descriptor.priority!==e[o].attributes.descriptor.priority&&(this.streamList[s].streamInfo.attributes.descriptor.priority=e[o].attributes.descriptor.priority,l.push("priority")),l.length>0&&Object(a.h)(r,"function")&&r(i,e[o],n,l);break}return i}E.log("updateAvailableStream() but client is not in session")},this.newAvailableReplay=function(e){E.info("newAvailableReplay() :",e);var n=!1,r=this.getSessionMCU(e[0].room);if(r){e[0].attributes.callerId!==t&&(n=!0);for(var i=0;i<e.length;i+=1){var a={type:"replay",userId:e[i].attributes.callerId,roomId:r.roomName,isRemoteStream:n,streamInfo:e[i]};this.streamList.push(a)}return n}E.log("newAvailableReplay() but client is not in session")},this.subscribeToStreams=function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};E.info("subscribeToStreams():",t);var s,l,c=[],u=null,d=null,f=null,h=null,p=null;for(f in t){if(s=t[f],null===apiCC.session||void 0===apiCC.session)return E.debug("no session, leaving subscribeToStreams()"),c;if(null!==(u=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithStreamId(s.id,{ignoreModeChangeKindOld:!0}))){if(E.debug("call already exists"),!0!==o.force){c[f]=u.callId;continue}E.debug("Force is true")}else E.debug("call does not exist");for(l=this.streamList.length;--l>=0&&this.streamList[l].streamInfo.id!==s.id;);if(l>=0){if(E.debug("stream exists"),this.streamList[l].disputableTimeoutId){E.debug("stream temporarily not available"),c[f]=null,!0===o.autoSub&&((d=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:s}))||apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"subscribe",roomName:s.room,mediaType:n,callConfiguration:i,data:r,stream:s}));continue}}else if(E.debug("stream does not exist"),!0!==o.noStreamCheck){c[f]=null,R.createErrorEvent("stream not available","STREAM_NOT_AVAILABLE",null,s.room,null,{stream:s});continue}E.info("stream:",s);var m=this.getSessionMCU(s.room);m&&((d=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallControl({type:"subscribe",stream:s}))||(d=apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"subscribe",roomName:m.roomName,mediaType:n,callConfiguration:i,data:r,stream:s})),"COMPOSITE"!==s.attributes.callType&&"janusConnector"===this.pubConnector?(void 0===r&&(r={}),r.mesh&&delete r.mesh,Object(a.h)(i,"qos","object")?(r.qos={},!1===i.qos.videoForbidInactive?r.qos.videoForbidInactive=!1:r.qos.videoForbidInactive=!0):(r.qos={},r.qos.videoForbidInactive=!0),Object(a.h)(i,"simulcast","object")&&(r.simulcast={},i.simulcast.streamQuality&&("high"===i.simulcast.streamQuality?r.simulcast.substream=2:"medium"===i.simulcast.streamQuality?r.simulcast.substream=1:"low"===i.simulcast.streamQuality&&(r.simulcast.substream=0)),i.simulcast.streamFrameRate&&("high"===i.simulcast.streamFrameRate?r.simulcast.temporal=2:"medium"===i.simulcast.streamFrameRate?r.simulcast.temporal=1:"low"===i.simulcast.streamFrameRate&&(r.simulcast.temporal=0))),(u=new S(apiCC.session.apiCCWebRTCClient.webRTCClient)).instanceId=apiCC.generateInstanceId(),u.callControl=d,Object(a.g)(u.callControl.autoRestart,"counter","number")?(u.callControl.autoRestart.counter+=1,u.restarted=!0):u.callControl.autoRestart.counter=0,u.settingUpType="subscribe",u.setupTimeoutId=setTimeout((function(){E.warn("invite + SDP offer not received -> restart call"),e.onHangup(u.callId,"disconnected")}),15e3),null!=i&&void 0!==i.turnServerAddress&&null!==i.turnServerAddress&&u.setCallTurnServer(i.turnServerAddress),u.generateCallId(),d.callId=u.callId,u.callerId=m.roomName,u.calleeId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,u.callee=!0,u.mcuRemoteStream=s,u.dest_roomId=m.roomName,u.callType=s.attributes.callType,u.callControl.callType=s.attributes.callType,"audio"!==s.attributes.callType&&"AUDIOONLY"!==n||(u.audioOnly=!0,u.callControl.audioOnly=!0),u.remoteId=s.attributes.callerId,u.remoteMailAddress=s.attributes.mailAddress,u.streamId=s.id,u.mediaType=n,u.sessionMCU=m,E.log("call.streamId: "+u.streamId),Object(a.h)(r,"object")?u.data=Object(a.a)({},r):u.data={},u.data.pubSub="janusConnector",u.data.type="subscribe",u.data.mode="passive",u.data.mediaType=n,u.data.capabilities=this.browserCapabilities,u.data.cloudConvId=m.convId,u.data.instanceId=u.instanceId,apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(u),c[f]=u.callId,(h={}).type="invite",h.mode="passive",h.callId=u.callId,h.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,h.callerNickname=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,h.calleeId=m.roomName,h.roomId=m.roomName,h.callType=s.attributes.callType,h.data=u.data,h.stream=s,p=JSON.stringify(h),E.log("C->S: "+p),apiCC.session.apiCCWebRTCClient.webRTCClient.socket.emit("invite",p)):((u=new S(apiCC.session.apiCCWebRTCClient.webRTCClient)).instanceId=apiCC.generateInstanceId(),u.callControl=d,Object(a.g)(u.callControl.autoRestart,"counter","number")?(u.callControl.autoRestart.counter+=1,u.restarted=!0):u.callControl.autoRestart.counter=0,u.settingUpType="subscribe",null!=i&&void 0!==i.turnServerAddress&&null!==i.turnServerAddress&&u.setCallTurnServer(i.turnServerAddress),void 0===r&&(r={}),u.data=r,u.data.pubSub=this.pubConnector,u.data.type="subscribe",u.data.capabilities=this.browserCapabilities,u.data.cloudConvId=m.convId,u.data.instanceId=u.instanceId,E.log("mediaType: ",n),E.log("stream.attributes.callType: ",s.attributes.callType),u.callType=s.attributes.callType,u.callControl.callType=s.attributes.callType,"COMPOSITE"===s.attributes.callType&&"janusConnector"===this.pubConnector||"audio"===s.attributes.callType||"AUDIOONLY"===n?(E.log("Setting call as audioOnly"),u.audioOnly=!0,u.callControl.audioOnly=!0,u.stripVideoSDPActivated=!0):"VIDEOONLY"===n&&(u.stripAudioSDPActivated=!0,u.callType="videoOnly",u.callControl.callType="videoOnly"),u.mcuRemoteStream=s,u.dest_roomId=m.roomName,u.calleeId=m.roomName,u.generateCallId(),d.callId=u.callId,u.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,u.sessionMCU=m,apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(u),u.createPeerConnection(),u.doCall(),u.started=!0,u.callType=s.attributes.callType,u.remoteId=s.attributes.callerId,u.remoteMailAddress=s.attributes.mailAddress,!0===s.audio?!0===s.video?u.destCallType="media":u.destCallType="audio":!0===s.video&&(u.destCallType="videoOnly"),void 0===s.id&&E.log("stream.id is undefined :",s),u.streamId=s.id,u.mediaType=n,E.log("stream.attributes.callType: ",s.attributes.callType),c[f]=u.callId),u.asyncCallbacks={},u.asyncCallbacks.type="subscribe")}return c},this.unsubscribe=function(e){E.info("unsubscribe() :",e);var t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithStreamId(e);null===t?E.log("error call not found on unsubscribe"):void 0!==t.callId&&apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId)},this.publish=function(t,n,r,i,o,s){E.info("publish roomName :",t),E.log("publish sessionId :",n),E.log("publish token :",r),E.log("publish callConfiguration :",i);var l=null,c=!1,u=!1,d=null,f=null,h=this.getSessionMCU(t);if(!h)return E.error("roomName does not match any sessionMCU"),null;if(null!==o&&"object"===T(o)||(o={}),"janusConnector"===this.pubConnector&&!o.mesh&&s&&s.callControl&&s.callControl.callId&&apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(s.callControl.callId))return E.debug("call already exists",s.callControl.callId),s.callControl.callId;if(!0===i||"true"===i?(E.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),c=!0,i={}):!1===i||"false"===i?(E.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),i={}):null!==i&&"object"===T(i)||(i={}),!0===i.audioOnly&&!0===i.videoOnly)return R.createErrorEvent("Cannot publish without audio nor video","PUBLISH_FAILURE",null,t),null;if(!0===i.audioOnly&&(c=!0),!0===i.videoOnly&&(u=!0),["audioOnly","videoOnly","record","private"].forEach((function(e){i.hasOwnProperty(e)&&(Object(a.g)(o,"callConfiguration","object")||(o.callConfiguration={}),o.callConfiguration[e]=i[e])})),h.convId&&(o.cloudConvId=h.convId),Object(a.h)(i,"qos","object")?(o.qos={},i.qos.videoMinBitrate?o.qos.videoMinBitrate=i.qos.videoMinBitrate:i.qos.videoMinQuality&&["excellent","good","medium","bad"].indexOf(i.qos.videoMinQuality)>=0?o.qos.videoMinQuality=i.qos.videoMinQuality:o.qos.videoMinQuality="bad",i.qos.videoStartBitrate?o.qos.videoStartBitrate=i.qos.videoStartBitrate:i.qos.videoStartQuality&&["upper","excellent","good","medium","bad"].indexOf(i.qos.videoStartQuality)>=0&&(o.qos.videoStartQuality=i.qos.videoStartQuality),!1===i.qos.videoForbidInactive?o.qos.videoForbidInactive=!1:o.qos.videoForbidInactive=!0):o.qos={videoMinQuality:"bad",videoForbidInactive:!0},i.simulcast&&(i.userMediaStreamId&&(f=apiCC.getUserMediaStream(i.userMediaStreamId))&&f.isSimulcastCompliant()||delete i.simulcast),function(e){Object(a.g)(e,"simulcast","object")?"safari"===a.c.type&&"SDP"!==e.simulcast.mode?delete e.simulcast:(delete e.simulcast.sendEncodings,Object(a.g)(e.simulcast,"maxBitrate","number")?"chrome"===a.c.type&&a.c.version>=78&&"SDP"!==e.simulcast.mode?(E.debug("configure simulcast RID chrome maxBitrate"),D(e.simulcast,e.simulcast.maxBitrate)||(E.warn("cannot configure simulcast"),delete e.simulcast)):"firefox"===a.c.type?(E.debug("configure simulcast RID firefox maxBitrate"),D(e.simulcast,e.simulcast.maxBitrate)||(E.warn("cannot configure simulcast"),delete e.simulcast)):delete e.simulcast.encodings:Object(a.g)(e.simulcast,"encodings","object")?"chrome"===a.c.type&&a.c.version>=78&&"SDP"!==e.simulcast.mode?(E.debug("configure simulcast RID chrome encodings"),x(e.simulcast)||(E.warn("cannot configure simulcast"),delete e.simulcast)):"firefox"===a.c.type?(E.debug("configure simulcast RID firefox encodings"),x(e.simulcast)||(E.warn("cannot configure simulcast"),delete e.simulcast)):delete e.simulcast.encodings:"chrome"===a.c.type&&a.c.version>=78&&"SDP"!==e.simulcast.mode?(E.debug("configure simulcast RID chrome default"),e.simulcast.encodings={high:{maxBitrate:900},medium:{maxBitrate:300,scaleResolutionDownBy:2},low:{maxBitrate:100,scaleResolutionDownBy:4}},x(e.simulcast)||delete e.simulcast):"firefox"!==a.c.type||(E.debug("configure simulcast RID firefox default"),e.simulcast.encodings={high:{maxBitrate:900},medium:{maxBitrate:300,scaleResolutionDownBy:2},low:{maxBitrate:100,scaleResolutionDownBy:4}},x(e.simulcast))||delete e.simulcast):delete e.simulcast}(i),i.distributedBroadcastEnabled&&!i.simulcast&&(o.distributedBroadcastEnabled=!0),["audioLabels","videoLabels"].forEach((function(e){Object(a.h)(i[e],"array")&&(o[e]=[],i[e].forEach((function(t){Object(a.h)(t,"string")&&o[e].push(t)})))})),Object(a.h)(i,"context","object"))try{JSON.stringify(i.context),o.context=i.context}catch(e){}if(Object(a.h)(i,"profileType","string")&&(o.profileType=i.profileType),Object(a.h)(i,"priority","number")&&i.priority>=0&&(o.priority=i.priority),Object(a.h)(i,"downgradeProfileList","array")&&(o.downgradeProfileList=i.downgradeProfileList),E.debug("callConfiguration; audioOnly: "+c+", videoOnly: "+u),s&&!0===s.forceScreenSharingCallType)E.debug("publish screenSharing");else if(!1===apiCC.mediaDeviceMgr.videoDevicePresent){if(!1===apiCC.mediaDeviceMgr.audioDevicePresent)return E.debug("publish without any device, leaving publish ..."),o.publishWithoutMediaDeviceDetected=!0,apiCC.session.setUserData(o),R.createErrorEvent("Cannot publish without audio nor video","PUBLISH_FAILURE",null,t),null;!0!==c&&(E.debug("publish video, but no webcam present, forcing callType to audio"),c=!0)}else!1===apiCC.mediaDeviceMgr.audioDevicePresent&&!0!==u&&(E.debug("publish video, but no microphone present, forcing callType to videoOnly"),u=!0);if(l=new S(apiCC.session.apiCCWebRTCClient.webRTCClient),void 0!==o.mesh&&void 0!==o.instanceId?(E.debug("keeping instanceId "),l.instanceId=o.instanceId):l.instanceId=apiCC.generateInstanceId(),"janusConnector"!==this.pubConnector||o.mesh?(l.settingUpType="publish",l.generateCallId()):(l.settingUpType="publish",s&&s.callControl?(l.callControl=s.callControl,l.callControl.autoRestart.counter+=1,l.callId=l.callControl.callId,l.restarted=!0):(l.callControl=apiCC.session.apiCCWebRTCClient.webRTCClient.createCallControl({type:"publish",roomName:t,callConfiguration:i,data:o}),l.callControl.sessionId=n,l.callControl.token=r,l.callControl.autoRestart.counter=0,l.generateCallId(),l.callControl.callId=l.callId)),null!=i&&void 0!==i.turnServerAddress&&null!==i.turnServerAddress&&l.setCallTurnServer(i.turnServerAddress),i.userMediaStreamId&&((f=apiCC.getUserMediaStream(i.userMediaStreamId))?(l.callType=f.callType,E.debug("Setting callType to "+l.callType),"screenSharing"===l.callType&&(l.screenSharing=!0)):(E.debug("callConfiguration.userMediaStreamId is setted but stream is not present"),delete i.userMediaStreamId)),l.data=o,l.data.instanceId=l.instanceId,"restarted"===n&&(l.restarted=!0),l.mediaTypeForIncomingCall="NONE",!0===c?(E.log("Setting call as audioOnly"),l.audioOnly=!0,l.callType="audio",l.mediaTypeForOutgoingCall="AUDIO"):!0===u?(E.log("Setting call as videoOnly"),l.callType="videoOnly",l.mediaTypeForOutgoingCall="VIDEOONLY"):E.log("Not Setting call as audioOnly nor videoOnly"),l.dest_roomId=h.roomName,l.calleeId=h.roomName,l.data.pubSub=this.pubConnector,l.data.type="publish",l.data.capabilities=this.browserCapabilities,l.data.cloudConvId=h.convId,l.callConfiguration=i,l.sessionMCU=h,l.setMediaConstraintsToSendOnlyOffer(),l.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,Object(a.h)(i,"simulcast","object")){var p=null;f&&(p=f.getSimulcastProfile()),"chrome"===a.c.type&&a.c.version>=78&&"SDP"!==i.simulcast.mode?(E.debug("simulcast chrome 78+ -> RID",i.simulcast),l.simulcast="RID",l.data.simulcast={enabled:!0,mode:"RID"},l.data.simulcast.encodings=Object.assign({},i.simulcast.encodings),p&&(l.data.simulcast.profile=p)):"chrome"===a.c.type?(E.debug("simulcast chrome -> SDP",i.simulcast),l.simulcast="SDP",l.data.simulcast={enabled:!0,mode:"SDP"}):"firefox"===a.c.type?(E.debug("simulcast firefox -> RID",i.simulcast),l.simulcast="RID",l.data.simulcast={enabled:!0,mode:"RID"},l.data.simulcast.encodings=Object.assign({},i.simulcast.encodings),p&&(l.data.simulcast.profile=p)):"safari"===a.c.type&&(E.debug("simulcast safari -> SDP",i.simulcast),l.simulcast="SDP",l.data.simulcast={enabled:!0,mode:"SDP"})}return E.log("webRTCClient.accessToLocalMedia :",e.accessToLocalMedia),apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(l),this.publishCallId=l.callId,l.callControl&&l.callControl.autoRestart.stream&&E.debug("call.callControl.autoRestart.stream.active :",l.callControl.autoRestart.stream.active),"janusConnector"===this.pubConnector&&l.callControl&&l.callControl.autoRestart.stream&&l.callControl.autoRestart.stream.active?(apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,l.callLocalStream=l.callControl.autoRestart.stream,l.establishCall(),l.callId):(void 0!==o.mesh&&null!==(d=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(o.mesh.calleeCallId))&&d.callConfiguration&&d.callConfiguration.userMediaStreamId&&(l.callType=d.callType,i.userMediaStreamId=d.callConfiguration.userMediaStreamId),i.userMediaStreamId?((f=apiCC.getUserMediaStream(i.userMediaStreamId)).addCallInfo(l.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===this.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=f.stream),l.callConfiguration.userMediaStreamId=f.userMediaStreamId,l.callLocalStream=f.stream,l.establishCall(),l.callId):apiCC.userMediaStreamTable.length>0?((f=apiCC.userMediaStreamTable[0]).addCallInfo(l.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===this.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=f.stream),l.callConfiguration.userMediaStreamId=f.userMediaStreamId,l.callLocalStream=f.stream,l.establishCall(),l.callId):(apiCC.createUserMediaStream({callId:l.callId,type:l.callType,audioSourceId:e.audioSourceId,videoSourceId:e.videoSourceId,success:function(e){E.debug("[publish] success; userMediaStreamId: "+e.userMediaStreamId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&l.callControl&&(l.callControl.autoRestart.stream=e.stream),l.callConfiguration.userMediaStreamId=e.userMediaStreamId,l.callLocalStream=e.stream,l.establishCall()}}),l.callId))},this.publishScreen=function(e,t,n,r){E.info("publishScreen()");var i=this.getSessionMCU(e);return i?(null==t&&(t={}),null==n&&(n={}),void 0!==n.record&&(void 0!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.record=n.record),void 0!==n.private&&(void 0!==t.callConfiguration||(t.callConfiguration={}),t.callConfiguration.private=n.private),t.pubSub=this.pubConnector,t.type="publish",apiCC.session.apiCCWebRTCClient.webRTCClient.shareScreen(i.roomName,t,r,n)):(E.error("roomId does not match any sessionMCU"),null)},this.unpublish=function(e){E.info("unpublish call with callId :",e),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e),this.publishCallId=null},this.removeMCUStream=function(e,t,n){var r,i=!1;for("Broken_by_MCU"!==n&&"disconnected"!==n||(i=!0),E.debug("streamId:",t),E.debug("reason:",n),E.debug("quiet:",i),r=0;r<this.streamList.length;r+=1)if(E.log("this.streamList[i].streamInfo.id :",this.streamList[r].streamInfo.id),this.streamList[r].streamInfo.id===t){!0===i?(E.debug("add stream into disputableStreamList: ",t),this.streamList[r].disputableTimeoutId=setTimeout(M.bind(this,this.streamList[r].streamInfo.id),3e4),this.streamList[r].clearDisputableEntry=_.bind(this,this.streamList[r].streamInfo.id),this.disputableStreamList.push(this.streamList[r])):(E.debug("remove stream from streamList:",t),apiCC.session.apiCCWebRTCClient.webRTCClient.destroyCallControl({type:"subscribe",stream:this.streamList[r].streamInfo}),this.streamList.splice(r,1));break}void 0!==e&&apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(e),!0!==i&&R.createMCURemovedStreamEvent(t)},this.startStreaming=function(e,t,n,r){E.info("startStreaming");var i,a,o=null!=e&&e.length>0,s=null!=t&&t.length>0,l={};if(!o&&!s)return!1;if(null==n||0===n.length)return!1;if(void 0===r){if(null===this.publishCallId)return E.log("Cannot start streaming as no stream is published"),!1;r=this.publishCallId}var c=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(r);return c||(c=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(r))?c.sessionMCU?(o||(e="custom"),l.pubSub=this.pubConnector,l.service=e,s&&(l.server=t),l.streamKey=n,E.log("startStreaming() on Apizee MCU with roomId:",c.sessionMCU.roomName),i={type:"startStreaming",roomId:c.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:r,data:l},a=JSON.stringify(i),E.log("C->S: "+a),apiCC.session.channel.socket.emit("startStreaming",a),!0):(E.error("no such sessionMCU"),!1):(E.error("callIdToStream does not match any call"),!1)},this.stopStreaming=function(e){var t,n;if(E.info("stopStreaming"),void 0===e){if(null===this.publishCallId)return E.log("Cannot stop streaming as no stream is published"),!1;e=this.publishCallId}var r=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e);if(!r)return E.error("callIdToStream does not match any call"),!1;var i=this.getSessionMCU(r.dest_roomId);return i?(E.log("stopStreaming() on Apizee MCU with roomId:",i.roomName),t={type:"stopStreaming",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),E.log("C->S: "+n),apiCC.session.channel.socket.emit("stopStreaming",n),!0):(E.error("dest_roomId does not match any sessionMCU"),!1)},this.startRecording=function(e,t,n,r,i){var a,o;if(E.info("startRecording"),null==r){if(null===this.publishCallId)return void E.log("Call recording can not start as stream is not published");r=this.publishCallId}var s=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(r);return s||(s=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(r))?s.sessionMCU?("AUDIO-ONLY"!==e&&"VIDEO-ONLY"!==e&&(e="AUDIO-VIDEO"),null==i&&(i={}),i.pubSub=this.pubConnector,E.log("startRecording() on Apizee MCU with roomId :",s.sessionMCU.roomName),a={type:"startRecording",roomId:s.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:r,data:i,customIdInFilename:t,mediaType:e,convId:n},o=JSON.stringify(a),E.log("C->S: "+o),void apiCC.session.channel.socket.emit("startRecording",o)):(E.error("no such sessionMCU"),!1):(E.error("callIdToRecord does not match any call"),!1)},this.stopRecording=function(e){var t,n;if(E.info("stopRecording"),void 0===e){if(null===this.publishCallId)return void E.log("Call recording can not stop as stream is not published");e=this.publishCallId}var r=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e);if(!r)return E.error("callIdToRecord does not match any call"),!1;var i=this.getSessionMCU(r.dest_roomId);if(!i)return E.error("dest_roomId does not match any sessionMCU"),!1;E.log("stopRecording() on Apizee MCU with roomId :",i.roomName),t={type:"stopRecording",roomId:i.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),E.log("C->S: "+n),apiCC.session.channel.socket.emit("stopRecording",n)},this.recordingStarted=function(e){E.info("recordingStarted:",e),R.createMCURecordingStartedEvent(e.roomName,e.callId,e.clientId,e.recordType,e.time,e.convId,e.mediaId,e.mediaURL,e.remoteId,e.recordedFileName,e.mediaType,e.descriptor)},this.recordingStopped=function(e){E.info("recordingStopped:",e),R.createMCURecordingStoppedEvent(e.roomName,e.callId,e.clientId,e.recordType,e.time,e.convId,e.mediaId,e.mediaURL,e.remoteId,e.recordedFileName,e.mediaType,e.descriptor)},this.recordingStreamAvailable=function(e){E.info("recordingStreamAvailable :",e),R.createMCURecordedStreamsAvailableEvent(e.roomName,e.callId,e.clientId,e.recordedFileName,e.convId,e.mediaId,e.mediaURL,e.recordType,e.remoteId,e.mediaType,e.descriptor),"janusConnector"===this.pubConnector&&e.hasOwnProperty("confId")&&e.hasOwnProperty("remoteId")&&R.createRecordedStreamsAvailableEvent(e.confId,e.clientId,e.remoteId,e.callId,e.convId,e.mediaId,e.mediaURL)},this.streamingStarted=function(e){E.info("streamingStarted: ",e),R.createMCUStreamingStartedEvent(e.roomName,e.callId,e.clientId,e.time)},this.streamingStopped=function(e){E.info("streamingStopped: ",e),R.createMCUStreamingStoppedEvent(e.roomName,e.callId,e.clientId,e.time)},this.startComposite=function(e){var t,n,r=null;(r=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(E.log("startComposite() on Apizee MCU with roomId :",r.roomName),t={type:"startComposite",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),E.log("C->S: "+n),apiCC.session.channel.socket.emit("startComposite",n)):E.log("startComposite() but client is not in session")},this.stopComposite=function(e){var t,n,r=null;(r=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(E.log("stopComposite() on Apizee MCU with roomId :",r.roomName),t={type:"stopComposite",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector}},n=JSON.stringify(t),E.log("C->S: "+n),apiCC.session.channel.socket.emit("stopComposite",n)):E.log("stopComposite() but client is not in session")},this.startCompositeRecording=function(e,t,n,r,i){E.info("startCompositeRecording with convId :",n);var o,s,l=null;(l=i?this.getSessionMCU(i):this.getSessionMCU(null,{first:!0}))?("AUDIO-ONLY"!==e&&"VIDEO-ONLY"!==e&&(e="AUDIO-VIDEO"),(r=Object(a.h)(r,"object")?Object(a.a)({},r):{}).pubSub=this.pubConnector,["complete","efficient","audioOnly"].indexOf(r.mode)<0&&(r.mode="complete"),r.labelEnabled=!0===r.labelEnabled,Object(a.h)(r,"labels","array")||(r.labels=["microphone","camera","screenSharing","sip"]),E.log("startRecording() on Apizee MCU with roomId :",l.roomName),o={type:"startRecording",roomId:l.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:"COMPOSITE",data:r,customIdInFilename:t,mediaType:e,convId:n},s=JSON.stringify(o),E.log("C->S: "+s),apiCC.session.channel.socket.emit("startRecording",s)):E.log("startCompositeRecording() but client is not in session")},this.stopCompositeRecording=function(e){E.info("stopCompositeRecording");var t,n,r=null;(r=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0}))?(E.log("stopRecording() on Apizee MCU with roomId :",r.roomName),t={type:"stopRecording",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:"COMPOSITE",data:{pubSub:this.pubConnector}},n=JSON.stringify(t),E.log("C->S: "+n),apiCC.session.channel.socket.emit("stopRecording",n)):E.log("stopCompositeRecording() but client is not in session")},this.enforceMCU=function(e){var t=null;if(t=e?this.getSessionMCU(e):this.getSessionMCU(null,{first:!0})){var n={type:"info",infoType:"enforceMCU",data:{clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,roomId:t.roomName,pubSub:this.pubConnector}},r=JSON.stringify(n);E.log("C->S: "+r),apiCC.session.channel.socket.emit("info",r)}else E.log("enforceMCU() but client is not in session")},this.meshPublish=function(e,t,n,r,i,o){var s=!1,l=null,c=null,u=this.getSessionMCU(e);if(!u)return E.error("meshPublish() - missing sessionMCU"),null;if(!0===r||!1===r||"true"===r||"false"===r?(E.log("DEPRECATED ... please use callConfiguration JSON parameter : callConfiguration.audioOnly instead of audioOnly"),s=r,r={}):null!==r&&"object"===T(r)||(r={}),null!==i&&"object"===T(i)||(i={}),Object(a.h)(r,"profileType","string")&&(i.profileType=r.profileType),Object(a.h)(r,"priority","number")&&r.priority>=0&&(i.priority=r.priority),Object(a.h)(r,"downgradeProfileList","array")&&(i.downgradeProfileList=r.downgradeProfileList),void 0!==r.audioOnly&&(s=r.audioOnly,void 0!==i.callConfiguration||(i.callConfiguration={}),i.callConfiguration.audioOnly=r.audioOnly),Object(a.h)(r,"context","object"))try{JSON.stringify(r.context),i.context=r.context}catch(e){}return l=new w(apiCC.session.apiCCWebRTCClient.webRTCClient),!0!==s&&"true"!==s||(E.log("Setting call as audioOnly"),l.callType="audio"),l.roomId=e,l.sessionId=t,l.token=n,l.callConfiguration=r,l.data=i,l.options=o,l.sessionMCU=u,apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.push(l),r.userMediaStreamId?((c=apiCC.getUserMediaStream(r.userMediaStreamId)).addCallInfo(l.userMediaId,"userMedia"),l.callConfiguration.userMediaStreamId=c.userMediaStreamId,l.callType=c.callType,l.audio=c.audio,l.video=c.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(l),apiCC.checkMutingStateForUserMedia(r,c)):apiCC.createUserMediaStream({callId:l.userMediaId,callFlavor:"userMedia",type:l.callType,audioSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.audioSourceId,videoSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.videoSourceId,success:function(e){E.debug("[meshPublish] success; userMediaStreamId: "+e.userMediaStreamId),l.callConfiguration.userMediaStreamId=e.userMediaStreamId,l.callType=e.callType,l.audio=e.audio,l.video=e.video,apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(l),apiCC.checkMutingStateForUserMedia(r,e)}}),l.userMediaId},this.meshOnUserMediaSuccess=function(t){var n=null,r=null;!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?((n={}).type="streamStatusChanged",n.callerId=e.clientId,n.roomId=t.roomId,n.streams={},n.streams[t.userMediaId]={eventType:"modify",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video},n.data={},n.data.meshPublish=!0,n.data.pubSub=this.pubConnector,r=JSON.stringify(n),E.log("C->S: "+r),apiCC.session.channel.socket.emit("streamStatusChanged",r)):(this.publishCallId=t.userMediaId,t.addAck=!0,t.addTimeoutId=setTimeout((function(){e.onRemoteHangup(t.userMediaId,e.clientId,t.roomId,"Unable_to_establish",null,null)}),t.disconnectionTimer),(n={}).type="streamStatusChanged",n.callerId=e.clientId,n.roomId=t.roomId,n.streams={},n.streams[t.userMediaId]={eventType:"add",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video},n.data=t.data,n.data.meshPublish=!0,n.data.pubSub=this.pubConnector,r=JSON.stringify(n),E.log("C->S: "+r),apiCC.session.channel.socket.emit("streamStatusChanged",r))},this.meshPublishScreen=function(e,t,n,r,i){var a=null,o=null,s=this.getSessionMCU(e);return s?(null!==n&&"object"===T(n)||(n={}),(a=new w(apiCC.session.apiCCWebRTCClient.webRTCClient)).roomId=e,a.data=t,a.callConfiguration=n,a.captureSourceType=r,a.sessionMCU=s,apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.push(a),n.userMediaStreamId?((o=apiCC.getUserMediaStream(n.userMediaStreamId)).addCallInfo(a.userMediaId,"userMedia"),a.callConfiguration.userMediaStreamId=o.userMediaStreamId,a.callType=o.callType,a.audio=o.audio,a.video=o.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(a)):apiCC.createUserMediaStream({callId:a.userMediaId,callFlavor:"userMedia",type:"screenSharing",captureSourceType:r,success:function(e){E.debug("[meshPublishScreen] success; userMediaStreamId: "+e.userMediaStreamId),a.callConfiguration.userMediaStreamId=e.userMediaStreamId,a.callType=e.callType,a.audio=e.audio,a.video=e.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnScreenMediaSuccess(a)}}),a.userMediaId):(E.error("meshPublishScreen() - missing sessionMCU"),null)},this.meshOnScreenMediaSuccess=function(t){var n,r=null;t.addAck=!0,t.addTimeoutId=setTimeout((function(){e.onRemoteHangup(t.userMediaId,e.clientId,t.roomId,"Unable_to_establish",null,null)}),t.disconnectionTimer),(r={}).type="streamStatusChanged",r.callerId=e.clientId,r.roomId=t.roomId,r.streams={},r.streams[t.userMediaId]={eventType:"add",callId:t.userMediaId,callType:t.callType,audio:t.audio,video:t.video},r.data={},r.data.pubSub=this.pubConnector,n=JSON.stringify(r),E.log("C->S: "+n),apiCC.session.channel.socket.emit("streamStatusChanged",n)},this.meshOnHangup=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,a=null,o=null,s=null;if(null!==n&&"object"===T(n)||(n={}),t){if(null!==(a=e.findUserMediaById(t)))for(a.close(),!0!==a.streamStolen&&(e.myWebRTC_Event.createHangupEvent("local",e.clientId,0,!0,null,a.userMediaId,a.callType),a.releaseUserMediaStream()),(o={}).type="streamStatusChanged",o.callerId=e.clientId,o.roomId=a.roomId,o.streams={},o.streams[a.userMediaId]={eventType:"remove",callId:a.userMediaId,callType:a.callType},r.restart&&(o.streams[a.userMediaId].restart=!0),o.data={},o.data.pubSub=this.pubConnector,s=JSON.stringify(o),E.log("C->S: "+s),apiCC.session.channel.socket.emit("streamStatusChanged",s),i=e.userMediaTable.length;--i>=0;)if(e.userMediaTable[i]===a){e.userMediaTable.splice(i,1);break}}else for(i=e.userMediaTable.length;--i>=0;)a=e.userMediaTable[i],r.hasOwnProperty("roomId")&&a.sessionMCU.roomName!==r.roomId||(e.myWebRTC_Event.createHangupEvent("local",e.clientId,0,!0,null,a.userMediaId,a.callType),a.close(),a.releaseUserMediaStream(),(o={}).type="streamStatusChanged",o.callerId=e.clientId,o.roomId=a.roomId,o.streams={},o.streams[a.userMediaId]={eventType:"remove",callId:a.userMediaId,callType:a.callType},o.data={},o.data.pubSub=this.pubConnector,s=JSON.stringify(o),E.log("C->S: "+s),apiCC.session.channel.socket.emit("streamStatusChanged",s),e.userMediaTable.splice(i,1))},this.participantEjected=function(t){Object(a.h)(t.data,"clientId","string")&&e.myWebRTC_Event.createMCUParticipantEjectedEvent(t.roomId,t.data.clientId,t.data.info)},this.ejectParticipant=function(e,t,n){var r=null;if(r=n?this.getSessionMCU(n):this.getSessionMCU(null,{first:!0})){var i={type:"ejectParticipant",roomId:r.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,data:{pubSub:this.pubConnector,clientId:e}};t&&(i.data.info=t);var a=JSON.stringify(i);E.log("C->S: "+a),apiCC.session.channel.socket.emit("ejectParticipant",a)}else E.debug("ejectParticipant() - missing sessionMCU")},this.getJoinSessionReq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(!e){if(t.hasOwnProperty("transactionId")){for(var r=this.joinSessionReqs.length;--r>=0;)if(this.joinSessionReqs[r].transactionId===t.transactionId){n=this.joinSessionReqs[r];break}return n}return null}for(var i=this.joinSessionReqs.length;--i>=0;)if(this.joinSessionReqs[i].roomId===e){n=this.joinSessionReqs[i];break}return n},this.removeJoinSessionReq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e){if(!0===t.all)return this.joinSessionReqs.splice(0,this.joinSessionReqs.length),!0;t.hasOwnProperty("roomId")&&(e=this.getJoinSessionReq(t.roomId))}if(!e)return!1;for(var n=this.joinSessionReqs.length;--n>=0&&this.joinSessionReqs[n]!==e;);return n>=0&&(this.joinSessionReqs.splice(n,1),!0)},this.getSessionMCU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(!e){if(!0===t.first)return this.sessionMCUs[0];if(Object(a.h)(t.callback,"function")){E.debug("getSessionMCU callback");for(var r=this.sessionMCUs.length;--r>=0;)if(t.callback(this.sessionMCUs[r])){n=this.sessionMCUs[r];break}}return n}for(var i=this.sessionMCUs.length;--i>=0;)if(this.sessionMCUs[i].roomName===e){n=this.sessionMCUs[i];break}return n},this.removeSessionMCU=function(e){if(!e&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).all)return this.sessionMCUs.splice(0,this.sessionMCUs.length),!0;if(!e)return!1;for(var t=this.sessionMCUs.length;--t>=0&&this.sessionMCUs[t]!==e;);return t>=0&&(this.sessionMCUs.splice(t,1),!0)},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler}};function M(e){E.debug("disputableEntryTimeout",e);for(var t=apiCC.session.apiCCWebRTCClient.webRTCClient,n=this.disputableStreamList.length;--n>=0;)if(this.disputableStreamList[n].streamInfo.id===e){this.disputableStreamList.splice(n,1);break}for(var r=null,i=this.streamList.length;--i>=0;)if(this.streamList[i].streamInfo.id===e){r=t.destroyCallControl({type:"subscribe",stream:this.streamList[i].streamInfo}),this.streamList.splice(i,1);break}r&&r.callId&&R.createHangupEvent("remote",t.clientId,r.roomName,!1,"Hangup_From_Callee",r.callId,r.callType),R.createMCURemovedStreamEvent(e)}function _(e){E.debug("clearDisputableEntry",e);for(var t=this.disputableStreamList.length;--t>=0;)if(this.disputableStreamList[t].streamInfo.id===e){this.disputableStreamList.splice(t,1);break}for(var n=this.streamList.length;--n>=0;)if(this.streamList[n].streamInfo.id===e){this.streamList[n].disputableTimeoutId&&(clearTimeout(this.streamList[n].disputableTimeoutId),delete this.streamList[n].disputableTimeoutId),delete this.streamList[n].clearDisputableEntry;break}}function A(e){var t={};return Object(a.g)(e,"maxBitrate","number")&&(t.maxBitrate=e.maxBitrate),Object(a.g)(e,"scaleResolutionDownBy","number")&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),t}function x(e){return Object(a.h)(e.encodings,"object")?Object(a.g)(e.encodings.high,"maxBitrate","number")&&Object(a.g)(e.encodings.medium,"maxBitrate","number")&&Object(a.g)(e.encodings.low,"maxBitrate","number")?(e.encodings.high=Object.assign({active:!0},A(e.encodings.high)),e.encodings.medium=Object.assign({active:!0},A(e.encodings.medium)),e.encodings.low=Object.assign({active:!0},A(e.encodings.low)),e.sendEncodings=[{rid:"h",active:!0},{rid:"m",active:!0},{rid:"l",active:!0}],e.sendEncodings[0].maxBitrate=1e3*e.encodings.high.maxBitrate,e.sendEncodings[1].maxBitrate=1e3*e.encodings.medium.maxBitrate,e.sendEncodings[2].maxBitrate=1e3*e.encodings.low.maxBitrate,Object(a.g)(e.encodings.medium,"scaleResolutionDownBy","number")&&(e.sendEncodings[1].scaleResolutionDownBy=e.encodings.medium.scaleResolutionDownBy),Object(a.g)(e.encodings.low,"scaleResolutionDownBy","number")&&(e.sendEncodings[2].scaleResolutionDownBy=e.encodings.low.scaleResolutionDownBy),!0):(E.warn("no such maxBitrate"),!1):(E.warn("no such encodings"),!1)}function D(e,t){if(t<650)return!1;var n=Math.floor(9*t/13),r=Math.floor(3*t/13),i=t-n-r;return e.encodings={high:{maxBitrate:n},medium:{maxBitrate:r,scaleResolutionDownBy:2},low:{maxBitrate:i,scaleResolutionDownBy:4}},x(e)}r.a.get("CallControl");var j=function(e){this.type=e.type,e.callId&&(this.callId=e.callId),e.callType?this.callType=e.callType:this.callType="media",Object.prototype.hasOwnProperty.call(e,"audioOnly")&&(this.audioOnly=!!e.audioOnly),e.roomName&&(this.roomName=e.roomName),e.mediaType&&(this.mediaType=e.mediaType),e.callConfiguration&&(this.callConfiguration=e.callConfiguration),e.data&&(this.data=e.data),e.stream&&(this.stream=e.stream),this.autoRestart={}},P=function(){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];this.a=1,this.b=0,this.c=7,this.d=0,this.update=function(e,t,n){var r=0;for(null==t&&(t=0),null==n&&(n=e.length);r<n;r+=1)this.a=(this.a+e[t+r])%65521,this.b=(this.b+this.a)%65521,this.c=(this.c+3)*(e[t+r]+5)%65521,this.d=(this.d+this.c)%65521},this.digest=function(t){return e[this.d>>12&15]+e[this.d>>8&15]+e[this.d>>4&15]+e[15&this.d]+e[this.c>>12&15]+e[this.c>>8&15]+e[this.c>>4&15]+e[15&this.c]+e[this.b>>12&15]+e[this.b>>8&15]+e[this.b>>4&15]+e[15&this.b]+e[this.a>>12&15]+e[this.a>>8&15]+e[this.a>>4&15]+e[15&this.a]}};function N(e,t){return null==t&&(t={}),"checksum64"===e?new P:null}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U=r.a.get("WebRTC_Client"),F=apiCC.myWebRTC_Event,W=function(e){function t(e,t,n){var r,i=e.width,a=i<<2,o=e.height,s=null,l=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,v=0,g=0,b=0,C=0,y=0,S=0,w=0,T=0;if(t){for(s=t.data,n<0&&(n=0),m=1-((f=(2.44413*(l=n>=2.5?.98711*n-.9633:n>=.5?3.97156-4.14554*Math.sqrt(1-.26891*n):2*n*(3.97156-4.14554*Math.sqrt(.865545)))+2.85619*(c=l*l)+1.26661*(u=c*l))/(d=1.57825+2.44413*l+1.4281*c+.422205*u))+(h=-(1.4281*c+1.26661*u)/d)+(p=.422205*u/d)),r=0;r<3;r++)for(v=0;v<o;v++){for(b=v*a+(i-1<<2)+r,w=S=y=C=s[g=v*a+r],g=v*a+r;g<=b;g+=4)C=m*s[g]+f*y+h*S+p*w,s[g]=C,w=S,S=y,y=C;for(b=v*a+r,w=S=y=C=s[g=v*a+(i-1<<2)+r],g=v*a+(i-1<<2)+r;g>=b;g-=4)C=m*s[g]+f*y+h*S+p*w,s[g]=C,w=S,S=y,y=C}for(r=0;r<3;r++)for(T=0;T<i;T++){for(b=(o-1)*a+(T<<2)+r,w=S=y=C=s[g=(T<<2)+r],g=(T<<2)+r;g<=b;g+=a)C=m*s[g]+f*y+h*S+p*w,s[g]=C,w=S,S=y,y=C;for(b=(T<<2)+r,w=S=y=C=s[g=(o-1)*a+(T<<2)+r],g=(o-1)*a+(T<<2)+r;g>=b;g-=a)C=m*s[g]+f*y+h*S+p*w,s[g]=C,w=S,S=y,y=C}return t}}this.localVideo=null,this.miniVideo=null,this.remoteVideo=null,this.localStream=null,this.statusDiv=null,this.commandDiv=null,this.remoteStream=null,this.channelReady=!1,this.socket=e.channel.socket,this.clientId=e.apiCCId,this.compositeClientId=e.apiCCId+"@"+e.apiCCSessionId,this.apiKey=e.apiKey,this.isVideoMuted=!1,this.isAudioMuted=!1,this.callURLDestRoom=0,this.callControlTable=[],this.userMediaTable=[],this.callsTable=[],this.callsRetriesTable={},this.restartCallDelay=1e3,this.maxCallsRetriesDuration=15e4,this.accessToLocalMedia=!1,this.unidirectionelCallOnly=!1,this.NtoNConf=!1,this.autoAnswer=!1,this.RTPMedia=!1,this.logoAdded=!1,this.preferOpusCodec=!1,this.preferVP9Codec=!1,"undefined"!=typeof apiRTC_React&&"iOS"===i.g?(U.log("React and iOS : Setting H264 as preferred codec"),this.preferH264Codec=!0):this.preferH264Codec=!1,this.preferSendingH264Codec=!1,this.setStereo=!1,this.allowedAudioCodecs="",this.allowedVideoCodecs="",this.mediaRoutingModeEnum={hostOnly:1,stun:2,stunOnly:3,turn:4,turnOnly:5},this.mediaRoutingMode=this.mediaRoutingModeEnum.turn,this.myWebRTC_Event=apiCC.myWebRTC_Event,this.getUserMediaOnGoing=!1,this.userAcceptOnIncomingCall=!1,this.userAcceptOnIncomingCallBeforeGetUserMedia=!1,this.userAcceptOnIncomingDataCall=!1,this.userAcceptOnIncomingScreenSharingCall=!1,this.maxWidthRemoteVideo=0,this.maxHeightRemoteVideo=0,this.nickname=e.nickname,this.hideLocalVideoOnCall=!0,this.allowMultipleCalls=!1,this.mySDPManager=new f,this.MCUClient=new k(this,this.clientId),this.audioSourceId=null,this.audioOutputId=null,this.videoSourceId=null,this.facingMode=null,this.apiRTCExtensionInstalled=!1,this.trickleIce=!0,this.waitingShareScreenCallId=0,this.waitingShareScreenDestNumber=0,this.waitingCaptureSourceType=null,this.qosEnable=!1,this.qosInterval=5e3,this.csmEnable=!1,this.qualityScoreEnable=!1,this.qualityScoreIntervalMs=5e3,this.csmIntervalMs=5e3,this.recordedCall=!1,this.audioBandwidth=null,this.videoBandwidth=null,this.videoRemoteBandwidth=null,this.videoBandwidthSettings={},this.dataBandwidth=null,this.pc_config="",this.clientIncomingCandidatesQueue=[],this.cleanStoredCallCandidateTimer=6e4,this.initializeGumConfig=function(){"Edge"===i.b&&i.d>=15?this.gum_config={audio:!0,video:!0}:"Chrome"===i.b&&i.d<49||"Firefox"===i.b&&i.d<50?this.gum_config={audio:{mandatory:{},optional:[]},video:{mandatory:{},optional:[]}}:this.gum_config={audio:{},video:{}}},this.initializeGumConfig(),this.setGumConfigWithDevicePresent=function(){!1===apiCC.mediaDeviceMgr.audioDevicePresent&&(this.gum_config.audio=!1),!1===apiCC.mediaDeviceMgr.videoDevicePresent&&(this.gum_config.video=!1),!1===apiCC.mediaDeviceMgr.audioDevicePresent&&!1===apiCC.mediaDeviceMgr.videoDevicePresent&&(this.unidirectionelCallOnly=!0),U.log("this.gum_config:",this.gum_config)},this.userMediaErrorDetected=!1,this.lastUsedUserMediaConstraint=null,this.mediaTypeForIncomingCall="VIDEO",this.mediaTypeForOutgoingCall="VIDEO",this.allowAsymetricMediaCalls=!1,this.receiveMediaDeactivated=!1,this.configTurnServer=null,apiCC.myWebRTC_Adapter.adaptForIoSCordova(),this.pc_config={iceServers:[{urls:["turns:mp1.apizee.com:443?transport=udp","turns:mp1.apizee.com:443?transport=tcp","turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp","turns:mp2.apizee.com:443?transport=udp","turns:mp2.apizee.com:443?transport=tcp","turn:mp2.apizee.com:443?transport=udp","turn:mp2.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]},"Firefox"===i.b&&i.d<53?(U.log("createPeerConnection FIREFOX"),U.log("webrtcDetectedVersion : "+apiCC.myWebRTC_Adapter.webrtcDetectedVersion),i.d<38?this.pc_config={iceServers:[{url:"stun:mp1.apizee.com:443",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443",credential:"password",username:"anonymous"}]}:i.d>=42?this.pc_config={iceServers:[{urls:["turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]}:this.pc_config={iceServers:[{urls:"turn:mp1.apizee.com:443?transport=tcp",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443?transport=tcp",credential:"password",username:"anonymous"}]}):"IE"===i.b||"Safari"===i.b&&i.d<11?(U.log("Browser is :"+i.b+" - using Plugin"),this.pc_config={iceServers:[{url:"stun:mp1.apizee.com:443",credential:"password",username:"anonymous"},{url:"turn:mp1.apizee.com:443",credential:"password",username:"anonymous"}]}):"Edge"===i.b&&i.d<45?(U.log("Browser is Edge - removing Turns config"),this.pc_config={iceServers:[{urls:["turn:mp1.apizee.com:443?transport=udp","turn:mp1.apizee.com:443?transport=tcp","turn:mp2.apizee.com:443?transport=udp","turn:mp2.apizee.com:443?transport=tcp"],credential:"password",username:"anonymous"}]}):U.log("default this.pc_config configuration"),this.pc_constraints={optional:[]},"edge"===a.c.type?U.debug("not data channel capable"):"safari"===a.c.type?a.c.version>=11?this.dataChannelCapable=!0:U.debug("not data channel capable"):this.dataChannelCapable=!0,"chrome"===a.c.type&&a.c.version>=68||"firefox"===a.c.type&&a.c.version>=64||"safari"===a.c.type&&a.c.version>=12?(U.debug("RTCRtpSender#setParameters is available"),this.rtpSenderSetParamatersCapable=!0):(U.debug("RTCRtpSender#setParameters is NOT available"),this.rtpSenderSetParamatersCapable=!1),this.initialize=function(e,t,n,r,i){this.localVideo=document.getElementById(e),null===this.localVideo&&U.log("localVideo Div Name is not correct : INCORRECT_DIV_NAME_LOCALVIDEO"),this.miniVideo=document.getElementById(t),null===this.miniVideo&&U.log("miniVideo Div Name is not correct : INCORRECT_DIV_NAME_MINIVIDEO"),this.remoteVideo=document.getElementById(n),null===this.remoteVideo&&U.log("remoteVideo Div Name is not correct : INCORRECT_DIV_NAME_REMOTEVIDEO"),this.statusDiv=document.getElementById(r),null===this.statusDiv&&U.log("status Div Name is not correct : INCORRECT_DIV_NAME_STATUS"),this.commandDiv=document.getElementById(i),null===this.commandDiv?U.log("command Div Name is not correct : INCORRECT_DIV_NAME_COMMAND"):(U.log("Command buttons are managed by ApiRTC"),this.displayCallButtonInCommand()),0!==this.callURLDestRoom&&(U.log("callURLDestRoom is not null"),this.callperURL(this.callURLDestRoom),this.callURLDestRoom=0),this.initMediaElementState(),this.setStatus("<div>Your phone is registered, you can be reached at this number : "+this.clientId+"</div>")},this.setClientTurnServer=function(e){U.info("setClientTurnServer :",e);var t=JSON.stringify(this.pc_config);t=t.replace(/mp1.apizee.com/g,e),this.pc_config=JSON.parse(t)},this.activateScreenSharing=function(e){apiCC.activateScreenSharing(e)},this.setGetUserMediaConfig=function(e){if(U.log("setGetUserMediaConfig :",e),null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices.getSupportedConstraints&&void 0!==navigator.mediaDevices.getSupportedConstraints){var t=navigator.mediaDevices.getSupportedConstraints();U.log("Supported Constraints :",t)}void 0!==e.video&&(void 0===e.video.height&&void 0===e.video.width||void 0!==e.optional&&(U.warn("contraints with both optional/mandatory and specific or advanced constraints usage : this may failed depending of browsers"),U.log("setGetUserMediaConfig : contraints modification to avoid both optional/mandatory and specific or advanced constraints usage"),void 0!==e.optional.sourceId&&(U.log("sourceId contraints modification to deviceId"),void 0===e.video.deviceId&&(e.video.deviceId={}),e.video.deviceId.ideal=e.optional.sourceId),delete e.optional)),U.log("this.gum_config :",this.gum_config),this.gum_config=e},this.getUserMedia=function(){try{this.gum_config=apiCC.setAudioSourceIdInConstraint(this.audioSourceId,this.gum_config),this.gum_config=apiCC.setVideoSourceIdInConstraint(this.videoSourceId,this.gum_config),this.lastUsedUserMediaConstraint=this.gum_config,"IE"===i.b&&i.e>8?apiCC.getUserMediaWithCB(this.gum_config,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):apiCC.getUserMedia(this.gum_config).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError"))}catch(e){U.error("getUserMedia() failed. Is this a WebRTC capable browser?"),U.log("getUserMedia failed with exception: "+e.message)}},this.onUserMediaSuccess=function(e){U.info("onUserMediaSuccess : User has granted access to local media."),this.accessToLocalMedia=!0;var t=!1,n="Unknown",r=!1,i="Unknown";this.miniVideo&&apiCC.attachMediaStream(this.miniVideo,e),this.localVideo&&(apiCC.attachMediaStream(this.localVideo,e),this.localVideo.style.opacity=1),this.localStream=e,e.getAudioTracks().length>0&&(t=!0,e.getAudioTracks()[0].label&&(n=e.getAudioTracks()[0].label),U.log("Using audio device: "+n)),e.getVideoTracks().length>0&&(r=!0,e.getVideoTracks()[0].label&&(i=e.getVideoTracks()[0].label),U.log("Using video device: "+i)),this.myWebRTC_Event.createUserMediaSuccessEvent(!1,t,n,r,i,"media",null,e,null,!1)},this.onUserMediaError=function(e){U.info("onUserMediaError : Failed to get access to local media. Error : ",e),U.error(e),this.accessToLocalMedia=!1,"electron"!==i.a&&"Chrome"===i.b&&i.d>47&&(U.log("browser_version > 47"),"https:"!==window.location.protocol&&U.error("HTTPS is now mandatory to use getUserMedia()")),this.myWebRTC_Event.createUserMediaErrorEvent(!1,"media",e,null,null,null,this.gum_config),e=null,!0===apiCC.session.tryAudioCallAfterUserMediaError?(U.log("this.lastUsedUserMediaConstraint :",this.lastUsedUserMediaConstraint),U.log("this.lastUsedUserMediaConstraint.video :",this.lastUsedUserMediaConstraint.video),!1!==this.lastUsedUserMediaConstraint.video?(U.log("this.lastUsedUserMediaConstraint.audio :",this.lastUsedUserMediaConstraint.audio),U.log("UserMediaError, Trying to getUserMedia with audioOnly"),this.videoSourceId=null,this.gum_config.video=!1,this.getUserMedia()):U.log("onUserMediaError without video")):U.log("try AudioCall after UserMediaError is not activated")},this.evalCallProfileWithSdp=function(e,t,n){return this.evalCallProfileWithSdpGuideline(this.mySDPManager.createGuideline(e),e,t,n)},this.evalCallProfileWithSdpGuideline=function(e,t,n,r){var i={};return e.hasOwnProperty("audio")?(i.audio=!0,i.audioActive="local"===n&&"send"===r?"sendrecv"===e.audio.direction||"sendonly"===e.audio.direction:"local"===n&&"receive"===r||"remote"===n&&"send"===r?"sendrecv"===e.audio.direction||"recvonly"===e.audio.direction:"remote"===n&&"receive"===r&&("sendrecv"===e.audio.direction||"sendonly"===e.audio.direction)):(i.audio=!1,i.audioActive=!1),e.hasOwnProperty("video")?(i.video=!0,i.videoActive="local"===n&&"send"===r?"sendrecv"===e.video.direction||"sendonly"===e.video.direction:"local"===n&&"receive"===r||"remote"===n&&"send"===r?"sendrecv"===e.video.direction||"recvonly"===e.video.direction:"remote"===n&&"receive"===r&&("sendrecv"===e.video.direction||"sendonly"===e.video.direction)):(i.video=!1,i.videoActive=!1),i},this.checkDestCallTypeWithSDP=function(e,t){U.debug("checkDestCallTypeWithSDP");var n=this.mySDPManager.createGuideline(e),r=!1,i=!1;!n.audio||"sendrecv"!==n.audio.direction&&"sendonly"!==n.audio.direction||(r=!0),!n.video||"sendrecv"!==n.video.direction&&"sendonly"!==n.video.direction||(i=!0),t.destCallType=!0===r?!0===i?"media":"audio":!0===i?"videoOnly":"inactive",U.debug("call.destCallType: "+t.destCallType),!0!==t.callee||n.audio&&"sendonly"!==n.audio.direction||n.video&&"sendonly"!==n.video.direction||(t.userMediaAccessRequired=!1,t.mediaTypeForOutgoingCall="NONE",U.debug("access to user media not required"))},this.evaluateVideoCap=function(e){delete e.videoCap,e.belongsToRoom()?"publish"!==e.settingUpType&&"shareScreen"!==e.settingUpType||e.localCallProfile&&e.localCallProfile.video&&e.localCallProfile.videoActive&&this.evalOutgoingVideoBandwithCap(e):(this.rtpSenderSetParamatersCapable||!e.callee)&&e.localCallProfile&&e.localCallProfile.video&&e.localCallProfile.videoActive&&this.evalOutgoingVideoBandwithCap(e)},this.processInvite=function(e){U.info("processInvite() - invite received from :"+e.callerId);var t,n=0,r=null,s=null,l=null,c=null,u=!1,d=null,f=null,h=null,p={};if(void 0!==e.data&&"publish"===e.data.type&&void 0!==e.data.mesh){if(U.info("received invite publish mesh; mesh: "+JSON.stringify(e.data.mesh)),null==(r=this.findCallWithCallIdAndInstanceId(e.data.mesh.callerCallId,e.data.instanceId)))return void U.error("cannot find call; callId: "+e.data.mesh.callerCallId);r.userMediaAccessRequired=!1,r.data.mesh=e.data.mesh,r.setupTimeoutId&&(clearTimeout(r.setupTimeoutId),delete r.setupTimeoutId),u=!0}else{if(void 0!==e.data&&"subscribe"===e.data.type&&void 0!==e.data.mesh){if(U.debug("received invite subscribe mesh; mesh: ",e.data.mesh),null!==(s=this.findUserMediaById(e.data.mesh.calleeCallId)))if(this.MCUClient.distantCalls.push({early:!0,roomId:e.roomId,clientId:e.data.mesh.callerId,callId:e.data.mesh.callerCallId,callMode:"mesh",callDirection:"recvonly",callFeed:{clientId:e.data.mesh.calleeId,callId:e.data.mesh.calleeCallId}}),setTimeout(function(e,t,n){U.debug("early distant call descriptor timeout");for(var r=this.MCUClient.distantCalls.length;--r>=0;)if(this.MCUClient.distantCalls[r].early&&this.MCUClient.distantCalls[r].roomId===e&&this.MCUClient.distantCalls[r].clientId===t&&this.MCUClient.distantCalls[r].callId===n){U.debug("remove early distant call descriptor: timeout"),this.MCUClient.distantCalls.splice(r,1);break}}.bind(this,e.roomId,e.data.callerId,e.data.callerCallId),3e4),"screenSharing"===s.callType||"screenSharingWithAudio"===s.callType)p.type="publish",p.mesh=e.data.mesh,p.instanceId=e.data.instanceId,this.MCUClient.publishScreen(e.roomId,p,null,s.captureSourceType);else{var m=Object(a.a)({},s.callConfiguration);"AUDIOONLY"===e.data.mediaType?m.audioOnly=!0:"VIDEOONLY"===e.data.mediaType&&(m.videoOnly=!0),(l=apiCC.getUserMediaStream(m.userMediaStreamId))&&(l.audioMuted&&l.videoMuted?m.muted="VIDEO":l.audioMuted?m.muted="AUDIOONLY":l.videoMuted?m.muted="VIDEOONLY":delete m.muted),delete m.distributedBroadcastEnabled,delete m.simulcast,p.type="publish",p.mesh=e.data.mesh,p.instanceId=e.data.instanceId,this.MCUClient.publish(e.roomId,null,null,m,p,null)}else U.debug("media not found: sending bye : Call_not_found"),new o.a(apiCC.session.channel.socket).sendBye(e.callId,e.calleeId,e.roomId,e.callerId,"Call_not_found",e.data);return}if(void 0!==e.data&&"publish"===e.data.type&&"passive"===e.data.mode){if(null==(r=this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))return void U.debug("cannot find call; callId: "+e.callId+", callerId: "+e.callerId+", instanceId: "+e.data.instanceId);r.userMediaAccessRequired=!1,r.setupTimeoutId&&(clearTimeout(r.setupTimeoutId),delete r.setupTimeoutId),u=!0}else(r=new S(this)).callId=e.callId,r.instanceId=e.data.instanceId,r.callerId=e.callerId,r.calleeId=this.clientId,r.callee=!0,r.remoteId=e.callerId}if(r.dest_roomId=e.roomId,void 0!==r.data&&!0===u)for(h in e.data)e.data.hasOwnProperty(h)&&(r.data[h]=e.data[h]);else r.data=e.data;if(r.data.instanceId=r.instanceId,void 0!==e.data&&"sipConnector"===e.data.pubSub&&(r.trickleIce=!1,r.remoteType="sip"),r.checkDTLSCompliancy(),"Edge"===i.b&&(d=apiCC.session.getConnectedUserInfo(e.callerId,"userData"),U.log("destUserInfo :",d),"User_Not_Found"!==d&&void 0!==d&&"Chrome"===(f=JSON.parse(d)).browser&&"Android"===f.osName&&(U.log("Browser is Edge and caller is Chrome on Android, setting VP8 as prefered codec for the call"),r.preferVP8Codec=!0)),void 0!==e.data&&"publish"===e.data.type&&"passive"===e.data.mode&&void 0!==e.stream&&void 0!==e.stream.id&&(r.streamId=e.stream.id,U.log("call.streamId: "+r.streamId)),n=this.callsTable.length,U.log("processInvite() - Actual call Number is :"+n),"screenSharing"===e.callType||"screenSharingWithAudio"===e.callType)r.screenSharing=!0,r.callType=e.callType;else if("data"===e.callType);else if(!1===this.allowMultipleCalls){for(U.log("processInvite() - Refusing double call checking ..."),t=0;t<n;t+=1)if("screenSharing"!==this.callsTable[t].callType&&"screenSharingWithAudio"!==this.callsTable[t].callType&&"data"!==this.callsTable[t].callType)return U.log("processInvite() - Refusing double call"),!1===u?this.callsTable.push(r):U.log("callAlreadyExist in table"),this.myWebRTC_Event.createCallAttemptEvent(this.clientId,e.callerId,e.callerNickname,r.callId),void this.refuseCall(r.callId,"User_Busy");U.log("NOT Refusing double call")}!1===u?(n=this.callsTable.push(r),U.log("processInvite() - New call Number is :"+n)):(U.log("callAlreadyExist in table"),U.log("processInvite() - call Number is :"+n)),this.checkDestCallTypeWithSDP(e.sdpoffer.sdp,r);var v=this.mySDPManager.createGuideline(e.sdpoffer.sdp);if(r.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(v,e.sdpoffer.sdp,"remote","send")),r.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(v,e.sdpoffer.sdp,"remote","receive")),this.rtpSenderSetParamatersCapable||(this.evaluateVideoCap(r),r.videoCap&&(v.video.bandwidth=r.videoCap,e.sdpoffer.sdp=v.generate())),r.receivedSdpOfferMessage=e.sdpoffer,Object(a.g)(e,"stream","object")&&(!0===e.stream.audioMuted&&(r.isRemoteAudioMuted=!0),!0===e.stream.videoMuted&&(r.isRemoteVideoMuted=!0)),!0===this.autoAnswer&&this.displayHangUpButtonInCommand(),"data"===e.callType){if(U.log("Receiving DATA call"),r.callType="data",r.dataCall=!0,"Edge"===i.b&&i.d<79)return U.warn("Cannot create DataChannel as it is not supported on Edge"),void this.refuseCall(r.callId,"DataChannel_Not_Supported");this.setStatus("Incoming data Call from ongoing :"+e.callerId),this.userAcceptOnIncomingDataCall||r.onUserMediaSuccessTestUni(),this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,r.callId,!1,n,!1,e.callType,!1,r.remoteType,r.destCallType)}else!1===r.userMediaAccessRequired||this.unidirectionelCallOnly||!0===r.screenSharing?(U.log("call.userMediaAccessRequired :",r.userMediaAccessRequired),U.log("this.unidirectionelCallOnly :",this.unidirectionelCallOnly),U.log("call.screenSharing :",r.screenSharing),this.unidirectionelCallOnly&&this.setStatus("You are connected to "+e.callerId+', your audio and video media are not transmitted. <input type="button" id="AddMedia" value="Activate Audio & Video" onclick="apiCC.session.apiCCWebRTCClient.addMedia('+r.callId+')" />'),!0===r.screenSharing?!1===this.userAcceptOnIncomingScreenSharingCall?(this.setStatus("Screensharing session activated, accepting unidirectionnel call"),r.onUserMediaSuccessTestUni()):U.debug("userAcceptOnIncomingScreenSharingCall is activated : need user accept"):!0===u?(U.log("processInvite() - callAlreadyExist"),r.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCall||!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?U.log("processInvite() - Waiting for call accept or refuse from user - 1"):(U.log("processInvite() - userAcceptOnIncomingCall is not activated"),r.onUserMediaSuccessTestUni()),void 0!==e.data&&!0===e.data.subscribeOrder||!1!==u||this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,r.callId,!1,n,!1,e.callType,!1,r.remoteType,r.destCallType)):(apiCC.userMediaStreamTable.length>0&&(c=apiCC.userMediaStreamTable[0].userMediaStreamId),!0!==this.accessToLocalMedia&&!c||!0!==this.autoAnswer?(this.setStatus("Incoming Call from :"+e.callerId+'. Click on "Autoriser" button to accept.'),!0===r.audioOnly&&!1===apiCC.mediaDeviceMgr.audioDevicePresent?(U.log("processInvite() - audio and video media are not transmitted"),this.setStatus("You are connected to "+e.callerId+', your audio and video media are not transmitted. <input type="button" id="AddMedia" value="Activate Audio & Video" onclick="apiCC.session.apiCCWebRTCClient.addMedia('+r.callId+')" />'),r.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?U.log("Stand-by :: wait for getUserMediaOnCall && establishCall"):(U.debug("processInvite() - call.getUserMediaOnCall()"),U.log("processInvite() - this.autoAnswer :"+this.autoAnswer),r.getUserMediaOnCall()),!1===u&&this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,r.callId,!1,n,r.audioOnly,e.callType,!1,r.remoteType,r.destCallType)):(this.setStatus("You are connected to :"+e.callerId),U.log("processInvite() :: User has already granted access to local media and AutoAnswer activated : establishing call"),!0===this.userAcceptOnIncomingCall||!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?U.log("processInvite() - Waiting for call accept or refuse from user - 2"):c?(U.log("using First available stream on apiRTC"),(l=apiCC.getUserMediaStream(c)).addCallInfo(r.callId),void 0!==r.callConfiguration&&null!==r.callConfiguration||(r.callConfiguration={}),r.callConfiguration.userMediaStreamId=l.userMediaStreamId,r.onUserMediaSuccessOnCall(l.stream)):r.establishCall(),!1===u&&this.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.callerId,e.callerNickname,r.callId,!0,n,r.audioOnly,e.callType,!1,r.remoteType,r.destCallType)))},this.setRemoteDescriptionProcess=function(e,t){this.preferSendingH264Codec&&(U.log("Modification of SDP to set H264 as prefered sending codec"),t.sdp=this.mySDPManager.maybePreferCodec(t.sdp,"video","H264")),"Chrome"===i.b&&i.d<55||"Firefox"===i.b&&i.d<50||"IE"===i.b||"undefined"!=typeof apiRTC_React?null!==e.pc?e.pc.setRemoteDescription(t,e.callback(e,"onSetRemoteDescriptionSuccess"),e.callback(e,"onSetRemoteDescriptionFailure")):U.debug("setRemoteDescriptionProcess - pc is null"):(U.log("before setRemoteDescription - Promise version"),null!==e.pc?e.pc.setRemoteDescription(t).then(e.callback(e,"onSetRemoteDescriptionSuccess")).catch(e.callback(e,"onSetRemoteDescriptionFailure")):U.debug("setRemoteDescriptionProcess - pc is null"))},this.process200OK=function(e){var t,n=null,r=null;if(void 0!==e.data&&void 0!==e.data.instanceId?(U.info("200OK received from callId :"+e.calleeId+", intanceId is :"+e.data.instanceId),n=this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId)):(U.info("200OK received from callId :"+e.calleeId),n=this.findCallWithCallIdAndRemoteId(e.callId,e.calleeId)),null===n)return U.warn("200OK received but callId and instanceId are not matching, no process"),void this.myWebRTC_Event.createErrorEvent("200OK received but callId is not matching, no process","NOT_MATCHING_CALLID_ON_200OK");n.calleeId=e.calleeId,e.sdpanswer&&"no-answer"!==e.sdpanswer.type?!1===n.message200OKReceived?(U.debug("first 200OK for the call"),n.message200OKReceived=!0,"subscribe"!==n.data.type&&this.checkDestCallTypeWithSDP(e.sdpanswer.sdp,n),t=this.mySDPManager.createGuideline(e.sdpanswer.sdp),n.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","send")),n.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","receive")),this.evaluateVideoCap(n),!this.rtpSenderSetParamatersCapable&&n.videoCap&&(t.video.bandwidth=n.videoCap,e.sdpanswer.sdp=t.generate()),n.receivedSdpOfferMessage=e.sdpanswer,U.log("process200OK : before setRemoteDescription"),r=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpanswer),this.videoRemoteBandwidth&&(U.log("Modification of SDP to set remote video bandwidth"),r.sdp=this.mySDPManager.setVideoBandwidth(r.sdp,this.videoRemoteBandwidth)),this.setRemoteDescriptionProcess(n,r),this.setStatus("You are connected to :"+e.calleeId),null!==e.data&&void 0!==e.data&&(null!==n.data&&void 0!==n.data?n.data=Object(a.k)(n.data,e.data):n.data=e.data)):U.debug("200OK has already been received for this call, leaving process200OK"):F.createCallEstablishedEvent(n.calleeId,n.callType,n.callId,n.destCallType)},this.cleanStoredCallCandidate=function(e,t){U.debug("cleanStoredCallCandidate from callId :"+e+", instanceId is :"+t),void 0!==this.clientIncomingCandidatesQueue[e+"-"+t]&&0!==this.clientIncomingCandidatesQueue[e+"-"+t].length&&(this.clientIncomingCandidatesQueue[e+"-"+t].splice(0,this.clientIncomingCandidatesQueue[e+"-"+t].length),delete this.clientIncomingCandidatesQueue[e+"-"+t])},this.processCandidate=function(e){var t=null,n=e.data&&e.data.instanceId?e.data.instanceId:null;U.debug("Candidate received from callId :"+e.callId+", instanceId is :"+n),t=e.callerId===this.clientId?n?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,n):this.findCallWithCallIdAndRemoteId(e.callId,e.calleeId):n?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,n):this.findCallWithCallIdAndRemoteId(e.callId,e.callerId),U.trace("msg.label :"+e.label),U.log("msg.candidate :"+e.candidate),null!==t?t.started&&t.remoteDescriptionSetted?t.processCandidateMsg(e):(U.log("Call not started or remoteDescription is not yet setted"),t.incomingcandidatesQueue.push(e)):n&&(U.debug("Call not found, Candidate message is not handled, storing candidate message in client"),null!==this.clientIncomingCandidatesQueue[e.callId+"-"+n]&&void 0!==this.clientIncomingCandidatesQueue[e.callId+"-"+n]||(this.clientIncomingCandidatesQueue[e.callId+"-"+n]=[],U.debug("First candidate for this call, starting a timeout before candidate storage cleaning"),setTimeout(this.cleanStoredCallCandidate.bind(this),this.cleanStoredCallCandidateTimer,e.callId,n)),this.clientIncomingCandidatesQueue[e.callId+"-"+n].push(e))},this.processUpdate=function(e){U.info("Update message on:"+e.roomId);var t,n=null;if(null!==(n=e.callerId===this.clientId?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId):this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))if(e.hasOwnProperty("sdpoffer")&&e.sdpoffer.hasOwnProperty("sdp"))n.setRemoteCallProfile(this.evalCallProfileWithSdp(e.sdpoffer.sdp,"remote","receive"),!0),n.updateOngoingTimeoutId=setTimeout((function(){delete n.updateOngoingTimeoutId}),4e4),this.checkDestCallTypeWithSDP(e.sdpoffer.sdp,n),U.log("processUpdate : before setRemoteDescription"),t=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpoffer),this.setRemoteDescriptionProcess(n,t),n.doUpdateAnswer();else if(Object(a.g)(e.data,"mesh","object")&&(e.data.mesh.calleeCompositeUserId?e.data.mesh.calleeCompositeUserId===this.compositeClientId:e.data.mesh.calleeId===this.clientId)){U.debug("mesh update from subscriber");var r={};"AUDIOONLY"===e.data.mediaType?r.audioOnly=!0:"VIDEOONLY"===e.data.mediaType&&(r.videoOnly=!0),this.updateCallConfigurationOnCall(e.callId,r).then((function(){U.debug("updateCallConfigurationOnCall OK")})).catch((function(e){U.error("updateCallConfigurationOnCall failed",e)}))}else U.error("update without SDP offer");else this.myWebRTC_Event.createErrorEvent("Cannot find call to process Update","CALL_NOT_FOUND_ON_UPDATE")},this.process200Update=function(e){U.info("200 Update received from :"+e.calleeId),this.setStatus("You are connected to :"+e.calleeId);var t,n=null,r=null;if(null===(n=e.callerId===this.clientId?this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.calleeId,e.data.instanceId):this.findCallWithCallIdAndRemoteIdAndInstanceId(e.callId,e.callerId,e.data.instanceId)))return U.info("Call not found on 200 Update"),void this.myWebRTC_Event.createErrorEvent("Cannot find call to process 200 Update","CALL_NOT_FOUND_ON_200UPDATE");n.calleeId=e.calleeId,t=this.mySDPManager.createGuideline(e.sdpanswer.sdp),n.setLocalCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","send"),!0),n.setRemoteCallProfile(this.evalCallProfileWithSdpGuideline(t,e.sdpanswer.sdp,"remote","receive"),!0),this.evaluateVideoCap(n),!this.rtpSenderSetParamatersCapable&&n.videoCap&&(t.video.bandwidth=n.videoCap,e.sdpanswer.sdp=t.generate()),U.log("process200Update : before setRemoteDescription"),r=new apiCC.myWebRTC_Adapter.RTCSessionDescription(e.sdpanswer),this.videoBandwidth&&(U.log("Modification of SDP to set remote video bandwidth"),r.sdp=this.mySDPManager.setVideoBandwidth(r.sdp,this.videoBandwidth)),this.setRemoteDescriptionProcess(n,r),U.log("msg.sdpanswer.sdp :",e.sdpanswer.sdp),!0===n.addingUserMedia&&(U.log("adding localvideo in mini"),this.miniVideo&&(this.miniVideo.style.opacity=1),n.addingUserMedia=!1),!0===n.updateUserMedia&&(n.updateUserMedia=!1),n.updateCause&&(n.updateCause=null)},this.processSlowLink=function(e,t){for(var n=this.callsTable.length,r=null;--n>=0;)if(this.callsTable[n].callId===e){r=this.callsTable[n];break}if(null!==r){var i=null;t&&t.advice&&(i=t.advice),this.myWebRTC_Event.createSlowLinkEvent(r.callId,i)}},this.processAudioAmplitude=function(e,t){F.createAudioAmplitudeEvent(e.descriptor.audioAmplitude,t,e.callId,e.descriptor.streamID)},this.processDistantIceError=function(e){"disconnected"===e.descriptor.iceState?this.myWebRTC_Event.createErrorEvent("distant iceDisconnection detected","DISTANT_ICE_CONNECTION_STATE_DISCONNECTED",null,e.roomId,null,e.descriptor):"failed"===e.descriptor.iceState&&F.createErrorEvent("distant iceConnection failed detected","DISTANT_ICE_CONNECTION_STATE_FAILED",null,e.roomId,null,e.descriptor)},this.processStreamTrackMuteChanged=function(e,t,n){for(var r=this.callsTable.length,i=null,a=[],o={},s={};--r>=0;)if(this.callsTable[r].callId===e){i=this.callsTable[r];break}null!==i&&("audio"===t?(i.isRemoteAudioMuted=n,a.push("audioIsMuted"),o.available=i.remoteCallProfile.audio,o.active=i.remoteCallProfile.audioActive,o.muted=i.isRemoteAudioMuted,s.available=i.remoteCallProfile.video,s.active=i.remoteCallProfile.videoActive,s.muted=i.isRemoteVideoMuted):"video"===t&&(i.isRemoteVideoMuted=n,a.push("videoIsMuted"),o.available=i.remoteCallProfile.audio,o.active=i.remoteCallProfile.audioActive,o.muted=i.isRemoteAudioMuted,s.available=i.remoteCallProfile.video,s.active=i.remoteCallProfile.videoActive,s.muted=i.isRemoteVideoMuted),a.length>0&&this.myWebRTC_Event.createRemoteStreamUpdatedEvent(a,o,s,i.destCallType,i.callId,"userAction"))},this.processUpdateStream=function(e,t,n){for(var r=this.callsTable.length,i=null;--r>=0;)if(Object(a.g)(this.callsTable[r].data,"mesh","object")&&this.callsTable[r].data.mesh.calleeCallId===e||this.callsTable[r].callId===e){i=this.callsTable[r];break}if(!i)return!1;var o=!1;return"audio"===t?"inactive"===n?"media"===i.callType&&(i.callType="videoOnly",i.updateUserMedia=!0,i.updateCause="adaptation",i.audioSdpDirection="inactive",i.establishCall(),o=!0):"videoOnly"===i.callType&&(i.callType="media",i.updateUserMedia=!0,i.updateCause="adaptation",i.audioSdpDirection=null,i.establishCall(),o=!0):"video"===t&&("inactive"===n?"media"===i.callType&&(this.evalOutgoingVideoBandwithCap(i),i.callType="audio",i.updateUserMedia=!0,i.updateCause="adaptation",i.videoSdpDirection="inactive",i.establishCall(),o=!0):"audio"===i.callType&&(this.evalOutgoingVideoBandwithCap(i),i.callType="media",i.updateUserMedia=!0,i.updateCause="adaptation",i.videoSdpDirection=null,i.establishCall(),o=!0)),o},this.processUpdateVideoQuality=function(e,t){U.debug("processUpdateVideoQuality",e,t);var n=this.findCallWithCallId(e);if(n)if(n.sessionMCU&&"mesh"!==n.sessionMCU.roomMode){var r=apiCC.getUserMediaStream(n.callConfiguration.userMediaStreamId);if(r){var i=r.getVideoTrack();if(i){var a={};t.width&&t.height&&(a.width=t.width,a.height=t.height),t.frameRate&&(a.frameRate=t.frameRate),i.applyConstraints(a).then((function(e){U.debug("processUpdateVideoQuality - applyConstraints; OK")})).catch((function(e){U.error("processUpdateVideoQuality - applyConstraints",e)}))}else U.warn("processUpdateVideoQuality - no such video track; callId:",e)}else U.warn("processUpdateVideoQuality - no such userMediaStream; callId:",e)}else U.warn("processUpdateVideoQuality - wrong roomMode; callId:",e);else U.warn("processUpdateVideoQuality - no such call; callId:",e)},this.removeAllCallsFromRoom=function(e,t){U.info("removeAllCallsFromRoom :"+e+" with reason :"+t);var n,r,i=this.callsTable.length,a=[],o={};for(n=0;n<i;n+=1)this.callsTable[n].dest_roomId==e&&(U.log("Call is attached to the room, removing ..."),o={callId:this.callsTable[n].callId},a.push(o));for(r=0;r<a.length;r+=1)this.removeCallFromTableWithCallIdAndSendBye(a[r].callId,t);a.splice(0,a.length)},this.onHangup=function(e,t){var n=null,r=null,i=null,o=null,s=[],l=!1,c=!1,u=null,d=null;if(e?"string"!=typeof e&&(e=String(e)):e=null,t?"string"!=typeof t&&(t=null):t=null,this.setStatus("<div>Your phone is registered, you can be reached at this number : "+this.clientId+"</div>"),U.info("Hanging up."),this.initMediaElementState(),null===e)U.log("Leaving all calls that are established"),this.MCUClient&&this.MCUClient.meshOnHangup(),this.removeAllCalls(),this.callControlTable.splice(0,this.callControlTable.length);else if(null!==(r=this.findUserMediaById(e))){for("janusConnector"!==this.MCUClient.pubConnector||"RTC_Setup_Timeout"!==t&&"disconnected"!==t||(i=r.getUserMediaStream())&&i.stream&&("mesh"===r.sessionMCU.roomMode?(l=!0,c=!0,u=i.stream,r.streamStolen=!0):(l=!0,u=i.stream,r.streamStolen=!0,(d=i.getCallInfo(r.userMediaId))&&(d.flavor="call"))),o=this.callsTable.length;--o>=0;)Object(a.h)(this.callsTable[o].data,"object")&&Object(a.h)(this.callsTable[o].data.mesh,"object")&&this.callsTable[o].data.mesh.calleeCallId===e&&s.push(this.callsTable[o].callId);for(o=s.length;--o>=0;)this.removeCallFromTableWithCallIdAndSendBye(s[o],t);this.MCUClient.meshOnHangup(e,null,{restart:l})}else null!==(n=this.findCallWithCallId(e))&&("janusConnector"!==this.MCUClient.pubConnector||"RTC_Setup_Timeout"!==t&&"disconnected"!==t||("publish"===n.settingUpType||"shareScreen"===n.settingUpType?n.data&&n.data.mesh||(l=!0,n.streamStolen=!0):"subscribe"===n.settingUpType&&(l=!0)),U.log("Leaving call with callId :"+e),this.removeCallFromTableWithCallIdAndSendBye(e,t));this.displayCallButtonInCommand(),!0===l?null!==n?this.restartCall(n):null!==r&&(!0===c?this.restartCall(r,{userMedia:!0,mesh:!0}):this.restartCall(r,{userMedia:!0,stream:u})):(n&&n.callControl&&this.destroyCallControl(n.callControl),this.stopMaxCallRetriesTimer(e),this.stopRestartCallTimer(e),delete this.callsRetriesTable[e])},this.stopStream=function(e){U.info("stopStream in client");var t,n=null;if("Chrome"===i.b&&i.d<45||"Firefox"===i.b&&i.d<44||"Opera"===i.b&&i.d<34||"Chromium"===i.b&&i.d<44||"Chrome WebView"===i.b&&i.d<45)e.onended=null,e.stop();else{for(e.onended=null,U.log("MediaStream.stop is now deprecated, using MediaStreamTrack.stop"),n=e.getTracks(),t=0;t<n.length;t+=1)n[t].onended=null,n[t].stop();U.log("... tracks stopped")}e=null},this.clearCallTimeouts=function(e){var t;for(U.debug("clearCallTimeouts"),0!==e.send200OKTrickleIceFalseTimeOutId&&(U.debug("clearing send200OKTrickleIceFalseTimeOutId"),clearTimeout(e.send200OKTrickleIceFalseTimeOutId),e.send200OKTrickleIceFalseTimeOutId=0),0!==e.sendInviteTrickleIceFalseTimeOutId&&(U.debug("clearing sendInviteTrickleIceFalseTimeOutId"),clearTimeout(e.sendInviteTrickleIceFalseTimeOutId),e.sendInviteTrickleIceFalseTimeOutId=0),0!==e.disconnectionTimeoutId&&(U.debug("clearing disconnectionTimeout"),clearTimeout(e.disconnectionTimeoutId),e.disconnectionTimeoutId=0),0!==e.disconnectionWarningInterval&&(U.debug("clearing disconnectionWarningInterval"),clearInterval(e.disconnectionWarningInterval),e.disconnectionWarningInterval=0),t=0;t<e.checkCandidateTypesTimeoutTable.length;t+=1)U.debug("clearing checkCandidateTypesTimeout :",e.checkCandidateTypesTimeoutTable[t]),clearTimeout(e.checkCandidateTypesTimeoutTable[t]);e.checkCandidateTypesTimeoutTable.splice(0,e.checkCandidateTypesTimeoutTable.length)},this.removeAllCalls=function(){U.info("removeAllCalls");var e,t=this.callsTable.length,n=0,r=null,i=null,o=0,s=null;for(U.log("callsNumber = "+t),e=0;e<t;e+=1){if(n=this.callsTable[e-o].callee?this.callsTable[e-o].callerId:this.callsTable[e-o].calleeId,!0===this.callsTable[e-o].callee)i="Hangup_From_Callee",this.callsTable[e-o].myWebRTC_Stack.sendBye(this.callsTable[e-o].callId,this.clientId,this.callsTable[e-o].dest_roomId,n,i,this.callsTable[e-o].data);else{if(i="Hangup_From_Caller",!0!==this.callsTable[e-o].inviteSended){this.callsTable[e-o].callCancelled=!0,U.warn("Leaving call iteration on removeAllCalls");continue}this.callsTable[e-o].myWebRTC_Stack.sendBye(this.callsTable[e-o].callId,this.clientId,this.callsTable[e-o].dest_roomId,n,i,this.callsTable[e-o].data)}Object(a.g)(this.callsTable[e-o].sessionMCU,"roomName","string")&&Object(a.g)(this.callsTable[e-o].data,"MCUType","string")&&("MCU-Caller"===this.callsTable[e-o].data.MCUType||"MCU-Callee"===this.callsTable[e-o].data.MCUType)&&this.MCUClient.leaveSession(this.callsTable[e-o].sessionMCU.roomName,{noHangup:!0}),this.callsTable[e-o].callConfiguration&&this.callsTable[e-o].callConfiguration.userMediaStreamId&&(s=apiCC.getUserMediaStream(this.callsTable[e-o].callConfiguration.userMediaStreamId))&&apiCC.releaseUserMediaStream(s.userMediaStreamId,this.callsTable[e-o].callId),null!==this.callsTable[e-o].screenStream&&(U.log("stopping screenStream"),this.stopStream(this.callsTable[e-o].screenStream),F.createUserMediaStopEvent(this.callsTable[e-o].callId,"screen")),null!==this.callsTable[e-o].pc&&(U.log("Closing PC"),this.qosEnable&&void 0!==this.callsTable[e-o].qm&&null!==this.callsTable[e-o].qm&&"function"==typeof this.callsTable[e-o].qm.saveStatsToDb&&(this.callsTable[e-o].qm.saveStatsToDb(!0),clearInterval(this.callsTable[e-o].statisticId)),this.callsTable[e-o].csmIntervalId&&clearInterval(this.callsTable[e-o].csmIntervalId),this.callsTable[e-o].pc.close(),this.callsTable[e-o].pc=null),r=this.callsTable[e-o].callId+"-"+this.callsTable[e-o].calleeId,this.removeRemoteVideoDisplay(r),this.myWebRTC_Event.createHangupEvent("local",this.clientId,this.callsTable[e-o].remoteId,!0,i,this.callsTable[e-o].callId,this.callsTable[e-o].callType),void 0!==this.callsTable[e-o].data&&null!==this.callsTable[e-o].data&&("janusConnector"===this.callsTable[e-o].data.pubSub||"MCU-Caller"!==this.callsTable[e-o].data.MCUType&&"MCU-Callee"!==this.callsTable[e-o].data.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(this.callsTable[e-o].data.confId,this.callsTable[e-o].callerId,this.callsTable[e-o].calleeId,this.callsTable[e-o].callId)),this.clearCallTimeouts(this.callsTable[e-o]),0!==this.callsTable[e-o].incomingcandidatesQueue.length&&this.callsTable[e-o].incomingcandidatesQueue.splice(0,this.callsTable[e-o].incomingcandidatesQueue.length),void 0!==this.clientIncomingCandidatesQueue[this.callsTable[e-o].callId+"-"+this.callsTable[e-o].instanceId]&&0!==this.clientIncomingCandidatesQueue[this.callsTable[e-o].callId+"-"+this.callsTable[e-o].instanceId].length&&this.clientIncomingCandidatesQueue[this.callsTable[e-o].callId+"-"+this.callsTable[e-o].instanceId].splice(0,this.clientIncomingCandidatesQueue[this.callsTable[e-o].callId+"-"+this.callsTable[e-o].instanceId].length),U.log("Removing call from table"),this.callsTable.splice(e-o,1),o+=1}},this.onRemoteHangup=function(t,n,r,i,o,s){var l=this;U.debug("onRemoteHangup");var c=null,u=null,d=null,f=null,h=!1,p=!1,m=!1,v=null,g=null;if(U.log("callId :"+t),U.log("confId :"+o),"janusConnector"===this.MCUClient.pubConnector)if("RTC_Setup_Timeout"===i||"Broken_by_MCU"===i||"disconnected"===i)if(null!=(u=null==s?this.findCallWithCallId(t):this.findCallWithCallIdAndInstanceId(t,s.instanceId))){if(u.setupTimeoutId&&(clearTimeout(u.setupTimeoutId),delete u.setupTimeoutId),!0===u.restarting)return void U.debug("call restarting");if("publish"===u.settingUpType||"shareScreen"===u.settingUpType?u.data&&u.data.mesh||(h=!0,u.streamStolen=!0):"subscribe"===u.settingUpType&&(h=!0),null!==u.sessionMCU&&"old"===u.sessionMCU.modeChangeKind)return void U.debug("onRemoteHangup ignore")}else null!==(d=this.findUserMediaById(t))?(d.close(),(f=d.getUserMediaStream())&&f.stream&&(null!==d.sessionMCU&&"old"===d.sessionMCU.modeChangeKind?(h=!0,v=f.stream,d.streamStolen=!0,d.distantCalls.length>0&&(m=!0),(g=f.getCallInfo(d.userMediaId))&&(g.flavor="call")):null!==d.sessionMCU&&"mesh"===d.sessionMCU.roomMode?(h=!0,p=!0,v=f.stream,d.streamStolen=!0):(h=!0,v=f.stream,d.streamStolen=!0,(g=f.getCallInfo(d.userMediaId))&&(g.flavor="call")))):U.debug("No call and no userMedia found");else(u=null==s?this.findCallWithCallId(t):this.findCallWithCallIdAndInstanceId(t,s.instanceId))?(u.setupTimeoutId&&(clearTimeout(u.setupTimeoutId),delete u.setupTimeoutId),"subscribe"===u.settingUpType&&(h=!0)):(d=this.findUserMediaById(t))&&d.close();if(!m)if(null!==d){var b=null,C=[];for(b=this.callsTable.length;--b>=0;)Object(a.g)(this.callsTable[b].data,"mesh","object")&&this.callsTable[b].data.mesh.calleeCallId===t&&"subscribe"!==this.callsTable[b].settingUpType&&C.push(this.callsTable[b].callId);for(b=C.length;--b>=0;)this.removeCallFromTableWithCallIdAndSendBye(C[b],i);if(this.MCUClient.meshOnHangup(t),"old"===d.sessionMCU.modeChangeKind){var y=this.MCUClient.getSessionMCU(null,{callback:function(e){return e.roomName===d.sessionMCU.roomName&&"new"===e.modeChangeKind}});y&&this.finalizeMeshToJanusTransition(d.sessionMCU,y)}}else void 0!==t?c=null==s?this.removeCallFromTableWithCallIdandRemoteId(t,n,i):this.removeCallFromTableWithCallIdandInstanceId(t,s.instanceId,i):void 0!==o&&(c=this.removeCallFromTableWithConfIdandRemoteId(o,n,i));U.log("Reason : "+i),void 0===i?this.setStatus("<div>Your partner : "+n+" have left the call. you can be reached at this number : "+this.clientId+"</div>"):(this.setStatus("<div>Call hangup with reason : "+i+". you can be reached at this number : "+this.clientId+"</div>"),U.log("Remote Hangup for reason : "+i)),u&&!0!==h?0===this.callsTable.length&&0===this.userMediaTable.length?(U.log("No more established calls for client"),this.initMediaElementState(),this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!0,i),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!0,i,t,c),this.displayCallButtonInCommand(),!0===this.getUserMediaOnGoing&&!0!==e.deactivateReloadOnCancel&&(U.log("Cancel from Remote"),"undefined"==typeof apiRTC_React&&location.reload(),this.getUserMediaOnGoing=!1)):(U.log("Other calls are still established"),this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!1,i),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!1,i,t,c)):u&&"subscribe"===u.settingUpType&&(this.myWebRTC_Event.createRemoteHangupEvent(this.clientId,n,!1,"restarted"),this.myWebRTC_Event.createHangupEvent("remote",this.clientId,n,!1,"restarted",t,c)),null!=s&&("janusConnector"===this.MCUClient.pubConnector||"MCU-Caller"!==s.MCUType&&"MCU-Callee"!==s.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(o,this.clientId,n,t)),!0===h?null!==u?this.restartCall(u):null!==d&&(!0===p?this.restartCall(d,{userMedia:!0,mesh:!0}):this.randomDelayOnRestart?(U.debug("onRemoteHangup - randomDelayOnRestart"),setTimeout((function(){l.restartCall(d,{userMedia:!0,stream:v})}),5e3*Math.random())):this.restartCall(d,{userMedia:!0,stream:v})):(u&&u.callControl&&this.destroyCallControl(u.callControl),(u||d)&&(this.stopMaxCallRetriesTimer(t),this.stopRestartCallTimer(t),delete this.callsRetriesTable[t]))},this.startMaxCallRetriesTimer=function(e){var t=this;U.debug("startMaxCallRetriesTimer for callIdWhenStartingTimer :",e);var n=setTimeout((function(){U.debug("[restartCall] MaxCallRetriesTimer reached for callIdWhenStartingTimer :",e),t.callsRetriesTable[e].allowedStatus=!1,delete t.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId}),this.maxCallsRetriesDuration);this.callsRetriesTable[e]={},this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId=n},this.stopMaxCallRetriesTimer=function(e){U.debug("stopMaxCallRetriesTimer for callId :",e),void 0!==this.callsRetriesTable[e]&&void 0!==this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId&&(clearTimeout(this.callsRetriesTable[e].maxCallsRetriesDurationTimeOutId),U.debug("[restartCall] MaxCallRetriesTimer cleared for callId :",e),delete this.callsRetriesTable[e])},this.stopRestartCallTimer=function(e){U.debug("stopRestartCallTimer for callId :",e),void 0!==this.callsRetriesTable[e]&&void 0!==this.callsRetriesTable[e].restartCallTimeOutId&&(clearTimeout(this.callsRetriesTable[e].restartCallTimeOutId),U.error("[restartCall] RestartCallTimer cleared for callId :",e),delete this.callsRetriesTable[e].restartCallTimeOutId)},this.restartCall=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U.debug("[restartCall] restartCall for callId :",e.callId);var r=-1;if(!0!==n.userMedia)if(e.callControl&&e.callControl.autoRestart)if(0===(r=e.callControl.autoRestart.counter)&&(e.callControl.autoRestart.callIdWhenStartingTimer=e.callId,this.startMaxCallRetriesTimer(e.callId)),void 0!==this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&void 0===this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].allowedStatus){U.debug("[restartCall] ... for callIdWhenStartingTimer :",e.callControl.autoRestart.callIdWhenStartingTimer),U.debug("AutoRestartCounter :",r),U.debug("Calling restartCallProcess in :",this.restartCallDelay*Math.pow(2,r));var i=setTimeout((function(){U.debug("Timer reached for restartCall"),delete e.callControl.autoRestart.pending,t.restartCallProcess(e,n),void 0!==t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&void 0!==t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId&&delete t.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId}),this.restartCallDelay*Math.pow(2,r));e.callControl.autoRestart.pending=!0,this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer].restartCallTimeOutId=i}else U.warn("CALL_ABORTED, retries not allowed (maxCallsRetriesDuration reached) for callIdWhenStartingTimer :",e.callControl.autoRestart.callIdWhenStartingTimer),this.destroyCallControl(e.callControl),F.createErrorEvent("call aborted after calls retries (maxCallsRetriesDuration reached)","CALL_ABORTED",e.callId,e.callControl.roomName),void 0!==this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer]&&delete this.callsRetriesTable[e.callControl.autoRestart.callIdWhenStartingTimer];else U.debug("[restartCall] autoRestart options not defined");else this.restartCallProcess(e,n)},this.restartCallProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U.debug("restartCallProcess ");var n=!1,r=!1,i=null;if(!0!==e.restarting){if(e.restarting=!0,!0===t.userMedia&&(n=!0),!0===t.mesh&&(r=!0),!0===n)if(!0===r)"screenSharing"===e.callType||"screenSharingWithAudio"===e.callType?(e.restarting=!1,this.userMediaTable.push(e),this.MCUClient.meshOnScreenMediaSuccess(e)):(e.restarting=!1,this.userMediaTable.push(e),this.MCUClient.meshOnUserMediaSuccess(e));else if("screenSharing"===e.callType||"screenSharingWithAudio"===e.callType){delete e.data.meshPublish,e.data.type="publish";var o=this.createCallControl({type:"shareScreen",callId:e.userMediaId,roomName:e.roomId,callConfiguration:e.callConfiguration,data:e.data});o.captureSourceType=e.captureSourceType,o.autoRestart.counter=0,o.autoRestart.stream=t.stream,this.shareScreen(e.roomId,e.data,e.captureSourceType,e.callConfiguration,{callControl:o}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.userMediaId,e.userMediaId,"publish",this.clientId,e.roomId,e.roomId,null)}else{delete e.data.meshPublish;var s=this.createCallControl({type:"publish",callId:e.userMediaId,callType:e.callType,roomName:e.roomId,callConfiguration:e.callConfiguration,data:e.data});s.audioOnly="audio"===e.callType,s.sessionId=e.sessionId,s.token=e.token,s.autoRestart.counter=0,s.autoRestart.stream=t.stream,this.MCUClient.publish(e.roomId,e.sessionId,e.token,e.callConfiguration,e.data,{callControl:s}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,"audio"===e.callType,e.userMediaId,e.userMediaId,"publish",this.clientId,e.roomId,e.roomId,null)}else if("publish"===e.settingUpType)Object(a.h)(e.callControl,"object")?(U.debug("[restartCall] restarting call publish"),this.MCUClient.publish(e.callControl.roomName,e.callControl.sessionId,e.callControl.token,e.callControl.callConfiguration,e.callControl.data,{callControl:e.callControl}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.callId,e.callId,"publish",this.clientId,e.callControl.roomName,e.callControl.roomName,null)):U.warn("[restartCall] cannot auto restart; missing info");else if("shareScreen"===e.settingUpType)Object(a.h)(e.callControl,"object")?(U.debug("[restartCall] restarting call shareScreen"),this.shareScreen(e.callControl.roomName,e.callControl.data,e.callControl.captureSourceType,e.callControl.callConfiguration,{callControl:e.callControl}),this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,e.callId,e.callId,"publish",this.clientId,e.callControl.roomName,e.callControl.roomName,null)):U.warn("[restartCall] cannot auto restart; missing info");else if("subscribe"===e.settingUpType&&(U.debug("[restartCall] restarting call subscribe"),i=!0===e.mcuRemoteStream.replay?this.MCUClient.getStreamOfUserCall(e.mcuRemoteStream.attributes.callerId,e.mcuRemoteStream.attributes.callId,{replay:!0}):this.MCUClient.getStreamOfUserCall(e.mcuRemoteStream.attributes.callerId,e.mcuRemoteStream.attributes.callId),Object(a.h)(e.callControl,"object")&&i)){U.debug("[restartCall] stream exists, subscribing to it");var l=!!e.callControl.autoRestart.force;delete e.callControl.autoRestart.force;var c=e.callControl.callId,u=this.MCUClient.subscribeToStreams([i],e.callControl.mediaType,e.callControl.data,e.callControl.callConfiguration,{noStreamCheck:!0,autoSub:!0,force:l});c&&u[0]&&this.myWebRTC_Event.createCallRestartingEvent(e.callType,e.audioOnly,c,u[0],"subscribe",this.clientId,e.callControl.roomName,e.callControl.roomName,i.id)}}else U.debug("[restartCall] call already restarting")},this.closingCallProcess=function(e,t){U.log("Session terminated.");var n=null;Object(a.g)(this.callsTable[e].sessionMCU,"roomName","string")&&Object(a.g)(this.callsTable[e].data,"MCUType","string")&&("MCU-Caller"===this.callsTable[e].data.MCUType||"MCU-Callee"===this.callsTable[e].data.MCUType)&&this.MCUClient.leaveSession(this.callsTable[e].sessionMCU.roomName),this.callsTable[e].callConfiguration&&this.callsTable[e].callConfiguration.userMediaStreamId&&!0!==this.callsTable[e].streamStolen&&(n=apiCC.getUserMediaStream(this.callsTable[e].callConfiguration.userMediaStreamId))&&apiCC.releaseUserMediaStream(n.userMediaStreamId,this.callsTable[e].callId),null!==this.callsTable[e].screenStream&&(U.log("stopping screenStream"),this.stopStream(this.callsTable[e].screenStream),F.createUserMediaStopEvent(this.callsTable[e].callId,"screen")),null!==this.callsTable[e].pc&&(U.log("Closing PC"),this.qosEnable&&void 0!==this.callsTable[e].qm&&null!==this.callsTable[e].qm&&"function"==typeof this.callsTable[e].qm.saveStatsToDb&&(this.callsTable[e].qm.saveStatsToDb(!0),clearInterval(this.callsTable[e].statisticId)),this.callsTable[e].csmIntervalId&&clearInterval(this.callsTable[e].csmIntervalId),this.callsTable[e].beginTimeoutId&&(clearTimeout(this.callsTable[e].beginTimeoutId),delete this.callsTable[e].beginTimeoutId),this.callsTable[e].dcfs?"Ice_failed"===t?this.callsTable[e].dcfs.failure="iceFailed":this.callsTable[e].dcfs.canceled=!0:"data"===this.callsTable[e].callType&&"dataChannelConnector"===this.callsTable[e].calleeId&&(this.callsTable[e].failure||this.callsTable[e].success||setTimeout((function(e,t){F.createEvent({eventType:"onFileSended",callId:e.callId,remoteId:e.remoteId,name:e.data.filename,error:t}),e.callbacks&&e.callbacks.failure&&e.callbacks.failure(t)}),0,this.callsTable[e],"Ice_failed"===t?"iceFailed":"canceled")),this.callsTable[e].pc.close(),this.callsTable[e].pc=null)},this.removeCallProcess=function(e){var t,n=this,r=this.callsTable[e];this.clearCallTimeouts(r),0!==r.incomingcandidatesQueue.length&&r.incomingcandidatesQueue.splice(0,r.incomingcandidatesQueue.length),void 0!==this.clientIncomingCandidatesQueue[r.callId+"-"+r.instanceId]&&0!==this.clientIncomingCandidatesQueue[r.callId+"-"+r.instanceId].length&&this.clientIncomingCandidatesQueue[r.callId+"-"+r.instanceId].splice(0,this.clientIncomingCandidatesQueue[r.callId+"-"+r.instanceId].length),U.log("Removing call from table"),this.callsTable.splice(e,1),U.log("this.callsTable.length :",this.callsTable.length),U.log("Call is terminated"),setTimeout((function(){n.startNextPushData()})),t=this.callsTable.length,this.miniVideo&&0!==t&&(U.log("calling attachMediaStream"),apiCC.attachMediaStream(this.miniVideo,this.callsTable[0].callLocalStream)),this.evalOutgoingVideoBandwithCap()},this.removeCallFromTableWithCallIdAndSendBye=function(e,t){U.debug("removeCallFromTableWithCallIdAndSendBye()",e);var n,r=null,i=null;if(-1!==(n=this.findCallIndexWithCallId(e))){if(this.closingCallProcess(n,t),r=this.callsTable[n].callId+"-"+this.callsTable[n].calleeId,this.removeRemoteVideoDisplay(r),this.callsTable[n].callee?(i=this.callsTable[n].callerId,null===t&&(t="Hangup_From_Callee")):(i=this.callsTable[n].calleeId,null===t&&(t="Hangup_From_Caller")),U.log("reason is :"+t),"LOCAL"!==this.callsTable[n].calleeId){var a=apiCC.session.getConnectedUserInfo(this.callsTable[n].calleeId,"userData"),o=null;if("User_Not_Found"!==a)try{o=JSON.parse(a)}catch(e){U.error("userInfo parse fail",a)}null!=o&&"true"===o.isSimulated?apiCC.session.channel.socket.emit("simulatedAgentCancelCallRequest",{number:this.callsTable[n].calleeId,callId:e}):this.callsTable[n].myWebRTC_Stack.sendBye(this.callsTable[n].callId,this.clientId,this.callsTable[n].dest_roomId,i,t,this.callsTable[n].data)}"Broken_by_MCU"!==t&&this.myWebRTC_Event.createHangupEvent("local",this.clientId,this.callsTable[n].remoteId,!0,t,this.callsTable[n].callId,this.callsTable[n].callType),void 0!==this.callsTable[n].data&&null!==this.callsTable[n].data&&("janusConnector"===this.callsTable[n].data.pubSub||"MCU-Caller"!==this.callsTable[n].data.MCUType&&"MCU-Callee"!==this.callsTable[n].data.MCUType||this.myWebRTC_Event.createRecordedStreamsAvailableEvent(this.callsTable[n].data.confId,this.callsTable[n].callerId,this.callsTable[n].calleeId,this.callsTable[n].callId)),this.removeCallProcess(n)}else U.log("No call removed");this.MCUClient.publishCallId===e&&(this.publishCallId=null)},this.removeCall=function(e){U.info("removeCall");var t=null,n=null;return-1!==e?(this.closingCallProcess(e,null),0!==this.callsTable[e].disconnectionWarningTimeout&&(U.debug("clearing disconnectionWarningTimeout"),clearTimeout(this.callsTable[e].disconnectionWarningTimeout),this.callsTable[e].disconnectionWarningTimeout=0),t=this.callsTable[e].callId+"-"+this.callsTable[e].calleeId,this.removeRemoteVideoDisplay(t),n=this.callsTable[e].callType,this.removeCallProcess(e)):U.debug("No call removed"),n},this.removeCallFromTableWithConfIdandRemoteId=function(e,t,n){var r;return U.debug("removeCallFromTableWithConfIdandRemoteId() with reason :"+n),n=null,r=this.findCallIndexWithConfIdAndRemoteId(e,t),this.removeCall(r)},this.removeCallFromTableWithCallIdandRemoteId=function(e,t,n){var r;return U.debug("removeCallFromTableWithCallIdandRemoteId() with reason :"+n),U.log("callId :"+e),U.log("remoteId :"+t),n=null,r=this.findCallIndexWithCallIdAndRemoteId(e,t),this.removeCall(r)},this.removeCallFromTableWithCallIdandInstanceId=function(e,t,n){var r;return U.debug("removeCallFromTableWithCallIdandInstanceId() with reason :"+n),U.log("callId :"+e),U.log("instanceId :"+t),n=null,r=this.findCallIndexWithCallIdAndInstanceId(e,t),this.removeCall(r)},this.transitionToActive=function(){U.debug("transitionToActive"),this.remoteVideo&&(this.remoteVideo.style.opacity=1),setTimeout(this.callback(this,"callback2"),1e3)},this.callback2=function(){this.miniVideo&&(this.miniVideo.style.opacity=1)},this.initMediaElementState=function(){!1===this.autoAnswer?this.localVideo&&(this.localVideo.style.opacity=0,this.localVideo.src=""):this.localVideo&&(this.localVideo.style.opacity=1),this.remoteVideo&&(this.remoteVideo.style.opacity=0,this.remoteVideo.src=""),this.miniVideo&&(this.miniVideo.style.opacity=0),!0===this.autoAnswer?U.log("autoAnswer Activated : localStream is not stopped"):this.miniVideo&&(this.miniVideo.src="")},this.toggleVideoMute=function(e){U.debug("toggleVideoMute");var t,n=this.callsTable.length,r=0,i=null,a=null;if(null==e){for(U.debug("no callId defined, toggleVideoMute all local video"),this.isVideoMuted?null!==this.localStream&&(U.debug("localStream unMuteTracks"),this.unMuteTracks(this.localStream.getVideoTracks())):null!==this.localStream&&(U.debug("localStream muteTracks"),this.muteTracks(this.localStream.getVideoTracks())),this.isVideoMuted=!this.isVideoMuted,t=0;t<n;t+=1)this.callsTable[t].data&&this.callsTable[t].data.mesh||(a=null,this.callsTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[t].callConfiguration.userMediaStreamId)),a?a.videoMuted?a.unMuteVideoOnStreams():a.muteVideoOnStreams():null!==this.callsTable[t].callLocalStream&&(this.callsTable[t].isLocalVideoMuted?(U.debug("unmuting call :",this.callsTable[t].callId),this.unMuteTracks(this.callsTable[t].callLocalStream.getVideoTracks())):(U.debug("muting call :",this.callsTable[t].callId),this.muteTracks(this.callsTable[t].callLocalStream.getVideoTracks())),this.callsTable[t].isLocalVideoMuted=!this.callsTable[t].isLocalVideoMuted));for(n=this.userMediaTable.length,t=0;t<n;t+=1)a=null,this.userMediaTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.userMediaTable[t].callConfiguration.userMediaStreamId)),a&&(a.videoMuted?a.unMuteVideoOnStreams():a.muteVideoOnStreams());return{muteState:this.isVideoMuted,callId:"ALL"}}return U.debug("callId is defined :",e),(r=this.findCallIndexWithCallId(e))>=0?(this.callsTable[r].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[r].callConfiguration.userMediaStreamId)),a?(a.videoMuted?a.unMuteVideoOnStreams():a.muteVideoOnStreams(),{muteState:a.videoMuted,callId:e}):null!==this.callsTable[r].callLocalStream?(this.callsTable[r].isLocalVideoMuted?(U.debug("unmuting call :",this.callsTable[r].callId),this.unMuteTracks(this.callsTable[r].callLocalStream.getVideoTracks())):(U.debug("muting call :",this.callsTable[r].callId),this.muteTracks(this.callsTable[r].callLocalStream.getVideoTracks())),this.callsTable[r].isLocalVideoMuted=!this.callsTable[r].isLocalVideoMuted,{muteState:this.callsTable[r].isLocalVideoMuted,callId:e}):{muteState:"STREAM_NOT_FOUND",callId:e}):(i=this.findUserMediaById(e))&&(i.callConfiguration&&(a=apiCC.getUserMediaStream(i.callConfiguration.userMediaStreamId)),a)?(a.videoMuted?a.unMuteVideoOnStreams():a.muteVideoOnStreams(),{muteState:a.videoMuted,callId:e}):{muteState:"CALL_NOT_FOUND",callId:e}},this.unMuteTracks=function(e){var t;if(0!==e.length){for(t=0;t<e.length;t+=1)e[t].enabled=!0;U.log("tracks unMuted.")}else U.log("No tracks available.")},this.muteTracks=function(e){var t;if(0!==e.length){for(t=0;t<e.length;t+=1)e[t].enabled=!1;U.log("tracks muted.")}else U.log("No tracks available.")},this.toggleAudioMute=function(e){U.debug("toggleAudioMute");var t,n=this.callsTable.length,r=0,i=null,a=null;if(null==e){for(U.debug("no callId defined, toggleAudioMute all local audio"),this.isAudioMuted?null!==this.localStream&&(U.debug("localStream unMuteTracks"),this.unMuteTracks(this.localStream.getAudioTracks())):null!==this.localStream&&(U.debug("localStream muteTracks"),this.muteTracks(this.localStream.getAudioTracks())),this.isAudioMuted=!this.isAudioMuted,t=0;t<n;t+=1)this.callsTable[t].data&&this.callsTable[t].data.mesh||(a=null,this.callsTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[t].callConfiguration.userMediaStreamId)),a?a.audioMuted?a.unMuteAudioOnStreams():a.muteAudioOnStreams():null!==this.callsTable[t].callLocalStream&&(this.callsTable[t].isLocalAudioMuted?(U.debug("unmuting call :",this.callsTable[t].callId),this.unMuteTracks(this.callsTable[t].callLocalStream.getAudioTracks())):(U.debug("muting call :",this.callsTable[t].callId),this.muteTracks(this.callsTable[t].callLocalStream.getAudioTracks())),this.callsTable[t].isLocalAudioMuted=!this.callsTable[t].isLocalAudioMuted));for(n=this.userMediaTable.length,t=0;t<n;t+=1)a=null,this.userMediaTable[t].callConfiguration&&(a=apiCC.getUserMediaStream(this.userMediaTable[t].callConfiguration.userMediaStreamId)),a&&(a.audioMuted?a.unMuteAudioOnStreams():a.muteAudioOnStreams());return{muteState:this.isAudioMuted,callId:"ALL"}}return U.debug("callId is defined :",e),(r=this.findCallIndexWithCallId(e))>=0?(this.callsTable[r].callConfiguration&&(a=apiCC.getUserMediaStream(this.callsTable[r].callConfiguration.userMediaStreamId)),a?(a.audioMuted?a.unMuteAudioOnStreams():a.muteAudioOnStreams(),{muteState:a.audioMuted,callId:e}):null!==this.callsTable[r].callLocalStream?(this.callsTable[r].isLocalAudioMuted?(U.debug("unmuting call :",this.callsTable[r].callId),this.unMuteTracks(this.callsTable[r].callLocalStream.getAudioTracks())):(U.debug("muting call :",this.callsTable[r].callId),this.muteTracks(this.callsTable[r].callLocalStream.getAudioTracks())),this.callsTable[r].isLocalAudioMuted=!this.callsTable[r].isLocalAudioMuted,{muteState:this.callsTable[r].isLocalAudioMuted,callId:e}):{muteState:"STREAM_NOT_FOUND",callId:e}):(i=this.findUserMediaById(e))&&(i.callConfiguration&&(a=apiCC.getUserMediaStream(i.callConfiguration.userMediaStreamId)),a)?(a.audioMuted?a.unMuteAudioOnStreams():a.muteAudioOnStreams(),{muteState:a.audioMuted,callId:e}):{muteState:"CALL_NOT_FOUND",callId:e}},this.sendDTMF=function(e,t,n,r){U.debug("sendDTMF");var i=0;null!=e?(U.debug("callId is defined :",e),i=this.findCallIndexWithCallId(e),U.debug("index :",i),i>=0&&(U.debug("index :",i),this.callsTable[i].sendTones(t,n,r))):U.debug("no callId defined, leaving sendDTMF")},this.xhr=function(e,t,n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&n(i.responseText)},void 0!==r&&(i.upload.onprogress=r),i.open("POST",e),i.send(t)},this.takeSnapshot=function(e,n,r,i,a,o,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};U.info("takeSnapshot");var c,u=null,d=null,f=document.createElement("canvas"),h=null,p=null,m=(new Date).toJSON().replace(new RegExp(":","g"),"-"),v=null;switch(i){case"Desactivated":c=0;break;case"Low":c=2;break;case"Medium":c=4;break;case"High":c=6;break;default:U.log("blurLevel not defined switch case : "+i),c=0}if(void 0!==s){if(U.log("takeSnapshot of defined video Id :"+s),null===(v=document.getElementById(s)))return U.log("Cannot find video with Id :"+s),U.log("Leaving takeSnapshot"),void this.myWebRTC_Event.createErrorEvent("localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT")}else if(U.warn("ApiRTC DEPRECATED : Please add videoId for TakeSnapshot"),null!==this.localVideo)v=this.localVideo,U.log("using localVideo for takeSnapshot");else{if(null===(v=document.getElementById("myLocalVideo")))return U.log("Cannot find video with Id : myLocalVideo"),void this.myWebRTC_Event.createErrorEvent("localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT");U.log("using Video with Id : myLocalVideo for takeSnapshot")}f.width=v.videoWidth,f.height=v.videoHeight,l.hasOwnProperty("width")&&(U.debug("options.width is set :"+l.width),f.width=l.width),l.hasOwnProperty("height")&&(U.debug("options.height is set :"+l.height),f.height=l.height),U.log("snapshot.width : "+f.width),U.log("snapshot.height :"+f.height),(u=f.getContext("2d")).drawImage(v,0,0,f.width,f.height),(d=document.createElement("img")).src=f.toDataURL("image/png"),d.style.padding=5,d.width=f.width,d.height=f.height,0!==c?(U.log("Adding Blur on Photo"),h=u.getImageData(0,0,f.width,f.height),U.log("av pixels data : "+h.data),h=t(d,h,c),U.log("ap pixels data : "+h.data),u.putImageData(h,0,0),d.src=f.toDataURL("image/png")):U.log("blur on photo is desactivated"),"object"===L(n)?null!==n?n.src=d.src:U.log("localPhotoIdOrDiv is null"):null!==document.getElementById(n)?document.getElementById(n).src=d.src:U.log("localPhotoId is not defined"),p=new FormData,void 0!==a?(U.log("sessionId !== undefined :"+a),p.append("destFileName",this.clientId+"-"+m+".png"),p.append("data",f.toDataURL("image/png")),p.append("sessionId",a)):(U.log("Upload on data1"),p.append("photo",f.toDataURL("image/png")),p.append("clientId",this.clientId),p.append("apiKey",apiCC.session.apiKey)),this.xhr(e,p,(function(e){if(U.log("fileName :",e),null!==e)try{var t=JSON.parse(e);"OK"===t.resultCode&&(U.log("files loaded, filename :"+t.fileUrl),F.createSnapShotPhotoUploaded(t.fileUrl))}catch(e){U.log("Parsing error:",e)}"Photo received"!==e&&"An error occurred."!==e&&"Photo-"!==e.substring(0,6)||F.createSnapShotPhotoUploaded(e)}),o)},this.takeSnapshotAndSendOnDataChannel=function(e,t,n,r){U.info("takeSnapshotAndSendOnDataChannel");var i,a=null,o=document.createElement("canvas"),s=null;if(void 0!==t){if(U.log("takeSnapshot of defined video Id :"+t),null===(s=document.getElementById(t)))return U.log("Cannot find video with Id :"+t),U.log("Leaving takeSnapshot"),void this.myWebRTC_Event.createErrorEvent("localVideo Div Name is not correct for takeSnapshot","INCORRECT_VIDEOID_FOR_SNAPSHOT")}else U.warn("ApiRTC DEPRECATED : Please add videoId for TakeSnapshot");null!=s&&(o.width=s.clientWidth,o.height=s.clientHeight),U.log("snapshot.width : "+o.width),U.log("snapshot.height :"+o.height),o.getContext("2d").drawImage(s,0,0,o.width,o.height),(a=document.createElement("img")).src=o.toDataURL("image/png"),a.style.padding=5,a.width=o.width,a.height=o.height,"object"===L(e)?null!==e?e.src=a.src:U.log("localPhotoIdOrDiv is null"):null!==document.getElementById(e)?document.getElementById(e).src=a.src:U.log("localPhotoId is not defined"),i=o.toDataURL("image/png"),this.sendDataWithCallId(n,{file:i,name:"nomFichier",type:"image/png-dataUrl"},r)},this.callWithNumber=function(e,t,n,r){U.info("Click on Call Button, video activated : "+t),U.log("callConfiguration : ",r);var o=null,s=0,l=null,c=null,u=null,d=null,f=null;if("number"==typeof e&&(U.log("called number type is number, converting to string"),e=e.toString()),""!==e&&e!==this.clientId){if(this.setStatus("Calling Destination number :"+e),(o=new S(this)).instanceId=apiCC.generateInstanceId(),U.log("Calling destination number :"+e),null==r||void 0===r.apzcallId||null===r.apzcallId?o.generateCallId():o.callId=r.apzcallId,!0===apiCC.isSIPNumber(e)?(U.log("Prefix 0 , + , or 'sip:' detected, calling a SIP device"),!0===e.toString().startsWith("sip:")&&(e=e.toString().replace("sip:",""),U.log("called SIP number is :",e)),null!=n?n.pubSub="sipConnector":(n={}).pubSub="sipConnector",o.trickleIce=!1):U.log("Establishing Web call"),o.callerId=this.clientId,o.calleeId=e,o.dest_roomId=e,o.audioOnly=!t,o.remoteId=e,o.callConfiguration=r,null!=r?("VIDEO"===r.mediaTypeForOutgoingCall||"AUDIO"===r.mediaTypeForOutgoingCall||"VIDEOONLY"===r.mediaTypeForOutgoingCall||"NONE"===r.mediaTypeForOutgoingCall?(U.log("Setting mediaTypeForOutgoingCall :"+r.mediaTypeForOutgoingCall),o.mediaTypeForOutgoingCall=r.mediaTypeForOutgoingCall):(U.log("mediaTypeForOutgoingCall is not set"),!1===t&&(U.log("videoActivated is false, setting mediaTypeForOutgoingCall to AUDIO"),o.mediaTypeForOutgoingCall="AUDIO")),void 0!==r.mediaRoutingMode&&null!==r.mediaRoutingMode&&o.setCallMediaRoutingMode(r.mediaRoutingMode),void 0!==r.turnServerAddress&&null!==r.turnServerAddress&&o.setCallTurnServer(r.turnServerAddress),!0!==r.preferVP9Codec&&!1!==r.preferVP9Codec||(o.preferVP9Codec=r.preferVP9Codec),r.hasOwnProperty("forceCallType")&&(o.callType=r.forceCallType,"screenSharing"!==o.callType&&"screenSharingWithAudio"!==o.callType||(o.screenSharing=!0))):U.log("callConfiguration is not set"),void 0!==n&&void 0!==n.MCUType&&("MCU-Caller"!==n.MCUType&&"MCU-Callee"!==n.MCUType||("janusConnector"===this.MCUClient.pubConnector&&"Firefox"===i.b&&(i.d>43?o.mediaConstraints={offerToReceiveAudio:!1,offerToReceiveVideo:!1}:o.mediaConstraints={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}}),n.pubSub=this.MCUClient.pubConnector,n.videoBandwidthSettings=this.videoBandwidthSettings,"groupKurentoConnector"===n.pubSub&&(n.pubSub="kurentoConnector"))),o.checkDTLSCompliancy(),l=o.callId,c=apiCC.session.getConnectedUserInfo(e,"userData"),U.log("userInfo :",c),"User_Not_Found"!==c&&void 0!==c&&void 0!==(u=JSON.parse(c))&&"true"===u.react&&(U.log("userInfoJson.react :",JSON.stringify(u.react)),U.log("userInfoJson.osName :",JSON.stringify(u.osName)),"iOS"===u.osName&&(U.log("Callee : React and iOS detected, setting H264 as preferred codec for the call"),o.preferH264Codec=!0)),!0===o.audioOnly&&(o.callType="audio"),void 0!==n?o.data=n:n={},n.convId&&(n.cloudConvId||(n.cloudConvId=n.convId),delete n.convId),!0===n.dataCall&&(o.dataCall=!0),o.data.instanceId=o.instanceId,s=this.callsTable.push(o),U.log("Call Number is :"+s),o.data&&"MCU-Caller"===o.data.MCUType&&"NONE"===o.mediaTypeForOutgoingCall)return o.inviteSended=!0,o.myWebRTC_Stack.sendInvite(o.callId,o.callerId,this.nickname,o.dest_roomId,o.dest_roomId,{type:"no-offer"},"none",o.data),o.callId;o.data&&"MCU-Caller"===o.data.MCUType&&(o.settingUpType="publish",o.callControl=this.createCallControl({type:"publish",callId:o.callId,roomName:o.data.confId,callConfiguration:o.callConfiguration,data:o.data}),o.callControl.sessionId=o.data.confId,o.callControl.token=o.data.confId,o.callControl.autoRestart.counter=0,o.setMediaConstraintsToSendOnlyOffer()),Object(a.g)(r,"userMediaStreamId","string")&&(f=r.userMediaStreamId),null!=u&&"true"===u.isSimulated?apiCC.session.channel.socket.emit("simulatedAgentCallRequest",{number:e,call:o,videoActivated:t,data:n,callConfiguration:{apzcallId:o.callId}}):!0===this.accessToLocalMedia&&!0===this.autoAnswer||o.dataCall||f?o.dataCall?(U.log("Datachannel call"),o.establishCall()):(U.log("callWithNumber :: User has already granted access to local media and AutoAnswer activated : establishing call"),f?((d=apiCC.getUserMediaStream(f)).addCallInfo(o.callId),void 0!==o.callConfiguration&&null!==o.callConfiguration||(o.callConfiguration={}),o.callConfiguration.userMediaStreamId=d.userMediaStreamId,o.onUserMediaSuccessOnCall(d.stream)):o.establishCall()):"MCU-Callee"===n.MCUType&&!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?U.log("Stand-by :: wait for AcceptCall on recorded 1to1 call"):o.getUserMediaOnCall(),!0===this.autoAnswer&&this.displayHangUpButtonInCommand()}else this.setStatus("Dialed call number is not correct :"+e+".you can be reached at this number : "+this.clientId),U.log("Call Number is incorrect");return l},this.startTestCall=function(e,t){U.info("startTestCall : video activated : "+e);var n,r,i=null,a=null,o={};return this.setStatus("Starting test call."),(i=new S(this)).generateCallId(),i.instanceId=apiCC.generateInstanceId(),i.callerId=this.clientId,i.calleeId=12345,i.dest_roomId=12345,i.audioOnly=!e,i.remoteId=12345,i.callConfiguration=t,null!=t?("VIDEO"===t.mediaTypeForOutgoingCall||"AUDIO"===t.mediaTypeForOutgoingCall||"VIDEOONLY"===t.mediaTypeForOutgoingCall||"NONE"===t.mediaTypeForOutgoingCall?(U.log("Setting mediaTypeForOutgoingCall :"+t.mediaTypeForOutgoingCall),i.mediaTypeForOutgoingCall=t.mediaTypeForOutgoingCall):U.log("mediaTypeForOutgoingCall is not set"),void 0!==t.mediaRoutingMode&&null!==t.mediaRoutingMode&&i.setCallMediaRoutingMode(t.mediaRoutingMode),void 0!==t.turnServerAddress&&null!==t.turnServerAddress&&i.setCallTurnServer(t.turnServerAddress),!0!==t.preferVP9Codec&&!1!==t.preferVP9Codec||(i.preferVP9Codec=t.preferVP9Codec)):(U.log("callConfiguration is not set"),t={}),i.checkDTLSCompliancy(),r=i.callId,o.pubSub="testCallKurentoConnector",i.data=o,i.data.instanceId=i.instanceId,!0===i.audioOnly&&(i.callType="audio"),n=this.callsTable.push(i),U.log("Call Number is :"+n),!0===this.accessToLocalMedia&&!0===this.autoAnswer||i.dataCall||t.userMediaStreamId||apiCC.userMediaStreamTable.length>0?i.dataCall?(U.log("Datachannel call"),i.establishCall()):(U.log("startTestCall :: User has already granted access to local media and AutoAnswer activated : establishing call"),t.userMediaStreamId?((a=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(i.callId),void 0!==i.callConfiguration&&null!==i.callConfiguration||(i.callConfiguration={}),i.callConfiguration.userMediaStreamId=a.userMediaStreamId,i.callLocalStream=a.stream,i.establishCall()):apiCC.userMediaStreamTable.length>0?((a=apiCC.userMediaStreamTable[0]).addCallInfo(i.callId),void 0!==i.callConfiguration&&null!==i.callConfiguration||(i.callConfiguration={}),i.callConfiguration.userMediaStreamId=a.userMediaStreamId,i.callLocalStream=a.stream,i.establishCall()):i.establishCall()):i.getUserMediaOnCall(),!0===this.autoAnswer&&this.displayHangUpButtonInCommand(),r},this.extensionInstallationSuccessCallback=function(){U.debug("extensionInstallationSuccessCallback"),apiCC.session.apiCCWebRTCClient.webRTCClient.apiRTCExtensionInstalled=!0},this.extensionInstallationFailureCallback=function(e,t){U.debug("extensionInstallationFailureCallback : Error :"+e+", "+t),e=null,t=null,F.createDesktopCaptureEvent("Extension_installation_Error",this.waitingShareScreenCallId,this.waitingShareScreenDestNumber,this.waitingCaptureSourceType),this.setStatus('Inline extension installation is not possible, please install extension using following link: <a href="https://chrome.google.com/webstore/detail/apizee-desktop-capture/mjjnofoemoepfididplbfimokpnpcoeg?hl=fr" target="_blank">ApiRTC desktopCapture extension</a>')},this.manageNotInstalledExtension=function(e,t,n){U.debug("manageNotInstalledExtension"),this.setStatus("ApiRTC extension need to be installed to enable screen sharing.<br>You can be reached at this number : "+this.clientId),U.warn("apiRTC extension not installed"),F.createDesktopCaptureEvent("Extension_not_installed",e,t),U.warn("Starting apiRTC extension installation"),this.waitingShareScreenDestNumber=t,this.waitingShareScreenCallId=e,this.waitingCaptureSourceType=n,chrome.webstore.install("https://chrome.google.com/webstore/detail/mjjnofoemoepfididplbfimokpnpcoeg",this.callback(this,"extensionInstallationSuccessCallback"),this.callback(this,"extensionInstallationFailureCallback"))},this.shareScreen=function(e,t,n,r,i){U.info("shareScreen");var o=null,s=null,l=null,c=null;if(!0===apiCC.isScreenSharingCompliant())if(""!==e&&e!==this.clientId){if(null!==t&&"object"===L(t)||(t={}),"janusConnector"===this.MCUClient.pubConnector&&!t.mesh&&i&&i.callControl&&i.callControl.callId&&this.findCallWithCallId(i.callControl.callId))return U.debug("call already exists",i.callControl.callId),i.callControl.callId;if(null!==r&&"object"===L(r)||(r={}),null!==r.qos&&"object"===L(r.qos)?(t.qos={},"excellent"===r.qos.videoMinQuality?t.qos.videoMinQuality="excellent":"good"===r.qos.videoMinQuality?t.qos.videoMinQuality="good":"medium"===r.qos.videoMinQuality?t.qos.videoMinQuality="medium":(r.qos.videoMinQuality,t.qos.videoMinQuality="bad"),!0===r.qos.videoForbidInactive&&(t.qos.videoForbidInactive=!0)):t.qos={videoMinQuality:"bad"},["audioLabels","videoLabels"].forEach((function(e){Object(a.h)(r[e],"array")&&(t[e]=[],r[e].forEach((function(n){Object(a.h)(n,"string")&&t[e].push(n)})))})),Object(a.h)(r,"context","object"))try{JSON.stringify(r.context),t.context=r.context}catch(e){}U.log("shareScreen; callConfiguration: "+JSON.stringify(r)),s=new S(apiCC.session.apiCCWebRTCClient.webRTCClient),void 0!==t.mesh&&void 0!==t.instanceId?(U.debug("keeping instanceId "),s.instanceId=t.instanceId):s.instanceId=apiCC.generateInstanceId(),U.log("Calling destination number :"+e);var u=this.MCUClient.getSessionMCU(e);if(u&&(s.sessionMCU=u),s.sessionMCU&&"janusConnector"===this.MCUClient.pubConnector&&!t.mesh?(s.settingUpType="shareScreen",i&&i.callControl?(s.callControl=i.callControl,s.callControl.autoRestart.counter+=1,s.callId=s.callControl.callId,s.restarted=!0):(s.callControl=this.createCallControl({type:"shareScreen",roomName:e,callConfiguration:r,data:t}),s.callControl.captureSourceType=n,s.callControl.autoRestart.counter=0,s.generateCallId(),s.callControl.callId=s.callId)):(s.settingUpType="shareScreen",s.generateCallId()),o=s.callId,s.callerId=this.clientId,s.calleeId=e,s.dest_roomId=e,s.audioOnly=!1,s.screenSharing=!0,s.remoteId=e,s.callType="screenSharing",s.captureSourceType=n,s.callConfiguration=r,s.data=t,s.data.instanceId=s.instanceId,null!=r&&void 0!==r.turnServerAddress&&null!==r.turnServerAddress&&s.setCallTurnServer(r.turnServerAddress),s.checkDTLSCompliancy(),apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.push(s),s.sessionMCU&&"janusConnector"===this.MCUClient.pubConnector&&s.callControl&&s.callControl.autoRestart.stream)return U.debug("shareScreen; autoRestart"),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.callLocalStream=s.callControl.autoRestart.stream,s.establishCall(),s.callId;if(void 0!==t&&void 0!==t.mesh&&null!==(l=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(t.mesh.calleeCallId))&&l.callConfiguration&&l.callConfiguration.userMediaStreamId)return(c=apiCC.getUserMediaStream(l.callConfiguration.userMediaStreamId)).addCallInfo(s.callId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.sessionMCU&&"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&s.callControl&&(s.callControl.autoRestart.stream=c.stream),s.callConfiguration.userMediaStreamId=c.userMediaStreamId,s.callLocalStream=c.stream,s.establishCall(),s.callId;apiCC.createUserMediaStream({callId:s.callId,type:s.callType,captureSourceType:n,success:function(e){U.debug("[shareScreen] success; userMediaStreamId: "+e.userMediaStreamId),apiCC.session.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0,s.sessionMCU&&"janusConnector"===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector&&s.callControl&&(s.callControl.autoRestart.stream=e.stream),s.callConfiguration.userMediaStreamId=e.userMediaStreamId,s.callLocalStream=e.stream,s.establishCall()}})}else this.setStatus("Dialed call number is not correct :"+e+".You can be reached at this number : "+this.clientId),U.log("Call Number is incorrect");else U.log("shareScreen is not supported on this browser"),F.createDesktopCaptureEvent("Browser_Not_Compatible",o,e);return U.info("shareScreen, callId :",o),o},this.startScreenSharingOnCall=function(e,t){U.info("getScreenMedia for callId :"+e);var n=null;if("Chrome"===i.b)if(null!==(n=this.findCallWithCallId(e))){if(!1===this.apiRTCExtensionInstalled)return void this.manageNotInstalledExtension(n.callId,n.remoteId,t);null==t&&(t=["screen","window","tab"]),window.postMessage({command:"getDesktopId",callNumber:n.callId,remoteId:n.remoteId,captureSourceType:t,browser_major_version:i.d},"*")}else U.log("call not found");else U.log("shareScreen is only available for chrome Browser"),F.createDesktopCaptureEvent("Browser_Not_Compatible",e,null)},this.toggleVideoScreen=function(e){U.info("toggleVideoScreen for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.toggleVideoScreen():U.log("call not found")},this.switchVideoToScreen=function(e){U.info("switchVideoToScreen for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.switchVideoToScreen():U.log("call not found")},this.switchScreenToVideo=function(e){U.info("switchScreenToVideo for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.switchScreenToVideo():U.log("call not found")},this.addVideoMedia=function(e){U.info("webRTCClient::addVideoMedia for callId :"+e);var t=this.findCallWithCallId(e);null!==t?t.addVideoMedia():U.log("call not found")},this.callbymail=function(t){var n;U.info("Click on Call per mail Button"),n=t,new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i").test(n)?(U.log("Calling Destination mail :"+t),this.socket.emit("webrtc_invite_permail",t),e.channel.socket.emit("webrtc_invite_permail",t)):U.log("Mail address is not correct :"+t)},this.callperURL=function(e){U.info("Call per URL");var t,n=null;(n=new S(this)).instanceId=apiCC.generateInstanceId(),U.log("Calling Destination number :"+e),n.generateCallId(),n.callerId=this.clientId,n.calleeId=e,n.dest_roomId=e,n.audioOnly=!1,n.getUserMediaOnCall(),n.remoteId=e,n.checkDTLSCompliancy(),t=this.callsTable.push(n),U.log("Call Number is :"+t)},this.acceptCall=function(e,t){U.info("acceptCall for callId :"+e),U.log("acceptCall() - callConfiguration : ",t);var n=null,r=null;if(null!==(n=this.findCallWithCallId(e))){if(U.log("acceptCall() - Call found"),n.isAccepted=!0,null!=t?("VIDEO"===t.mediaTypeForIncomingCall||"AUDIO"===t.mediaTypeForIncomingCall||"VIDEOONLY"===t.mediaTypeForIncomingCall||"NONE"===t.mediaTypeForIncomingCall||"DATA"===t.mediaTypeForIncomingCall?(U.log("acceptCall() - Setting mediaTypeForIncomingCall :"+t.mediaTypeForIncomingCall),n.mediaTypeForIncomingCall=t.mediaTypeForIncomingCall):U.log("acceptCall() - mediaTypeForIncomingCall is not set"),void 0!==t.mediaRoutingMode&&null!==t.mediaRoutingMode&&n.setCallMediaRoutingMode(t.mediaRoutingMode),void 0!==t.turnServerAddress&&null!==t.turnServerAddress&&n.setCallTurnServer(t.turnServerAddress),!0!==t.preferVP9Codec&&!1!==t.preferVP9Codec||(n.preferVP9Codec=t.preferVP9Codec)):(U.log("acceptCall() - callConfiguration is not set"),t={}),!0===n.screenSharing&&(U.log("acceptCall() for screenSharing : forcing mediaTypeForIncomingCall to NONE"),t.mediaTypeForIncomingCall="NONE",n.mediaTypeForIncomingCall="NONE"),n.callConfiguration=Object(a.k)(n.callConfiguration,t),"VIDEO"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!0,audioActive:!0,video:!0,videoActive:!0}):"AUDIO"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!0,audioActive:!0,video:!1,videoActive:!1}):"VIDEOONLY"===n.mediaTypeForIncomingCall?n.setLocalCallProfile({audio:!1,audioActive:!1,video:!0,videoActive:!0}):"NONE"===n.mediaTypeForIncomingCall&&n.setLocalCallProfile({audio:!1,audioActive:!1,video:!1,videoActive:!1}),n.data&&"MCU-Callee"===n.data.MCUType&&"NONE"===n.mediaTypeForIncomingCall)return void n.myWebRTC_Stack.sendInvite(n.callId,n.callerId,this.nickname,n.dest_roomId,n.dest_roomId,{type:"no-offer"},"none",n.data);n.data&&"MCU-Callee"===n.data.MCUType&&(n.mediaTypeForOutgoingCall=n.mediaTypeForIncomingCall,n.settingUpType="publish",n.callControl=this.createCallControl({type:"publish",callId:n.callId,roomName:n.data.confId,callConfiguration:n.callConfiguration,data:n.data}),n.callControl.sessionId=n.data.confId,n.callControl.token=n.data.confId,n.callControl.autoRestart.counter=0,n.setMediaConstraintsToSendOnlyOffer()),this.unidirectionelCallOnly?(U.log("acceptCall() - unidirectional call"),n.onUserMediaSuccessTestUni()):!0===this.userAcceptOnIncomingCallBeforeGetUserMedia?(U.log("acceptCall with userAcceptOnIncomingCallBeforeGetUserMedia"),t.userMediaStreamId?((r=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(n.callId),void 0!==n.callConfiguration&&null!==n.callConfiguration||(n.callConfiguration={}),n.callConfiguration.userMediaStreamId=r.userMediaStreamId,n.onUserMediaSuccessOnCall(r.stream)):n.getUserMediaOnCall()):!0===n.accessToMedia||t.userMediaStreamId||n.dataCall?(U.log("acceptCall() :: User has already granted access to local media and AutoAnswer activated : establishing call"),n.dataCall?n.establishCall():t.userMediaStreamId?((r=apiCC.getUserMediaStream(t.userMediaStreamId)).addCallInfo(n.callId),void 0!==n.callConfiguration&&null!==n.callConfiguration||(n.callConfiguration={}),n.callConfiguration.userMediaStreamId=r.userMediaStreamId,n.callLocalStream=r.stream,n.establishCall()):n.establishCall()):U.log("acceptCall() - call will be established when user accept his media")}else U.log("Call not found")},this.refuseCall=function(e,t){U.info("refuseCall for callId :"+e);var n=null,r=null;r=void 0!==t?t:"User_Refused_Call",null!==(n=this.findCallWithCallId(e))?(U.log("Call found"),"MCU-Callee"===n.data.MCUType?(n.myWebRTC_Stack.sendBye(n.callId,n.callerId,n.dest_roomId,n.calleeId,"User_Media_Error",n.data),this.removeCallFromTableWithCallIdandRemoteId(n.callId,n.calleeId,r)):(n.myWebRTC_Stack.sendBye(n.callId,n.calleeId,n.dest_roomId,n.callerId,r,n.data),this.removeCallFromTableWithCallIdandRemoteId(n.callId,n.callerId,r)),0===this.callsTable.length&&(U.log("No more established calls for client"),this.initMediaElementState())):U.log("Call not found")},this.stopMedia=function(e){var t=this;return new Promise((function(n,r){var i=null,o=null;return(i=t.findCallWithCallId(e))?i.callLocalStream?void i.removeStream(i.callLocalStream).then((function(){return i.callLocalStream=null,Object(a.g)(i.callConfiguration,"userMediaStreamId","string")&&(apiCC.releaseUserMediaStream(i.callConfiguration.userMediaStreamId,i.callId),delete i.callConfiguration.userMediaStreamId),n()})).catch(r):n():((o=t.findUserMediaById(e))&&o.releaseUserMediaStream(),n())}))},this.addMedia=function(e,t,n,r){var i=this;U.info("addMedia for callId :"+e);var o=null,s=null,l=null,c=function(){return Promise.resolve()},u=function(){return Promise.resolve()};!0===t&&(c=function(){return i.stopMedia(e)}),Object(a.h)(n,"string")&&(l=apiCC.getUserMediaStream(n),n=null);var d=function(e){void 0!==e.callConfiguration&&null!==e.callConfiguration||(e.callConfiguration={}),e.isLocalAudioMuted&&e.isLocalVideoMuted?e.callConfiguration.muted="VIDEO":e.isLocalAudioMuted?e.callConfiguration.muted="AUDIOONLY":e.isLocalVideoMuted&&(e.callConfiguration.muted="VIDEOONLY")},f=function(e,t,n){"audio"===t?n?e.audioSdpDirection=null:Object(a.g)(e.remoteCallProfile,"audio","boolean")&&!0===e.remoteCallProfile.audio&&!0===e.remoteCallProfile.audioActive?e.audioSdpDirection="recvonly":e.audioSdpDirection="inactive":"video"===t&&(n?e.videoSdpDirection=null:Object(a.g)(e.remoteCallProfile,"video","boolean")&&!0===e.remoteCallProfile.video&&!0===e.remoteCallProfile.videoActive?e.videoSdpDirection="recvonly":e.videoSdpDirection="inactive")},h=function(e,t,n,r){void 0!==e.callConfiguration&&null!==e.callConfiguration||(e.callConfiguration={}),e.callConfiguration.userMediaStreamId=t.userMediaStreamId,f(e,"audio",t.audio),f(e,"video",t.video),d(e),function(e,t,n){t&&n?(e.audioOnly=!1,e.mediaTypeForIncomingCall="VIDEO",e.mediaTypeForOutgoingCall="VIDEO"):t?(e.audioOnly=!1,e.mediaTypeForIncomingCall="AUDIO",e.mediaTypeForOutgoingCall="AUDIO"):n?(e.audioOnly=!1,e.mediaTypeForIncomingCall="VIDEOONLY",e.mediaTypeForOutgoingCall="VIDEOONLY"):(e.audioOnly=!1,e.mediaTypeForIncomingCall="NONE",e.mediaTypeForOutgoingCall="NONE")}(e,t.audio,t.video),e.callLocalStream=t.stream,e.started?e.addingUserMedia=!0:i.accessToLocalMedia=!0,e.asyncCallbacks={},e.asyncCallbacks.type="addingUserMedia",e.asyncCallbacks.resolve=n,e.asyncCallbacks.reject=r,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("addMedia timeout"),delete e.asyncCallbacks)}),4e4),e.establishCall()};if(null!==(o=this.findCallWithCallId(e))){if(o.asyncCallbacks)return Promise.reject("job already ongoing");u=function(){return new Promise((function(e,t){l?(l.addCallInfo(o.callId),h(o,l,e,t)):n?apiCC.createUserMediaStream({type:"media",callId:o.callId,stream:n,sync:!0,success:function(n){U.debug("[addMedia] success; userMediaStreamId: "+n.userMediaStreamId),h(o,n,e,t)},failure:function(e,n){return t(n)}}):Object(a.g)(r,"getUserMediaStreamId","function")?r.getUserMediaStreamId().then((function(n){if(!(l=apiCC.getUserMediaStream(n)))return t("wrong userMediaStreamId");l.addCallInfo(o.callId),h(o,l,e,t)})).catch(t):apiCC.userMediaStreamTable.length>0?((l=apiCC.userMediaStreamTable[0]).addCallInfo(o.callId),h(o,l,e,t)):(d(o),o.addingUserMedia=!0,o.asyncCallbacks={},o.asyncCallbacks.type="addingUserMedia",o.asyncCallbacks.resolve=e,o.asyncCallbacks.reject=t,o.asyncCallbacks.timeoutId=setTimeout((function(){o.asyncCallbacks&&"function"==typeof o.asyncCallbacks.reject&&(o.asyncCallbacks.reject("addMedia timeout"),delete o.asyncCallbacks)}),4e4),o.getUserMediaOnCall())}))}}else if(s=this.findUserMediaById(e)){if(!0===s.addingUserMedia)return Promise.reject("addMedia already ongoing");u=function(){return new Promise((function(t,i){s.addingUserMedia=!0,new Promise((function(e,t){if(l)return l.addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId);if(n)apiCC.createUserMediaStream({callId:s.userMediaId,callFlavor:"userMedia",type:s.callType,stream:n,sync:!0,success:function(t){return U.debug("[addMedia] success; userMediaStreamId: "+t.userMediaStreamId),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=t.userMediaStreamId,s.callType=t.callType,s.audio=t.audio,s.video=t.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(t.userMediaStreamId)},failure:function(e,n){return t(n)}});else if(Object(a.g)(r,"getUserMediaStreamId","function"))r.getUserMediaStreamId().then((function(n){return(l=apiCC.getUserMediaStream(n))?(l.addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId)):t("wrong userMediaStreamId")})).catch(t);else{if(apiCC.userMediaStreamTable.length>0)return(l=apiCC.userMediaStreamTable[0]).addCallInfo(s.userMediaId,"userMedia"),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=l.userMediaStreamId,s.callType=l.callType,s.audio=l.audio,s.video=l.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(l.userMediaStreamId);apiCC.createUserMediaStream({callId:s.userMediaId,callFlavor:"userMedia",type:s.callType,audioSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.audioSourceId,videoSourceId:apiCC.session.apiCCWebRTCClient.webRTCClient.videoSourceId,success:function(t){return U.debug("[addMedia] success; userMediaStreamId: "+t.userMediaStreamId),void 0!==s.callConfiguration&&null!==s.callConfiguration||(s.callConfiguration={}),s.callConfiguration.userMediaStreamId=t.userMediaStreamId,s.callType=t.callType,s.audio=t.audio,s.video=t.video,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshOnUserMediaSuccess(s,!0),e(t.userMediaStreamId)},failure:function(e,n){return t(n)}})}})).then((function(t){return function(t){return new Promise((function(n,r){for(var i=[],a=0;a<apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length;a+=1){var o=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[a];void 0!==o.data&&void 0!==o.data.mesh&&o.data.mesh.calleeCallId===e&&i.push(apiCC.session.apiCCWebRTCClient.webRTCClient.addMedia(o.callId,!0,t))}Promise.all(i).then((function(){return n(t)})).catch(r)}))}(t)})).then((function(e){return delete s.addingUserMedia,t(e)})).catch((function(e){return delete s.addingUserMedia,i(e)}))}))}}else u=function(){return Promise.reject("no suitable replacement")};return new Promise((function(e,t){c().then((function(){return u()})).then((function(t){return U.info("addMedia success; userMediaStreamId: "+t),e(t)})).catch((function(e){U.error("addMedia failure: "+e);var n=null,r=null;return o?(o.callControl&&(n=o.callControl.roomName,r=o.callControl.type),F.createErrorEvent("Failed to addMedia","MEDIA_UPDATE_ERROR",o.callId,n,r)):s&&F.createErrorEvent("Failed to addMedia","MEDIA_UPDATE_ERROR",s.userMediaId,null,"publish"),t(e)}))}))},this.updateMediaDeviceOnCall=function(e,t){return U.info("updateMediaDeviceOnCall for callId :"+e),this.addMedia(e,!0,t),e},this.updateMediaTypeOnCall=function(e,t){var n=function(e,t,n){return new Promise((function(r,i){var o,s={};e.callControl.mediaType=n,e.mediaType=n,e.data.mediaType=n,e.updateCause="userAction",s.type="update",s.mode="passive",s.callId=e.callId,s.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,s.callerNickname=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,s.calleeId=e.sessionMCU.roomName,s.roomId=e.sessionMCU.roomName,s.callType=t.attributes.callType,s.data=Object(a.k)(e.data),s.data.type="subscribe",s.stream=t,o=JSON.stringify(s),U.log("C->S: "+o),apiCC.session.apiCCWebRTCClient.webRTCClient.socket.emit("update",o),e.asyncCallbacks={},e.asyncCallbacks.type="updateMediaType",e.asyncCallbacks.resolve=r,e.asyncCallbacks.reject=i,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("timeout"),delete e.asyncCallbacks)}),2e4)}))},r=this.findCallWithCallId(e);if(!r)return Promise.reject("call not found");if("subscribe"!==r.settingUpType)return Promise.reject("wrong call type");if(r.asyncCallbacks)return Promise.reject("job already ongoing");var i=this.MCUClient.getStreamFromList(r.streamId);if(!i)return Promise.reject("wrong streamId");if("VIDEO"===r.callControl.mediaType){if("AUDIOONLY"===t&&i.audio)return n(r,i,t);if("VIDEOONLY"===t&&i.video)return n(r,i,t)}else if("AUDIOONLY"===r.callControl.mediaType){if("VIDEO"===t&&i.video)return n(r,i,t);if("VIDEOONLY"===t&&i.video)return n(r,i,t)}else if("VIDEOONLY"===r.callControl.mediaType){if("VIDEO"===t&&i.video)return n(r,i,t);if("AUDIOONLY"===t&&i.audio)return n(r,i,t)}return Promise.reject("wrong mediaType")},this.updateSimulcastFeedOnCall=function(e,t){var n=this.findCallWithCallId(e);if(!n)return Promise.reject("call not found");if("subscribe"!==n.settingUpType)return Promise.reject("wrong call type");if(n.asyncCallbacks)return Promise.reject("job already ongoing");var r=this.MCUClient.getStreamFromList(n.streamId);if(!r)return Promise.reject("wrong streamId");if(!t)return Promise.reject("wrong simulcast");n.callControl.callConfiguration.simulcast||(n.callControl.callConfiguration.simulcast={}),n.data.simulcast||(n.data.simulcast={}),t.streamQuality&&("high"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=2,n.data.simulcast.substream=2):"medium"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=1,n.data.simulcast.substream=1):"low"===t.streamQuality?(n.callControl.callConfiguration.simulcast.substream=0,n.data.simulcast.substream=0):(n.callControl.callConfiguration.simulcast.substream=-1,n.data.simulcast.substream=-1)),t.streamFrameRate&&("high"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=2,n.data.simulcast.temporal=2):"medium"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=1,n.data.simulcast.temporal=1):"low"===t.streamFrameRate?(n.callControl.callConfiguration.simulcast.temporal=0,n.data.simulcast.temporal=0):(n.callControl.callConfiguration.simulcast.temporal=-1,n.data.simulcast.temporal=-1));var i={type:"updateSimulcastFeed"};i.callId=n.callId,i.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,i.callerNickname=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,i.calleeId=n.sessionMCU.roomName,i.roomId=n.sessionMCU.roomName,i.callType=r.attributes.callType,i.data=Object(a.k)(n.data),i.stream=r;var o=JSON.stringify(i);return U.log("C->S: "+o),apiCC.session.apiCCWebRTCClient.webRTCClient.socket.emit("updateSimulcastFeed",o),Promise.resolve()},this.updateCallConfigurationOnCall=function(e,t){var n=function(e,t,n){"audio"===t?e.audioSdpDirection=n?null:"inactive":"video"===t&&(e.videoSdpDirection=n?null:"inactive")},r=this.findCallWithCallId(e);return r?"publish"!==r.settingUpType?Promise.reject("wrong call type"):r.asyncCallbacks?Promise.reject("job already ongoing"):(Object(a.h)(t,"object")||(t={}),Object(a.g)(t,"audioOnly","boolean")||(t.audioOnly=!1),Object(a.g)(t,"videoOnly","boolean")||(t.videoOnly=!1),function(e,t){return new Promise((function(r,i){e.mediaTypeForIncomingCall="NONE",!0===t.audioOnly?(U.log("Setting call as audioOnly"),e.audioOnly=!0,e.callType="audio",e.mediaTypeForOutgoingCall="AUDIO",n(e,"audio",!0),n(e,"video",!1)):!0===t.videoOnly?(U.log("Setting call as videoOnly"),e.audioOnly=!1,e.callType="videoOnly",e.mediaTypeForOutgoingCall="VIDEOONLY",n(e,"audio",!1),n(e,"video",!0)):(U.log("Setting call as media"),e.audioOnly=!1,e.callType="media",e.mediaTypeForOutgoingCall="VIDEO",n(e,"audio",!0),n(e,"video",!0)),e.updateUserMedia=!0,e.updateCause="userAction",e.establishCall(),e.asyncCallbacks={},e.asyncCallbacks.type="updateCallConfiguration",e.asyncCallbacks.resolve=r,e.asyncCallbacks.reject=i,e.asyncCallbacks.timeoutId=setTimeout((function(){e.asyncCallbacks&&"function"==typeof e.asyncCallbacks.reject&&(e.asyncCallbacks.reject("timeout"),delete e.asyncCallbacks)}),2e4)}))}(r,t)):Promise.reject("call not found")},this.findUserMediaById=function(e){for(var t=this.userMediaTable.length;--t>=0;)if(this.userMediaTable[t].userMediaId===e)return this.userMediaTable[t];return null},this.findCallIndexWithCallIdAndRemoteId=function(e,t){U.debug("findCallIndexWithCallIdAndRemoteId");var n,r=this.callsTable.length;for(U.trace("callsNumber : "+r),n=0;n<r;n+=1)if(this.callsTable[n].callId===e&&(U.log("callId found"),U.log("this.callsTable[i].callee :"+this.callsTable[n].callee),U.log("this.callsTable[i].calleeId :"+this.callsTable[n].calleeId),!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t))return n;return U.log("Call not found"),-1},this.findCallIndexWithConfIdAndRemoteId=function(e,t){U.debug("findCallIndexWithConfIdAndRemoteId"),U.log("confId :"+e),U.log("remoteId :"+t);var n,r=this.callsTable.length;for(n=0;n<r;n+=1)if(U.log("this.callsTable[i].data.confId :"+this.callsTable[n].data.confId),this.callsTable[n].data.confId===e){if(!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t)return n}else U.debug("ConfId is different");return U.debug("Call not found - findCallIndexWithConfIdAndRemoteId"),-1},this.findCallIndexWithCallId=function(e){U.debug("findCallIndexWithCallId");var t,n=this.callsTable.length;for(t=0;t<n;t+=1)if(this.callsTable[t].callId===e)return U.log("Call found with callId"),t;return U.debug("Call not found - findCallIndexWithCallId"),-1},this.findCallWithCallIdAndInstanceId=function(e,t){U.debug("findCallWithCallIdAndInstanceId :"+e+" ,instanceId : "+t),void 0===t&&U.debug("instanceId is undefined : must be a mesh publish call, id must be a streamId");var n,r=this.callsTable.length;for(U.trace("callsNumber :"+r),n=0;n<r;n+=1)if(this.callsTable[n].callId===e&&this.callsTable[n].instanceId===t)return this.callsTable[n];return U.debug("Call not found, findCallWithCallIdAndInstanceId"),null},this.findCallIndexWithCallIdAndInstanceId=function(e,t){U.debug("findCallIndexWithCallIdAndInstanceId :"+e+" ,instanceId : "+t),void 0===t&&U.debug("instanceId is undefined : must be a mesh publish call, id must be a streamId");var n,r=this.callsTable.length;for(U.trace("callsNumber :"+r),n=0;n<r;n+=1)if(this.callsTable[n].callId===e&&this.callsTable[n].instanceId===t)return n;return U.debug("Call not found, findCallIndexWithCallIdAndInstanceId"),-1},this.findCallWithCallId=function(e){U.trace("findCallWithCallId :"+e);var t,n=this.callsTable.length;for(U.trace("callsNumber :"+n),t=0;t<n;t+=1)if(U.trace("this.callsTable[i].callId :"+this.callsTable[t].callId),this.callsTable[t].callId===e)return this.callsTable[t];return U.debug("Call not found"),null},this.findCallWithStreamId=function(e,t){U.debug("findCallWithStreamId :"+e);var n,r=!(!t||!t.ignoreModeChangeKindOld),i=this.callsTable.length;for(U.trace("callsNumber :"+i),n=0;n<i;n+=1)if(U.log("this.callsTable[i].streamId :"+this.callsTable[n].streamId),!(this.callsTable[n].streamId!=e||r&&this.callsTable[n].sessionMCU&&"old"===this.callsTable[n].sessionMCU.modeChangeKind))return U.log("Call found"),this.callsTable[n];return U.log("Call not found"),null},this.findCallWithCallIdAndRemoteIdAndInstanceId=function(e,t,n){U.debug("findCallWithCallIdAndRemoteIdAndInstanceId callId : "+e+" ,instanceId : "+n);var r,i=this.callsTable.length;for(U.trace("callsNumber :"+i),r=0;r<i;r+=1)if(this.callsTable[r].callId===e&&this.callsTable[r].instanceId===n&&(!0===this.callsTable[r].callee&&this.callsTable[r].callerId===t||!1===this.callsTable[r].callee&&this.callsTable[r].calleeId===t))return this.callsTable[r];return U.debug("Call not found"),null},this.findCallWithCallIdAndRemoteId=function(e,t){U.log("findCallWithCallIdAndRemoteId");var n,r=this.callsTable.length;for(U.trace("callsNumber :"+r),n=0;n<r;n+=1)if(this.callsTable[n].callId===e&&(!0===this.callsTable[n].callee&&this.callsTable[n].callerId===t||!1===this.callsTable[n].callee&&this.callsTable[n].calleeId===t))return this.callsTable[n];return U.log("Call not found"),null},this.remoteVideoDisplayManager=function(){U.debug("remoteVideoDisplayManager");var e,t=[],n=0,r=0,i=0,a=0,o=0,s=0,l=0;for(this.remoteVideo&&(0===this.maxWidthRemoteVideo&&(this.maxWidthRemoteVideo=this.remoteVideo.clientWidth),0===this.maxHeightRemoteVideo&&(this.maxHeightRemoteVideo=this.remoteVideo.clientHeight),n=(t=this.remoteVideo.children).length,r=this.maxWidthRemoteVideo,i=this.maxHeightRemoteVideo,U.log("maxWidth"+r),U.log("maxHeight"+i),a=this.remoteVideo.clientWidth),a>r&&(a=r),(o=3/4*(a/=n))>i&&(a=4/3*(o=i)),s=a/r*100,l=o/i*100,s+="%",l+="%",U.log("widthinPercent"+s),U.log("heightinPercent"+l),e=0;e<n;e+=1)t[e].style.cssText="width:"+s+";height:"+l+";"},this.removeRemoteVideoDisplay=function(e){U.debug("removeRemoteVideoDisplay with callId ="+e);var t,n="callId_"+e,r=[],i=0;for(this.remoteVideo&&(i=(r=this.remoteVideo.children).length),t=0;t<i;t+=1)if(r[t].id===n)return this.remoteVideo.removeChild(r[t]),void U.log("VideoDisplay removed for "+n);this.remoteVideoDisplayManager()},this.setStatus=function(e){null!==this.statusDiv?this.statusDiv.innerHTML=e:U.log("Status Div Null")},this.displayCallButtonInCommand=function(){null!==this.commandDiv&&(this.commandDiv.innerHTML='<form name="form1" action=""><input type="texte" name="mail" value="" placeholder="Enter Destination number..."><a href="#" onClick = "apiCC.session.apiCCWebRTCClient.call(document.forms.form1.mail.value);"><img src="http://www.apizee.com/Demo/images/Call.png" height="30px"></a></input></form>')},this.displayHangUpButtonInCommand=function(){U.debug("displayHangUpButtonInCommand"),null!==this.commandDiv&&(this.commandDiv.innerHTML='<a href="#" onClick = "apiCC.session.apiCCWebRTCClient.toggleAudioMute()"> <img src="http://www.apizee.com/Demo/images/Microphone.png" height="30px" disabled="true"></a><a href="#" onClick = "apiCC.session.apiCCWebRTCClient.toggleVideoMute();"> <img src="http://www.apizee.com/Demo/images/Camera2.png" height="30px" disabled="true"></a><a href="#" onClick = "apiCC.session.apiCCWebRTCClient.hangUp()"> <img src="http://www.apizee.com/Demo/images/Hangup.png" height="30px" disabled="true"> </a>')},this.checkURLForCallDestination=function(){var e=0;return"room"===location.search.substring(1,5)&&(U.log("Call establishment using URL"),e=location.search.substring(6),U.log("Destination call number is :"+e)),e},this.releaseUserMedia=function(){U.info("releaseUserMedia"),null!==this.localStream&&(U.log("stopping localStream"),this.stopStream(this.localStream),F.createUserMediaStopEvent(null,"media"),this.accessToLocalMedia=!1,this.autoAnswer=!1,U.log("this.autoAnswer :"+this.autoAnswer)),null!==this.screenStream&&void 0!==this.screenStream&&(U.log("stopping screenStream"),this.stopStream(this.screenStream),F.createUserMediaStopEvent(null,"screen"))},this.startDataChannelOnCall=function(e){U.info("startDataChannelOnCall with callId :"+e);var t=this.findCallWithCallId(e);t?(U.log("Call found",t),t.addingDataChannelOnCallOngoing=!0,t.createDataChannel()):U.log("Call not found")},this.sendDataWithCallId=function(e,t,n){U.info("sendDataWithCallId :"+e);var r=this.findCallWithCallId(e);r?(U.log("Call found",r),r.sendData(t,n)):U.log("Call not found")},this.processDataAck=function(e){U.debug("processDataAck",e);var t=this.findCallWithCallId(e.callId);if(t)if("ok"===e.result)if(Object(a.g)(e,"capabilities","object")&&Object(a.g)(e.capabilities,"dataEndAckEnabled","boolean")&&(t.dataEndAckEnabled=e.capabilities.dataEndAckEnabled,U.debug("dataEndAckEnabled",t.dataEndAckEnabled)),"complete"===e.state)t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.success({state:"complete",filename:t.data.filename,size:t.data.size,mediaURL:e.mediaURL,mediaId:e.mediaId}),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId);else if("incomplete"===e.state){var n,r,i=[],o=Math.floor(t.data.size/(1<<17)),s=t.data.size%(1<<17);for(n=0;n<o;n+=1)(r=N("checksum64")).update(t.fileContent,n*(1<<17),1<<17),i.push(r.digest("hex"));if(s>0&&((r=N("checksum64")).update(t.fileContent,o*(1<<17),s),i.push(r.digest("hex"))),U.debug(JSON.stringify(i)),e.checksums.length===i.length){for(n=0;n<i.length&&e.checksums[n]===i[n];n+=1);t.data.offset=(1<<17)*n}t.mediaURL=e.mediaURL,t.mediaId=e.mediaId,t.establishCall()}else"missing"===e.state?(t.mediaURL=e.mediaURL,t.mediaId=e.mediaId,t.establishCall()):"ready"===e.state?t.establishCall():(U.debug("wrong state "+e.state),t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.failure("serverError"),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId));else U.debug("wrong result "+e.result),t.beginTimeoutId&&(clearTimeout(t.beginTimeoutId),delete t.beginTimeoutId),t.callbacks.failure("serverError"),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(t.callId);else U.debug("no such call",e.callId)},this.processDataEndAck=function(e){U.debug("processDataEndAck",e);var t=this.findCallWithCallId(e.callId);if(t){var n=null;if(!t.dcfs){if(!t.data||"pipeline"!==t.data.transferType)return void U.debug("not pipeline");U.debug("pipeline"),n=t,t.clientCall?(U.debug("resolve client call"),t=t.clientCall):(U.debug("no client call"),t=null)}t&&(t.success&&e.data&&(t.success.data=e.data),"ok"===e.result?(!0===e.complete||(delete t.success,t.failure="transferIncomplete"),t.dcfs.terminateTransfer()):"error"===e.result&&(delete t.success,t.failure=e.errorInfo,t.dcfs.terminateTransfer())),n&&"error"===e.result&&(U.debug("error on pipeline"),n.failure=e.errorInfo,F.createEvent({eventType:"onFileSended",callId:n.callId,remoteId:n.remoteId,name:n.filename,error:n.failure}),n.callbacks.failure(n.failure),this.onHangup(n.callId))}else U.debug("no such call",e.callId)},this.pushData=function(e,t,n,r){var i=this;if(!Object(a.h)(t,"object"))return null;if((t=Object.assign({},t)).transferType||(t.transferType="file"),"file"===t.transferType&&!e)return null;if("file"!==t.transferType&&"pipeline"!==t.transferType&&"plugin"!==t.transferType)return null;if(!("plugin"!==t.transferType||t.pluginName&&t.pluginData))return null;Object(a.h)(r,"object")||(r={}),"function"!=typeof r.pending&&(r.pending=function(){}),"function"!=typeof r.progress&&(r.progress=function(){}),"function"!=typeof r.success&&(r.success=function(){}),"function"!=typeof r.failure&&(r.failure=function(){});var o=new S(apiCC.session.apiCCWebRTCClient.webRTCClient);if(o.generateCallId(),o.instanceId=apiCC.generateInstanceId(),o.callerId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,o.calleeId="dataChannelConnector",o.dest_roomId="dataChannelConnector",o.callType="data",o.dataCall=!0,o.remoteId="dataChannelConnector",t.pipelineCallId&&(o.pipelineCallId=t.pipelineCallId),o.data={},o.data.pubSub="dataChannelConnector",o.data.transferType=t.transferType,"pipeline"===t.transferType?(t.checksumEnabled=!1,o.transferCount=0):"plugin"===t.transferType&&(t.checksumEnabled=!1,o.data.pluginName=t.pluginName,o.data.pluginData=Object.assign({},t.pluginData),o.data.pluginData.headers&&(o.data.pluginData.headers=Object.assign({},o.data.pluginData.headers)),o.data.pluginData.data&&(o.data.pluginData.data=Object.assign({},o.data.pluginData.data)),o.data.pluginData.formData&&(o.data.pluginData.formData=Object.assign({},o.data.pluginData.formData))),Object(a.g)(t,"context","object"))try{JSON.stringify(t.context),o.data.context=Object.assign({},t.context)}catch(e){}if(!0===t.overwrite&&(o.data.overwrite=!0),Object(a.h)(t,"ttl","number")&&t.ttl>0&&(o.data.ttl=t.ttl),o.data.instanceId=o.instanceId,e&&(o.data.cloudConvId=e),o.callbacks=r,null!=n&&void 0!==n.turnServerAddress&&null!==n.turnServerAddress&&o.setCallTurnServer(n.turnServerAddress),"pipeline"===o.data.transferType)o.data.size=0,o.pushDataStatus={type:"pipeline",state:"pending",data:t},this.callsTable.push(o),setTimeout((function(){i.startNextPushData()}));else if(Object(a.h)(t,"file","object")&&(t.file instanceof File||t.file.constructor===File||!0===t.asFile))Object(a.h)(t,"filename","string")?o.data.filename=t.filename:o.data.filename=t.file.name,Object(a.h)(t,"filetype","string")?o.data.contentType=t.filetype:o.data.contentType=t.file.type,Object(a.h)(t,"sourceType","string")&&t.sourceType.length>0&&(o.data.sourceType=t.sourceType),o.data.size=t.file.size,o.data.metadata=t.metadata,o.pushDataStatus={type:"file",state:"pending",convId:String(e),data:t},this.callsTable.push(o),setTimeout((function(){i.startNextPushData()}));else{if(!Object(a.h)(t,"buffer","object")||!(t.buffer instanceof ArrayBuffer||t.buffer.constructor===ArrayBuffer||!0===t.asBuffer))return null;if(!Object(a.h)(t,"filename","string")||!Object(a.h)(t,"filetype","string"))return null;o.data.filename=t.filename,o.data.contentType=t.filetype,Object(a.h)(t,"sourceType","string")&&t.sourceType.length>0&&(o.data.sourceType=t.sourceType),o.data.size=t.buffer.byteLength,o.data.metadata=t.metadata,o.pushDataStatus={type:"buffer",state:"pending",convId:String(e),data:t},this.callsTable.push(o),setTimeout((function(){i.startNextPushData()}))}return o.callId},this.startNextPushData=function(){for(var e=this,t=[],n=0;n<this.callsTable.length;n+=1){var r=this.callsTable[n];if("data"===r.callType&&r.dataCall&&"dataChannelConnector"===r.remoteId&&r.pushDataStatus){if("ready"===r.pushDataStatus.state)continue;t.push(r)}}if(0===t.length)return!1;var i=null;"active"===t[0].pushDataStatus.state?t.splice(0,1):"pending"===t[0].pushDataStatus.state&&(i=t[0],t.splice(0,1));for(var a=0;a<t.length;a+=1){var o=t[a];o.pushDataStatus.rank!==a&&(o.pushDataStatus.rank=a,F.createEvent({eventType:"onFilePending",callId:o.callId,remoteId:o.remoteId,name:o.data.filename,rank:a}),o.callbacks.pending({state:"pending",callId:o.callId,rank:a}))}if(!i)return!1;U.debug("startNextPushData",i.callId);var s=i.pushDataStatus.data;if(delete i.pushDataStatus.data,"pipeline"===i.pushDataStatus.type){i.pushDataStatus.state="active";var l={type:"pushData",callerId:apiCC.session.apiCCId,callId:i.callId,data:i.data},c=JSON.stringify(l);return U.debug("C->S: "+c),apiCC.session.channel.socket.emit("pushData",c),!0}if("file"===i.pushDataStatus.type){i.pushDataStatus.state="active";var u=new FileReader;u.onload=function(e){apiCC.session.apiCCWebRTCClient.webRTCClient.startPushData(i,s,e.target.result)},u.readAsArrayBuffer(s.file)}else{if("buffer"!==i.pushDataStatus.type)return U.error("startNextPushData - wrong type"),i.callbacks.failure("start",i.callId),this.onHangup(i.callId),!1;i.pushDataStatus.state="active",this.startPushData(i,s,s.buffer)}return i.beginTimeoutId=setTimeout((function(){delete i.beginTimeoutId,i.callbacks.failure("timeout",i.callId),e.onHangup(i.callId)}),2e4),!0},this.startPushData=function(e,t,n){if(e.fileContent=new Uint8Array(n),e.pipelineCallId){var r=this.findCallWithCallId(e.pipelineCallId);if(!r)return U.error("no such pipeline call"),void this.onHangup(e.callId);e.pipelineCall=r,r.clientCall=e,e.sendDataChannel=r.sendDataChannel;var i=0===r.transferCount?100:0;e.startTransfer({delay:i}),r.transferCount+=1}else{if(!Object.prototype.hasOwnProperty.call(t,"checksumEnabled")||t.checksumEnabled){var a=N("checksum64");a.update(e.fileContent),e.data.checksum=a.digest("hex")}else e.data.checksumEnabled=!1;var o={type:"pushData",callerId:apiCC.session.apiCCId,convId:e.pushDataStatus.convId,callId:e.callId,data:e.data},s=JSON.stringify(o);U.debug("C->S: "+s),apiCC.session.channel.socket.emit("pushData",s)}},this.cancelPushData=function(e){for(var t=null,n=this.callsTable.length;--n>=0;){var r=this.callsTable[n];if(r.callId===e&&"data"===r.callType&&r.dataCall&&"dataChannelConnector"===r.remoteId&&r.pushDataStatus){t=r;break}}if(!t)return U.error("cancelPushData - no such call",e),"no such call";if("pending"===t.pushDataStatus.state)F.createEvent({eventType:"onFileSended",callId:t.callId,remoteId:t.remoteId,name:t.data.filename,error:"canceled"}),t.callbacks.failure("canceled"),this.onHangup(t.callId);else if("active"===t.pushDataStatus.state)this.onHangup(t.callId);else{if("ready"!==t.pushDataStatus.state)return U.error("cancelPushData - wrong state"),"wrong state";t.clientCall&&this.cancelPushData(t.clientCall.callId),t.success={state:"complete"},F.createEvent({eventType:"onFileSended",callId:t.callId,remoteId:t.remoteId}),t.callbacks.success(t.success),this.onHangup(t.callId)}return null},this.setVideoBandwidth=function(e,t,n){var r=!1,i=!1;if("overall"===t?"incoming"===n?e>0?(this.videoBandwidthSettings.overallIncoming=e,r=!0):(delete this.videoBandwidthSettings.overallIncoming,r=!0):"outgoing"===n&&(e>0?(this.videoBandwidthSettings.overallOutgoing=e,r=!0,i=!0):(delete this.videoBandwidthSettings.overallOutgoing,r=!0,i=!0)):"perCall"===t?"incoming"===n?e>0?(this.videoBandwidthSettings.perCallIncoming=e,r=!0):(delete this.videoBandwidthSettings.perCallIncoming,r=!0):"outgoing"===n&&(e>0?(this.videoBandwidthSettings.perCallOutgoing=e,r=!0,i=!0):(delete this.videoBandwidthSettings.perCallOutgoing,r=!0,i=!0)):"remote"===t&&(this.videoRemoteBandwidth=e),r)for(var a=this.MCUClient.sessionMCUs.length;--a>=0;){var o={type:"info",infoType:"setVideoBandwidthSettings",data:{clientId:this.clientId,roomId:this.MCUClient.sessionMCUs[a].roomName,pubSub:this.MCUClient.pubConnector,videoBandwidthSettings:this.videoBandwidthSettings}},s=JSON.stringify(o);U.log("C->S: "+s),apiCC.session.channel.socket.emit("info",s)}i&&this.evalOutgoingVideoBandwithCap()},this.setAudioBandwidth=function(e){this.audioBandwidth=e},this.setDataBandwidth=function(e){this.dataBandwidth=e},this.processCheckCallStatus=function(e){this.MCUClient.processCheckCallStatus(e);var t={type:"updateCallStatus",clientId:this.clientId,data:{}};e.data.pubSub&&(t.data.pubSub=e.data.pubSub),t.sessions=[];for(var n=0;n<this.MCUClient.sessionMCUs.length;n+=1)t.sessions.push(this.MCUClient.createSessionDescriptor(this.MCUClient.sessionMCUs[n]));t.calls=[];for(var r=0;r<this.userMediaTable.length;r+=1){var i=this.userMediaTable[r];t.calls.push({callId:i.userMediaId,callType:i.callType,remoteId:i.remoteId,roomId:i.roomId,data:i.data,meshPublish:!0})}for(var a=0;a<this.callsTable.length;a+=1){var o=this.callsTable[a];t.calls.push({callId:o.callId,callType:o.callType,remoteId:o.remoteId,roomId:o.roomId,data:o.data,remoteStream:o.mcuRemoteStream})}var s=JSON.stringify(t);apiCC.session.channel.socket.emit("updateCallStatus",s)},this.processRemoteStreamAdded=function(e,t){if(e.sessionMCU&&"new"===e.sessionMCU.modeChangeKind){U.debug("processRemoteStreamAdded",e);var n=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.sessionMCU.roomName&&"old"===t.modeChangeKind}});if(!n)return void U.error("wrong roomId: no such old session");U.debug("oldSessionMCU",n);for(var r=this.callsTable.length;--r>=0;)if(this.callsTable[r].sessionMCU===n&&Object(a.g)(this.callsTable[r],["mcuRemoteStream","attributes","callId"],"string")&&this.callsTable[r].mcuRemoteStream.attributes.callId===e.mcuRemoteStream.attributes.callId){U.debug("processRemoteStreamAdded: bye",this.callsTable[r]),this.removeCallFromTableWithCallIdAndSendBye(this.callsTable[r].callId);break}}},this.processDistantCallEstablished=function(e){if(U.debug("processDistantCallEstablished",e),Object(a.g)(e,["descriptor","callFeed","callId"],"string"))if(e.descriptor.callFeed.clientId===this.clientId){var t=null;if("mesh"===e.descriptor.callMode?t=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&"mesh"===t.roomMode}}):"sfu"===e.descriptor.callMode&&(t=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&!t.hasOwnProperty("roomMode")}})),t){U.debug("sessionMCU",t);var n=null,r=null;if("mesh"===e.descriptor.callMode?(n=this.findUserMediaById(e.descriptor.callFeed.callId),U.debug("userMedia",n)):(r=this.findCallWithCallId(e.descriptor.callFeed.callId),U.debug("call",r)),e.active){if(!n&&!r)return void U.debug("wrong callId: no such call");for(var i=this.MCUClient.distantCalls.length;--i>=0&&(this.MCUClient.distantCalls[i].roomId!==e.descriptor.roomId||this.MCUClient.distantCalls[i].clientId!==e.descriptor.clientId||this.MCUClient.distantCalls[i].callId!==e.descriptor.callId););if(i>=0){if(!this.MCUClient.distantCalls[i].early)return void U.debug("processDistantCallEstablished: descriptor already exists");U.debug("processDistantCallEstablished: replace early descriptor",this.MCUClient.distantCalls[i],e.descriptor),this.MCUClient.distantCalls[i]=e.descriptor}else U.debug("processDistantCallEstablished: add descriptor",e.descriptor),this.MCUClient.distantCalls.push(e.descriptor)}else if("old"===t.modeChangeKind){for(var o=this.MCUClient.distantCalls.length;--o>=0;)if(this.MCUClient.distantCalls[o].roomId===e.descriptor.roomId&&this.MCUClient.distantCalls[o].clientId===e.descriptor.clientId&&this.MCUClient.distantCalls[o].callId===e.descriptor.callId){U.debug("processDistantCallEstablished: set descriptor to removed",this.MCUClient.distantCalls[o]),this.MCUClient.distantCalls[o].removed=!0;break}}else for(var s=this.MCUClient.distantCalls.length;--s>=0;)if(this.MCUClient.distantCalls[s].roomId===e.descriptor.roomId&&this.MCUClient.distantCalls[s].clientId===e.descriptor.clientId&&this.MCUClient.distantCalls[s].callId===e.descriptor.callId){U.debug("processDistantCallEstablished: remove descriptor",this.MCUClient.distantCalls[s]),this.MCUClient.distantCalls.splice(s,1);break}if("new"===t.modeChangeKind){var l=this.MCUClient.getSessionMCU(null,{callback:function(t){return t.roomName===e.descriptor.roomId&&"old"===t.modeChangeKind}});if(!l)return void U.error("wrong roomId: no such old session");U.debug("oldSessionMCU",l),U.debug("processDistantCallEstablished: replacement");for(var c=!1,u=this.userMediaTable.length;--u>=0;){var d=this.userMediaTable[u];if(d.sessionMCU===l){var f=!1,h=0;U.debug("processDistantCallEstablished: userMedia",d);for(var p=d.distantCalls.length;--p>=0;)d.distantCalls[p].replaced?h+=1:d.distantCalls[p].callFeed.callId===e.descriptor.callFeed.callId&&(U.debug("processDistantCallEstablished: distantCall",d.distantCalls[p]),f=!0,d.distantCalls[p].replaced=!0,h+=1);if(f){if(h===d.distantCalls.length){U.debug("processDistantCallEstablished: remove replaced distant call descriptors");for(var m=this.MCUClient.distantCalls.length;--m>=0;)"mesh"===this.MCUClient.distantCalls[m].callMode&&this.MCUClient.distantCalls[m].callFeed.callId===d.userMediaId&&this.MCUClient.distantCalls[m].replaced&&(U.debug("processDistantCallEstablished: remove distantCall",this.MCUClient.distantCalls[m]),this.MCUClient.distantCalls.splice(m,1));U.debug("processDistantCallEstablished: close old calls");for(var v=this.callsTable.slice(),g=v.length;--g>=0;)Object(a.g)(v[g].data,"mesh","object")&&v[g].data.mesh.calleeCallId===d.userMediaId&&"subscribe"!==v[g].settingUpType&&this.removeCallFromTableWithCallIdAndSendBye(v[g].callId);this.MCUClient.meshOnHangup(d.userMediaId),c=!0}break}}}c&&this.finalizeMeshToJanusTransition(l,t)}}else U.debug("wrong roomId: no such session")}else U.debug("wrong clientId: message not intended for self");else U.debug("wrong format: missing callFeed")},this.finalizeMeshToJanusTransition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U.debug("finalizeMeshToJanusTransition");var r=0,i=0;if(!0===n.force){for(var a=this.callsTable.slice(),o=a.length;--o>=0;){var s=a[o];s.sessionMCU===e&&(("publish"===s.settingUpType||"shareScreen"===s.settingUpType)&&s.data&&s.data.mesh?this.onHangup(s.callId):this.onHangup(s.callId,"disconnected"))}for(var l=this.userMediaTable.slice(),c=l.length;--c>=0;){var u=l[c];u.sessionMCU===e&&this.onHangup(u.userMediaId,"disconnected")}}else for(var d=this.userMediaTable.length;--d>=0;){var f=this.userMediaTable[d];if(f.sessionMCU===e){r+=1;for(var h=0,p=f.distantCalls.length;--p>=0;)U.debug("finalizeMeshToJanusTransition: distantCall",f.distantCalls[p]),f.distantCalls[p].replaced&&(h+=1);h===f.distantCalls.length&&(i+=1)}}r===i&&(U.debug("finalizeMeshToJanusTransition: finalize transition"),t.transitionTimeoutId&&(clearTimeout(t.transitionTimeoutId),delete t.transitionTimeoutId),this.MCUClient.removeSessionMCU(e),delete t.modeChangeKind,this.MCUClient.transitionCount-=1,this.MCUClient.transitionCount<=0&&this.evalOutgoingVideoBandwithCap(),F.createMCURoomModeChangedEvent(t.roomName,"mesh","sfu","complete"))},this.processConfigureEncodings=function(e){var t=this.findCallWithCallId(e.callId);if(t&&Object.prototype.hasOwnProperty.call(e,"command")&&"RID"===t.simulcast){var n={};Object.prototype.hasOwnProperty.call(e,"maxBitrate")&&(n.maxBitrate=e.maxBitrate),t.configureSimulcastEncodings(e.command,n)}},this.processSimulcastFeedChanged=function(e){var t=this.findCallWithCallId(e.callId);if(t){var n={};2===e.substream?n.streamQuality="high":1===e.substream?n.streamQuality="medium":0===e.substream&&(n.streamQuality="low"),2===e.temporal?n.streamFrameRate="high":1===e.temporal?n.streamFrameRate="medium":0===e.temporal&&(n.streamFrameRate="low"),Object.keys(n).length>0&&F.createSimulcastFeedChanged(t.callId,n)}},this.createCallControl=function(e){var t=new j(e);return this.callControlTable.push(t),t},this.destroyCallControl=function(e){if(e.multi){if(!e.roomName)return U.warn("findCallControl: cannot destroy without roomName"),null;for(var t=[],n=this.callControlTable.length;--n>=0;)this.callControlTable[n].roomName===e.roomName&&(t.push(this.callControlTable[n]),this.callControlTable.splice(n,1));return t}var r=this.findCallControl(e,{accept:"index"});if(null!==r&&r>=0){var i=this.callControlTable[r];return this.callControlTable.splice(r,1),i}return null},this.findCallControl=function(e){var t="index"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).accept;if("publish"===e.type||"shareScreen"===e.type){if(!e.callId)return U.warn("findCallControl: cannot search without callId"),null;for(var n=null,r=null,i=this.callControlTable.length;--i>=0;)if(("publish"===this.callControlTable[i].type||"shareScreen"===this.callControlTable[i].type)&&this.callControlTable[i].callId===e.callId){n=this.callControlTable[i],r=i;break}return n?t?r:n:null}if("subscribe"===e.type){if(!Object(a.g)(e,"stream","object")||!Object.prototype.hasOwnProperty.call(e.stream,"id")||!Object(a.g)(e.stream,"attributes","object"))return U.warn("findCallControl: cannot search without stream"),null;for(var o=null,s=null,l=this.callControlTable.length;--l>=0;)if("subscribe"===this.callControlTable[l].type&&(this.callControlTable[l].stream.id===e.stream.id||this.callControlTable[l].stream.attributes.callerId===e.stream.attributes.callerId&&this.callControlTable[l].stream.attributes.callId===e.stream.attributes.callId)){o=this.callControlTable[l],s=l;break}return o?t?s:o:null}return U.warn("findCallControl: wrong type",e.type),null},this.getCallControls=function(e){var t={};if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).addUserMedia)for(var n=this.userMediaTable.length;--n>=0;){var r=this.userMediaTable[n];t[r.userMediaId]=r}if(e){for(var i=this.callControlTable.length;--i>=0;){var a=this.callControlTable[i];e.indexOf(a.type)>=0&&(t[a.callId]=a)}return t}for(var o=this.callControlTable.length;--o>=0;){var s=this.callControlTable[o];t[s.callId]=s}return t},this.getCallIds=function(e){for(var t=[],n=this.callControlTable.length;--n>=0;){var r=this.callControlTable[n];e.indexOf(r.type)>=0&&t.push(r.callId)}return t},this.evalOutgoingVideoBandwithCap=function(e){if(U.debug("evalOutgoingVideoBandwithCap"),!(this.MCUClient.transitionCount>0)){var t=null;this.videoBandwidthSettings.perCallOutgoing&&(t=this.videoBandwidthSettings.perCallOutgoing);for(var n=[],r=this.callsTable.length;--r>=0;)this.callsTable[r].belongsToRoom()&&"publish"!==this.callsTable[r].settingUpType&&"shareScreen"!==this.callsTable[r].settingUpType||this.callsTable[r].localCallProfile&&this.callsTable[r].localCallProfile.video&&this.callsTable[r].localCallProfile.videoActive&&n.push(this.callsTable[r]);if(0===n.length)return t;if(this.videoBandwidthSettings.overallOutgoing){var i=Math.floor(this.videoBandwidthSettings.overallOutgoing/n.length);t=t?Math.min(t,i):i}for(var a=n.length;--a>=0;)e&&n[a]===e?t&&n[a].videoCap!==t?(n[a].videoCap=t,this.rtpSenderSetParamatersCapable&&n[a].applyOutgoingBitrate(n[a].videoCap)):!t&&n[a].videoCap&&(delete n[a].videoCap,this.rtpSenderSetParamatersCapable&&n[a].applyOutgoingBitrate(null)):t&&n[a].videoCap!==t?(n[a].videoCap=t,this.rtpSenderSetParamatersCapable?n[a].applyOutgoingBitrate(n[a].videoCap):setTimeout((function(e){e.belongsToRoom()||!e.callee?(e.updateUserMedia=!0,e.establishCall()):U.debug("Call is not to be updated")}),0,n[a])):!t&&n[a].videoCap&&(delete n[a].videoCap,this.rtpSenderSetParamatersCapable?n[a].applyOutgoingBitrate(null):setTimeout((function(e){e.belongsToRoom()||!e.callee?(e.updateUserMedia=!0,e.establishCall()):U.debug("Call is not to be updated")}),0,n[a]));return t}U.debug("evalOutgoingVideoBandwithCap - transition ongoing")},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.callbackWithParams=function(e,t){return this.closureHandler=function(n,r,i){return e[t](n,r,i)},this.closureHandler},this.simulatedAgentLaunchWaitingCall=function(){this.socket.emit("simulatedAgentLaunchWaitingCall",{type:"simulatedAgentLaunchWaitingCall"})}},V=(n(121),r.a.get("PreCallTest")),B=apiCC.myWebRTC_Event,z=function(e,t,n,r,i){var a=this;this.webRTCClient=e.webRTCClient,this.notifyTerminated=e.notifyTerminated,this.audioSourceId=r,this.videoSourceId=i,this.testId="initial",this.stepId="initial",this.report={tests:[],resolutions:[],failurCause:""},this.maxHeight=240,this.maxWidth=320,this.resolutions=[[320,240,"QVGA"],[640,480,"VGA"],[1024,576,"SD"],[1280,720,"HD 720p"],[1920,1080,"HD 1080p"]],this.currentResolution=0,this.userMediastreamId=null,"simpleVideoRecordTest"===n&&(V.warn("Simple video record test is activated"),this.simpleVideoRecordTest=!0),!0===apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled&&(V.debug("Forcing meshModeEnabled to false for precall test"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled=!1,this.modifyMeshModeEnabledValueBeforePreCall=!0),this.generateId=function(e){for(var t="",n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<e;r+=1)t+=n.charAt(Math.floor(Math.random()*n.length));return t},this.generateRoomId=function(){return"PC-"+this.generateId(4)+"-"+this.generateId(4)+"-"+this.generateId(4)},this.pushStats=function(e,t){return e.data.push(t),!0},this.evalQuartiles=function(e,t,n){var r=[];if(void 0===n?e.forEach((function(e){"number"==typeof e[t]&&r.push(e[t])})):e.forEach((function(e){r.push(n(e[t]))})),r.sort((function(e,t){return e<t?-1:e===t?0:1})),r.length%2==0){var i=r.length/2,a=Math.floor((r[i-1]+r[i])/2);if(i%2==0){var o=i/2,s=Math.floor((r[o-1]+r[o])/2),l=i+o,c=Math.floor((r[l-1]+r[l])/2);return{min:r[0],firstQuartile:s,median:a,thirdQuartile:c,max:r[r.length-1]}}var u=Math.floor(i/2),d=r[u],f=r[i+u];return{min:r[0],firstQuartile:d,median:a,thirdQuartile:f,max:r[r.length-1]}}var h=Math.floor(r.length/2),p=r[h];if((h+1)%2==0){var m=(h+1)/2,v=Math.floor((r[m-1]+r[m])/2),g=h+m,b=Math.floor((r[g-1]+r[g])/2);return{min:r[0],firstQuartile:v,median:p,thirdQuartile:b,max:r[r.length-1]}}var C=Math.floor(h/2),y=r[C],S=r[h+C];return{min:r[0],firstQuartile:y,median:p,thirdQuartile:S,max:r[r.length-1]}},this.runBitRateTest=function(){apiCC.webRTCCompliant?(V.debug("Run bitrate test"),"initial"===this.testId&&(this.handlers=[{type:"joinMCUSessionAnswer",callback:this.handleJoinMCUSessionAnswer.bind(this)},{type:"MCUAvailableStream",callback:this.handleMCUAvailableStream.bind(this)},{type:"onCallStatsUpdate",callback:this.handleOnCallStatsUpdate.bind(this)},{type:"remoteStreamAdded",callback:this.handleRemoteStreamAdded.bind(this)},{type:"userMediaSuccess",callback:this.handleuserMediaSuccess.bind(this)},{type:"MCURecordedStreamsAvailable",callback:this.handleRecordingStreamAvailable.bind(this)}],this.handlers.forEach((function(e){apiRTC.addEventListener(e.type,e.callback)})),this.webRTCClient.setMCUConnector("mcu4.apizee.com"),this.webRTCClient.setAllowMultipleCalls(!0),this.webRTCClient.enableCallStatsMonitoring(!0,1e3),this.webRTCClient.enableQualityEvaluating(!0,1e3),this.startNextTest())):(this.report.failurCause="Your device is not WebRTC Compliant",this.terminate())},this.startNextTest=function(){if(!0===this.simpleVideoRecordTest)"initial"===this.testId?(V.debug("initial simple test"),t?this.runResolutionTest():this.startTestAudioNlVideo(2e3)):"resolution-test"===this.testId?(V.debug("resolution-test simple"),this.startTestAudioNlVideo(2e3)):"audio-and-video-2000"===this.testId&&(V.debug("Before recordThenTerminate simple"),this.recordThenTerminate());else if("initial"===this.testId)t?this.runResolutionTest():this.startTestAudioNlVideo(n);else if("resolution-test"===this.testId)this.startTestAudioNlVideo(n);else if(this.testId==="audio-and-video-"+n)if("success"===this.report[this.testId].status){var e=this.report[this.testId].subscribeCallIds[0],r=this.stats[e].videoReceived;void 0!==r.bitsReceivedPerSecond.max&&r.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():r.bitsReceivedPerSecond.max>=15e5?this.startTestAudioNlVideo(1500):r.bitsReceivedPerSecond.max>=1e6?this.startTestAudioNlVideo(1e3):r.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):r.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-1500"===this.testId)if("success"===this.report[this.testId].status){var i=this.report[this.testId].subscribeCallIds[0],a=this.stats[i].videoReceived;void 0!==a.bitsReceivedPerSecond.max&&a.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():a.bitsReceivedPerSecond.max>=1e6?this.startTestAudioNlVideo(1e3):a.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):a.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-1000"===this.testId)if("success"===this.report[this.testId].status){var o=this.report[this.testId].subscribeCallIds[0],s=this.stats[o].videoReceived;void 0!==s.bitsReceivedPerSecond.max&&s.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():s.bitsReceivedPerSecond.max>=6e5?this.startTestAudioNlVideo(600):s.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-600"===this.testId)if("success"===this.report[this.testId].status){var l=this.report[this.testId].subscribeCallIds[0],c=this.stats[l].videoReceived;void 0!==c.bitsReceivedPerSecond.max&&c.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():c.bitsReceivedPerSecond.max>=25e4?this.startTestAudioNlVideo(250):this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else if("audio-and-video-250"===this.testId)if("success"===this.report[this.testId].status){var u=this.report[this.testId].subscribeCallIds[0],d=this.stats[u].videoReceived;void 0!==d.bitsReceivedPerSecond.max&&d.bitsReceivedPerSecond.max+.15*this.videoBandwidth*1e3>=1e3*this.videoBandwidth?this.recordThenTerminate():this.startTestAudioNlOnly()}else this.startTestAudioNlOnly();else this.recordThenTerminate()},this.startTestAudioNlVideo=function(e){this.prepareEnvForNewTest(),V.debug("%ctestAudioNlVideo"+e),this.testId="audio-and-video-"+e,this.report.tests.push(this.testId),this.audioEnabled=!0,this.videoEnabled=!0,this.videoBandwidth=e,this.webRTCClient.setRemoteVideoBandwidth(this.videoBandwidth),this.stats={},this.report[this.testId]={audioEnabled:!0,audioLimited:!1,videoEnabled:!0,videoLimited:!0,videoBandwidth:this.videoBandwidth,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),2e4)},this.startTestAudioNlOnly=function(){this.prepareEnvForNewTest(),V.debug("%cstartTestAudioNlOnly"),this.testId="audio-only",this.report.tests.push(this.testId),this.audioEnabled=!0,this.videoEnabled=!1,this.webRTCClient.setRemoteVideoBandwidth(null),this.stats={},this.report[this.testId]={audioEnabled:!0,audioLimited:!1,videoEnabled:!1,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),2e4)},this.startTestVideoNlOnly=function(){this.prepareEnvForNewTest(),V.debug("%cstartTestVideoNlOnly"),this.testId="video-only",this.report.tests.push(this.testId),this.audioEnabled=!1,this.videoEnabled=!0,this.videoBandwidth=600,this.webRTCClient.setRemoteVideoBandwidth(this.videoBandwidth),this.stats={},this.report[this.testId]={audioEnabled:!1,audioLimited:!1,videoEnabled:!0,stats:this.stats},this.mcuSession={},this.mcuSession.roomId=this.generateRoomId(),this.report[this.testId].roomId=this.mcuSession.roomId,this.webRTCClient.joinMCUSession(this.mcuSession.roomId),this.stepId="joining-mcu-session",this.timeoutId=setTimeout(this.abortJoinMCUSession.bind(this),2e4)},this.recordThenTerminate=function(){!0===a.modifyMeshModeEnabledValueBeforePreCall&&(V.debug("Restoring meshModeEnabled to true, as it was modified for precall test"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.meshModeEnabled=!0);var e=null;if(a.videoEnabled&&a.audioEnabled?e="AUDIO-VIDEO":a.audioEnabled?e="AUDIO-ONLY":a.videoEnabled&&(e="VIDEO-ONLY"),!e)return V.error("Can't define record type"),void a.terminate();V.debug("Start recording with type:",e),a.webRTCClient.startRecording(e,"recordPreCall",null,null,{ttl:900}),setTimeout((function(){V.debug("Stop recording"),a.webRTCClient.stopRecording()}),1e4)},this.terminate=function(){V.debug("Terminate"),this.testId="terminated",this.handlers&&this.handlers.forEach((function(e){apiRTC.removeEventListener(e.type,e.callback)})),this.notifyTerminated(this.report),this.leaveSession()},this.succeed=function(){B.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"success",stepId:this.stepId}),this.report[this.testId].status="success",this.startNextTest()},this.fail=function(){V.debug("fail"),B.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"failure",stepId:this.stepId}),this.report[this.testId].status="failure",this.report[this.testId].stepId=this.stepId,this.leaveSession(),this.startNextTest()},this.prepareEnvForNewTest=function(){void 0!==a.mcuSession&&a.leaveSession()},this.abortJoinMCUSession=function(){V.debug("abortJoinMCUSession"),this.fail()},this.abortStreamPublishing=function(){V.debug("abortStreamPublishing"),this.fail()},this.abortStreamSubscribing=function(){V.debug("abortStreamSubscribing"),this.fail()},this.observeStreamPublished=function(){if(V.debug("observeStreamPublished"),"Safari"===apiRTC.browser||"Mobile Safari"===apiRTC.browser)return V.info("Safari"),V.error("observeStreamPublished not supported on Safari"),clearInterval(this.intervalId),void this.fail();if(this.intervalCounter+=1,this.intervalCounter>30)return clearInterval(this.intervalId),void this.fail();if(this.audioEnabled&&this.videoEnabled){var e=0;if(void 0!==this.stats[this.publishCallId]&&(void 0!==this.stats[this.publishCallId].audioSent&&void 0!==this.stats[this.publishCallId].audioSent.bitsSentPerSecond&&this.stats[this.publishCallId].audioSent.bitsSentPerSecond.thirdQuartile>=2e4&&(e+=1),void 0!==this.stats[this.publishCallId].videoSent&&void 0!==this.stats[this.publishCallId].videoSent.bitsSentPerSecond&&this.stats[this.publishCallId].videoSent.bitsSentPerSecond.thirdQuartile>=125e3&&(e+=1)),2===e){clearInterval(this.intervalId);var t=this.streams[0];this.subscribeToUserStream(t.attributes.callerId,t.id,"VIDEO"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),2e4)}else V.debug("okCnt !== 2")}else if(this.audioEnabled)if(void 0!==this.stats[this.publishCallId])if(void 0!==this.stats[this.publishCallId].audioSent&&void 0!==this.stats[this.publishCallId].audioSent.bitsSentPerSecond)if(this.stats[this.publishCallId].audioSent.bitsSentPerSecond.thirdQuartile>=2e4){clearInterval(this.intervalId);var n=this.streams[0];this.subscribeToUserStream(n.attributes.callerId,n.id,"AUDIOONLY"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),2e4)}else V.debug("no stats audio 1 ");else V.debug("no stats audio 2");else V.debug("no stats audio 3");else if(this.videoEnabled)if(void 0!==this.stats[this.publishCallId])if(void 0!==this.stats[this.publishCallId].videoSent&&void 0!==this.stats[this.publishCallId].videoSent.bitsSentPerSecond)if(this.stats[this.publishCallId].videoSent.bitsSentPerSecond.thirdQuartile>=125e3){clearInterval(this.intervalId);var r=this.streams[0];this.subscribeToUserStream(r.attributes.callerId,r.id,"VIDEOONLY"),this.stepId="stream-subscribing",this.timeoutId=setTimeout(this.abortStreamSubscribing.bind(this),2e4)}else V.debug("no stats video 1 ");else V.debug("no stats video 2");else V.debug("no stats video 3");else V.debug("no audio or video"),clearInterval(this.intervalId),this.fail()},this.observeStreamSubscribed=function(){if(this.intervalCounter+=1,this.intervalCounter>30)return clearInterval(this.intervalId),void this.succeed();var e=null,t=null,n=0,r=0;this.audioEnabled&&(e=this.stats[this.publishCallId].audioSent),this.videoEnabled&&(t=this.stats[this.publishCallId].videoSent);for(var i=0;i<this.subscribeCallIds.length;i+=1){var a=this.subscribeCallIds[i];if(this.audioEnabled&&this.videoEnabled){var o=0;void 0!==this.stats[a]&&(void 0!==this.stats[a].audioReceived&&void 0!==this.stats[a].audioReceived.bitsReceivedPerSecond&&null!=e&&void 0!==e.bitsSentPerSecond&&this.stats[a].audioReceived.bitsReceivedPerSecond.thirdQuartile>=e.bitsSentPerSecond.firstQuartile-2e3&&(o+=1),void 0!==this.stats[a].videoReceived&&void 0!==this.stats[a].videoReceived.bitsReceivedPerSecond&&null!=t&&void 0!==t.bitsSentPerSecond&&this.stats[a].videoReceived.bitsReceivedPerSecond.thirdQuartile>=t.bitsSentPerSecond.firstQuartile&&(o+=1)),2===o&&(n+=1)}else this.audioEnabled?void 0!==this.stats[a]&&void 0!==this.stats[a].audioReceived&&void 0!==this.stats[a].audioReceived.bitsReceivedPerSecond&&null!=e&&void 0!==e.bitsSentPerSecond&&this.stats[a].audioReceived.bitsReceivedPerSecond.thirdQuartile>=e.bitsSentPerSecond.firstQuartile&&(n+=1):r+=1}r>0?(clearInterval(this.intervalId),this.fail()):n===this.subscribeCallIds.length&&(clearInterval(this.intervalId),this.succeed())},this.handleJoinMCUSessionAnswer=function(e){if("joining-mcu-session"===this.stepId){if(B.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"start",stepId:this.stepId}),clearTimeout(this.timeoutId),this.mcuSession.sessionId=e.detail.sessionId,this.mcuSession.token=e.detail.token,this.audioEnabled&&this.videoEnabled){var t=this,n={audio:{},video:{}};n=apiCC.setResolutionInConstraint(this.maxWidth,this.maxHeight,n),V.debug("constraints :",n),apiRTC.createUserMediaStream({type:"media",audioSourceId:this.audioSourceId,videoSourceId:this.videoSourceId,gum_config:n,release:function(e){V.debug("createUserMediaStream release",e.userMediaStreamId)},success:function(e){V.debug("createUserMediaStream success",e.userMediaStreamId),V.debug("audioSourceId",r),V.debug("videoSourceId",i)},failure:function(e,n){V.error("createUserMediaStream failure",e.userMediaStreamId),V.error("failure; userMediaStreamId: "+e.userMediaStreamId),V.error("failure; error: "+n),B.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"failure",stepId:this.stepId,createUserMediaStreamError:n}),t.terminate()}})}else if(this.audioEnabled)this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,{audioOnly:!0});else{if(!this.videoEnabled)return void this.fail();this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,{videoOnly:!0,qos:{videoStartQuality:"upper"}})}this.subscribeCallIds=[],this.report[this.testId].publishCallId=this.publishCallId,this.report[this.testId].subscribeCallIds=[],this.streams=[],this.stepId="stream-publishing",this.timeoutId=setTimeout(this.abortStreamPublishing.bind(this),2e4)}},this.handleuserMediaSuccess=function(e){var t={userMediaStreamId:e.detail.userMediaStreamId,qos:{videoStartQuality:"upper"}};this.userMediastreamId=e.detail.userMediaStreamId,this.publishCallId=this.webRTCClient.publish(this.mcuSession.roomId,this.mcuSession.sessionId,this.mcuSession.token,t),this.report[this.testId].publishCallId=this.publishCallId},this.handleRecordingStreamAvailable=function(e){V.debug("handleRecordingStreamAvailable"),this.terminate()},this.handleMCUAvailableStream=function(e){if("stream-publishing"===this.stepId&&!1===e.detail.isRemoteStream)for(var t=0;t<e.detail.streams.length;t+=1){var n=e.detail.streams[t];if(n.room===this.mcuSession.roomId&&n.attributes.callId===this.publishCallId&&"stream-publishing"===this.stepId){if(clearTimeout(this.timeoutId),this.stepId="stream-published",this.streams.push(n),!0===this.simpleVideoRecordTest){var r="VIDEO";!1===n.audio&&(r="VIDEOONLY"),!1===n.video&&(r="AUDIOONLY"),this.subscribeToUserStream(n.attributes.callerId,n.id,r),this.stepId="stream-subscribing"}else this.intervalId=setInterval(this.observeStreamPublished.bind(this),1e3);this.intervalCounter=0}}},this.handleRemoteStreamAdded=function(e){"stream-subscribing"===this.stepId&&void 0!==this.subscribeCallIds.find((function(t){return t===e.detail.callId}))&&(clearTimeout(this.timeoutId),this.stepId="stream-subscribed",this.intervalId=setInterval(this.observeStreamSubscribed.bind(this),1e3),this.intervalCounter=0)},this.handleOnCallStatsUpdate=function(e){var t=this;if("stream-published"!==this.stepId&&"stream-subscribing"!==this.stepId&&"stream-subscribed"!==this.stepId||(void 0===this.stats[this.publishCallId]&&(this.stats[this.publishCallId]={}),void 0!==e.detail.stats.audioSent&&(void 0===this.stats[this.publishCallId].audioSent&&(this.stats[this.publishCallId].audioSent={startTime:e.detail.stats.audioSent.timestamp,data:[]}),this.pushStats(this.stats[this.publishCallId].audioSent,e.detail.stats.audioSent)?this.stats[this.publishCallId].audioSent.data.length>=5&&["bitsSentPerSecond","packetsSentPerSecond"].forEach((function(n){var r=t.evalQuartiles(t.stats[t.publishCallId].audioSent.data,n);r.sampleCount=t.stats[t.publishCallId].audioSent.data.length,r.time=e.detail.stats.audioSent.timestamp-t.stats[t.publishCallId].audioSent.startTime,t.stats[t.publishCallId].audioSent[n]=r})):V.debug("audio stats not pushed for :",this.publishCallId)),void 0!==e.detail.stats.videoSent&&(void 0===this.stats[this.publishCallId].videoSent&&(this.stats[this.publishCallId].videoSent={startTime:e.detail.stats.videoSent.timestamp,data:[]}),this.pushStats(this.stats[this.publishCallId].videoSent,e.detail.stats.videoSent)?this.stats[this.publishCallId].videoSent.data.length>=5&&(["bitsSentPerSecond","packetsSentPerSecond","framesEncodedPerSecond"].forEach((function(n){var r=t.evalQuartiles(t.stats[t.publishCallId].videoSent.data,n);r.sampleCount=t.stats[t.publishCallId].videoSent.data.length,r.time=e.detail.stats.videoSent.timestamp-t.stats[t.publishCallId].videoSent.startTime,t.stats[t.publishCallId].videoSent[n]=r})),this.stats[this.publishCallId].videoSent.width=e.detail.stats.videoSent.width,this.stats[this.publishCallId].videoSent.height=e.detail.stats.videoSent.height):V.debug("video stats not pushed for :",this.publishCallId))),"stream-subscribed"===this.stepId)for(var n=function(n){i=0;var r=t.subscribeCallIds[n];void 0===t.stats[r]&&(t.stats[r]={}),void 0!==e.detail.stats.audioReceived&&(void 0===t.stats[r].audioReceived&&(t.stats[r].audioReceived={startTime:e.detail.stats.audioReceived.timestamp,data:[]}),t.pushStats(t.stats[r].audioReceived,e.detail.stats.audioReceived)?(i=t.stats[r].audioReceived.data.length,void 0===t.stats[r].audioReceived.data[i-1].mosS&&(t.stats[r].audioReceived.data[i-1].mosS={}),t.stats[r].audioReceived.data[i-1].mosS=e.detail.stats.quality.mosS,t.stats[r].audioReceived.data.length>=15&&(["bitsReceivedPerSecond","packetsReceivedPerSecond","delay"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].audioReceived.data,n);i.sampleCount=t.stats[r].audioReceived.data.length,i.time=e.detail.stats.audioReceived.timestamp-t.stats[r].audioReceived.startTime,t.stats[r].audioReceived[n]=i})),void 0!==t.stats[r].audioReceived.data[0].jitter&&["jitter"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].audioReceived.data,n,(function(e){return Math.floor(1e3*e)}));i.sampleCount=t.stats[r].audioReceived.data.length,i.time=e.detail.stats.audioReceived.timestamp-t.stats[r].audioReceived.startTime,t.stats[r].audioReceived[n]=i})),t.stats[r].audioReceived.packetsLost={max:e.detail.stats.audioReceived.packetsLost,sampleCount:t.stats[r].audioReceived.data.length,time:e.detail.stats.audioReceived.timestamp-t.stats[r].audioReceived.startTime},["packetsLostRatio"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].audioReceived.data,n);i.sampleCount=t.stats[r].audioReceived.data.length,i.time=e.detail.stats.audioReceived.timestamp-t.stats[r].audioReceived.startTime,t.stats[r].audioReceived[n]=i})),void 0===t.stats[r].audioReceived.mosS&&(t.stats[r].audioReceived.mosS={}),["mosS"].forEach((function(e){var n=t.evalQuartiles(t.stats[r].audioReceived.data,e);n.sampleCount=t.stats[r].audioReceived.data.length,t.stats[r].audioReceived[e]=n})))):V.error("audio stats not pushed for callId :",r)),void 0!==e.detail.stats.videoReceived&&(void 0===t.stats[r].videoReceived&&(t.stats[r].videoReceived={startTime:e.detail.stats.videoReceived.timestamp,data:[]}),t.pushStats(t.stats[r].videoReceived,e.detail.stats.videoReceived)?(i=t.stats[r].videoReceived.data.length,void 0===t.stats[r].videoReceived.data[i-1].mosV&&(t.stats[r].videoReceived.data[i-1].mosV={}),void 0===t.stats[r].videoReceived.data[i-1].mosAV&&(t.stats[r].videoReceived.data[i-1].mosAV={}),t.stats[r].videoReceived.data[i-1].mosV=e.detail.stats.quality.mosV,t.stats[r].videoReceived.data[i-1].mosAV=e.detail.stats.quality.mosAV,t.stats[r].videoReceived.data.length>=15&&(["bitsReceivedPerSecond","packetsReceivedPerSecond","framesDecodedPerSecond"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].videoReceived.data,n);i.sampleCount=t.stats[r].videoReceived.data.length,i.time=e.detail.stats.videoReceived.timestamp-t.stats[r].videoReceived.startTime,t.stats[r].videoReceived[n]=i})),void 0!==t.stats[r].videoReceived.data[0].jitter&&["jitter"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].videoReceived.data,n,(function(e){return Math.floor(1e3*e)}));i.sampleCount=t.stats[r].videoReceived.data.length,i.time=e.detail.stats.videoReceived.timestamp-t.stats[r].videoReceived.startTime,t.stats[r].videoReceived[n]=i})),t.stats[r].videoReceived.packetsLost={max:e.detail.stats.videoReceived.packetsLost,sampleCount:t.stats[r].videoReceived.data.length,time:e.detail.stats.videoReceived.timestamp-t.stats[r].videoReceived.startTime},["packetsLostRatio"].forEach((function(n){var i=t.evalQuartiles(t.stats[r].videoReceived.data,n);i.sampleCount=t.stats[r].videoReceived.data.length,i.time=e.detail.stats.videoReceived.timestamp-t.stats[r].videoReceived.startTime,t.stats[r].videoReceived[n]=i})),void 0===t.stats[r].videoReceived.mosV&&(t.stats[r].videoReceived.mosV={}),["mosV"].forEach((function(e){var n=t.evalQuartiles(t.stats[r].videoReceived.data,e);n.sampleCount=t.stats[r].videoReceived.data.length,t.stats[r].videoReceived[e]=n})),void 0===t.stats[r].videoReceived.mosAV&&(t.stats[r].videoReceived.mosAV={}),["mosAV"].forEach((function(e){var n=t.evalQuartiles(t.stats[r].videoReceived.data,e);n.sampleCount=t.stats[r].videoReceived.data.length,t.stats[r].videoReceived[e]=n})),t.stats[r].videoReceived.width=e.detail.stats.videoReceived.width,t.stats[r].videoReceived.height=e.detail.stats.videoReceived.height)):V.error("video stats not pushed for callId :",r))},r=0;r<this.subscribeCallIds.length;r+=1){var i;n(r)}},this.subscribeToUserStream=function(e,t,n){var r=this,i=this.webRTCClient.getStreamFromList(t);if(null!=i){var a=[];a.push(i),this.webRTCClient.subscribe(a,n).forEach((function(e){r.subscribeCallIds.push(e),r.report[r.testId].subscribeCallIds.push(e)}))}},this.leaveSession=function(){V.debug("leaveSession"),void 0!==this.streams&&"number"==typeof this.streams[0]&&this.webRTCClient.unsubscribe(this.streams[0]),null!==this.userMediastreamId&&apiRTC.releaseUserMediaStream(this.userMediastreamId),delete this.streams,delete this.subscribeCallIds,"string"==typeof this.publishCallId&&this.webRTCClient.unpublish(this.publishCallId),delete this.publishCallId,void 0!==this.mcuSession&&void 0!==this.mcuSession.sessionId&&(this.webRTCClient.leaveMCUSession(),delete this.mcuSession.sessionId),delete this.mcuSession,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.splice(0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.length),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionReqs.splice(0,apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionReqs.length),V.debug("leaveSession done")},this.runResolutionTest=function(){this.testId="resolution-test",this.stepId="resolution-test",B.createEvent({eventType:"preCallTestStatus",testId:this.testId,status:"start",stepId:this.stepId}),V.debug("Run resolution test"),this.startGetUserMedia(this.resolutions[this.currentResolution])},this.startGetUserMedia=function(e){V.debug("startGetUserMedia :",e);var t={audio:!1,video:{}};t=apiCC.setVideoSourceIdInConstraint(this.videoSourceId,t),t=apiCC.setResolutionInConstraint(e[0],e[1],t),V.debug("startGetUserMedia constraints:",t),apiCC.getUserMedia(t).then(function(t){this.resolutions.length>1?(this.report.resolutions.push(e[2]+":   "+e[0]+"x"+e[1]),this.maxWidth=e[0],this.maxHeight=e[1],t.getTracks().forEach((function(e){e.stop()})),this.maybeContinueGetUserMedia()):V.debug("No video track in returned stream.")}.bind(this)).catch(function(t){V.debug("startGetUserMedia catch error:",t),this.resolutions.length>1?V.debug(e[0]+"x"+e[1]+" not supported"):V.error("getUserMedia failed with error: "+t.name),this.maybeContinueGetUserMedia()}.bind(this))},this.maybeContinueGetUserMedia=function(){this.currentResolution!==this.resolutions.length-1?(this.currentResolution++,this.startGetUserMedia(this.resolutions[this.currentResolution])):this.startNextTest()}},H=r.a.get("ApiCCWebRTCClient"),q=function(e,t,n,r,o,s){H.debug("apiCC.ApiCCWebRTCClient"),this.myWebRTC_Event=apiCC.myWebRTC_Event,this.webRTCClient=new W(e),this.webRTCClient.channelReady=!0,this.callTest=null,"undefined"==typeof apiRTC_React&&this.webRTCClient.initialize(t,n,r,o,s),this.call=function(t,n,r){return"RECORD"===n&&H.warn("DEPRECATED : usage of data parameter on call() as a string with 'RECORD' value will be deprecated in a next version of apiRTC. Please consider using a JSON Data parameter instead : data = {isRecorded : true}"),!0===this.webRTCClient.recordedCall&&(H.log("recordedCall option is activated"),void 0!==n&&"RECORD"!==n||(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString()),void 0!==n&&("RECORD"!==n&&!0!==n.isRecorded||(H.log("recordedCall option is activated"),"RECORD"===n&&(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString())),null!=r&&!0===r.record&&(H.log("callConfiguration record option is activated"),void 0!==n&&"RECORD"!==n||(n={}),n.MCUType="MCU-Caller",n.confId=Math.floor(1000001*Math.random()).toString()),H.log("session.webRTCPluginActivated =",e.webRTCPluginActivated),("IE"===i.b||"Safari"===i.b&&i.d<11)&&!0===e.webRTCPluginActivated?(H.log("managing call with WebRTC Plugin"),null==r&&(r={}),r.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){H.log("manageWebRTCPlugin cb in call"),apiCC.session.apiCCWebRTCClient.webRTCClient.callWithNumber(t,!0,n,r)}),(function(){H.log("actionOnInstallationNeeded")})),r.apzcallId):(H.log("managing call with browser"),this.webRTCClient.callWithNumber(t,!0,n,r))},this.getStatsFromCall=function(e,t){var n=this.webRTCClient.findCallWithCallId(e);null===n?t(new Error("Call was not found"),null):null===n.pc?t(new Error("Call has no peerconnection"),null):!0===this.webRTCClient.csmEnable?t(null,this.webRTCClient.csmLastResults):t(new Error("Call stats monitoring not activated"),null)},this.testCall=function(t){return H.log("session.webRTCPluginActivated =",e.webRTCPluginActivated),("IE"===i.b||"Safari"===i.b&&i.d<11)&&!0===e.webRTCPluginActivated?(H.log("managing call with WebRTC Plugin"),null==t&&(t={}),t.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){H.log("manageWebRTCPlugin cb in call"),apiCC.session.apiCCWebRTCClient.webRTCClient.startTestCall(!0,t)}),(function(){H.log("actionOnInstallationNeeded")})),t.apzcallId):(H.log("managing call with browser"),this.webRTCClient.startTestCall(!0,t))},this.setClientTurnServer=function(e){this.webRTCClient.setClientTurnServer(e)},this.activateScreenSharing=function(e){this.webRTCClient.activateScreenSharing(e)},this.shareScreen=function(e,t,n){return H.info("shareScreen"),this.webRTCClient.shareScreen(e,t,n)},this.startScreenSharingOnCall=function(e,t){H.info("startScreenSharingOnCall"),this.webRTCClient.startScreenSharingOnCall(e,t)},this.startDataChannel=function(e,t){if(H.info("startDataChannel"),!("Edge"===i.b&&i.d<79))return void 0!==t?t.dataCall=!0:(t={}).dataCall=!0,this.webRTCClient.callWithNumber(e,!0,t,null);H.warn("Cannot startDataChannel as it is not supported on Edge")},this.startDataChannelOnCall=function(e){this.webRTCClient.startDataChannelOnCall(e)},this.sendDataWithCallId=function(e,t,n){this.webRTCClient.sendDataWithCallId(e,t,n)},this.callAudio=function(e,t,n){return H.info("callAudio"),this.webRTCClient.callWithNumber(e,!1,t,n)},this.callbymail=function(e){this.webRTCClient.callbymail(e)},this.addMedia=function(e){return this.webRTCClient.addMedia(e),e},this.hangUp=function(e){this.webRTCClient.onHangup(e)},this.getMyMedia=function(e,t){H.info("getMyMedia : ",e),"screen"===e?this.webRTCClient.shareScreen("LOCAL",{},t):this.webRTCClient.getUserMedia()},this.releaseStream=function(e){H.info("releaseStream : ",e),H.info("releaseStream.callId : ",e.callId),void 0!==e.callId?this.webRTCClient.removeCallFromTableWithCallIdAndSendBye(e.callId,"stop_ScreenSharing"):this.webRTCClient.stopStream(e)},this.autoAnswerUserMediaSuccessHandler=function(e){H.info("autoAnswerUserMediaSuccessHandler :"+e),e=null,this.webRTCClient.autoAnswer=!0},this.autoAnswerUserMediaErrorHandler=function(e){H.info("autoAnswerUserMediaErrorHandler :"+e),e=null,this.webRTCClient.autoAnswer=!1},this.activateAutoAnswer=function(){apiCC.addEventListener("userMediaSuccess",this.callback(this,"autoAnswerUserMediaSuccessHandler")),apiCC.addEventListener("userMediaError",this.callback(this,"autoAnswerUserMediaErrorHandler")),this.webRTCClient.getUserMedia()},this.getAutoAnswer=function(){return this.webRTCClient.autoAnswer},this.setUnidirectionalCall=function(e){!0===e||!1===e?this.webRTCClient.unidirectionelCallOnly=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUnidirectionalCall()","PARAMETER_ERROR_SETUNIDIRCALL")},this.setReceiveMediaDeactivated=function(e){!0===e||!1===e?this.webRTCClient.receiveMediaDeactivated=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setReceiveMediaDeactivated()","PARAMETER_ERROR_SETRECVMEDIADEACTIVATED")},this.setPreferVP9Codec=function(e){!0===e||!1===e?this.webRTCClient.preferVP9Codec=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setPreferVP9Codec()","PARAMETER_ERROR_SETPREFERVP9CODEC")},this.setPreferH264Codec=function(e){!0===e||!1===e?this.webRTCClient.preferH264Codec=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setPreferH264Codec()","PARAMETER_ERROR_SETPREFERH264CODEC")},this.getUnidirectionalCall=function(){return this.webRTCClient.unidirectionelCallOnly},this.toggleVideoMute=function(e){return this.webRTCClient.toggleVideoMute(e)},this.isVideoMuted=function(e){var t;return H.debug("isVideoMuted :",e),null==e?this.webRTCClient.isVideoMuted:(H.debug("callId is defined :",e),-1!==(t=this.webRTCClient.findCallIndexWithCallId(e))?this.webRTCClient.callsTable[t].isLocalVideoMuted:void 0)},this.toggleAudioMute=function(e){return this.webRTCClient.toggleAudioMute(e)},this.sendDTMF=function(e,t,n,r){return this.webRTCClient.sendDTMF(e,t,n,r)},this.isAudioMuted=function(e){var t;return H.debug("isAudioMuted :",e),null==e?this.webRTCClient.isAudioMuted:(H.debug("callId is defined :",e),-1!==(t=this.webRTCClient.findCallIndexWithCallId(e))?this.webRTCClient.callsTable[t].isLocalAudioMuted:void 0)},this.setNtoNConf=function(e){!0===e||!1===e?this.webRTCClient.NtoNConf=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setNtoNConf()","PARAMETER_ERROR_SETNTONCONF")},this.getNtoNConf=function(){return this.webRTCClient.NtoNConf},this.setRTPMedia=function(e){!0===e||!1===e?this.webRTCClient.RTPMedia=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setRTPMedia()","PARAMETER_ERROR_SETRTPMEDIA")},this.getRTPMedia=function(){return this.webRTCClient.RTPMedia},this.setMediaRoutingMode=function(e){"hostOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.hostOnly:"stun"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.stun:"stunOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.stunOnly:"turn"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.turn:"turnOnly"===e?this.webRTCClient.mediaRoutingMode=this.webRTCClient.mediaRoutingModeEnum.turnOnly:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setMediaRoutingMode()","PARAMETER_ERROR_SETMEDIAROUTINGMODE")},this.enableQos=function(e,t){"Chrome"!==apiCC.browser&&"Firefox"!==apiCC.browser&&(H.warn("enableQos() is only supported on Chrome and Firefox, support on other browsers will be added soon"),e=!1),H.info("this.enableQos="+e),this.webRTCClient.qosEnable=e,this.webRTCClient.qosInterval=t||this.webRTCClient.qosInterval},this.enableCallStatsMonitoring=function(e,t){["chrome","firefox"].indexOf(a.c.type)<0?H.warn("enableCallStatsMonitoring() is only supported on Chrome and Firefox, support on other browsers will be added soon"):(this.webRTCClient.csmEnable=e,t&&(this.webRTCClient.csmIntervalMs=t))},this.enableQualityEvaluating=function(e,t){["chrome","firefox"].indexOf(a.c.type)<0?H.warn("enableQualityEvaluating() is only supported on Chrome and Firefox, support on other browsers will be added soon"):(this.webRTCClient.qualityScoreEnable=e,t&&(this.webRTCClient.qualityScoreIntervalMs=t))},this.getMediaRoutingMode=function(){var e=null;return this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.hostOnly?e="hostOnly":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.stun?e="stun":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.stunOnly?e="stunOnly":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.turn?e="turn":this.webRTCClient.mediaRoutingMode===this.webRTCClient.mediaRoutingModeEnum.turnOnly&&(e="turnOnly"),e},this.setMediaTypeForIncomingCall=function(e){H.debug("setMediaTypeForIncomingCall :",e),"VIDEO"===e||"AUDIO"===e||"VIDEOONLY"===e||"NONE"===e?this.webRTCClient.mediaTypeForIncomingCall=e:H.log("setMediaTypeForIncomingCall, value is not correct",e)},this.setMediaTypeForOutgoingCall=function(e){H.debug("setMediaTypeForOutgoingCall :",e),"VIDEO"===e||"AUDIO"===e||"VIDEOONLY"===e||"NONE"===e?this.webRTCClient.mediaTypeForOutgoingCall=e:H.log("setMediaTypeForOutgoingCall, value is not correct",e)},this.setStereo=function(e){H.info("setStereo :",e),!0===e?(this.webRTCClient.setStereo=e,this.webRTCClient.gum_config={audio:{mandatory:{echoCancellation:!1,googEchoCancellation:!1},optional:[]},video:{mandatory:{},optional:[]}}):!1===e?this.webRTCClient.setStereo=e:H.log("setStereo, value is not correct",e)},this.setMCUConnector=function(e){H.info("setMCUConnector :",e),H.log("setting value :",e),"mcu4.apizee.com"===e?this.webRTCClient.MCUClient.pubConnector="janusConnector":"mcu3.apizee.com"===e?this.webRTCClient.MCUClient.pubConnector="groupKurentoConnector":H.log("value is incorrect :",e)},this.enableMeshRoomMode=function(e){H.info("enableMeshRoomMode :",e),"IE"===i.b?(H.log("IE detected, MeshRoomMode is not supported"),this.webRTCClient.MCUClient.meshModeEnabled=!1):this.webRTCClient.MCUClient.meshModeEnabled=e},this.setAllowAsymetricMediaCalls=function(e){H.info("setAllowAsymetricMediaCalls :",e),!0===e||!1===e?this.webRTCClient.allowAsymetricMediaCalls=e:H.log("setAllowAsymetricMediaCalls, value is not correct",e)},this.takeSnapshot=function(t,n,r,i,a,o,s){this.webRTCClient.takeSnapshot(t,n,e.apiKey,r,i,a,o,s)},this.takeSnapshotAndSendOnDataChannel=function(e,t,n,r){this.webRTCClient.takeSnapshotAndSendOnDataChannel(e,t,n,r)},this.setUserAcceptOnIncomingCall=function(e){H.info("setUserAcceptOnIncomingCall :",e),!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALL")},this.setUserAcceptOnIncomingCallBeforeGetUserMedia=function(e){H.info("setUserAcceptOnIncomingCallBeforeGetUserMedia :",e),!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingCallBeforeGetUserMedia=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingCallBeforeGetUserMedia()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALLBEFOREGUM")},this.setUserAcceptOnIncomingDataCall=function(e){!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingDataCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingDataCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOCALL")},this.setUserAcceptOnIncomingScreenSharingCall=function(e){!0===e||!1===e?this.webRTCClient.userAcceptOnIncomingScreenSharingCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setUserAcceptOnIncomingScreenSharingCall()","PARAMETER_ERROR_SETUSERACCEPTONINCOSCREENSHARINGCALL")},this.setHideLocalVideoOnCall=function(e){!0===e||!1===e?this.webRTCClient.hideLocalVideoOnCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : hideLocalVideoOnCall()","PARAMETER_ERROR_SETHIDELOCALVIDEOONCALL")},this.setAllowMultipleCalls=function(e){!0===e||!1===e?this.webRTCClient.allowMultipleCalls=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setAllowMultipleCalls()","PARAMETER_ERROR_SETALLOWMULTIPLECALLS")},this.setPcConfig=function(e){H.info("Setting PC_config to :",e),this.webRTCClient.pc_config=e},this.setPcConstraints=function(e){H.info("Setting PC_constraints to :"+e),this.webRTCClient.pc_constraints=e},this.setGetUserMediaConfig=function(e){this.webRTCClient.setGetUserMediaConfig(e)},this.setTrickleIce=function(e){H.info("Setting trickleIce to :"+e),!0===e||!1===e?this.webRTCClient.trickleIce=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setTrickleIce()","PARAMETER_ERROR_SETTRICKLEICE")},this.setRecordedCall=function(e){!0===e||!1===e?this.webRTCClient.recordedCall=e:this.myWebRTC_Event.createErrorEvent("parameter error when calling function : setRecordedCall()","PARAMETER_ERROR_SETRECORDEDCALL")},this.getRecordedCall=function(){return this.webRTCClient.recordedCall},this.acceptCall=function(e,t){this.webRTCClient.acceptCall(e,t)},this.refuseCall=function(e){H.info("refuseCall"),this.webRTCClient.refuseCall(e)},this.toggleVideoScreen=function(e){H.info("toggleVideoScreen"),this.webRTCClient.toggleVideoScreen(e)},this.switchVideoToScreen=function(e){H.info("switchVideoToScreen"),this.webRTCClient.switchVideoToScreen(e)},this.switchScreenToVideo=function(e){H.info("switchScreenToVideo"),this.webRTCClient.switchScreenToVideo(e)},this.addVideoMedia=function(e){H.info("addVideoMedia"),this.webRTCClient.addVideoMedia(e)},this.updateMediaDeviceOnCall=function(e,t){return H.info("updateMediaDeviceOnCall"),this.webRTCClient.updateMediaDeviceOnCall(e,t)},this.updateMediaTypeOnCall=function(e,t){return!Object(a.h)(e,"string")||"VIDEO"!==t&&"AUDIOONLY"!==t&&"VIDEOONLY"!==t?Promise.reject("wrong arguments"):this.webRTCClient.updateMediaTypeOnCall(e,t)},this.releaseUserMedia=function(){this.webRTCClient.releaseUserMedia()},this.setAllowedAudioCodecs=function(e){this.webRTCClient.allowedAudioCodecs=e},this.setAllowedVideoCodecs=function(e){this.webRTCClient.allowedVideoCodecs=e},this.setAudioBandwidth=function(e){this.webRTCClient.setAudioBandwidth(e)},this.setVideoBandwidth=function(e){},this.setRemoteVideoBandwidth=function(e){this.webRTCClient.setVideoBandwidth(e,"remote")},this.setOverallIncomingVideoBandwidth=function(e){this.webRTCClient.setVideoBandwidth(e,"overall","incoming")},this.setOverallOutgoingVideoBandwidth=function(e){this.webRTCClient.setVideoBandwidth(e,"overall","outgoing")},this.setPerCallIncomingVideoBandwidth=function(e){this.webRTCClient.setVideoBandwidth(e,"perCall","incoming")},this.setPerCallOutgoingVideoBandwidth=function(e){this.webRTCClient.setVideoBandwidth(e,"perCall","outgoing")},this.setDataBandwidth=function(e){this.webRTCClient.setDataBandwidth(e)},this.createMCUSession=function(e,t){H.info("createMCUSession"),this.webRTCClient.MCUClient.initDivElements(e,t),this.webRTCClient.MCUClient.createSession()},this.joinMCUSession=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return H.debug("joinMCUSession"),e?this.webRTCClient.MCUClient.joinSession(e,t):new Error("wrong roomId")},this.getMCUStreamList=function(){return H.debug("getMCUStreamList"),this.webRTCClient.MCUClient.getStreamList()},this.getStreamFromList=function(e){return H.debug("getStreamFromList"),this.webRTCClient.MCUClient.getStreamFromList(e)},this.getStreamIdOfUser=function(e){return H.debug("getStreamIdOfUser"),this.webRTCClient.MCUClient.getStreamIdOfUser(e)},this.getCallIdFromStreamId=function(e){H.debug("getCallIdFromStreamId");var t=this.webRTCClient.findCallWithStreamId(e);return null===t?(H.log("call not found in getCallIdFromStreamId"),null):t.callId},this.getCallIdFromRemoteMCUUser=function(e){var t,n;return H.debug("getCallIdFromRemoteMCUUser"),t=this.webRTCClient.MCUClient.getStreamIdOfUser(e),null===(n=this.webRTCClient.findCallWithStreamId(t))?(H.log("call not found in getCallIdFromRemoteMCUUser"),null):n.callId},this.ejectParticipantFromMCUSession=function(e,t,n){this.webRTCClient.MCUClient.ejectParticipant(e,t,n)},this.publish=function(e,t,n,r,a,o){if("IE"===i.b&&(H.log("apiCC.session.webRTCPluginActivated ="+apiCC.session.webRTCPluginActivated),H.log("apiCC.webRTCPluginInstalled ="+apiCC.webRTCPluginInstalled)),("IE"===i.b||"Safari"===i.b&&i.d<11)&&!0===apiCC.session.webRTCPluginActivated&&!1===apiCC.webRTCPluginInstalled)return H.log("managing call with WebRTC Plugin"),null==r&&(r={}),r.apzcallId=apiCC.generateCallId(),apiCC.manageWebRTCPlugin((function(){apiCC.webRTCPluginInstalled=!0,H.info("manageWebRTCPlugin cb in call");var i=this.webRTCClient.MCUClient.getSessionMCU(e);return i&&"mesh"===i.roomMode?this.webRTCClient.MCUClient.meshPublish(e,t,n,r,a,o):(H.debug("publish"),this.webRTCClient.MCUClient.publish(e,t,n,r,a,o))}),(function(){H.log("actionOnInstallationNeeded")})),r.apzcallId;var s=this.webRTCClient.MCUClient.getSessionMCU(e);return s&&"mesh"===s.roomMode?this.webRTCClient.MCUClient.meshPublish(e,t,n,r,a,o):(H.debug("publish"),this.webRTCClient.MCUClient.publish(e,t,n,r,a,o))},this.unpublish=function(e){H.info("unpublish"),this.webRTCClient.MCUClient.unpublish(e)},this.publishScreen=function(e,t,n,r){var i=this.webRTCClient.MCUClient.getSessionMCU(e);return i&&"mesh"===i.roomMode?(H.info("publishScreen"),this.webRTCClient.MCUClient.meshPublishScreen(e,t,n,r)):(H.info("publishScreen"),this.webRTCClient.MCUClient.publishScreen(e,t,n,r))},this.subscribe=function(e,t,n,r,a){return H.info("subscribe :",e),"IE"===i.b&&(H.log("apiCC.session.webRTCPluginActivated ="+apiCC.session.webRTCPluginActivated),H.log("apiCC.webRTCPluginInstalled ="+apiCC.webRTCPluginInstalled)),("IE"===i.b||"Safari"===i.b&&i.d<11)&&!0===apiCC.session.webRTCPluginActivated&&!1===apiCC.webRTCPluginInstalled?(H.log("managing call with WebRTC Plugin"),apiCC.manageWebRTCPlugin((function(){return apiCC.webRTCPluginInstalled=!0,H.log("manageWebRTCPlugin cb in subscribe"),"boolean"==typeof t&&(H.warn("DEPRECATED : usage of audioOnly parameter on subscribe() is now replaced by mediatype with value VIDEO, AUDIOONLY or VIDEOONLY and will be deprecated in a next version of apiRTC"),t=!0===t?"AUDIOONLY":"VIDEO"),apiCC.session.apiCCWebRTCClient.subscribe(e,t,n,r)}),(function(){H.log("actionOnInstallationNeeded")})),"WebRTC_Plugin"):("boolean"==typeof t&&(H.warn("DEPRECATED : usage of audioOnly parameter on subscribe() is now replaced by mediatype with value VIDEO, AUDIOONLY or VIDEOONLY and will be deprecated in a next version of apiRTC"),t=!0===t?"AUDIOONLY":"VIDEO"),this.webRTCClient.MCUClient.subscribeToStreams(e,t,n,r,a))},this.unsubscribe=function(e){H.info("unsubscribe :",e),this.webRTCClient.MCUClient.unsubscribe(e)},this.startStreaming=function(e,t,n,r){return H.info("startStreaming"),this.webRTCClient.MCUClient.startStreaming(e,t,n,r)},this.stopStreaming=function(e){return H.info("stopStreaming"),this.webRTCClient.MCUClient.stopStreaming(e)},this.startRecording=function(e,t,n,r,i){H.info("startRecording"),this.webRTCClient.MCUClient.startRecording(e,t,n,r,i)},this.stopRecording=function(e){H.info("stopRecording"),this.webRTCClient.MCUClient.stopRecording(e)},this.changeStreamPriority=function(e,t){var n=this.webRTCClient.findCallWithCallId(e);if(!n&&!(n=this.webRTCClient.findUserMediaById(e)))return H.error("changeStreamPriority - no such call",e),!1;if(!n.sessionMCU)return H.error("changeStreamPriority - no such sessionMCU"),!1;if(!Object(a.h)(t,"number")||t<0)return H.error("changeStreamPriority - wrong priority",t),!1;var r=JSON.stringify({type:"changeStreamPriority",roomId:n.sessionMCU.roomName,callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:e,data:{pubSub:this.webRTCClient.MCUClient.pubConnector,priority:t}});return H.log("C->S: "+r),apiCC.session.channel.socket.emit("changeStreamPriority",r),!0},this.startComposite=function(e){H.info("startComposite"),this.webRTCClient.MCUClient.startComposite(e)},this.stopComposite=function(e){H.info("stopComposite"),this.webRTCClient.MCUClient.stopComposite(e)},this.startCompositeRecording=function(e,t,n,r,i){H.info("startCompositeRecording"),this.webRTCClient.MCUClient.startCompositeRecording(e,t,n,r,i)},this.stopCompositeRecording=function(e){H.info("stopCompositeRecording"),this.webRTCClient.MCUClient.stopCompositeRecording(e)},this.checkCallExist=function(e){for(var t=null,n=this.webRTCClient.callsTable.length;--n>=0;){var r=this.webRTCClient.callsTable[n];if(r.callId===e&&r.data&&r.sessionMCU&&("MCU-Caller"===r.data.MCUType||"MCU-Callee"===r.data.MCUType)&&r.data.confId===r.sessionMCU.roomName){t=r;break}}return t||H.error("startCallRecording: no such call"),t},this.startCallRecording=function(e){var t;if(t=this.checkCallExist(e)){var n=Object(a.a)({},t.data);this.webRTCClient.MCUClient.startCompositeRecording("AUDIO-VIDEO",null,t.sessionMCU.convId,n,t.sessionMCU.roomName)}},this.stopCallRecording=function(e){var t;(t=this.checkCallExist(e))&&this.webRTCClient.MCUClient.stopCompositeRecording(t.sessionMCU.roomName)},this.enforceMCU=function(e){this.webRTCClient.MCUClient.enforceMCU(e)},this.takeSnapshotOnMCUSession=function(e){return H.info("takeSnapshotOnMCUSession"),this.webRTCClient.MCUClient.takeSnapshot(e)},this.sendMCUSessionInvitation=function(e,t,n){this.webRTCClient.MCUClient.sendSessionInvitation(e,t,n)},this.sendMCUSessionInvitationToGroupChat=function(e,t){this.webRTCClient.MCUClient.sendSessionInvitationToGroupChat(e,t)},this.acceptMCUSessionInvitation=function(e,t,n,r){this.webRTCClient.MCUClient.initDivElements(n,r),this.webRTCClient.MCUClient.acceptSessionInvitation(e,t)},this.leaveMCUSession=function(e){this.webRTCClient.MCUClient.leaveSession(e)},this.recordStream=function(e){H.info("recordStream :",e),void 0!==MediaRecorder?apiCC.recordMgr.record(e).then((function(){H.log("Recording started")})).catch((function(e){H.error("startRecord failed :",e)})):H.debug("MediaRecorder is not supported on this browser, leaving recordStream process")},this.stopRecordStream=function(e){H.info("stopRecordStream"),void 0!==MediaRecorder?apiCC.recordMgr.stop().then((function(t){H.log("Recording stopped"),e(t)})).catch((function(e){H.error("stopRecord failed :",e)})):H.debug("MediaRecorder is not supported on this browser, leaving recordStream process")},this.getMediaDevices=function(e){H.debug("getMediaDevices 2"),apiCC.getMediaDevices().then((function(t){e(t),apiCC.mediaDeviceMgr.gotSources(t)})).catch((function(t){e(null),apiCC.mediaDeviceMgr.gotSources(null)}))},this.setAudioSourceId=function(e){H.info("setAudioSourceId :"+e),this.webRTCClient.audioSourceId=e},this.setAudioOutputId=function(e){H.info("setaudioOutputId :"+e),this.webRTCClient.audioOutputId=e},this.setVideoSourceId=function(e){H.info("setVideoSourceId :"+e),this.webRTCClient.videoSourceId=e},this.setVideoFacingMode=function(e){H.info("setVideoFacingMode :"+e),"user"===e||"environment"===e||"left"===e||"right"===e||"deactivated"===e?this.webRTCClient.facingMode="deactivated"===e?null:e:H.log("facingMode value is not correct")},this.attachMediaStream=function(e,t){H.debug("attachMediaStream"),apiCC.attachMediaStream(e,t)},this.addStreamInDiv=function(e,t,n,r,i,a){H.debug("addStreamInDiv"),apiCC.addStreamInDiv(e,t,n,r,i,a)},this.removeElementFromDiv=function(e,t){H.debug("removeElementFromDiv"),apiCC.removeElementFromDiv(e,t)},this.setSelectedStream=function(e){H.warn("setSelectedStream() is now deprecated")},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.startPrecallTest=function(e,t,n,r,i){var a={webRTCClient:this,notifyTerminated:e};this.callTest=new z(a,t,n,r,i),this.callTest.runBitRateTest()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCUserMediaStream",(function(){return fe})),n(12),n(14),n(16),n(44),n(31),n(8),n(27),n(121),n(52),n(60),n(10),n(92),n(22),n(120),n(167),n(7),n(21),n(17),n(11),n(129),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(49),n(15),n(30);var r=n(5),i=n(1),a=n(3);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(18),n(193),n(36),n(37),n(38),n(39);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"applyFilter",value:function(e,t){}},{key:"release",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),e}();function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){var n;return n=(e/=255)<.09804?.001857/.09804*e:e<.2?.05807/.10196*(e-.09804)+.001857:e<.298?.1267/.09804*(e-.2)+.05993:e<.4?.1564/.10196*(e-.298)+.1866:e<.498?.1539/.09804*(e-.4)+.343:e<.6?.1601/.10196*(e-.498)+.4969:e<.698?.1506/.09804*(e-.6)+.657:e<.8?.1325/.10196*(e-.698)+.8076:e<.898?.05753/.09804*(e-.8)+.9401:.002403/.10196*(e-.898)+.9976,255*Math.pow(n,t)}function f(e,t){return 255*Math.pow(e/255,t)}n(168),n(149),n(47);var h=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.width=n,this.height=r,this.length=this.width*this.height}var t,n,r;return t=e,(n=[{key:"mean",value:function(){var e=0,t=0,n=0;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])for(var r=0;r<this.length;r++)e+=Math.pow(this.image.data[4*r+0],2)/(255*this.length),t+=Math.pow(this.image.data[4*r+1],2)/(255*this.length),n+=Math.pow(this.image.data[4*r+2],2)/(255*this.length);else for(var i=0;i<this.length;i++)e+=this.image.data[4*i+0]/this.length,t+=this.image.data[4*i+1]/this.length,n+=this.image.data[4*i+2]/this.length;return[e,t,n]}},{key:"mad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l(this.mean(e),3),n=t[0],r=t[1],i=t[2],a=0,o=0,s=0;if(e)for(var c=0;c<this.length;c++)a+=Math.abs(Math.pow(this.image.data[4*c+0],2)/255-n)/this.length,o+=Math.abs(Math.pow(this.image.data[4*c+1],2)/255-r)/this.length,Math.abs(Math.pow(this.image.data[4*c+2],2)/255-i),this.length;else for(var u=0;u<this.length;u++)a+=Math.abs(this.image.data[4*u+0]-n)/this.length,o+=Math.abs(this.image.data[4*u+1]-r)/this.length,s+=Math.abs(this.image.data[4*u+2]-i)/this.length;return[a,o,s]}},{key:"std",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l(this.mean(e),3),n=t[0],r=t[1],i=t[2],a=0,o=0,s=0;if(e)for(var c=0;c<this.length;c++)a+=Math.pow(Math.pow(this.image.data[4*c+0],2)/255-n,2)/this.length,o+=Math.pow(Math.pow(this.image.data[4*c+1],2)/255-r,2)/this.length,s+=Math.pow(Math.pow(this.image.data[4*c+2],2)/255-i,2)/this.length;else for(var u=0;u<this.length;u++)a+=Math.pow(this.image.data[4*u+0]-n,2)/this.length,o+=Math.pow(this.image.data[4*u+1]-r,2)/this.length,s+=Math.pow(this.image.data[4*u+2]-i,2)/this.length;return[a=Math.sqrt(a),o=Math.sqrt(o),s=Math.sqrt(s)]}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=document.createElement("canvas"),n=t.getContext("2d");return t.width=this.width,t.height=this.height,n.putImageData(this.image,0,0),n.filter="blur("+e+"px)",n.drawImage(t,0,0,this.width,this.height),n.getImageData(0,0,this.width,this.height)}},{key:"threshold",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new ImageData(this.image.data,this.width,this.height),o=0;if(i){var s=o;o=r,r=s}for(var l=0;l<this.length;l++)this.image.data[4*l+0]<e?a.data[4*l+0]=o:a.data[4*l+0]=r,this.image.data[4*l+1]<t?a.data[4*l+1]=o:a.data[4*l+1]=r,this.image.data[4*l+2]<n?a.data[4*l+2]=o:a.data[4*l+2]=r;return a}},{key:"powerFilter",value:function(e){var t=new Uint8ClampedArray(4*this.length);if(1===e)return this.image;for(var n=0;n<this.length;n++)t[4*n+0]=f(this.image.data[4*n+0],e),t[4*n+1]=f(this.image.data[4*n+1],e),t[4*n+2]=f(this.image.data[4*n+2],e),t[4*n+3]=255;return new ImageData(t,this.width,this.height)}},{key:"sigmoidFilter",value:function(e){for(var t=new Uint8ClampedArray(4*this.length),n=0;n<this.length;n++)t[4*n+0]=d(this.image.data[4*n+0],e),t[4*n+1]=d(this.image.data[4*n+1],e),t[4*n+2]=d(this.image.data[4*n+2],e),t[4*n+3]=255;return new ImageData(t,this.width,this.height)}},{key:"weightedSum",value:function(e,t){for(var n=new Uint8ClampedArray(4*this.length),r=0;r<this.length;r++)n[4*r+0]=t*this.image.data[4*r+0]+(1-t)*e.data[4*r+0],n[4*r+1]=t*this.image.data[4*r+1]+(1-t)*e.data[4*r+1],n[4*r+2]=t*this.image.data[4*r+2]+(1-t)*e.data[4*r+2],n[4*r+3]=255;return new ImageData(n,this.width,this.height)}},{key:"weightedSumMask",value:function(e,t){for(var n=new Uint8ClampedArray(4*this.length),r=0;r<this.length;r++){var i=t.data[4*r]/255;n[4*r+0]=i*this.image.data[4*r+0]+(1-i)*e.data[4*r+0],n[4*r+1]=i*this.image.data[4*r+1]+(1-i)*e.data[4*r+1],n[4*r+2]=i*this.image.data[4*r+2]+(1-i)*e.data[4*r+2],n[4*r+3]=255}return new ImageData(n,this.width,this.height)}}])&&u(t.prototype,n),r&&u(t,r),e}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;p(this,e),this.blurMask=t,this.smoothBorder=n,this.blurFactor=r,this.smoothingFactor=i,this.maskImage=null,this.net=null}var t,n,r;return t=e,(n=[{key:"loadModel",value:function(){var e=this;return new Promise((function(t,n){bodyPix.load({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:2}).then((function(n){e.net=n,t()}))}))}},{key:"computeMask",value:function(e){var t=this;return new Promise((function(n,r){t.net.segmentPerson(e).then((function(e){t.width=e.width,t.height=e.height,t.length=t.width*t.height;for(var r=new Uint8ClampedArray(4*t.length),i=0;i<t.length;i++){var a=255*e.data[i];r[4*i+0]=a,r[4*i+1]=a,r[4*i+2]=a,r[4*i+3]=255}var o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.width,o.height=t.height;var l=new ImageData(r,t.width,t.height);if(s.putImageData(l,0,0),t.blurMask&&(s.filter="blur("+t.blurFactor+"px)"),s.drawImage(o,0,0,t.width,t.height),t.maskImage=s.getImageData(0,0,t.width,t.height),t.blurMask)if(t.smoothBorder){if(-1!==t.smoothingFactor){var c=new h(t.maskImage,t.width,t.height);t.maskImage=c.sigmoidFilter(t.smoothingFactor)}}else{var u=new h(t.maskImage,t.width,t.height);t.maskImage=u.threshold(40,40,40,255,!1)}n(t.maskImage)}))}))}},{key:"applyTransparency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=this.maskImage);for(var n=new Uint8ClampedArray(e.width*e.height*4),r=0;r<e.width*e.height;r++)n[4*r+0]=e.data[4*r+0],n[4*r+1]=e.data[4*r+1],n[4*r+2]=e.data[4*r+2],n[4*r+3]=t.data[4*r];return new ImageData(n,e.width,e.height)}},{key:"superposeImages",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return null===r&&(r=this.maskImage),new h(t,e.width,e.height).weightedSumMask(n,r)}},{key:"setBackground",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.superposeImages(e,e,t,n)}},{key:"blurBackground",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new h(e,e.width,e.height).blur(t);return this.setBackground(e,r,n)}}])&&m(t.prototype,n),r&&m(t,r),e}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=r.a.get("StreamSegmentation"),y=apiCC.myWebRTC_Event,S=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.mediaStream=t,this.backgroundMode="none",this.backgroundBlurFactor=10,this.canvasWidth=n,this.canvasHeight=r,this.length=this.canvasWidth*this.canvasHeight,this.userMediaStreamId=i;for(var a=new Uint8ClampedArray(4*this.length),o=0;o<4*this.length;o++)a[o]=255;this.backgroundImage=new ImageData(a,this.canvasWidth,this.canvasHeight);var s=!0,l=!0,c=5,u=-1;this.backSub=new v(s,l,c,u),this.modelLoaded=!1,this.maskStreamLaunched=!1,this.backgroundSubtractionActivated=!1}var t,n,r;return t=e,(n=[{key:"setBackgroundMode",value:function(e){this.backgroundMode=e}},{key:"setBackgroundImage",value:function(e){this.backgroundImage=e}},{key:"setBackgroundBlurFactor",value:function(e){this.backgroundBlurFactor=e}},{key:"loadModel",value:function(){C.debug("Loading model");var e=this;return new Promise((function(t,n){e.backSub.loadModel().then((function(n){e.modelLoaded=!0,C.debug("Model loaded"),t()}))}))}},{key:"getMaskStream",value:function(){var e=document.createElement("video");e.srcObject=this.mediaStream;var t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.canvasWidth,t.height=this.canvasHeight;var r=document.createElement("canvas"),i=r.getContext("2d");r.width=this.canvasWidth,r.height=this.canvasHeight;var a=this;e.addEventListener("loadeddata",(function(){e.play(),requestAnimationFrame(h),a.modelLoaded?u=!0:a.loadModel().then((function(e){u=!0}))}));for(var o=!0,s=new Uint8ClampedArray(4*this.length),l=0;l<4*this.length;l++)s[l]=255;var c=new ImageData(s,this.canvasWidth,this.canvasHeight);i.putImageData(c,0,0);var u=!1,d=0,f=!0;function h(){n.drawImage(e,0,0,t.width,t.height);var r=n.getImageData(0,0,t.width,t.height);if(a.modelLoaded&&o&&u&&(f||"none"!==a.backgroundMode)){f&&(f=!1);var s=new Date;o=!1,a.backSub.computeMask(r).then((function(e){o=!0,1/((new Date-s)/1e3)<1&&++d>=10&&(u=!1,C.error("The segmentation process cannot be handled"),y.createBackgroundSubstractionStopComputeTimeEvent(a.userMediaStreamId))}))}a.modelLoaded&&null!==a.backSub.maskImage&&u?i.putImageData(a.backSub.maskImage,0,0):i.putImageData(c,0,0),a.continueMaskComputation?requestAnimationFrame(h):(C.debug("Mask computation stoped"),a.continueMaskComputation=!0)}return this.continueMaskComputation=!0,this.maskMediaStream=r.captureStream(),this.maskStreamLaunched=!0,this.maskMediaStream}},{key:"activateBackgroundSubtraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e&&this.setBackgroundMode(e),this.backgroundSubtractionActivated)return this.processedMediaStream;this.maskStreamLaunched||this.getMaskStream();var t=document.createElement("video");t.srcObject=this.mediaStream;var n=document.createElement("video");n.srcObject=this.maskMediaStream;var r=document.createElement("canvas"),i=r.getContext("2d");r.width=this.canvasWidth,r.height=this.canvasHeight;var a=document.createElement("canvas"),o=a.getContext("2d");a.width=this.canvasWidth,a.height=this.canvasHeight,this.continueBackgroundSubtraction=!0;var s=this;function l(){i.drawImage(t,0,0,r.width,r.height);var e=i.getImageData(0,0,r.width,r.height);if("none"===s.backgroundMode)o.putImageData(e,0,0);else{i.drawImage(n,0,0,r.width,r.height);var a=i.getImageData(0,0,r.width,r.height),c=null;switch(s.backgroundMode){case"image":c=s.backSub.setBackground(e,s.backgroundImage,a);break;case"blur":c=s.backSub.blurBackground(e,s.backgroundBlurFactor,a);break;case"transparent":c=s.backSub.applyTransparency(e,a);break;default:c=s.backSub.blurBackground(e,s.backgroundBlurFactor,a)}o.putImageData(c,0,0)}s.continueBackgroundSubtraction?requestAnimationFrame(l):(C.debug("Mask application stoped"),s.continueBackgroundSubtraction=!0)}return t.addEventListener("loadeddata",(function(){t.play(),n.play(),requestAnimationFrame(l)})),this.processedMediaStream=a.captureStream(30),this.backgroundSubtractionActivated=!0,this.processedMediaStream}},{key:"deactivateBackgroundSubtraction",value:function(){this.setBackgroundMode("none"),this.processedMediaStream=this.mediaStream,this.backgroundSubtractionActivated=!1,this.continueBackgroundSubtraction=!1,this.maskMediaStream=null,this.maskStreamLaunched=!1,this.continueMaskComputation=!1}}])&&b(t.prototype,n),r&&b(t,r),e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=r.a.get("OldMediaFilterBackgroundSubtraction"),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,i=O(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).streamSegmentation=null,e.userMediaStreamId=null,e}return t=a,(n=[{key:"applyFilter",value:function(e,t){var n=this;k.debug("Apply filter with descriptor:",t);var r=e.getAudioTracks();r.length>0&&r.forEach((function(t){e.removeTrack(t)}));var i=e.getVideoTracks();if(0===i.length)return Promise.reject("MediaStream has no video tracks");var a=i[0].getSettings();return void 0!==t.options&&void 0!==t.options.userMediaStreamId&&(this.userMediaStreamId=t.options.userMediaStreamId),this.streamSegmentation=new S(e,a.width,a.height,this.userMediaStreamId),this.loadTensorflow().then((function(e){return n.loadTensorflowModel()})).then((function(e){return new Promise((function(e,i){k.debug("Model loading..."),n.streamSegmentation.loadModel().then((function(i){k.debug("Model loaded");var a=null;void 0!==t.options&&void 0!==t.options.backgroundMode&&("image"===t.options.backgroundMode&&t.options.image instanceof ImageData&&n.streamSegmentation.setBackgroundImage(t.options.image),a=t.options.backgroundMode);var o=n.streamSegmentation.activateBackgroundSubtraction(a);r.forEach((function(e){o.addTrack(e)})),e(o)}))}))})).catch((function(e){return Promise.reject(e)}))}},{key:"release",value:function(){this.streamSegmentation.deactivateBackgroundSubtraction(),this.streamSegmentation=null}},{key:"loadTensorflow",value:function(){return k.debug("Tensorflow script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){k.debug("Tensorflow script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){k.warn("Tensorflow loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.2"],"tensorflow",n)}))}},{key:"loadTensorflowModel",value:function(){return k.debug("Tensorflow model script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){k.debug("Tensorflow model script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){k.warn("Tensorflow model loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0"],"tensorflow-model",n)}))}}])&&T(t.prototype,n),r&&T(t,r),a}(s);function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){return(e[2]-e[0])*(e[3]-e[1])}function D(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],s=t[1],l=t[2],c=t[3],u=x([Math.max(n,o),Math.max(r,s),Math.min(i,l),Math.min(a,c)]);return u/(x(e)+x(t)-u)}function j(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.yolo,a={yolo:[]},o=_(i);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.objectness>n)if(null!==r){var l,c=s.bounding_box,u=x(c),d=0,f=null,h=0,p=_(i);try{for(p.s();!(l=p.n()).done;){var m=l.value,v=D(c,m.bounding_box);1!==v&&v>d&&(d=v,f=m,h=x(m.bounding_box))}}catch(e){p.e(e)}finally{p.f()}(null===f||d<r||h<u)&&a.yolo.push(s)}else a.yolo.push(s)}}catch(e){o.e(e)}finally{o.f()}return a}function P(e,t){var n,r=e.yolo,i={yolo:[]},a=_(t.yolo);try{for(a.s();!(n=a.n()).done;){var o,s=n.value,l=s.class,c=s.bounding_box,u=s.objectness,d=u,f=_(r);try{for(f.s();!(o=f.n()).done;){var h=o.value;if(h.class===l){var p=D(h.bounding_box,c);p>0&&(d=u+.75*(1-u)*p*h.objectness)}}}catch(e){f.e(e)}finally{f.f()}var m={class:l,objectness:d,bounding_box:c};i.yolo.push(m)}}catch(e){a.e(e)}finally{a.f()}return i}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(130),n(98),n(281),n(68),n(43),n(150),n(128),n(97);var F=r.a.get("StreamAIE"),W=apiCC.myWebRTC_Event,V=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaStream=t,this.descriptorOptions=n,this.modelName=n.modelName,this.maxBoxes=n.maxBoxes||null,this.scoreThresh=n.scoreThresh||null,this.forceReload=n.forceReload||!1,this.classFilter=this.descriptorOptions.classFilter||"all",this.drawingConfig=this.descriptorOptions.drawingConfig||{},this.userMediaStreamId=n.userMediaStreamId,this.clientId=n.clientId;var r=this.mediaStream.getVideoTracks();0===r.length&&(this.mediaSettings=null),this.mediaSettings=r[0].getSettings(),this.canvasWidth=this.mediaSettings.width||480,this.canvasHeight=this.mediaSettings.height||480,this.length=this.canvasWidth*this.canvasHeight,this.snapshot=!1,this.log=!1,this.minSnapshotPeriod=0,this.memoryTime=0,this.lastAnnotations={yolo:[]},this.lastRawAnnotations={yolo:[]},this.objectDetectionActivated=!1,this.drawAnnotationsBool=!1,this.aieUrl=null,this.token=null,this.loadedModel=null,this.promises=[],this.isReleased=!1,this.resinzingSize=416,this.callId=null}var t,n,r;return t=e,(n=[{key:"activateLogs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.memoryTime=e,this.log=!0}},{key:"stopLogs",value:function(){this.log=!1,this.memoryTime=0}},{key:"activateSnapshots",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.snapshot=!0,this.minSnapshotPeriod=e}},{key:"stopSnapshots",value:function(){this.snapshot=!1,this.minSnapshotPeriod=0}},{key:"activateAnnotations",value:function(){this.lastAnnotations={yolo:[]},this.drawAnnotationsBool=!0,this.getAnnotations()}},{key:"stopAnnotations",value:function(){this.drawAnnotationsBool=!1}},{key:"getAnnotations",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.createElement("video");t.srcObject=this.mediaStream;var n=document.createElement("canvas"),r=n.getContext("2d");n.width=this.canvasWidth,n.height=this.canvasHeight;var i=document.createElement("canvas"),a=i.getContext("2d");i.width=this.canvasWidth,i.height=this.canvasHeight;var o=this;function s(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[1]),a=i.length,o=new Uint8Array(a);a--;)o[a]=i.charCodeAt(a);return new File([o],t,{type:r})}t.addEventListener("loadeddata",(function(){t.play(),requestAnimationFrame((function(){b(o.aieUrl,o.token,o.loadedModel)}))}));var l=!0,c={},u=null,d=new Date;function f(e,t,r){var i=s(n.toDataURL("image/jpeg")),a={pipelineCallId:o.getOrCreatePipeline(),file:i,transferType:"plugin",pluginName:"httpPost",pluginData:{url:e,headers:{Authorization:"Token "+t},formData:{file:"$DATA",angled:1,model:r,size:o.resinzingSize}}};apiCC.session.apiCCWebRTCClient.webRTCClient.pushData(null,a,null,{success:function(n){var i=(new Date-u)/1e3,a=1/i;return F.debug("Computation time:",i,"s ,FPS:",a),b(e,t,r),void 0!==n.data.error?F.error("http post error :",n.data.error):void 0===n.data.result?F.error("An error occured when trying to annotate a snapshot"):void h(n.data)},failure:function(e,t,n){F.error("## pushData:failure",t,n,e)}})}function h(e){var t=e.result;o.isReleased||(o.lastRawAnnotations=t,void 0!==t.yolo&&m(t),void 0===t.ocr&&void 0===t.codes||p(t))}function p(e){o.lastAnnotations={ocr:e.ocr,codes:e.codes};var t="";if(e.ocr.length>1){t+="Words found : ";for(var n=0;n<e.ocr.length;n++)t=t+e.ocr[n].text+", "}if(e.codes.length>1){t+="Codes found : ";for(var r=0;r<e.codes.length;r++)t=t+e.codes[r].code+", "}v(t),g()}function m(t){t.yolo.length>0&&(e&&(t=P(o.lastRawAnnotations,t)),null!==o.scoreThresh&&(t=j(t,o.scoreThresh)));for(var n={yolo:[]},r={},i=o.classFilter.split(", "),a=0;a<t.yolo.length;a++){var s=t.yolo[a];("all"===o.classFilter||i.includes(s.class))&&(s.class in r||(r[s.class]=0),r[s.class]+=1,n.yolo.push(s))}if(t=n,o.lastAnnotations=t,o.log||o.snapshot){for(var l=new Date,u=[],d=0,f=Object.entries(r);d<f.length;d++){var h=N(f[d],2),p=h[0],m=h[1];u.push(m+" "+p+"(s) detected."),(!(p in c)||l-c[p]>1e3*o.memoryTime)&&(c[p]=l)}var b=u.sort().join(" ");""!==b&&(v(b),g())}}function v(e){o.log&&W.createAIELogEvent(o.userMediaStreamId,e)}function g(){if(o.snapshot){var e=new Date,t=r.getImageData(0,0,n.width,n.height);if(e-d>1e3*o.minSnapshotPeriod){a.putImageData(t,0,0),o.drawAnnotations(o.lastAnnotations,a,o.drawingConfig);var s=i.toDataURL("image/png"),l=new Image;l.src=s,W.createAIESnapshotEvent(o.userMediaStreamId,l),d=e}}}function b(e,i,a){r.drawImage(t,0,0,n.width,n.height),(l||o.drawAnnotationsBool)&&(l&&(l=!1),u=new Date,f(e,i,a))}}},{key:"getOrCreatePipeline",value:function(){if(null!==this.callId)return this.callId;var e=this;return this.callId=apiCC.session.apiCCWebRTCClient.webRTCClient.pushData(null,{transferType:"pipeline"},null,{failure:function(t){"dataChannelClosed"===t?(F.debug("dataChannelClosed : no activity on dataChannel timeout"),e.callId=null):F.error("dataChannel failure",t)}}),this.callId}},{key:"drawAnnotations",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n.color||"#ED5131",i=n.textColor||"#FFFFFF",a=n.colorMap||null,o=n.lineWidth||3,s=n.font||"15px Arial";if(void 0!==e.yolo&&e.yolo.length>0){null===n&&(n={});for(var l=0;l<e.yolo.length;l++){var c=e.yolo[l],u=c.bounding_box,d=u[0],f=u[1],h=u[2],p=u[3];"mask_augmented_refined"===this.modelName&&(h-=d,p-=f);var m=r;null!==a&&c.class in a&&(m=a[c.class]),t.lineWidth=o,t.strokeStyle=m,t.strokeRect(d,f,h,p),t.font=s;var v=parseInt(s,10),g=c.class,b=t.measureText(g).width;t.fillStyle=m,t.fillRect(d-o/2,f-Math.round(4*v/3),b+v+o,Math.round(4*v/3)),t.fillStyle=i,t.fillText(g,d+Math.round(v/2)-o/2,f-Math.round(v/2))}}if(void 0!==e.ocr&&e.ocr.length>0){null===n&&(n={}),s=n.font||"25px Arial";for(var C=0;C<e.ocr.length;C++){var y=e.ocr[C],S=y.bounding_box,w=S[0],T=S[1],I=S[2],O=S[3];"mask_augmented_refined"===this.modelName&&(I-=w,O-=T),t.lineWidth=o,t.strokeStyle=r,t.strokeRect(w,T,I,O),t.font=s;var E=parseInt(s,10),R=y.text,k=t.measureText(R).width;t.fillStyle=r,t.fillRect(w-o/2,T-Math.round(4*E/3),k+E+o,Math.round(4*E/3)),t.fillStyle=i,t.fillText(R,w+Math.round(E/2)-o/2,T-Math.round(E/2))}}if(void 0!==e.codes&&e.codes.length>0){null===n&&(n={}),s=n.font||"25px Arial";for(var M=0;M<e.codes.length;M++){var _=e.codes[M],A=_.bounding_box,x=A[0],D=A[1],j=A[2],P=A[3];"mask_augmented_refined"===this.modelName&&(j-=x,P-=D),t.lineWidth=o,t.strokeStyle=r,t.strokeRect(x,D,j,P),t.font=s;var N=parseInt(s,10),L=_.code,U=t.measureText(L).width;t.fillStyle=r,t.fillRect(x-o/2,D-Math.round(4*N/3),U+N+o,Math.round(4*N/3)),t.fillStyle=i,t.fillText(L,x+Math.round(N/2)-o/2,D-Math.round(N/2))}}}},{key:"activateObjectDetection",value:function(){if(this.objectDetectionActivated)return this.processedMediaStream;var e=document.createElement("video");e.srcObject=this.mediaStream;var t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.canvasWidth,t.height=this.canvasHeight;var r=document.createElement("canvas"),i=r.getContext("2d");r.width=this.canvasWidth,r.height=this.canvasHeight;var a=this;function o(){n.drawImage(e,0,0,t.width,t.height);var r=n.getImageData(0,0,t.width,t.height);i.putImageData(r,0,0),a.drawAnnotationsBool&&a.drawAnnotations(a.lastAnnotations,i,a.drawingConfig),requestAnimationFrame(o)}return e.addEventListener("loadeddata",(function(){e.play(),requestAnimationFrame(o)})),this.processedMediaStream=r.captureStream(),this.objectDetectionActivated=!0,this.processedMediaStream}},{key:"loadModel",value:function(){var e=this;return new Promise((function(t,n){F.debug("loading model");var r={modelName:e.modelName,maxBoxes:e.maxBoxes,scoreThresh:e.scoreThresh,forceReload:e.forceReload};e.sendMessage(r,"AIELoadModel",t,n)}))}},{key:"sendMessage",value:function(e,t,n,r){var i=setTimeout(r,5e3);this.promises.push({timeout:i,resolve:n}),e.timeout=i,this.sendMessageToCCS(e,t)}},{key:"sendMessageToCCS",value:function(e,t){if(e.userMediaStreamId=this.userMediaStreamId,e.clientId=this.clientId,e.data={pubSub:"AieConnector"},e.type=t,void 0!==apiCC){var n=apiCC.session.apiCCWebRTCClient.webRTCClient.socket;try{var r=JSON.stringify(e);n.emit(t,r)}catch(e){F.error("JSON Stringify error : ",e)}}}},{key:"modelLoaded",value:function(e){F.debug("Loaded model name :",e.modelName),this.aieUrl=e.url,this.loadedModel=e.modelName,this.token=e.token;var t=this.activateObjectDetection();this.promises.forEach((function(n){e.timeout===n.timeout&&(clearTimeout(n.timeout),n.resolve(t))}))}},{key:"release",value:function(){this.isReleased=!0,this.stopLogs(),this.stopSnapshots(),this.stopAnnotations(),this.sendMessageToCCS({},"AIELogout")}}])&&U(t.prototype,n),r&&U(t,r),e}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var i=J(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=r.a.get("MediaFilterAIE"),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,n,r,i=q(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).userMediaStreamId=null,e.streamAIE=null,e}return t=a,(n=[{key:"applyFilter",value:function(e,t){var n=this;return new Promise((function(r,i){if(Y.debug("Apply filter with descriptor :",t),void 0===t.options&&i("Filter options object required"),void 0===t.options.modelName)i("modelName options required");else{var a=e.getAudioTracks();a.length>0&&a.forEach((function(t){e.removeTrack(t)})),n.streamAIE=new V(e,t.options),n.streamAIE.loadModel().then((function(e){a.forEach((function(t){e.addTrack(t)})),r(e)})).catch((function(e){i(e)}))}}))}},{key:"release",value:function(){this.streamAIE.release()}}])&&z(t.prototype,n),r&&z(t,r),a}(s);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=r.a.get("MediaFilterBackgroundSubstraction"),re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,e);var t,n,r,i=X(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).mediaStream=null,e.mediaStreamSettings=null,e.processedMediaStream=null,e.net=null,e.lossRatio=null,e.processBackground=!1,e.bgImageData=null,e.videoElement=document.createElement("video"),e.canvas=document.createElement("canvas"),e.canvasContext=e.canvas.getContext("2d"),e}return t=a,(n=[{key:"applyFilter",value:function(e,t){var n=this;return new Promise((function(r,i){var a=e.getAudioTracks();a.length>0&&a.forEach((function(t){e.removeTrack(t)})),n.loadTensorflow().then((function(){n.loadTensorflowModel().then((function(){n.videoElement.srcObject=e;var i=n;n.videoElement.addEventListener("loadeddata",(function(){i.videoElement.play(),i.mediaStream=e,i.descriptors=t,i.processedMediaStream=i.canvas.captureStream(),i.mediaStreamSettings=i.mediaStream.getVideoTracks()[0].getSettings(),i.videoElement.height=240,i.lossRatio=i.mediaStreamSettings.height/i.videoElement.height,i.videoElement.width=i.videoElement.height*i.mediaStreamSettings.aspectRatio,i.videoElement.onplaying=function(){i.canvas.height=i.videoElement.videoHeight,i.canvas.width=i.videoElement.videoWidth},i.loadBodyPix().then((function(){a.forEach((function(e){i.processedMediaStream.addTrack(e)})),r(i.processedMediaStream)})).catch((function(e){ne.error(e)}))}))})).catch((function(e){ne.error(e)}))})).catch((function(e){ne.error(e)}))}))}},{key:"loadTensorflow",value:function(){return ne.debug("Tensorflow script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){ne.debug("Tensorflow script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){ne.warn("Tensorflow loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.2"],"tensorflow",n)}))}},{key:"loadTensorflowModel",value:function(){return ne.debug("Tensorflow model script loading..."),new Promise((function(e,t){var n={async:!0,numRetries:20,reqdelay:200,success:function(){ne.debug("Tensorflow model script loaded"),e()},error:function(e){t("Resources loading failed, depsNotFound: "+e)},retrycb:function(e,t){ne.warn("Tensorflow model loading retry :"+e+" ,delay before retry :"+t)}};apiCC.resourcesLoader.loadjs(["https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0"],"tensorflow-model",n)}))}},{key:"loadBodyPix",value:function(){var e=this;return new Promise((function(t,n){bodyPix.load({multiplier:.75,stride:32,quantBytes:4}).then((function(n){e.net=n,e.perform(),t()})).catch((function(e){return n(e)}))}))}},{key:"perform",value:function(){if(void 0!==this.descriptors.options&&void 0!==this.descriptors.options.backgroundMode)switch(this.processBackground=!0,this.descriptors.options.backgroundMode){case"blur":this.videoElement.height=this.mediaStreamSettings.height,this.videoElement.width=this.mediaStreamSettings.width,this.canvas.height=this.videoElement.height,this.canvas.width=this.videoElement.width,this.blurBackground();break;case"transparent":this.noBackground();break;case"image":void 0!==this.descriptors.options.image?(this.resizeImageData(this.descriptors.options.image),this.imageBackground()):ne.error("image option is required when creating the filter");break;default:ne.debug("The backgroundMode : ",this.descriptors.options.backgroundMode," is not implemented. Refer to documentation for accepted values."),this.blurBackground()}else ne.error("backgroundMode option is required")}},{key:"blurBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.blurBackground(),bodyPix.drawBokehEffect(e.canvas,e.videoElement,t,9,2,!1)}))}},{key:"noBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.drawImage(e.videoElement,0,0,e.videoElement.width,e.videoElement.height);for(var n=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height),r=n.data,i=0;i<r.length;i+=4)0===t.data[i/4]&&(r[i+3]=0);var a=e.scaleImageData(n,e.lossRatio);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(a,0,0),e.processBackground&&e.noBackground()}))}},{key:"imageBackground",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.putImageData(e.bgImageData,0,0,0,0,e.videoElement.width,e.videoElement.height);var n=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height);e.canvasContext.drawImage(e.videoElement,0,0,e.videoElement.width,e.videoElement.height);for(var r=e.canvasContext.getImageData(0,0,e.videoElement.width,e.videoElement.height),i=r.data,a=0;a<i.length;a+=4)0===t.data[a/4]&&(i[a]=n.data[a],i[a+1]=n.data[a+1],i[a+2]=n.data[a+2],i[a+3]=n.data[a+3]);var o=e.scaleImageData(r,e.lossRatio);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(o,0,0),e.processBackground&&e.imageBackground()}))}},{key:"resizeImageData",value:function(e){var t=this.videoElement.width/e.width,n=this.videoElement.height/e.height;this.bgImageData=t>=n?this.scaleImageData(e,t):this.scaleImageData(e,n)}},{key:"noBackgroundWithFullResolution",value:function(){var e=this;this.net.segmentPerson(this.videoElement).then((function(t){e.canvasContext.drawImage(e.videoElement,0,0,e.canvas.width,e.canvas.height);for(var n=e.canvasContext.getImageData(0,0,e.canvas.width,e.canvas.height),r=new Uint8ClampedArray(4*t.width*t.height),i=0;i<r.length;i+=4)0!==t.data[i/4]&&(r[i+3]=255);var a=new ImageData(r,t.width,t.height);a=e.scaleImageData(a,e.lossRatio);for(var o=0;o<n.data.length;o+=4)0===a.data[o+3]&&(n.data[o+3]=0);e.canvasContext.imageSmoothingEnabled=!0,e.canvasContext.putImageData(n,0,0),e.processBackground&&e.noBackgroundWithFullResolution()}))}},{key:"scaleImageData",value:function(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0);var r=document.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height;var i=r.getContext("2d");return i.scale(t,t),i.drawImage(n,0,0),i.getImageData(0,0,r.width,r.height)}},{key:"release",value:function(){this.processedMediaStream=this.mediaStream,this.processBackground=!1}}])&&$(t.prototype,n),r&&$(t,r),a}(s);function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=r.a.get("MediaFilterManager"),oe=apiCC.myWebRTC_Event,se={oldBackgroundSubtraction:M,AIEFilter:Z,backgroundSubtraction:re},le=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaStream=t,this.descriptors=n,this.userMediaStreamId=r,this.filters={}}var t,n,r;return t=e,(n=[{key:"getOrCreateFilter",value:function(e){if(void 0!==this.filters[e.type])return this.filters[e.type];var t=se[e.type];if(void 0===t)return ae.error("Unknown filter type: "+e.type),null;var n=new t;return this.filters[n]=n,n}},{key:"applyFilters",value:function(){var e=this;if(ae.info("Apply filters",this.descriptors),!Array.isArray(this.descriptors)||0===this.descriptors.length)return ae.error("No filter can be applied, filter descriptors have wrong format, it should be an array and contain at least one element",this.descriptors),Promise.reject(this.mediaStream);var t=Promise.resolve(this.mediaStream);return this.descriptors.forEach((function(n){var r=e.getOrCreateFilter(n);null!==r?(void 0!==n.options&&(n.options.userMediaStreamId=e.userMediaStreamId,n.options.clientId=apiCC.session.apiCCWebRTCClient.webRTCClient.clientId),t=t.then((function(e){return r.applyFilter(e,n)}))):ae.error("Filter "+n.type+" will be skipped. No implemented filter has this type")})),ae.info("Filters attached"),document.addEventListener("visibilitychange",(function(){e.createBackgroundSubstractionStopVisibilityChangeEvent(e.userMediaStreamId)})),t.catch((function(e){return ae.error(e)})),t}},{key:"createBackgroundSubstractionStopVisibilityChangeEvent",value:function(e){document.hidden&&oe.createBackgroundSubstractionStopVisibilityChangeEvent(e)}},{key:"release",value:function(){Object.values(this.filters).forEach((function(e){e.release()})),document.removeEventListener("visibilitychange",this.createBackgroundSubstractionStopVisibilityChangeEvent),this.filters=null,this.mediaStream=null}}])&&ie(t.prototype,n),r&&ie(t,r),e}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ue=r.a.get("ApiCCUserMediaStream"),de=apiCC.myWebRTC_Event,fe=function(){void 0!==Number.MAX_SAFE_INTEGER?this.userMediaStreamId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():this.userMediaStreamId=Math.floor(1000001*Math.random()).toString(),"Edge"===i.b&&i.d>=15?this.gum_config={audio:!0,video:!0}:"Chrome"===i.b&&i.d<49||"Firefox"===i.b&&i.d<50?this.gum_config={audio:{mandatory:{},optional:[]},video:{mandatory:{},optional:[]}}:this.gum_config={audio:{},video:{}},this.inputs={},this.callbacks={},this.callType=null,this.audio=!1,this.audioDeviceLabel=null,this.audioMuted=!1,this.video=!1,this.videoDeviceLabel=null,this.videoMuted=!1,this.stream=null,this.streamStolen=!1,this.notifyUserMediaSuccess=!0,this.notifyUserMediaStop=!0,null!==apiCC.session&&void 0!==apiCC.session?this.tryAudioCallAfterUserMediaError=apiCC.session.tryAudioCallAfterUserMediaError:this.tryAudioCallAfterUserMediaError=!1,this.callInfoList=[],this.iOSMediaSelectionWorkAroundApplied=!1,this.getUserMediaTimeoutId=null,"chrome"===a.c.type&&a.c.version>=72&&a.c.version<=73?this.displayMediaStreamConstraints={video:!0,audio:!1}:this.displayMediaStreamConstraints={video:!0,audio:!0},this.forceExtensionOnChrome=!1,this.filters=null,this.mediaFilterManager=null,this.videoSettings=!1,this.getVideoTrack=function(){if(!this.stream||"function"!=typeof this.stream.getVideoTracks)return null;var e=this.stream.getVideoTracks();return e&&1===e.length?e[0]:null},this.release=function(){var e=0,t=null,n=null,r=null;if(ue.debug("[ApiCCUserMediaStream] release; userMediaStreamId: "+this.userMediaStreamId),null!==this.mediaFilterManager&&(this.mediaFilterManager.release(),this.mediaFilterManager=null),null!==this.stream){if(this.sourceNode&&this.sourceNode.disconnect(),this.javascriptNode&&(this.javascriptNode.analyser&&this.javascriptNode.analyser.disconnect(),this.javascriptNode.disconnect()),!0!==this.streamStolen)if("undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc)void 0!==cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc&&(ue.debug("[ApiCCUserMediaStream] release on iosrtc cordova"),this.stream.onended=null);else if("Chrome"===i.b&&i.d<45||"Firefox"===i.b&&i.d<44||"Opera"===i.b&&i.d<34||"Chromium"===i.b&&i.d<44||"Chrome WebView"===i.b&&i.d<45)this.stream.onended=null,this.stream.stop();else for(this.stream.onended=null,e=(t=this.stream.getTracks()).length;--e>=0;)t[e].onended=null,t[e].stop();this.stream=null,this.streamStolen=!1,!0===this.notifyUserMediaStop&&(null!==(r=this.getOwnerCallInfo())&&(n=r.callId),de.createUserMediaStopEvent(n,this.callType,this.userMediaStreamId)),this.callbacks.release(this)}},this.getUserMedia=function(){var e=this;if(ue.debug("[ApiCCUserMediaStream] getUserMedia; userMediaStreamId: "+this.userMediaStreamId),null===this.stream)try{if("media"===this.callType)this.gum_config=apiCC.setAudioSourceIdInConstraint(this.inputs.audioSourceId,this.gum_config),this.gum_config=apiCC.setVideoSourceIdInConstraint(this.inputs.videoSourceId,this.gum_config),this.gum_config=apiCC.setVideoFacingModeInConstraint(this.inputs.facingMode,this.gum_config);else if("audio"===this.callType)this.gum_config=apiCC.setAudioSourceIdInConstraint(this.inputs.audioSourceId,this.gum_config),this.gum_config.video=!1;else{if("videoOnly"!==this.callType)return function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),void setTimeout(this.callbacks.failure.bind(this,this,"wrong type"));this.gum_config.audio=!1,this.gum_config=apiCC.setVideoSourceIdInConstraint(this.inputs.videoSourceId,this.gum_config),this.gum_config=apiCC.setVideoFacingModeInConstraint(this.inputs.facingMode,this.gum_config)}apiCC.checkConstraintDependingOnDevice(this.gum_config),"IE"===i.b&&i.e>8?apiCC.getUserMediaWithCB(this.gum_config,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):("Chrome"===i.b&&!0===this.isUserMediaAccessAllowed()&&(this.getUserMediaTimeoutId=setTimeout((function(){e.onUserMediaError("timeout")}),1e4)),apiCC.getUserMedia(this.gum_config).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError")))}catch(e){ue.error("getUserMedia() failed. Is this a WebRTC capable browser?"),ue.log("getUserMedia failed with exception: "+e.message)}},this.onUserMediaSuccess=function(e){var t=this;this.applyFiltersIfNeeded(e).then((function(e){var n=null,r=null,a=!1,o=t.getOwnerCallInfo(),s=t.getCall(o);ue.info("[ApiCCUserMediaStream] onUserMediaSuccess; userMediaStreamId: "+t.userMediaStreamId),null!==t.getUserMediaTimeoutId&&(clearTimeout(t.getUserMediaTimeoutId),t.getUserMediaTimeoutId=null),s&&(ue.debug("call exist"),r=s.callee?s.callerId:s.calleeId,a=s.restarted),"screenSharing"!==t.callType&&"screenSharingWithAudio"!==t.callType||(e.onended=t.callback(t,"stopScreenSharing"),e.getVideoTracks().length>0&&(e.getVideoTracks()[0].onended=t.callback(t,"stopScreenSharing"))),t.updateMediaProperties(e),t.stream=e,"Chrome"===i.b&&t.setUserMediaAccessAllowed(!0),!0===t.notifyUserMediaSuccess&&(o&&(n=o.callId),de.createUserMediaSuccessEvent(null!==n,t.audio,t.audioDeviceLabel,t.video,t.videoDeviceLabel,t.callType,n,e,r,a,t.userMediaStreamId)),ue.debug("Starting a new getMediaDevices after userMediaSuccess"),apiCC.mediaDeviceMgr.getMediaDevices("updatedAfterGetUserMediaSuccess"),t.callbacks.success(t)}))},this.updateMediaProperties=function(e){var t=!1,n="Unknown",r="Unknown",i=!1,a="Unknown";e.getAudioTracks().length>0&&(t=!0,e.getAudioTracks()[0].label&&(n=e.getAudioTracks()[0].label,r=e.getAudioTracks()[0].id,this.listenToAudio2(e))),e.getVideoTracks().length>0&&(i=!0,e.getVideoTracks()[0].label&&(a=e.getVideoTracks()[0].label)),this.audio=t,this.audioDeviceLabel=n,this.audioDeviceId=r,this.video=i,this.videoDeviceLabel=a},this.listenToAudio=function(e){ue.debug("listenToAudio()");for(var t=apiCC.getAudioContext(),n=this,r=!1,i=[],a=0;a<10;a++)i.push(0);null!=t?(this.javascriptNode=t.createScriptProcessor(2048,1,1),this.sourceNode=t.createMediaStreamSource(e),!0===apiCC.activeSpeakerDetect&&(ue.debug("activespeakerDetecting"),this.javascriptNode.connect(t.destination),this.javascriptNode.onaudioprocess=function(){var t,a,o,s=new Uint8Array(this.analyser.frequencyBinCount),l=0;for(this.analyser.getByteFrequencyData(s),a=0;a<s.length;a++)l+=s[a];var c=0;if((o={amplitude:l/s.length,active:e.active}).amplitude>apiCC.activeSpeakerThreshold&&!r){for(t=i.length-3;t<i.length;t++)c+=i[t];c>=2&&(r=!0,n.notifyActiveSpeaker(o.amplitude))}else if(o.amplitude<apiCC.activeSpeakerThreshold&&r){for(t=i.length-3;t<i.length;t++)c+=i[t];0===c&&(r=!1,n.notifyNotActiveSpeaker(o.amplitude))}i.push(0+(o.amplitude>apiCC.activeSpeakerThreshold))},this.javascriptNode.analyser=t.createAnalyser(),this.javascriptNode.analyser.smoothingTimeConstant=.3,this.javascriptNode.analyser.fftSize=1024,this.sourceNode.connect(this.javascriptNode.analyser),this.javascriptNode.analyser.connect(this.javascriptNode))):ue.debug("listenToAudioSources() - Unable to create audio context")},this.listenToAudio2=function(e){ue.debug("listenToAudio2()");var t=apiCC.getAudioContext(),n=this,r=null,i=!1;null!=t?(this.javascriptNode=t.createScriptProcessor(2048,1,1),this.sourceNode=t.createMediaStreamSource(e),!0===apiCC.activeSpeakerDetect&&(ue.debug("activeSpeakerDetecting"),this.javascriptNode.connect(t.destination),this.javascriptNode.onaudioprocess=function(){var e,t,a=new Uint8Array(this.analyser.frequencyBinCount),o=0;for(this.analyser.getByteFrequencyData(a),a.sort((function(e,t){return t-e})),a=a.slice(0,50),t=0;t<a.length;t++)o+=a[t];(e=o/a.length)>apiCC.activeSpeakerThreshold&&(i||(i=!0,n.notifyActiveSpeaker(e)),null!==r&&clearTimeout(r),r=setTimeout((function(){n.notifyNotActiveSpeaker(e),i=!1}),1e3))},this.javascriptNode.analyser=t.createAnalyser(),this.javascriptNode.analyser.smoothingTimeConstant=.5,this.javascriptNode.analyser.fftSize=1024,this.sourceNode.connect(this.javascriptNode.analyser),this.javascriptNode.analyser.connect(this.javascriptNode))):ue.debug("listenToAudioSources() - Unable to create audio context")},this.manageFailure=function(e){var t={};"object"===ce(e)?(t.message=e.message,t.code=e.code,t.name=e.name):t=e,this.callbacks.failure(this,t)},this.onUserMediaError=function(e){var t=function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}},n=null,r=this.getOwnerCallInfo();if(ue.info("[ApiCCUserMediaStream] onUserMediaError; userMediaStreamId: "+this.userMediaStreamId+", error: "+e),null!==this.getUserMediaTimeoutId&&("timeout"!==e&&clearTimeout(this.getUserMediaTimeoutId),this.getUserMediaTimeoutId=null),"electron"!==i.a&&"Chrome"===i.b&&i.d>47&&"https:"!==window.location.protocol&&ue.error("HTTPS is now mandatory to use getUserMedia()"),null!==r&&(n=r.callId),"media"===this.callType&&"iOS"===i.h.name&&"Mobile Safari"===i.b&&!1===this.iOSMediaSelectionWorkAroundApplied||de.createUserMediaErrorEvent(null!==n,this.callType,e,this.userMediaStreamId,n,this.tryAudioCallAfterUserMediaError,this.gum_config),"timeout"!==e&&"media"===this.callType)if("iOS"===i.h.name&&"Mobile Safari"===i.b&&!1===this.iOSMediaSelectionWorkAroundApplied){ue.warn("try mediaDevice selection workaround on iOS / Mobile Safari - after MediaError"),this.iOSMediaSelectionWorkAroundApplied=!0,this.gum_config.video={};var a=apiCC.getMediaDeviceLabelFromDeviceid(this.inputs.videoSourceId);ue.log("getMediaDeviceLabelFromDeviceid :",a),"Cam\xe9ra arri\xe8re"===a||"Back Camera"===a?(ue.log("Setting FacingMode to environment :",a),this.gum_config=apiCC.setVideoFacingModeInConstraint("environment",this.gum_config)):(ue.log("Setting FacingMode to user :",a),this.gum_config=apiCC.setVideoFacingModeInConstraint("user",this.gum_config)),this.inputs.videoSourceId=null,this.getUserMedia()}else!0===this.tryAudioCallAfterUserMediaError?(ue.warn("try AudioCall after UserMediaError is activated"),this.tryAudioCallAfterUserMediaError=!1,!1!==this.gum_config.video?(ue.debug("[ApiCCUserMediaStream] Trying to getUserMedia with audioOnly"),this.inputs.videoSourceId=null,this.gum_config.video=!1,this.getUserMedia()):(t(this.userMediaStreamId),this.manageFailure(e))):(t(this.userMediaStreamId),this.manageFailure(e));else t(this.userMediaStreamId),this.manageFailure(e)},this.getDisplayMediaProcess=function(){var e=this;ue.debug("using getDisplayMedia with browser :",i.b),ue.debug("displayMediaStreamConstraints :",this.displayMediaStreamConstraints),"object"===ce(this.displayMediaStreamConstraints)&&!0!==Array.isArray(this.displayMediaStreamConstraints)||(ue.warn("Defined displayMediaStreamConstraints format is not correct, reinitialization ..."),"chrome"===a.c.type&&a.c.version>=72&&a.c.version<=73?this.displayMediaStreamConstraints={video:!0,audio:!1}:this.displayMediaStreamConstraints={video:!0,audio:!0},ue.debug("displayMediaStreamConstraints :",this.displayMediaStreamConstraints)),navigator.getDisplayMedia?(ue.debug("navigator.getDisplayMedia defined"),navigator.getDisplayMedia(this.displayMediaStreamConstraints).then((function(t){ue.debug("getDisplayMedia stream available"),e.onUserMediaSuccess(t)})).catch((function(t){ue.debug("getDisplayMedia error :",t),e.onUserMediaError(t)}))):navigator.mediaDevices.getDisplayMedia?(ue.debug("navigator.mediaDevices.getDisplayMedia defined"),navigator.mediaDevices.getDisplayMedia(this.displayMediaStreamConstraints).then((function(t){ue.debug("getDisplayMedia stream available"),e.onUserMediaSuccess(t)})).catch((function(t){ue.debug("getDisplayMedia error :",t),e.onUserMediaError(t)}))):(ue.debug("getDisplayMedia not available"),de.createDesktopCaptureEvent("Browser_Not_Compatible"))},this.getScreenMedia=function(){if(ue.debug("[ApiCCUserMediaStream] getScreenMedia; userMediaStreamId: "+this.userMediaStreamId),null===this.stream)if("Chrome"===i.b||"Firefox"===i.b&&i.d>=52)if("Chrome"===i.b)if(ue.log("shareScreen on Chrome"),i.d>=72&&!1===this.forceExtensionOnChrome)this.getDisplayMediaProcess();else{if(ue.debug("this.captureSourceType :",this.captureSourceType),!1===apiCC.apiRTCExtensionInstalled)return apiCC.waitingShareScreenUserMediaStreamId=this.userMediaStreamId,function(e){ue.debug("[ApiCCUserMediaStream] moveUserMediaEntryInWaitingScreen: "+e);for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.waitingShareScreenUserMediaStream=apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),void apiCC.manageNotInstalledExtension("getScreenMedia","getScreenMedia",this.captureSourceType);void 0!==this.captureSourceType&&null!==this.captureSourceType||(this.captureSourceType=["screen","window","tab"]),!1===Array.isArray(this.captureSourceType)&&(ue.warn("Defined captureSourceType format is not correct, reinitialization ..."),this.captureSourceType=["screen","window","tab"],ue.debug("this.captureSourceType :",this.captureSourceType)),window.postMessage({command:"getDesktopId",callNumber:this.userMediaStreamId,remoteId:"getScreenMedia",captureSourceType:this.captureSourceType,browser_major_version:i.d},"*")}else ue.log("shareScreen on Firefox"),i.d>=67?this.getDisplayMediaProcess():(void 0!==this.captureSourceType&&null!==this.captureSourceType||(this.captureSourceType="screen"),"string"==typeof this.captureSourceType&&(ue.warn("Defined captureSourceType format is not correct, reinitialization ..."),this.captureSourceType="screen",ue.debug("this.captureSourceType :",this.captureSourceType)),this.registerScreenMedia(this.captureSourceType));else this.getDisplayMediaProcess()},this.registerScreenMedia=function(e,t){var n=null,r=this.getOwnerCallInfo(),a=this.getCall(r),o=null;if(ue.debug("[ApiCCUserMediaStream] registerScreenMedia; userMediaStreamId: "+this.userMediaStreamId),"mediaError"===t)null!==a?(o=!0===a.callee?a.callerId:a.calleeId,"screenSharing"===a.callType||"screenSharingWithAudio"===a.callType?apiCC.session.apiCCWebRTCClient.webRTCClient.removeCallFromTableWithCallIdandRemoteId(a.callId,o,"Media_Error"):ue.log("switch video / screen : call is not removed"),"https:"!==window.location.protocol&&ue.log("Please connect to your web page using 'HTTPS'. This is mandatory for desktop capture"),de.createDesktopCaptureEvent("UserMediaError",a.callId,o)):(ue.log("Call not found on message EventListener"),de.createDesktopCaptureEvent("UserMediaError")),function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}}(this.userMediaStreamId),this.callbacks.failure(this,"UserMediaError");else try{if("Chrome"===i.b)ue.log("desktopId: "+t),n={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t}}};else{if(ue.log("captureSourceType: "+e),"screen"!==e&&"window"!==e&&"application"!==e)return void ue.error("captureSourceType value is not correct");n={video:{mediaSource:e}}}"IE"===i.b&&i.e>8?apiCC.getUserMediaWithCB(n,this.callback(this,"onUserMediaSuccess"),this.callback(this,"onUserMediaError")):apiCC.getUserMedia(n).then(this.callback(this,"onUserMediaSuccess")).catch(this.callback(this,"onUserMediaError"))}catch(e){ue.error("getUserMedia() failed. Is this a WebRTC capable browser?"),ue.log("getUserMedia failed with exception: "+e.message)}},this.stopScreenSharing=function(){ue.debug("[ApiCCUserMediaStream] stopScreenSharing; userMediaStreamId: "+this.userMediaStreamId);var e=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var t=this.callInfoList.length;--t>=0;)!0===this.callInfoList[t].owner&&(e=!1),apiCC.session.apiCCWebRTCClient.webRTCClient.onHangup(this.callInfoList[t].callId);!0===e&&this.release()},this.getCall=function(e){var t=null;return e&&apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient&&("call"===e.flavor?t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e.callId):"userMedia"===e.flavor&&(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(e.callId))),t},this.getOwnerCallInfo=function(){for(var e=this.callInfoList.length;--e>=0;)if(!0===this.callInfoList[e].owner)return this.callInfoList[e];return null},this.getCallInfo=function(e){for(var t=this.callInfoList.length;--t>=0;)if(this.callInfoList[t].callId===e)return this.callInfoList[t];return null},this.containsCallInfo=function(e){for(var t=!1,n=this.callInfoList.length;--n>=0;)if(this.callInfoList[n].callId===e){t=!0;break}return t},this.addCallInfo=function(e,t,n){return null!==e&&"string"==typeof e&&("call"!==t&&"userMedia"!==t&&(t="call"),null!==n&&"boolean"==typeof n||(n=!1),!this.containsCallInfo(e))&&(this.callInfoList.push({callId:e,flavor:t,owner:n}),!0)},this.removeCallInfo=function(e){for(var t=!1,n=this.callInfoList.length;--n>=0;)if(this.callInfoList[n].callId===e){this.callInfoList.splice(n,1),t=!0;break}return t},this.accessToLocalMedia=function(){return"screenSharing"!==this.callType&&"screenSharingWithAudio"!==this.callType&&"data"!==this.callType&&null!==this.stream},this.muteAudioOnStreams=function(){return ue.debug("[ApiCCUserMediaStream] muteAudioOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getAudioTracks().forEach((function(e){e.enabled=!1})),this.audioMuted=!0,this.notifyMLineMuted("audio",!0),{type:"audio",muted:!0}},this.unMuteAudioOnStreams=function(){return ue.debug("[ApiCCUserMediaStream] unMuteAudioOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getAudioTracks().forEach((function(e){e.enabled=!0})),this.audioMuted=!1,this.notifyMLineMuted("audio",!1),{type:"audio",muted:!1}},this.muteVideoOnStreams=function(){return ue.debug("[ApiCCUserMediaStream] muteVideoOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getVideoTracks().forEach((function(e){e.enabled=!1})),this.videoMuted=!0,this.notifyMLineMuted("video",!0),{type:"video",muted:!0}},this.unMuteVideoOnStreams=function(){return ue.debug("[ApiCCUserMediaStream] unMuteVideoOnStreams; userMediaStreamId: "+this.userMediaStreamId),this.stream.getVideoTracks().forEach((function(e){e.enabled=!0})),this.videoMuted=!1,this.notifyMLineMuted("video",!1),{type:"video",muted:!1}},this.removeVideoTrackOnStreams=function(){var e;return ue.debug("[ApiCCUserMediaStream] removeVideoTrackOnStreams; userMediaStreamId: "+this.userMediaStreamId),(e=this.stream.getVideoTracks()).length>0&&this.stream.removeTrack(e[0]),this.video=!1,{type:"video",present:!1}},this.notifyMLineMuted=function(e,t){var n,r,i=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var a=this.callInfoList.length;--a>=0;)"call"===this.callInfoList[a].flavor?(n=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[a].callId),this.notifyMLineMutedCall(e,t,n,null)):"userMedia"===this.callInfoList[a].flavor&&(r=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[a].callId),this.notifyMLineMutedCall(e,t,null,r)),!0===this.callInfoList[a].owner&&(i=!1);!0===i&&this.notifyMLineMutedCall(e,t,null,null)},this.notifyMLineMutedCall=function(e,t,n,r){ue.debug("notifyMLineMutedCall; mline: "+e+", muted: "+t);var i=[e+"IsMuted"],a={available:this.audio,deviceLabel:this.audioDeviceLabel,active:!0,muted:this.audioMuted},o={available:this.video,deviceLabel:this.videoDeviceLabel,active:!0,muted:this.videoMuted},s=null;n?("audio"===e?n.isLocalAudioMuted=t:"video"===e&&(n.isLocalVideoMuted=t),n.belongsToRoom()?(s={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:n.callId,roomId:n.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,mline:e,muted:t},n.data.mesh&&(s.mesh=n.data.mesh),n.myWebRTC_Stack.sendInfo("streamTrackChanged",s)):(s={type:"streamTrackChanged",callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:n.callee?n.callerId:n.calleeId,callId:n.callId,mline:e,muted:t},n.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,s)),a.active=n.localCallProfile.audioActive,o.active=n.localCallProfile.videoActive,de.createLocalStreamUpdatedEvent(i,a,o,!0,n.callType,n.callId,this.stream,this.userMediaStreamId,"userAction")):r?(s={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:r.userMediaId,roomId:r.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,mline:e,muted:t},r.myWebRTC_Stack.sendInfo("streamTrackChanged",s),"inactive"===r.audioSdpDirection&&(a.active=!1),"inactive"===r.videoSdpDirection&&(o.active=!1),de.createLocalStreamUpdatedEvent(i,a,o,!0,r.callType,r.userMediaId,this.stream,this.userMediaStreamId,"userAction")):de.createLocalStreamUpdatedEvent(i,a,o,!1,null,null,this.stream,this.userMediaStreamId,"userAction")},this.notifyActiveSpeaker=function(e){var t,n,r=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var i=this.callInfoList.length;--i>=0;)"call"===this.callInfoList[i].flavor?(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[i].callId),this.notifyActiveSpeakerCall(e,t,null)):"userMedia"===this.callInfoList[i].flavor&&(n=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[i].callId),this.notifyActiveSpeakerCall(e,null,n)),!0===this.callInfoList[i].owner&&(r=!1);!0===r&&this.notifyActiveSpeakerCall(e,null,null)},this.notifyActiveSpeakerCall=function(e,t,n){var r=null;t?(t.belongsToRoom()?(r={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:t.callId,roomId:t.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.data.mesh&&(r.mesh=t.data.mesh),t.myWebRTC_Stack.sendInfo("activeSpeaker",r)):(r={type:"activeSpeaker",callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:t.callee?t.callerId:t.calleeId,callId:t.callId,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,r)),de.createAudioAmplitudeEvent(e,!0,t.callId,this.userMediaStreamId)):n?(r={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:n.userMediaId,roomId:n.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},n.myWebRTC_Stack.sendInfo("activeSpeaker",r),de.createAudioAmplitudeEvent(e,!0,n.userMediaId,this.userMediaStreamId)):de.createAudioAmplitudeEvent(e,!0,null,this.userMediaStreamId)},this.notifyNotActiveSpeaker=function(e){var t,n,r=!0;if(apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient)for(var i=this.callInfoList.length;--i>=0;)"call"===this.callInfoList[i].flavor?(t=apiCC.session.apiCCWebRTCClient.webRTCClient.findCallWithCallId(this.callInfoList[i].callId),this.notifyNotActiveSpeakerCall(e,t,null)):"userMedia"===this.callInfoList[i].flavor&&(n=apiCC.session.apiCCWebRTCClient.webRTCClient.findUserMediaById(this.callInfoList[i].callId),this.notifyNotActiveSpeakerCall(e,null,n)),!0===this.callInfoList[i].owner&&(r=!1);!0===r&&this.notifyNotActiveSpeakerCall(e,null,null)},this.notifyNotActiveSpeakerCall=function(e,t,n){var r=null;t?(t.belongsToRoom()?(r={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:t.callId,roomId:t.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.data.mesh&&(r.mesh=t.data.mesh),t.myWebRTC_Stack.sendInfo("stopSpeaking",r)):(r={type:"stopSpeaking",callerId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,calleeId:t.callee?t.callerId:t.calleeId,callId:t.callId,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},t.myWebRTC_Stack.sendDataMessage(apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,r)),de.createAudioAmplitudeEvent(e,!1,t.callId,this.userMediaStreamId)):n?(r={clientId:apiCC.session.apiCCWebRTCClient.webRTCClient.clientId,callId:n.userMediaId,roomId:n.sessionMCU.roomName,pubSub:apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector,resolve:!0,descriptor:{audioAmplitude:e,streamID:this.userMediaStreamId}},n.myWebRTC_Stack.sendInfo("stopSpeaking",r),de.createAudioAmplitudeEvent(e,!1,n.userMediaId,this.userMediaStreamId)):de.createAudioAmplitudeEvent(e,!1,null,this.userMediaStreamId)},this.callback=function(e,t){return this.closureHandler=function(n,r){return e[t](n,r)},this.closureHandler},this.isUserMediaAccessAllowed=function(){return null!==localStorage&&"object"===("undefined"==typeof localStorage?"undefined":ce(localStorage))&&"function"==typeof localStorage.getItem?"true"===localStorage.getItem("getUserMediaAccessAllowed"):null},this.setUserMediaAccessAllowed=function(e){return null!==localStorage&&"object"===("undefined"==typeof localStorage?"undefined":ce(localStorage))&&"function"==typeof localStorage.setItem?(localStorage.setItem("getUserMediaAccessAllowed",e?"true":"false"),!!e):null},this.applyFiltersIfNeeded=function(e){return null===this.filters?Promise.resolve(e):(this.mediaFilterManager=new le(e,this.filters,this.userMediaStreamId),this.mediaFilterManager.applyFilters())},this.getVideoSettings=function(){if(!1!==this.videoSettings)return this.videoSettings;var e=this.getVideoTrack();if(!e||"function"!=typeof e.getSettings)return this.videoSettings=null,this.videoSettings;var t=e.getSettings();return t?(this.videoSettings={},Object.prototype.hasOwnProperty.call(t,"width")&&(this.videoSettings.width=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.videoSettings.height=t.height),Object.prototype.hasOwnProperty.call(t,"frameRate")&&(this.videoSettings.frameRate=t.frameRate),this.videoSettings):(this.videoSettings=null,this.videoSettings)},this.isSimulcastCompliant=function(){return!!this.getVideoSettings()},this.getSimulcastProfile=function(){var e=this.getVideoSettings();if(!e)return null;var t={substream:{high:{active:!0,selectable:!0},medium:{active:!0,selectable:!0},low:{active:!0,selectable:!0}},temporal:{high:{active:!0,selectable:!0},medium:{active:!0,selectable:!0},low:{active:!0,selectable:!0}}};return"chrome"===a.c.type&&((e.width<1280||e.height<720)&&(t.substream.low.selectable=!1),t.temporal.high.active=!1,t.temporal.high.selectable=!1),t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApiCCSession",(function(){return g})),n(12),n(14),n(16),n(44),n(130),n(23),n(8),n(121),n(52),n(10),n(22),n(122),n(7),n(193),n(68),n(145),n(43),n(17),n(11),n(49),n(15),n(30);var r=n(5),i=r.a.get("RoomManager"),a=function(e,t){i.debug("RoomManager"),this.myWebRTC_Event=apiCC.myWebRTC_Event,this.createRoom=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.info("RoomManager:createRoom with roomType : "+t);var r={type:"createRoom",roomType:t,nickname:e.nickname,photoURL:e.photoURL};n.convId&&(r.data||(r.data={}),r.data.cloudConvId=n.convId),!0===n.webconf&&(r.data||(r.data={}),r.data.webconf=!0);var a=JSON.stringify(r);i.log("C->S: "+a),e.channel.socket.emit("createRoom",a)},this.roomCreation=function(e){i.info("RoomManager:roomCreation"),this.myWebRTC_Event.createRoomCreationEvent(e.status,e.roomId,e.roomType),t(e)},this.roomJoin=function(e){i.info("RoomManager:roomJoin"),this.myWebRTC_Event.createRoomJoinedEvent(e.status,e.roomId,e.roomType),t(e)},this.inviteInRoom=function(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i.info("RoomManager:inviteInRoom with roomType:",r);var s={type:"inviteInRoom",roomId:t,contactId:n,roomType:r,nickname:e.nickname,photoURL:e.photoURL,context:a};o.convId&&(s.data||(s.data={}),s.data.cloudConvId=o.convId),!0===o.webconf&&(s.data||(s.data={}),s.data.webconf=!0);var l=JSON.stringify(s);i.log("C->S: "+l),e.channel.socket.emit("inviteInRoom",l)},this.inviteInRoomStatus=function(e){i.info("inviteInRoomStatus"),t(e)},this.roomInvitation=function(e){i.info("roomInvitation",e);var n={};e.data&&(e.data.cloudConvId&&(n.cloudConvId=e.data.cloudConvId),!0===e.data.webconf&&(n.webconf=!0)),this.myWebRTC_Event.createRoomInvitationEvent(e.roomId,e.senderId,e.senderNickname,e.senderPhotoURL,e.contactList,e.roomType,n),t(e)},this.requestContactListInRoom=function(t){i.info("requestContactListInRoom :"+t);var n={type:"requestContactListInRoom",roomId:t},r=JSON.stringify(n);e.channel.socket.emit("requestContactListInRoom",r)},this.onContactListInRoom=function(e){i.info("onContactListInRoom :"+e),this.myWebRTC_Event.createContactListInRoomEvent(e.roomId,e.contactList,e.roomType),t(e)},this.answerToRoomInvitation=function(t,n,r){if(i.info("answerToRoomInvitation:",t,n),!0===n||!1===n){var a={type:"roomInvitationAnswer",roomId:t,senderId:e.apiCCId,nickname:e.nickname,photoURL:e.photoURL,accept:n,roomType:r},o=JSON.stringify(a);i.log("C->S: "+o),e.channel.socket.emit("roomInvitationAnswer",o)}else i.log("accept value is not correct")},this.roomMemberUpdate=function(e){i.info("roomMemberUpdate"),this.myWebRTC_Event.createRoomMemberUpdateEvent(e.roomId,e.contactList,e.status,e.roomType),t(e)},this.sendMessageToRoom=function(t,n,r){i.info("Call sending message to Room .... from :"+e.apiCCId+" message :"+r);var a={type:"roomMessage",roomId:t,senderId:e.apiCCId,nickname:e.nickname,roomType:n,data:r},o=JSON.stringify(a);i.log("C->S: "+o),e.channel.socket.emit("roomMessage",o)},this.receiveRoomMessage=function(e){i.info("receiveRoomMessage"),this.myWebRTC_Event.createReceiveRoomMessageEvent(e.roomId,e.senderId,e.nickname,e.data,e.roomType),t(e)},this.joinRoom=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.info("Join Room with Id:",t);var a={type:"joinRoom",roomId:t,nickname:e.nickname,photoURL:e.photoURL,roomType:n};r.convId&&(a.data||(a.data={}),a.data.cloudConvId=r.convId),!0===r.webconf&&(a.data||(a.data={}),a.data.webconf=!0);var o=JSON.stringify(a);i.log("C->S: "+o),e.channel.socket.emit("joinRoom",o)},this.leaveRoom=function(t,n){i.info("Leave Room with Id:",t);var r={type:"leaveRoom",roomId:t,nickname:e.nickname,photoURL:e.photoURL,roomType:n},a=JSON.stringify(r);i.log("C->S: "+a),e.channel.socket.emit("leaveRoom",a)}},o=(n(47),n(31),n(27),n(170)),s=n(1);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=r.a.get("ApiCC_Channel"),d=function(e){u.debug("ApiCC_Channel"),this.channelReady=!1,this.socket=null,this.channelId=e.apiCCId,this.callURLDestRoom=0,this.myWebRTC_Event=new o.a,this.channelHasBeenDisconnected=!1,this.cSeq=0,this.updatePresenceGroupIsNeeded=!1,this.oldPresenceGroup=null,this.newPresenceGroup=null,this.updateSubscribeToPresenceGroupIsNeeded=!1,this.oldSubscribeToPresenceGroup=null,this.newSubscribeToPresenceGroup=null,this.initialize=function(){u.info("ApiCC_Channel::initialize()"),this.openChannel()},this.getNewCSeq=function(){return this.cSeq=this.cSeq+1,this.cSeq},this.openChannel=function(){var t,n="",r=null,i=null,a=null,o=null,l=null,c=null;u.debug("openChannel channelId :"+this.channelId),u.debug("session.apiKey :"+e.apiKey),u.log("session.sessionId :"+e.sessionId),e.xhrPolling=!0,u.log("CCSserver used : "+e.ccsServer),o=void 0!==e.appId?"&appId="+e.appId:"",l=void 0!==e.siteId?"&siteId="+e.siteId:"",void 0!==e.userData&&(u.log("Defined userData : ",e.userData),r=JSON.stringify(e.userData),u.log("stringUserData.length :"+r.length),r.length<=1e3?n="&userData="+encodeURIComponent(r):u.warn("userData length is too long :"+r.length+" .Need to be <= 500")),void 0!==e.presenceGroup&&(u.log("Defined presenceGroup : "+e.presenceGroup),i=JSON.stringify(e.presenceGroup),u.log("stringPresenceGroup.length :"+i.length),i.length<=750?n+="&presenceGroup="+encodeURIComponent(i):u.warn("presenceGroup length is too long :"+i.length+" .Need to be <= 750")),void 0!==e.subscribeToPresenceGroup&&(u.log("Defined subscribeToPresenceGroup : "+e.subscribeToPresenceGroup),a=JSON.stringify(e.subscribeToPresenceGroup),u.log("stringsubscribeToPresenceGroup.length :"+a.length),a.length<=750?n+="&subscribeToPresenceGroup="+encodeURIComponent(a):u.warn("subscribeToPresenceGroup length is too long :"+a.length+" .Need to be <= 750")),void 0!==e.token&&(u.log("Defined token : "+e.token),n+="&token="+e.token),void 0!==e.conversationSpace&&null!==e.conversationSpace&&(u.log("Defined conversationSpace : "+e.conversationSpace),n+="&conversationSpace="+e.conversationSpace),n+="&apiLibType=apiRTC_JS",u.log("requestOptions on connect :"+n),u.log("session.ccsServer :"+e.ccsServer),t="?channelId="+this.channelId+"&apiKey="+e.apiKey+"&apiVersion="+apiCC.version+"&apiCCSessionId="+e.apiCCSessionId+"&sessionId="+e.sessionId+o+l+n,c="undefined"!=typeof apiRTC_React?"https":"http:"===window.location.protocol?"http":"https","iOS"!==s.h.name&&"Android"!==s.h.name||(u.log(s.h.name+" detected forcing protocol to https"),c="https"),u.info("CCS Connect, socket url is : "+c+"://"+e.ccsServer+"/"+t),this.ccsConnectionRetryNb=e.ccsConnectionRetryNb,this.ccsConnectionRetryDelay=e.ccsConnectionRetryDelay,this.socket=window.rtcio.connect(c+"://"+e.ccsServer+"/"+t,{forceNew:!0,multiplex:!1,withCredentials:!0,reconnectionAttempts:this.ccsConnectionRetryNb,reconnectionDelay:this.ccsConnectionRetryDelay}),this.socket.on("connect",this.callback(this,"onChannelOpened")).on("connect_error",this.callback(this,"onChannelConnectError")).on("message",this.callbackWithParams(this,"onChannelMessage")).on("disconnect",this.callback(this,"onChannelDisconnect")),this.socket.io.on("error",this.callback(this,"onChannelError")).on("reconnect",this.callback(this,"onChannelReconnect")).on("reconnect_attempt",this.callback(this,"onChannelReconnectAttempt")).on("reconnect_error",this.callback(this,"onChannelReconnectError")).on("reconnect_failed",this.callback(this,"onChannelReconnect_failed"))},this.onWhiteBoardDisconnection=function(){u.info("onWhiteBoardDisconnection"),apiCC.session.closeWhiteBoardClient("NETWORK_DISCONNECTION")},this.onChannelDisconnect=function(e){u.info("onChannelDisconnect");var t=Date();u.debug("date :"+t),apiCC.session.connectedUsersList.splice(0,apiCC.session.connectedUsersList.length),this.myWebRTC_Event.createChannelEvent("onChannelDisconnect",e),this.channelHasBeenDisconnected=!0,null!==apiCC.myApiCCWhiteBoardClient&&(u.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId?(u.log("Disconnection with an ongoing whiteboard"),u.error("Whiteboard disconnectionTimer is set to:",apiCC.myApiCCWhiteBoardClient.disconnectionTimer),apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId=setTimeout(this.callback(this,"onWhiteBoardDisconnection"),apiCC.myApiCCWhiteBoardClient.disconnectionTimer)):u.log("Disconnection without an ongoing whiteboard"))},this.onChannelReconnect_failed=function(){u.info("onChannelReconnect_failed"),this.myWebRTC_Event.createChannelEvent("onChannelReconnect_failed")},this.onChannelReconnect=function(t){u.error("onChannelReconnect",t);var n,r=null,i=0,a=[],o=null,s=null,c=null,d=!1,f=0,h=null,p=null;if(null!==e.conversationSpace&&void 0!==e.conversationSpace?(u.debug("conversationSpace is set :",e.conversationSpace),e.joinConversationSpace(e.conversationSpace)):u.debug("no conversationSpace defined"),void 0!==e.userData&&null!==e.userData&&(u.debug("sending userData :",e.userData),e.setUserData(e.userData,!0)),null!==e.presenceGroup?(u.debug("presenceGroup is set :",e.presenceGroup),e.sendPresenceGroupManagementCommand("join",e.presenceGroup)):u.debug("no presenceGroup defined"),null!==e.subscribeToPresenceGroup?(u.debug("subscribeToPresenceGroup is set :",e.subscribeToPresenceGroup),e.sendPresenceGroupManagementCommand("subscribe",e.subscribeToPresenceGroup)):u.debug("no subscribeToPresenceGroup defined"),null!==apiCC.session.apiCCIMClient?!0===apiCC.session.apiCCIMClient.userDataSetted?(r={photoURL:apiCC.session.apiCCIMClient.photoURL},apiCC.session.apiCCIMClient.setUserData(r)):u.log("apiCC.session.apiCCIMClient.userDataSetted !== true"):u.log("apiCC.session.apiCCIMClient === null"),null!==apiCC.session.apiCCWebRTCClient){if(apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.length>0)for(d=!0,n=0;n<apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable.length;n+=1)o={destId:(p=apiCC.session.apiCCWebRTCClient.webRTCClient.userMediaTable[n]).remoteId,convId:p.userMediaId,callType:p.callType,roomId:p.roomId,data:p.data,meshPublish:!0},a.push(o);if(0!==(i=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length)){for(u.log("Reconnecting with calls ongoing"),n=0;n<i;n+=1)null!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n]&&void 0!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n]?(p=apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable[n],u.debug("call.iceState =",p.iceState),null!==p.data?"publish"!==p.data.type&&"subscribe"!==p.data.type?(u.log("Call is P2P, updating media"),p.updateMediaWithRetryManagement(!0),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o)):(u.log("Call is in an MCU session"),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o)):(u.log("Call is P2P, updating media - no data"),p.updateMediaWithRetryManagement(!0),o={destId:p.remoteId,convId:p.callId,callType:p.callType,roomId:p.dest_roomId,data:p.data},a.push(o))):u.log("call no more exist");d=!0}else u.log("Reconnecting without calls ongoing");for(var m=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs,v=0;v<m.length;v+=1){u.log("Reconnecting with an ongoing sessionMCU");var g=[];g.push(m[v].roomName),apiCC.session.sendPresenceGroupManagementCommand("join",g),apiCC.session.sendPresenceGroupManagementCommand("subscribe",g)}}if(null!==apiCC.myApiCCWhiteBoardClient&&(0!==apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId&&(u.debug("clearing whiteBoardDisconnectionTimeoutId"),clearTimeout(apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId),apiCC.myApiCCWhiteBoardClient.whiteBoardDisconnectionTimeoutId=0),u.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId?(u.log("Reconnection with an ongoing whiteboard"),f=apiCC.myApiCCWhiteBoardClient.roomId,d=!0,u.debug("Reconnection , sending request to get most recent whiteboard data"),apiCC.myApiCCWhiteBoardClient.paperSheetId=0,apiCC.myApiCCWhiteBoardClient.drawingId=0,apiCC.myApiCCWhiteBoardClient.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})):u.log("Reconnecting without an ongoing whiteboard")),null!==apiCC.session.apiCCPointerSharingClient&&(h=apiCC.session.apiCCPointerSharingClient.getRoomIds()).length>0&&(d=!0),!0===d){u.log("Sending reconnectContext to CCS"),s={type:"reconnectContext",callList:a,whiteBoardRoomId:f},null!==h&&h.length>0&&(s.pointerSharingRoomIds=h);var b=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs;if(b.length>0){s.updateSession=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.createJoinSessionMessage(null),s.updateSession.type="updateSession",s.updateSessions=[];var C,y=l(b);try{for(y.s();!(C=y.n()).done;){var S=C.value,w=apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.createJoinSessionMessage(null,{sessionMCU:S});w.type="updateSession",s.updateSessions.push(w)}}catch(e){y.e(e)}finally{y.f()}}c=JSON.stringify(s),u.log("C->S: "+c),apiCC.session.channel.socket.emit("reconnectContext",c)}a.splice(0,a.length),this.myWebRTC_Event.createChannelEvent("onChannelReconnect",t)},this.onChannelReconnecting=function(e){u.info("onChannelReconnecting",e);var t=Date();u.debug("date :"+t),this.myWebRTC_Event.createChannelEvent("onChannelReconnecting",e)},this.onChannelOpened=function(){u.info("Channel opened"),u.log("this.channelId :"+this.channelId),this.channelReady=!0,!1===this.channelHasBeenDisconnected?e.onChannelOpened():(u.log("onChannelOpened after a disconnection, no change on session"),this.channelHasBeenDisconnected=!1,!1!==e.ApiDBActivated&&void 0!==e.ApiDBActivated&&null!==e.ApiDBActivated&&(u.log("apiDB initialisation"),apiDB.init(e.channel.socket))),!0===this.updatePresenceGroupIsNeeded&&(u.log("Updating presence group"),e.leavePresenceGroup(this.oldPresenceGroup),e.joinPresenceGroup(this.newPresenceGroup)),!0===this.updateSubscribeToPresenceGroupIsNeeded&&(u.log("Updating subscribe to presence group"),e.unsubscribePresenceGroup(this.oldSubscribeToPresenceGroup),e.subscribePresenceGroup(this.newSubscribeToPresenceGroup)),this.myWebRTC_Event.createChannelEvent("onChannelOpened")},this.onChannelMessage=function(t,n){var r,i=null,a=null;try{i=JSON.parse(t)}catch(e){return}(r="checkCallStatus"===i.type||"apiRTCDataMessage"===i.type&&i.data&&["activeSpeaker","stopSpeaking"].indexOf(i.data.type)>=0)||u.info("onChannelMessage S->C: "+t),"IMMessage"===i.type&&(u.log("IMMessage convId :"+i.IMId),a=i.IMId),void 0!==n&&(u.trace("ack on message reception"),u.trace("convId :"+a),n({reason:"ack",convId:a})),e.processSignalingMessage(i,{quiet:r})},this.onChannelConnectError=function(e){u.log("onChannelConnectError :",e),this.myWebRTC_Event.createChannelEvent("onChannelConnectError",e)},this.onChannelReconnectError=function(e){u.log("onChannelReconnectError :",e),this.myWebRTC_Event.createChannelEvent("onChannelReconnectError",e)},this.onChannelReconnectAttempt=function(e){u.log("onChannelReconnectAttempt :",e),this.myWebRTC_Event.createChannelEvent("onChannelReconnectAttempt",e),this.onChannelReconnecting(e)},this.onChannelError=function(e){u.error("Channel error :",e),"not authorized"===e&&this.socket.disconnect(),this.myWebRTC_Event.createChannelEvent("onChannelError",e)},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.callbackWithParams=function(e,t){return this.closureHandler=function(n,r,i){return e[t](n,r,i)},this.closureHandler}},f=n(3),h=n(66);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=r.a.get("ApiCCSession"),v=apiCC.myWebRTC_Event,g=function(e){var t=this;if(this.apiCCId=null,this.apiCCSessionId=apiCC.randomString(22),this.apiKey=null,this.nickname=null,this.photoURL=null,this.apiCCWebRTCClient=null,this.apiCCIMClient=null,this.apiCCDataClient=null,this.apiCCIDCookie=null,this.apiKeyCookie=null,this.apiCCIdPersistenceTimeout=5e3,this.channel=null,this.recordActivated=e.recordActivated,this.sessionId=null,this.apiCCPointerSharingClient=null,this.apiCCWhiteBoardClient=null,this.apiCCCoBrowsingClient=null,this.ccsServer=e.ccsServer,this.userData=e.userData,this.apiDBActivated=!0,e.ApiDBActivated=!0,this.webRTCPluginActivated=e.webRTCPluginActivated,this.token=e.token,this.conversationSpace=e.conversationSpace,this.tryAudioCallAfterUserMediaError=e.tryAudioCallAfterUserMediaError,this.deactivateReloadOnCancel=e.deactivateReloadOnCancel,this.connectedUsersList=[],this.messageTimeOutTable=[],this.ccsConnectionRetryNb=e.ccsConnectionRetryNb,this.ccsConnectionRetryDelay=e.ccsConnectionRetryDelay,this.sequentialMessagesStorage={},void 0!==e.messageTimeOutTimer?this.messageTimeOutTimer=e.messageTimeOutTimer:this.messageTimeOutTimer=1e4,m.log("messageTimeOutTimer set to : "+this.messageTimeOutTimer),void 0!==e.presenceGroup?this.presenceGroup=e.presenceGroup:this.presenceGroup=["default"],void 0!==e.subscribeToPresenceGroup?this.subscribeToPresenceGroup=e.subscribeToPresenceGroup:this.subscribeToPresenceGroup=["default"],this.isDeviceWebRTCCompliant=function(){return apiCC.isWebRTCCompliant()},this.isDeviceDTLSCompliant=function(){var e=s.j.getBrowser(),t=parseInt(e.version,10);return!("Chrome"===e.name&&t<44)||(m.log("isDeviceDTLSCompliant FALSE : Chrome V < 44"),!1)},void 0===this.userData||null===this.userData?(this.userData={},this.userData.webRtcCompliant=apiCC.webRTCCompliant,this.userData.dtlsCompliant=this.isDeviceDTLSCompliant()):void 0===this.userData.webRtcCompliant||null===this.userData.webRtcCompliant?(this.userData.webRtcCompliant=apiCC.webRTCCompliant,this.userData.dtlsCompliant=this.isDeviceDTLSCompliant()):m.log("userData webRtcCompliant set to :",this.userData.webRtcCompliant),this.userData.osName=s.g,this.userData.osVersion=s.i,this.userData.browser=s.b,this.userData.deviceType=s.f,this.userData.browser_version=s.e,this.userData.browser_major_version=s.d,this.userData.apiRTCVersion=apiCC.version,"Android"===s.g&&"undefined"!=typeof cordova&&(this.userData.platform="Android"),"undefined"!=typeof apiRTC_React&&(this.userData.react=!0),this.roomManagerEventHandler=function(e){if(m.debug("roomManagerEventHandler, roomId :"+e.roomId+", type :"+e.type+", roomType :"+e.roomType),"whiteBoard"===e.roomType){if(null===apiCC.myApiCCWhiteBoardClient||void 0===apiCC.myApiCCWhiteBoardClient)return void m.log("No whiteBoard created, leaving msg processing");"roomCreation"===e.type&&(m.log("whiteBoard : roomCreation"),apiCC.myApiCCWhiteBoardClient.roomId=e.roomId,apiCC.myApiCCWhiteBoardClient.paperSheetId++,apiCC.myApiCCWhiteBoardClient.drawingId=0,apiCC.myApiCCWhiteBoardClient.sendDataToRoom({tool:"void",needCatchUp:"*||-1"})),"roomInvitation"===e.type&&(m.log("whiteBoard : roomInvitation"),apiCC.myApiCCWhiteBoardClient.roomId=e.roomId),"roomMessage"===e.type&&apiCC.myApiCCWhiteBoardClient.messageProcessing(e.data),"roomJoin"===e.type&&(m.log("whiteBoard : roomJoin"),apiCC.myApiCCWhiteBoardClient.roomJoined=!0,apiCC.myApiCCWhiteBoardClient.roomId=e.roomId)}else"pointerSharing"===e.roomType?apiCC.session.apiCCPointerSharingClient&&"roomJoin"===e.type&&apiCC.session.apiCCPointerSharingClient.processMessageRoomJoin(e):"coBrowsing"===e.roomType?"roomMessage"===e.type&&m.log("coBrowsing : roomMessage :"+e):m.log("roomManagerEventHandler for msg.roomType :"+e.roomType)},this.callback=function(e,t){return this.closureHandler=function(n){return e[t](n)},this.closureHandler},this.roomMgr=new a(this,this.callback(this,"roomManagerEventHandler")),!0===e.xhrPolling?this.xhrPolling=!0:this.xhrPolling=!1,this.getCookie=function(e){return new RegExp("(?:; )?"+e+"=([^;]*);?").test(document.cookie)?decodeURIComponent(RegExp.$1):null},this.generateApiCCID=function(){m.debug("apiCCId is not defined by user, checking if a cookie for apiCCId exist"),"undefined"==typeof apiRTC_React&&(this.apiCCIDCookie=this.getCookie("apiCCId"),this.apiKeyCookie=this.getCookie("apiKey")),null!==this.apiCCIDCookie?(m.log("apiCCId cookie exist : "+this.apiCCIDCookie),null!==this.apiKeyCookie?(m.log("apiKey cookie exist : "+this.apiKeyCookie),this.apiKeyCookie===this.apiKey?(m.log("apiKey is the same, keeping apiCCId"),this.apiCCId=this.apiCCIDCookie):(m.log("apiKey is not the same, generating an  apiCCId"),this.apiCCId=Math.floor(1000001*Math.random()).toString(),m.log("Creation of new ApiRTC session with Id : "+this.apiCCId))):this.apiCCId=this.apiCCIDCookie):(m.log(" No apiCCId cookie : generating an apiCCId"),this.apiCCId=Math.floor(1000001*Math.random()).toString(),m.log("Creation of new ApiRTC session with Id : "+this.apiCCId))},this.getNumericIdFromAlpha=function(e){m.log("getNumericIdFromAlpha new : "+e);var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return m.log("getNumericIdFromAlpha returned value: "+(n>>>0)),n>>>0},void 0!==e.appId&&(this.appId=e.appId),void 0!==e.siteId&&(this.siteId=e.siteId),void 0===e.apiKey)return m.error('Error : Initialisation parameters: "apikey" for session creation is not defined'),null;if(m.log("Session creation with apiKey : "+e.apiKey),m.log("Session creation with apiCCId : "+e.apiCCId),this.apiKey=e.apiKey,void 0===e.onReady&&"undefined"==typeof apiRTC_React)return m.error('Error : Initialisation parameters: "onReady" for session creation is not defined'),null;if(apiCC.addEventListener("sessionReady",e.onReady),"undefined"==typeof apiRTC_React&&(this.sessionId=this.getCookie("sessionId")),void 0===e.apiCCId||""===e.apiCCId||null===e.apiCCId)this.generateApiCCID();else if(m.log("Session creation with apiCCId defined by user : "+e.apiCCId),m.debug("params.idConversionActivated : "+e.idConversionActivated),void 0===e.idConversionActivated||!0===e.idConversionActivated)if(Object(f.i)(e.apiCCId))this.apiCCId=e.apiCCId.toString();else{m.log("Converting this Id in a numeric one");var n=this.getNumericIdFromAlpha(e.apiCCId);n+="",m.log("Numeric Id is : "+n),Object(f.i)(n)?(m.warn("Id has been converted to a numeric one"),this.apiCCId=n.toString()):(m.warn("Error : Defined apiCCId :"+e.apiCCId+" is not numeric. ApiCCID is generated"),this.generateApiCCID())}else m.log("String id convertion is deactivated"),this.apiCCId=e.apiCCId.toString();function r(e){return e instanceof Array?(m.log("data instanceof Array"),!0):(m.log("data not instanceof Array"),!1)}null!==e.apiCCIdPersistenceTimeout&&"number"==typeof e.apiCCIdPersistenceTimeout&&e.apiCCIdPersistenceTimeout>=0&&(this.apiCCIdPersistenceTimeout=e.apiCCIdPersistenceTimeout),null!==this.channel&&(m.log("this.channel is defined"),delete this.channel),this.channel=new d(this),this.channel.initialize(),null!==e.nickname&&void 0!==e.nickname?(m.log("Nickname is defined :"+e.nickname),this.nickname=e.nickname):(m.log("Nickname is not defined, setting to apiCCId value :"+this.apiCCId),this.nickname=this.apiCCId),null!==e.photoURL&&void 0!==e.photoURL?(m.log("photoURL is defined :"+e.photoURL),this.photoURL=e.photoURL):(m.log("photoURL is not defined"),this.photoURL=null),this.reOpenChannel=function(e,t){m.info("reOpenChannel"),this.apiCCId=e.toString(),this.apiKey=t,void 0!==this.channel.socket&&null!==this.channel.socket&&this.channel.socket.disconnect(),this.channel.channelReady=!1,this.channel.socket=null,this.channel.channelId=this.apiCCId,this.channel.initialize(),null!==this.apiCCWebRTCClient&&null!==this.apiCCWebRTCClient.webRTCClient&&(this.apiCCWebRTCClient.webRTCClient.socket=this.channel.socket)},this.onChannelOpened=function(){m.debug("ApiCCSession onChannelOpened"),!1!==e.ApiDBActivated&&void 0!==e.ApiDBActivated&&null!==e.ApiDBActivated&&(m.log("apiDB initialisation"),apiDB.init(this.channel.socket)),v.createSessionReadyEvent(apiCC.session.apiCCId)},this.createWebRTCClient=function(e){m.debug("createWebRTCClient");var t={};if(null!=e){this.apiCCWebRTCClient=new apiCC.ApiCCWebRTCClient(this,e.localVideo,e.minilocalVideo,e.remoteVideo,e.status,e.command),apiCC.session.apiCCWebRTCClient.webRTCClient.setGumConfigWithDevicePresent(),t.audioDevicePresent=apiCC.mediaDeviceMgr.audioDevicePresent,t.videoDevicePresent=apiCC.mediaDeviceMgr.videoDevicePresent,apiCC.session.setUserData(t),setTimeout((function(){v.createWebRTCClientCreatedEvent()}));var n=apiCC.getUserMediaStreamIds(),r=n.length;for(m.debug("listing accessToLocalMedia "+r);--r>=0;)if(apiCC.getUserMediaStream(n[r]).accessToLocalMedia()){m.debug("setting accessToLocalMedia to true"),this.apiCCWebRTCClient.webRTCClient.accessToLocalMedia=!0;break}return this.apiCCWebRTCClient}return m.log("Error : Initialisation parameters is null or not defined on WebRTCClient creation"),null},this.createPointerSharingClient=function(){return null===this.apiCCPointerSharingClient&&(this.apiCCPointerSharingClient=new apiCC.ApiCCPointerSharingClient(this)),this.apiCCPointerSharingClient},this.closePointerSharingClient=function(){null!==this.apiCCPointerSharingClient&&this.apiCCPointerSharingClient instanceof apiCC.ApiCCPointerSharingClient&&(this.apiCCPointerSharingClient.stop(),this.apiCCPointerSharingClient=null)},this.createWhiteBoard=function(e,t,n,r){return m.info("createWhiteBoard"),this.apiCCWhiteBoardClient=apiCC.createWhiteBoard(e,t,n,r),this.apiCCWhiteBoardClient},this.closeWhiteBoardClient=function(e){m.info("closeWhiteBoardClient"),apiCC.closeWhiteBoardClient(e)},this.createCoBrowsing=function(){return m.info("createCoBrowsing"),this.apiCCCoBrowsingClient=new apiCC.ApiCCCoBrowsingClient(this),this.apiCCCoBrowsingClient},this.createIMClient=function(e){return m.debug("createIMClient"),this.apiCCIMClient=new apiCC.ApiCCIMClient(this,e),this.apiCCIMClient},this.createDataClient=function(){return m.info("createDataClient"),this.apiCCDataClient=new apiCC.ApiCCDataClient(this),this.apiCCDataClient},this.updatingQuery=function(e){m.debug("updatingQuery");var t=null,n=null,r=null;return t=Object(f.l)(e),void 0!==this.userData?(n=JSON.stringify(this.userData),r=encodeURIComponent(n),t.userData=r,Object(f.j)(t)):e},this.setUserData=function(e,t){m.debug("setUserData in session :",e);var n,r,i,a=[],o=this.userData;if(void 0!==this.userData){if(this.userData=Object(f.k)(this.userData,e),m.debug("this.userData :",this.userData),m.debug("actualUserData :",o),m.debug("forceSendData :",t),!0!==t&&JSON.stringify(this.userData)===JSON.stringify(o))return void m.debug("userData is not changed, leaving userData processing")}else this.userData=e;for(n={type:"setUserData",userData:e},r=JSON.stringify(n),m.log("C->S: "+r),this.channel.socket.emit("setUserData",r),m.log("socket.io 1.X : socket.io.opts.query :"+this.channel.socket.io.opts.query),this.channel.socket.io.opts.query=this.updatingQuery(this.channel.socket.io.opts.query),m.log("socket.io 1.X : after update : socket.io.opts.query :"+this.channel.socket.io.opts.query),i=0;i<this.connectedUsersList.length;i+=1)this.apiCCId===this.connectedUsersList[i].userId&&(this.connectedUsersList[i].userData=this.userData,a[0]=this.apiCCId,v.createConnectedUsersListUpdateEvent(this.connectedUsersList[i].group,a,"userDataUpdate","userDataUpdate"))},this.sendPresenceGroupManagementCommand=function(e,t){m.debug("sendPresenceGroupManagementCommand :"+e+" for group : "+t);var n,r,i,a=t.length;if("unsubscribe"===e)for(i=0;i<a;i+=1)this.removeGroupDataFromConnectedUsersList(t[i]);1!==a||"deactivated"!==t[0]?(n={type:"presenceGroupManagement",command:e,group:t},r=JSON.stringify(n),m.log("C->S: "+r),this.channel.socket.emit("presenceGroupManagement",r)):m.debug("leaving sendPresenceGroupManagementCommand for group deactivated")},this.sendConversationSpaceCommand=function(e,t){var n,r;m.debug("sendConversationSpaceCommand :"+e+" for conversationSpace : "+t),n={type:"conversationSpaceManagement",command:e,conversationSpace:t},r=JSON.stringify(n),m.log("C->S: "+r),this.channel.socket.emit("conversationSpaceManagement",r)},this.joinPresenceGroup=function(e){var t=this;m.info("joinPresenceGroup :"+e),!0===r(e)?(this.sendPresenceGroupManagementCommand("join",e),e.forEach((function(e){-1===t.presenceGroup.indexOf(e)&&t.presenceGroup.push(e)}))):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.presenceGroup :"+this.presenceGroup)},this.leavePresenceGroup=function(e){var t=this;m.info("leavePresenceGroup :"+e),!0===r(e)?(e.forEach((function(e){var n=t.presenceGroup.indexOf(e);-1!==n&&t.presenceGroup.splice(n,1)})),this.sendPresenceGroupManagementCommand("leave",e)):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.presenceGroup :"+this.presenceGroup)},this.subscribePresenceGroup=function(e){var t=this;m.info("subscribePresenceGroup :"+e),!0===r(e)?(this.sendPresenceGroupManagementCommand("subscribe",e),e.forEach((function(e){-1===t.subscribeToPresenceGroup.indexOf(e)&&t.subscribeToPresenceGroup.push(e)}))):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.subscribeToPresenceGroup :"+this.subscribeToPresenceGroup)},this.unsubscribePresenceGroup=function(e){var t=this;m.info("unsubscribePresenceGroup :"+e),!0===r(e)?(e.forEach((function(e){var n=t.subscribeToPresenceGroup.indexOf(e);-1!==n&&t.subscribeToPresenceGroup.splice(n,1)})),this.sendPresenceGroupManagementCommand("unsubscribe",e)):m.log("group parameter value is not correct, need to be a JSON array"),m.debug("this.subscribeToPresenceGroup :"+this.subscribeToPresenceGroup)},this.joinConversationSpace=function(e){m.info("joinConversationSpace :"+e),this.sendConversationSpaceCommand("join",e),this.conversationSpace=e},this.leaveConversationSpace=function(e){m.info("leaveConversationSpace :"+e),null!=e&&this.conversationSpace===e?(this.sendConversationSpaceCommand("leave",e),this.conversationSpace=null):m.debug("socket is not in the conversationSpace, we request to leave")},this.subscribeToCloudEvent=function(e,t){this.sendCloudEventsCommand("subscribe",e,t)},this.unsubscribeToCloudEvent=function(e,t){this.sendCloudEventsCommand("unsubscribe",e,t)},this.sendCloudEventsCommand=function(e,t,n){if(["subscribe","unsubscribe"].includes(e))if(t&&"string"==typeof t){if(n){if("object"!==p(n))return void m.error("wrong headers format");for(var r=0,i=Object.values(n);r<i.length;r++){var a=i[r];if(!a||"string"!=typeof a)return void m.error("wrong headers format")}}var o={type:"cloudEvents",command:e,topic:t};n&&(o.headers=n);var s=JSON.stringify(o);m.log("C->S:",s),this.channel.socket.emit("cloudEvents",s)}else m.error("wrong topic format");else m.error("wrong command")},this.getConversationList=function(e){m.info("getConversationList request");var t,n=null;n=void 0!==e?{type:"getConversationList",lastConversationNb:e}:{type:"getConversationList",lastConversationNb:50},t=JSON.stringify(n),m.log("C->S: "+t),this.channel.socket.emit("getConversationList",t)},this.receiveConversationListAnswer=function(e){m.info("receiveConversationListAnswer"),m.log("msg.convList.length :"+e.convList.length);var t,n=e.convList.length,r=[],i=null;for(t=0;t<n;t+=1)m.log("i ="+t),i=JSON.parse(e.convList[t]),r.push(i);v.createReceiveConversationListAnswerEvent(r)},this.getContactOccurrencesFromConversationList=function(e){m.info("getContactOccurrencesFromConversationList request");var t,n=null;n=void 0!==e?{type:"getContactOccurrencesFromConversationList",lastConversationNb:e}:{type:"getContactOccurrencesFromConversationList",lastConversationNb:50},t=JSON.stringify(n),m.log("C->S: "+t),this.channel.socket.emit("getContactOccurrencesFromConversationList",t)},this.receiveContactOccurrencesFromConversationListAnswer=function(e){m.info("receiveContactOccurrencesFromConversationListAnswer"),m.log("msg.contactOccurrencesTable.length :"+e.contactOccurrencesTable.length),v.createReceiveContactOccurrencesFromConversationListAnswerEvent(e.contactOccurrencesTable)},this.getConversationDetailReport=function(e){var t,n;m.info("getConversationDetailReport for convId :"+e),t={type:"getConversationDetailReport",convId:e},n=JSON.stringify(t),m.log("C->S: "+n),this.channel.socket.emit("getConversationDetailReport",n)},this.receiveConversationDetailReportAnswer=function(e){m.info("receiveConversationDetailReportAnswer"),m.log("msg.CDR :"+e.CDR),v.createReceiveConversationDetailReportAnswerEvent(e.CDR)},this.manageConnectedUsersList=function(e,t,n,r){m.debug("manageConnectedUsersList");var i,a,o,s=!1,l=0,c=!1,u="unset";for(m.trace("manageConnectedUsersList.length :"+e.length),m.trace("this.connectedUsersList.length :"+this.connectedUsersList.length),m.log("state :"+t),m.log("group :"+n),o=0;o<e.length;o+=1)e[o].group=n;if("online"===t)for(m.log("state : online"),i=0;i<e.length;i+=1){if(m.log("msgConnectedUsersListWithStatus  :"+i),s=!1,0===this.connectedUsersList.length){m.log("this.connectedUsersList is empty"),this.connectedUsersList=e,m.log("this.connectedUsersList[0].group :"+this.connectedUsersList[0].group),v.createConnectedUsersListUpdateEvent(n,r,t,"newConnectionState");break}for(a=0;a<this.connectedUsersList.length;a+=1)if(c=!1,e[i].userId===this.connectedUsersList[a].userId&&e[i].group===this.connectedUsersList[a].group){s=!0,JSON.stringify(this.connectedUsersList[a].userData)!==JSON.stringify(e[i].userData)&&(m.log("userData is updated"),this.connectedUsersList[a].userData=e[i].userData,c=!0,u="userDataUpdate"),this.connectedUsersList[a].callState!==e[i].callState&&(m.log("callState is updated"),this.connectedUsersList[a].callState=e[i].callState,c=!0,u="callState"),!0===c&&v.createConnectedUsersListUpdateEvent(n,r,t,u);break}if(!1===s){m.log("Adding user in connectedUsersList :"+e[i].userId),this.connectedUsersList.push(e[i]);var d=[];d[0]=e[i].userId,v.createConnectedUsersListUpdateEvent(n,d,t,"newConnectionState")}}else for(m.log("state : offline"),i=0;i<e.length;i+=1)for(m.log("msgConnectedUsersListWithStatus  :"+i),l=this.connectedUsersList.length,a=0;a<l;a+=1)if(e[i].userId===this.connectedUsersList[a].userId&&e[i].group===this.connectedUsersList[a].group){m.log("Removing user in connectedUsersList :"+e[i].userId),m.log("... in group :"+e[i].group),this.connectedUsersList.splice(a,1),v.createConnectedUsersListUpdateEvent(n,r,t,"newConnectionState");break}},this.removeGroupDataFromConnectedUsersList=function(e){m.debug("removeGroupDataFromConnectedUsersList for group :",e);var t,n=this.connectedUsersList.length,r=[],i=0;for(m.debug("this.connectedUsersList.length :",this.connectedUsersList.length),t=0;t<n;t+=1)m.debug("this.connectedUsersList[j].group :",this.connectedUsersList[t-i].group),m.debug("group :",e),this.connectedUsersList[t-i].group===e&&(m.log("Removing user in connectedUsersList :"+this.connectedUsersList[t-i].userId),r[0]=this.connectedUsersList[t-i].userId,this.connectedUsersList.splice(t-i,1),i+=1,v.createConnectedUsersListUpdateEvent(e,r,"offline","newConnectionState"))},this.getConnectedUsersList=function(e){void 0!==e?m.log("getConnectedUsersList for group : "+e):m.log("getConnectedUsersList : complete users list");var t,n=[];if(null==e)return this.connectedUsersList;for(m.log("filtering list for group : "+e),t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].group===e&&n.push(this.connectedUsersList[t]);return n},this.isClientWebRtcCompliant=function(e){var t,n,r=null,i=null;if(void 0!==e)for(t=this.getConnectedUsersList(),n=0;n<t.length;n++)t[n].userId===e&&null!=(i=t[n].userData)&&void 0!==i.webRtcCompliant&&(r=i.webRtcCompliant);return r},this.isClientDTLSCompliant=function(e){var t,n,r=!0,i=null;if(void 0!==e)for(t=this.getConnectedUsersList(),n=0;n<t.length;n++)t[n].userId===e&&(i=t[n].userData,m.log("userData :",i),null!=i&&void 0!==i.dtlsCompliant&&(r=i.dtlsCompliant));return r},this.getConnectedUserIdsList=function(e){m.info("getConnectedUserIdsList, group :",e);var t,n,r=[],i=!1,a={},o=[];if(void 0!==e?m.log("getConnectedUserIdsList for group : "+e):m.log("getConnectedUserIdsList : complete users list"),null==e)o=JSON.parse(JSON.stringify(this.connectedUsersList));else for(t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].group===e&&o.push(this.connectedUsersList[t]);for(t=0;t<o.length;t+=1){for(i=!1,n=0;n<r.length;n++)if(r[n].userId===o[t].userId){i=!0;break}!1===i&&((a={}).userId=o[t].userId,a.callState=o[t].callState,a.userData=o[t].userData,r.push(a))}return r},this.getGroupsFromConnectedUsersList=function(e){m.info("getGroupsFroConnectedUsersList");var t,n=[],r=!1;for(t=0;t<this.connectedUsersList.length;t+=1)this.connectedUsersList[t].userId===e&&(m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[t].group)),r=!0,n.push(this.connectedUsersList[t].group));return!0===r?JSON.stringify(n):"User_Not_Found"},this.getConnectedUserInfo=function(e,t){m.info("getConnectedUserInfo"),m.log("getConnectedUserInfo userId :",e),m.log("getConnectedUserInfo infoType :",t);var n,r=null,i=null;switch(t){case"all":for(m.log("all"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n])),r=this.getGroupsFromConnectedUsersList(e),(i=JSON.parse(JSON.stringify(this.connectedUsersList[n]))).groups=r,delete i.group,JSON.stringify(i);break;case"callState":for(m.log("callState"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n].callState)),this.connectedUsersList[n].callState;break;case"userData":for(m.log("userData"),n=0;n<this.connectedUsersList.length;n+=1)if(this.connectedUsersList[n].userId===e)return m.log("Matching Entry found :"+JSON.stringify(this.connectedUsersList[n].userData)),JSON.stringify(this.connectedUsersList[n].userData);break;case"groups":return m.log("groups"),this.getGroupsFromConnectedUsersList(e);default:m.log("infoType not defined switch case : "+t)}return"User_Not_Found"},this.isConnectedUser=function(e){m.info("isConnectedUser");var t,n=!1;for(t=0;t<this.connectedUsersList.length;t+=1)if(m.log(JSON.stringify(this.connectedUsersList[t])),this.connectedUsersList[t].userId===e)return n=!0,m.log("isConnected :"+n),n;return m.log("isConnected :"+n),n},this.displayConnectedUsersList=function(){var e;for(m.debug("displayConnectedUsersList"),e=0;e<this.connectedUsersList.length;e+=1)m.log("User :"+this.connectedUsersList[e].userId+" on group :"+this.connectedUsersList[e].group)},this.updatePresence=function(e){try{m.debug("updatePresence : ",JSON.stringify(e))}catch(e){m.debug(e)}m.log("updatePresence for group :"+e.group),this.manageConnectedUsersList(e.connectedUsersListWithStatus,e.state,e.group,e.connectedUsersList),v.createUpdatePresenceEvent(e.connectedUsersList,e.state,e.connectedUsersListWithStatus)},this.processCloudEventOccurred=function(e){m.debug("processCloudEventOccurred",e),v.createCloudEventOccurredEvent(e.event.type,e.event.target)},this.updateUserStatus=function(e){m.info("updateUserStatus"+e),v.createUpdateUserStatusEvent(e)},this.sendDebugCommand=function(e,t,n){m.info("sendDebugCommand :"+e),new h.a(this.channel.socket).sendDebugCommand("getClientSocketsInfo",t,n)},this.processSignalingMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=!1,a=null,o=null,l=!1,c=null;if("invite"===e.type)this.apiCCWebRTCClient?(m.log("this.webRTCPluginActivated =",this.webRTCPluginActivated),("IE"===s.b||"Safari"===s.b&&s.d<11)&&!0===this.webRTCPluginActivated?(m.log("managing call with WebRTC Plugin"),apiCC.manageWebRTCPlugin((function(){m.log("manageWebRTCPlugin cb on Invite"),apiCC.session.apiCCWebRTCClient.webRTCClient.processInvite(e)}),(function(){m.log("actionOnInstallationNeeded"),m.log("sending bye to be done"),new h.a(apiCC.session.channel.socket).sendBye(e.callId,e.calleeId,e.roomId,e.callerId,"WebRTC_Plugin_Installation_needed",e.data)}))):(m.log("managing call with browser"),this.apiCCWebRTCClient.webRTCClient.processInvite(e))):m.warn("WebRTCClient is not created");else if("200OK"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.process200OK(e):m.warn("WebRTCClient is not created");else if("candidate"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processCandidate(e):m.warn("WebRTCClient is not created");else if("bye"===e.type)this.apiCCWebRTCClient?(m.log("bye message from:"+e.clientId+" for callId : "+e.callId),this.apiCCWebRTCClient.webRTCClient.onRemoteHangup(e.callId,e.clientId,e.roomId,e.reason,e.confId,e.data)):m.warn("WebRTCClient is not created");else if("update"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processUpdate(e):m.warn("WebRTCClient is not created");else if("200update"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.process200Update(e):m.warn("WebRTCClient is not created");else if("newConversationCreated"===e.type)this.apiCCIMClient?this.apiCCIMClient.newConversationCreated(e):m.warn("IMClient is not created");else if("IMMessage"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveMessage(e):m.warn("IMClient is not created");else if("groupChatCreation"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatCreation(e):m.warn("IMClient is not created");else if("groupChatInvitation"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatInvitation(e):m.warn("IMClient is not created");else if("groupChatMemberUpdate"===e.type)this.apiCCIMClient?this.apiCCIMClient.groupChatMemberUpdate(e):m.warn("IMClient is not created");else if("addUserInGroupChatAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.addUserInGroupChatAnswer(e):m.warn("IMClient is not created");else if("groupChatMessage"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveGroupChatMessage(e):m.warn("IMClient is not created");else if("conversationHistoryAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveConversationHistory(e):m.warn("IMClient is not created");else if("getUserDataAnswer"===e.type)this.apiCCIMClient?this.apiCCIMClient.receiveUserDataAnswer(e):m.warn("IMClient is not created");else if("dataMessage"===e.type)this.apiCCDataClient?this.apiCCDataClient.receiveData(e):m.warn("DataClient is not created");else if("dataAck"===e.type)this.apiCCWebRTCClient.webRTCClient.processDataAck(e);else if("dataEndAck"===e.type)this.apiCCWebRTCClient.webRTCClient.processDataEndAck(e);else if("updateVideoQuality"===e.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processUpdateVideoQuality(e.callId,e.profile);else if("apiRTCDataMessage"===e.type)if(t.quiet||m.debug("apiRTCDataMessage:",e),Object(f.h)(e.data,"object"))if("joinSessionAnswer"===e.data.type)if(this.apiCCWebRTCClient){var u={roomName:e.data.roomId};Object(f.g)(e.data,"convId","string")&&(u.convId=e.data.convId),Object(f.g)(e.data,["data","mode"],"string")&&(u.data={mode:e.data.data.mode}),Object(f.g)(e.data,["data","transition"],"string")&&"mesh2janus"===e.data.data.transition?this.apiCCWebRTCClient.webRTCClient.MCUClient.changeSessionMode(u,"mesh2janus"):this.apiCCWebRTCClient.webRTCClient.MCUClient.updateSessionAnswer(u,{createSession:!0})}else m.warn("WebRTCClient is not created");else if("slowLink"===e.data.type){if(this.apiCCWebRTCClient){var d={};e.data.advice&&(d.advice=e.data.advice),this.apiCCWebRTCClient.webRTCClient.processSlowLink(e.data.callId,d)}}else if("videoQualityChanged"===e.data.type)v.createVideoQualityChangedEvent(e.data.callId,e.data.roomId,e.data.hint,e.data.profile);else if("distantIceError"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processDistantIceError(e.data);else if("streamTrackChanged"===e.data.type)this.apiCCWebRTCClient&&e.data.hasOwnProperty("mline")&&e.data.hasOwnProperty("muted")&&this.apiCCWebRTCClient.webRTCClient.processStreamTrackMuteChanged(e.data.callId,e.data.mline,e.data.muted);else if("configureEncodings"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processConfigureEncodings(e.data);else if("activeSpeaker"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processAudioAmplitude(e.data,!0);else if("stopSpeaking"===e.data.type)this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processAudioAmplitude(e.data,!1);else if("updateStream"===e.data.type)this.apiCCWebRTCClient&&e.data.callId&&e.data.mline&&e.data.direction&&this.apiCCWebRTCClient.webRTCClient.processUpdateStream(e.data.callId,e.data.mline,e.data.direction);else if("startRecording"===e.data.type){if(this.apiCCWebRTCClient)if("COMPOSITE"===e.data.callId)this.apiCCWebRTCClient.webRTCClient.MCUClient.startCompositeRecording(e.data.mediaType,e.data.customIdInFilename,e.data.convId,e.data.data);else{for(c=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--c>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[c].callId===e.data.callId){l=!0;break}l?this.apiCCWebRTCClient.webRTCClient.MCUClient.startRecording(e.data.mediaType,e.data.customIdInFilename,e.data.convId,e.data.callId,e.data.data):m.info("cannot start recording (call not found)")}}else if("startStreaming"===e.data.type){if(this.apiCCWebRTCClient){for(c=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--c>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[c].callId===e.data.callId){l=!0;break}l?this.apiCCWebRTCClient.webRTCClient.MCUClient.startStreaming(e.data.service,e.data.server,e.data.streamKey,e.data.callId):m.info("cannot start streaming (call not found)")}}else if("startCallStatsMonitoring"===e.data.type){if(this.apiCCWebRTCClient){for(m.debug("startCallStatsMonitoring",e.data.callId),c=this.apiCCWebRTCClient.webRTCClient.callsTable.length;--c>=0;)if(this.apiCCWebRTCClient.webRTCClient.callsTable[c].callId===e.data.callId){r=this.apiCCWebRTCClient.webRTCClient.callsTable[c];break}r?["chrome","firefox"].indexOf(f.c.type)>=0?r.csmIntervalId?m.debug("call stats monitoring already started"):r.csmIntervalId=setInterval(r.callback(r,"csmHandler"),r.csmIntervalMs):m.debug("call stats are only supported on chrome and firefox"):m.debug("no such call")}}else"callOrder"===e.data.type?(m.log("callOrder received"),this.apiCCWebRTCClient?(this.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector=e.senderId,n=this.apiCCWebRTCClient.webRTCClient.callWithNumber(e.data.caller,!0,{MCUType:"MCU-Callee",confId:e.data.confId,convId:e.data.convId},a),this.apiCCWebRTCClient.webRTCClient.myWebRTC_Event.createIncomingCallEvent(this.clientId,e.data.caller,e.data.caller,n,!1,1,!1,"video",!0,"web","media")):m.warn("WebRTCClient is not created")):"subscribeOrder"===e.data.type?(m.log("subscribeOrder received"),this.apiCCWebRTCClient?(this.apiCCWebRTCClient.webRTCClient.MCUClient.pubConnector=e.senderId,e.data.data.subscribeOrder=!0,(o=[]).push(e.data.stream),this.apiCCWebRTCClient.webRTCClient.MCUClient.subscribeToStreams(o,"VIDEO",e.data.data,a,{noStreamCheck:!0})):m.warn("WebRTCClient is not created")):"distantCallEstablished"===e.data.type?this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processDistantCallEstablished(e.data):"simulcastFeedChanged"===e.data.type?this.apiCCWebRTCClient&&this.apiCCWebRTCClient.webRTCClient.processSimulcastFeedChanged(e.data):m.log("msg.data.type is not managed :"+e.data.type);else m.log("msg.data === undefined");else if("conversationListAnswer"===e.type)this.receiveConversationListAnswer(e);else if("contactOccurrencesFromConversationListAnswer"===e.type)this.receiveContactOccurrencesFromConversationListAnswer(e);else if("conversationDetailReport"===e.type)this.receiveConversationDetailReportAnswer(e);else if("updatePresence"===e.type)m.log("updatePresence"),this.updatePresence(e);else if("updateUserStatus"===e.type)m.log("updateUserStatus"),this.updateUserStatus(e);else if("receiveMCUSessionId"===e.type)m.log("receiveMCUSessionId"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionId(e):m.warn("WebRTCClient is not created");else if("joinSessionAnswer"===e.type)m.log("joinSessionAnswer"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.joinSessionAnswer(e):m.warn("WebRTCClient is not created");else if("updateSessionAnswer"===e.type)m.log("updateSessionAnswer"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.updateSessionAnswer(e,{updateCalls:!0}):m.warn("WebRTCClient is not created");else if("availableStreams"===e.type)this.apiCCWebRTCClient?(m.log("message availableStreams received"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableStream(e.msg,"regular",(function(e,t,n){v.createMCUAvailableStreamEvent([t],e)})):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableReplay"===e.type)this.apiCCWebRTCClient?(m.log("message availableReplay received"),this.apiCCWebRTCClient?(i=this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableReplay(e.msg),v.createMCUAvailableReplayEvent(e.msg,i)):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableComposite"===e.type)this.apiCCWebRTCClient?(m.log("message availableComposite received"),this.apiCCWebRTCClient?(i=this.apiCCWebRTCClient.webRTCClient.MCUClient.newAvailableStream(e.msg,"composite"),v.createMCUAvailableCompositeEvent(e.msg,i)):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("onRemoveStream"===e.type)this.apiCCWebRTCClient?(m.log("message onRemoveStream received:",e),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.removeMCUStream(e.callId,e.msg.id,e.msg.reason):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("availableStreamsUpdate"===e.type)this.apiCCWebRTCClient?(m.log("message availableStreamsUpdate received"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.updateAvailableStream(e.msg,"regular",(function(e,t,n,r){v.createMCUAvailableStreamUpdateEvent([t],e)})):m.warn("WebRTCClient is not created")):m.warn("WebRTCClient is not created");else if("checkCallStatus"===e.type)this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.processCheckCallStatus(e):m.warn("WebRTCClient is not created");else if("MCUSessionInvitation"===e.type)m.log("MCUSessionInvitation"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionInvitation(e):m.warn("WebRTCClient is not created");else if("MCUSessionInvitationToGroupChat"===e.type)m.log("MCUSessionInvitationToGroupChat"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.receiveSessionInvitation(e):m.warn("WebRTCClient is not created");else if("participantEjected"===e.type)m.log("participantEjected"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.participantEjected(e):m.warn("WebRTCClient is not created");else if("recordingStarted"===e.type)m.log("recordingStarted"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStarted(e):m.warn("WebRTCClient is not created");else if("recordingStopped"===e.type)m.log("recordingStopped"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStopped(e):m.warn("WebRTCClient is not created");else if("recordingStreamAvailable"===e.type)m.log("recordingStreamAvailable"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.recordingStreamAvailable(e):m.warn("WebRTCClient is not created");else if("streamingStarted"===e.type)m.log("streamingStarted"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.streamingStarted(e):m.warn("WebRTCClient is not created");else if("streamingStopped"===e.type)m.log("streamingStopped"),this.apiCCWebRTCClient?this.apiCCWebRTCClient.webRTCClient.MCUClient.streamingStopped(e):m.warn("WebRTCClient is not created");else if("sessionId"===e.type)m.log("sessionId :"+e.sessionId),this.sessionId=e.sessionId;else if("roomCreation"===e.type)m.log("roomCreation"),this.roomMgr.roomCreation(e);else if("roomJoin"===e.type)m.log("roomJoined"),this.roomMgr.roomJoin(e);else if("inviteInRoomStatus"===e.type)m.log("inviteInRoomStatus"),this.roomMgr.inviteInRoomStatus(e);else if("contactListInRoom"===e.type)m.log("contactListInRoom"),this.roomMgr.onContactListInRoom(e);else if("roomInvitation"===e.type)m.log("roomInvitation"),this.roomMgr.roomInvitation(e);else if("roomMessage"===e.type)m.log("roomMessage"),this.roomMgr.receiveRoomMessage(e);else if("roomMemberUpdate"===e.type)m.log("roomMemberUpdate"),this.roomMgr.roomMemberUpdate(e);else if("agentReconnect"===e.type){var p=this.apiCCWebRTCClient.webRTCClient.findCallWithCallId(e.callId);null!=p&&p.getUserMediaOnCall()}else"sequence"===e.type?(m.log("Sequential message"),this.handleSequentialMessage(e)):"Ack"===e.type?m.log("Ack received"):"error"===e.type?(m.log("error received"),v.createErrorEvent(e.errorInfo,e.errorCode,e.callId,e.roomId,null,null,e.convId)):"enterpriseConfig"===e.type?(m.log("enterpriseConfig received"),this.handleEnterpriseConfigMessage(e)):"AIEMessage"===e.type?(m.log("AIEMessage received"),this.handleAIEMessage(e)):"cloudEventOccurred"===e.type?this.processCloudEventOccurred(e):m.log("Error : No type for this message")},this.handleSequentialMessage=function(e){if(void 0!==e.id&&void 0!==e.packetNum&&void 0!==e.totalPacketsNum&&void 0!==e.data){m.debug("Handle sequential message packet "+e.packetNum+"/"+e.totalPacketsNum,e);var n=[];if(void 0!==t.sequentialMessagesStorage[e.id]&&(n=t.sequentialMessagesStorage[e.id]),n.push(e),t.sequentialMessagesStorage[e.id]=n,n.length===e.totalPacketsNum){n.sort((function(e,t){return e.packetNum-t.packetNum}));var r="";n.forEach((function(e){r+=e.data})),delete t.sequentialMessagesStorage[e.id];var i=null;try{i=JSON.parse(r)}catch(e){return void m.error("Error : can't parse sequential message JSON :",e)}if(!i)return void m.error("Error : can't restore sequential message, it's null");m.debug("Restored sequential message :",r),t.processSignalingMessage(i)}}else m.error("Error : sequential message is inconsistent :",e)},this.handleEnterpriseConfigMessage=function(e){if(m.debug("handleEnterpriseConfigMessage :",e),Object(f.g)(e,"sentry","boolean")&&!0===e.sentry){var n="";n=void 0!==window&&void 0!==window.location&&void 0!==window.location.protocol&&"https:"!==window.location.protocol?"http":"https",apiCC.loadSentry(apiCC.initApiKey,n)}if(Object(f.g)(e,"customJson","string")&&""!==e.customJson)try{m.debug("customJson :",e.customJson),e.customJson=JSON.parse(e.customJson)}catch(e){m.error(e)}if(Object(f.g)(e,"iceServers","string")&&""!==e.iceServers)try{m.debug("iceServers :",e.iceServers),e.iceServers=JSON.parse(e.iceServers),t.apiCCWebRTCClient.setPcConfig(e.iceServers)}catch(e){m.error(e)}Object(f.g)(e,"logLevel","string")&&""!==e.logLevel&&!isNaN(parseInt(e.logLevel))&&apiRTC.setLogLevel(parseInt(e.logLevel)),Object(f.g)(e,"ccs","object")&&(t.ccsInfo=Object.assign({},e.ccs))},this.handleAIEMessage=function(e){switch(m.debug("handleAIEMessage :",e),e.detail){case"modelLoaded":if(void 0!==apiCC&&void 0!==e.userMediaStreamId){var t=apiCC.getUserMediaStream(e.userMediaStreamId).mediaFilterManager;for(var n in t.filters)void 0!==t.filters[n]&&null!==t.filters[n].streamAIE&&t.filters[n].streamAIE.modelLoaded(e)}break;case"unknownModelName":m.error("Unknown model name :",e.modelName);break;case"loadModelError":m.error("Error while loading model :",e.info);break;default:m.debug("Unknown detail :",e.detail)}}}},function(e,t,n){"use strict";n.r(t),n(12),n(14),n(16),n(148),n(44),n(23),n(8),n(98),n(52),n(60),n(99),n(10),n(92),n(22),n(120),n(167),n(46),n(7),n(68),n(21),n(43),n(17),n(11),n(97),n(109),n(129),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(15),n(30),n(230);var r=n(5),a=n(1),o=n(170),s=n(2),l=n(0),c=r.a.get("RecordManager"),u=n(3);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=r.a.get("ApiCC_Methods"),h=n(278).WebRTC_Adapter;apiCC.myWebRTC_Adapter=new h,apiCC.myWebRTC_Event=new o.a;var p=apiCC.myWebRTC_Event;apiCC.myWebRTC_Event.customEventIsDefined,apiCC.myEventTable=[],apiCC.ApiCCSession=n(291).ApiCCSession,apiCC.ApiCCWebRTCClient=n(289).ApiCCWebRTCClient,apiCC.ApiCCUserMediaStream=n(290).ApiCCUserMediaStream,apiCC.ApiCCPointerSharingClient=n(282).ApiCCPointerSharingClient,apiCC.ApiCCWhiteBoardClient=n(283).ApiCCWhiteBoardClient,apiCC.ApiCCDataClient=n(285).ApiCCDataClient,apiCC.ApiCCIMClient=n(286).ApiCCIMClient,apiCC.ApiCCCoBrowsingClient=n(287).ApiCCCoBrowsingClient,apiCC.recordMgr=new function(){c.debug("RecordManager creation"),this.mediaRecorder=null,this.recordedBlobs=[],this.mimeType=null,this.record=function(e,t){var n=this;return c.info("record"),c.log("stream :"+e),c.log("stream :",e),new Promise((function(r,i){var a=null;if(void 0===MediaRecorder)return c.debug("MediaRecorder is not supported on this browser, leaving recordStream process"),void i(s.a.createError(l.a.ERROR_STREAM_RECORD,"MediaRecorder is not supported on this browser, leaving recordStream process",c));if(null===e)return c.debug("Stream has no data, cannot record"),void i(s.a.createError(l.a.ERROR_STREAM_RECORD,"Stream has no data, cannot record",c));if(null!==n.mediaRecorder&&(c.log("this.mediaRecorder.state :"+n.mediaRecorder.state),"recording"===n.mediaRecorder.state||"paused"===n.mediaRecorder.state))return c.log("mediaRecorder is already ongoing, use stopRecordStream before trying another record"),void i(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is already ongoing, use stopRecordStream before trying another record",c));if(c.debug("checking MediaRecorderOptions mimeType support"),null!=t?(c.debug("options is defined :",t),null!==t.mimeType&&void 0!==t.mimeType&&(c.debug("contentType is defined :",t.mimeType),MediaRecorder.isTypeSupported(t.mimeType)&&(a=t.mimeType))):t={},null===a){var o="video/webm;codecs=vp8,opus";MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o="video/webm;codecs=vp9,opus",MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o="video/webm",MediaRecorder.isTypeSupported(o)||(c.debug(o+" is not Supported"),o=""))),t.mimeType=o}n.mimeType=t.mimeType,c.debug("Start record with MediaRecorderOptions :",t);try{n.recordedBlobs=[],n.mediaRecorder=new MediaRecorder(e,t)}catch(e){return c.error("Exception while creating MediaRecorder: "+e+". mimeType: "+t.mimeType),void i(s.a.createError(l.a.ERROR_STREAM_RECORD,"Exception while creating MediaRecorder: "+e+". mimeType: "+t.mimeType,c))}n.mediaRecorder.onstart=function(e){c.log("onstart :"+e),this.onerror=null,r()},n.mediaRecorder.ondataavailable=function(e){e.data&&e.data.size>0&&apiCC.recordMgr.recordedBlobs.push(e.data)},n.mediaRecorder.onerror=function(e){c.log("onerror :"+e),i(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},n.mediaRecorder.start(10),c.log("MediaRecorder started",n.mediaRecorder)}))},this.stop=function(){var e=this;return c.info("stop"),new Promise((function(t,n){return e.mediaRecorder.onstop=function(e){c.log("mediaRecorder onstop :"+e),this.onstart=null,this.onstop=null,this.onerror=null,this.onpause=null,this.onresume=null,this.ondataavailable=null;var n=new Blob(apiCC.recordMgr.recordedBlobs,{type:this.mimeType});t(n)},void 0===MediaRecorder?(c.debug("MediaRecorder is not supported on this browser, leaving recordStream process"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"MediaRecorder is not supported on this browser, leaving recordStream process",c))):null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to stop"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to stop",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is already inactive"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is already inactive",c))):void e.mediaRecorder.stop())}))},this.pause=function(){var e=this;return c.info("pause"),new Promise((function(t,n){return null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to pause"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to pause",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"paused"===e.mediaRecorder.state?(c.log("mediaRecorder is already paused"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is already paused",c))):"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is inactive"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is inactive",c))):(e.mediaRecorder.onerror=function(e){c.log("onerror :"+e),n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},e.mediaRecorder.onpause=function(e){c.log("onpause :"+e),this.onerror=null,t()},void e.mediaRecorder.pause()))}))},this.resume=function(){var e=this;return c.info("resume"),new Promise((function(t,n){return null===e.mediaRecorder?(c.log("mediaRecorder is not running, use startRecordStream before trying to resume"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is not running, use startRecordStream before trying to resume",c))):(c.log("this.mediaRecorder.state :"+e.mediaRecorder.state),"recording"===e.mediaRecorder.state?(c.log("mediaRecorder is already recording"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is already recording",c))):"inactive"===e.mediaRecorder.state?(c.log("mediaRecorder is inactive"),void n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder is inactive",c))):(e.mediaRecorder.onerror=function(e){c.log("onerror :"+e),n(s.a.createError(l.a.ERROR_STREAM_RECORD,"mediaRecorder error :"+e,c)),this.onerror=null},e.mediaRecorder.onresume=function(e){c.log("onresume :"+e),this.onerror=null,t()},void e.mediaRecorder.resume()))}))}},"electron"!==a.a?n(288):f.debug("Electron detected, not loading onbeforeunload"),apiCC.addEventListener=function(e,t){var n={},r=null;["sessionReady","incomingCall","callEstablished","remoteHangup","userMediaSuccess","userMediaError","userMediaStop","error","receiveIMMessage","updatePresence","webRTCClientCreated","updateUserStatus","channelEvent","groupChatCreation","groupChatInvitation","groupChatMemberUpdate","addUserInGroupChatAnswer","receiveGroupChatMessage","userDataAnswer","receiveConversationList","receiveConversationHistory","receiveConversationDetailReport","receiveContactOccurrencesFromConversationList","receiveMCUSessionInvitation","MCUSessionCreation","MCUAvailableStream","MCUAvailableStreamUpdate","MCUAvailableReplay","MCURemoveStream","canPlayRemoteVideo","recordedFileAvailable","receiveData","roomCreation","roomJoined","roomInvitation","roomMemberUpdate","receiveRoomMessage","contactListInRoom","snapShotPhotoUploaded","stopRecord","callAttempt","joinMCUSessionAnswer","hangup","desktopCapture","remoteStreamAdded","localStreamRemoved","remoteStreamRemoved","switchStream","sendDataChannelOpen","sendDataChannelClose","sendDataChannelError","receiveDataChannelOpen","receiveDataChannelClose","receiveDataChannelError","connectedUsersListUpdate","onFileSended","onFileSending","onFileReceiving","onFileReceived","onFileProgress","onFilePending","recordedStreamsAvailable","closingWhiteBoard","webRTCPluginInstallation","onQosStatsUpdate","onQosChange","onQosAudioChange","onCallScoreUpdate","activeSpeaker","stopSpeaking","audioAmplitude","preCallTestStatus","onQosVideoChange","onCallStatsUpdate","cpuLimited","bandwidthLimited","MCURecordedStreamsAvailable","MCURecordingStarted","MCURecordingStopped","ICECandidateTypeUpdate","disconnectionWarning","MCUAvailableComposite","callRestarting","selectedICECandidate","MCUParticipantEjected","MCURoomModeChanged","MCUStreamingStarted","MCUStreamingStopped","mediaDeviceChanged","externalJsLoadingStatus","slowLink","localStreamUpdated","remoteStreamUpdated","simulcastFeedChanged","videoQualityChanged","bandwidthResourceManagement","backgroundSubstractionStopVisibilityChange","backgroundSubstractionStopComputeTime","AIESnapshot","AIELog","cloudEventOccurred"].indexOf(e)>-1?("remoteHangup"===e&&f.warn("DEPRECATED : ApiRTC : remoteHangup event is now deprecated, please use hangup event instead"),f.log("Adding listener on type :"+e),"undefined"!=typeof apiRTC_React?eventManager.addEventListener(e,t):document.addEventListener?document.addEventListener(e,t,!1):"undefined"!=typeof $jqApz?(f.log("using $jqApz"),$jqApz(document).on(e,t)):"undefined"!=typeof jQuery?(f.log("using jQuery"),jQuery(document).on(e,t)):f.warn("Custom Events not supported on this browser : addEventListener()"),n={type:e,listener:t},r=apiCC.myEventTable.push(n),f.trace("number of myEventTable:"+r)):(p.createErrorEvent("ERROR: Trying to add a listener on an unknow event","UNKNOWN_EVENT_ON_ADDLISTENER"),f.log("ERROR: Trying to add a listener on an unknow event :"+e))},apiCC.removeEventListener=function(e,t){f.debug("Removing listener on type :"+e),document.removeEventListener?document.removeEventListener(e,t,!1):"undefined"!=typeof jQuery?jQuery(document).off(e,t):f.log("Custom Events not supported on this browser")},apiCC.setCookie=function(e,t,n){f.debug("setCookie"),n=n||36e5;var r=new Date,i=new Date;i.setTime(r.getTime()+n),document.cookie=e+"="+encodeURIComponent(t)+";expires="+i.toGMTString()},apiCC.isWebRTCCompliant=function(){f.debug("isWebRTCCompliant");var e=!1,t=!1;return["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(t){e||t in window&&(e=!0)})),!1===e?(f.debug("isWebRTCCompliant::isWebRTCSupported false"),!1):(["getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia"].forEach((function(e){t||e in navigator&&(t=!0)})),!1===t?(f.debug("isWebRTCCompliant::isWebRTCGUMSupported false or you are connected with HTTP"),!1):"MIUI Browser"===a.b?(f.debug("isWebRTCCompliant::MIUI Browser detected false"),!1):("IE"===a.b||"Safari"===a.b&&a.d<11)&&!0!==this.webRTCPluginActivated?(f.debug("isWebRTCCompliant FALSE : IE or Safari"),!1):(f.debug("isWebRTCCompliant:: WebRTC is supported"),!0))},apiCC.isQoSStatCompliant=function(){var e=!1;return["chrome","firefox"].indexOf(apiCC.browserDetails.type)<0?(f.debug("QoS Statistics is only supported on Chrome and Firefox"),e):e=!0},apiCC.isScreenSharingCompliant=function(){var e=!1;return"IE"===a.b||"Android"===a.g||"iOS"===apiRTC.osName&&"undefined"!=typeof cordova||("Chrome"===a.b||"Firefox"===a.b&&a.d>=52||navigator.getDisplayMedia||navigator.mediaDevices.getDisplayMedia?e=!0:f.debug("ScreenSharing is not supported")),e},apiCC.getMediaDevices=function(){return f.debug("getMediaDevices"),new Promise((function(e,t){if("undefined"!=typeof apiRTC_React)f.log("enumerateDevices() is supported - React Native"),mediaDevices.enumerateDevices().then((function(t){f.log("enumerateDevices(), sources :",t),apiCC.mediaDeviceMgr.mediaSourceInfos=t,e(t)})).catch((function(e){f.log("enumerateDevices(), error :",e),t(e)}));else if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)f.log("enumerateDevices() is supported."),navigator.mediaDevices.enumerateDevices().then((function(t){f.log("enumerateDevices(), sources :",t),apiCC.mediaDeviceMgr.mediaSourceInfos=t,e(t)})).catch((function(e){f.log("enumerateDevices(), error :",e),t(e)}));else if(f.log("enumerateDevices() not supported."),"undefined"==typeof MediaStreamTrack)f.warn("This browser does not support MediaStreamTrack"),t(new Error("getMediaDevices() - MediaStreamTrack undefined"));else try{MediaStreamTrack.getSources(e)}catch(e){f.debug("catch MediaStreamTrack.getSources :"+e),t(new Error("getMediaDevices() - Error on MediaStreamTrack.getSources :"+e))}}))},apiCC.getMediaDevicesWithCB=function(e){if(f.debug("getMediaDevicesWithCB"),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)f.log("enumerateDevices() is supported."),navigator.mediaDevices.enumerateDevices().then(e).catch((function(e){f.log("navigator.mediaDevices.enumerateDevices error: ",e),e=null}));else if(f.log("enumerateDevices() not supported."),"undefined"==typeof MediaStreamTrack)e(null),f.warn("This browser does not support MediaStreamTrack");else try{MediaStreamTrack.getSources(e)}catch(t){f.debug("catch MediaStreamTrack.getSources :"+t),e(null)}},apiCC.getUserMedia=function(e){return f.info("getUserMedia"),f.debug("with constraints :",e),new Promise((function(t,n){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?(f.debug("webRTC getUserMedia with promises"),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)):"undefined"!=typeof apiRTC_React?(f.debug("webRTC getUserMedia with promises on React Native"),mediaDevices.getUserMedia(e).then(t).catch(n)):(f.debug("webRTC getUserMedia without promises"),apiCC.myWebRTC_Adapter.getUserMedia(e,t,n))}))},apiCC.getUserMediaWithCB=function(e,t,n){f.info("getUserMediaWithCB"),f.debug("with constraints :"+JSON.stringify(e)),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?(f.log("getUserMedia with promises"),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)):(f.log("getUserMedia without promises"),apiCC.myWebRTC_Adapter.getUserMedia(e,t,n))},apiCC.userMediaStreamTable=[],apiCC.getUserMediaStreamIds=function(){for(var e=[],t=apiCC.userMediaStreamTable.length;--t>=0;)e.push(apiCC.userMediaStreamTable[t].userMediaStreamId);return e},apiCC.getUserMediaStream=function(e,t){var n=null,r=apiCC.userMediaStreamTable.length;if(null==e){if(t&&"function"==typeof t.accept)for(;--r>=0;)if(!0===t.accept(apiCC.userMediaStreamTable[r])){n=apiCC.userMediaStreamTable[r];break}}else for(;--r>=0;)if(apiCC.userMediaStreamTable[r].userMediaStreamId===e){n=apiCC.userMediaStreamTable[r];break}return n},apiCC.getFirstUserMediaStream=function(){return apiCC.userMediaStreamTable.length>0?apiCC.userMediaStreamTable[0]:null},apiCC.createUserMediaStream=function(e){var t=function(e){for(var t=apiCC.userMediaStreamTable.length;--t>=0;)if(apiCC.userMediaStreamTable[t].userMediaStreamId===e){apiCC.userMediaStreamTable.splice(t,1);break}},n=new apiCC.ApiCCUserMediaStream,r="call";return f.debug("[createUserMediaStream] userMediaStreamId: "+n.userMediaStreamId),null==e&&(e={}),e.type&&(n.callType=e.type),e.stream?(n.stream=e.stream,n.streamStolen=!0,n.notifyUserMediaStop=!1):e.gum_config&&(n.gum_config=Object(u.k)(e.gum_config)),e.audioSourceId&&(n.inputs.audioSourceId=e.audioSourceId),e.videoSourceId&&(n.inputs.videoSourceId=e.videoSourceId),e.facingMode&&(n.inputs.facingMode=e.facingMode),e.captureSourceType&&(n.captureSourceType=e.captureSourceType),e.notifyUserMediaSuccess&&(n.notifyUserMediaSuccess=e.notifyUserMediaSuccess),e.notifyUserMediaError&&(n.notifyUserMediaError=e.notifyUserMediaError),e.tryAudioCallAfterUserMediaError&&(n.tryAudioCallAfterUserMediaError=e.tryAudioCallAfterUserMediaError),e.displayMediaStreamConstraints&&(n.displayMediaStreamConstraints=e.displayMediaStreamConstraints),e.forceExtensionOnChrome&&(n.forceExtensionOnChrome=e.forceExtensionOnChrome),e.filters&&(n.filters=e.filters),e.callId&&("call"!==e.callFlavor&&"userMedia"!==e.callFlavor||(r=e.callFlavor),null===n.stream?n.addCallInfo(e.callId,r,!0):n.addCallInfo(e.callId,r,!1)),n.callbacks.release="function"==typeof e.release?e.release:function(){},n.callbacks.success="function"==typeof e.success?e.success:function(){},n.callbacks.failure="function"==typeof e.failure?e.failure:function(){},apiCC.userMediaStreamTable.push(n),null===n.stream?"screenSharing"===n.callType||"screenSharingWithAudio"===n.callType?n.getScreenMedia():"data"!==n.callType?n.getUserMedia():!0===e.sync?(t(n.userMediaStreamId),n.callbacks.failure(n,"wrong type")):setTimeout((function(){t(n.userMediaStreamId),n.callbacks.failure(n,"wrong type")}),0):(n.updateMediaProperties(n.stream),!0===e.sync?n.callbacks.success(n):setTimeout((function(){n.callbacks.success(n)}),0)),n},apiCC.releaseUserMediaStream=function(e,t,n){var r=!1,i=apiCC.userMediaStreamTable.length,a=null;if(null!==t&&"string"!=typeof t&&(t=null),null==e){if(n&&"function"==typeof n.accept)for(;--i>=0;)if(!0===n.accept(apiCC.userMediaStreamTable[i])){if(t){if(null===(a=apiCC.userMediaStreamTable[i].getOwnerCallInfo())||a.callId!==t){apiCC.userMediaStreamTable[i].removeCallInfo(t);break}}else if(null!==(a=apiCC.userMediaStreamTable[i].getOwnerCallInfo()))break;f.debug("[releaseUserMediaStream] match; userMediaStreamId: "+apiCC.userMediaStreamTable[i].userMediaStreamId),apiCC.userMediaStreamTable[i].release(),t&&apiCC.userMediaStreamTable[i].removeCallInfo(t),apiCC.userMediaStreamTable.splice(i,1),r=!0;break}}else for(;--i>=0;)if(apiCC.userMediaStreamTable[i].userMediaStreamId===e){if(t){if(null===(a=apiCC.userMediaStreamTable[i].getOwnerCallInfo())||a.callId!==t){apiCC.userMediaStreamTable[i].removeCallInfo(t);break}}else if(null!==(a=apiCC.userMediaStreamTable[i].getOwnerCallInfo()))break;f.debug("[releaseUserMediaStream] id; userMediaStreamId: "+apiCC.userMediaStreamTable[i].userMediaStreamId),apiCC.userMediaStreamTable[i].release(),t&&apiCC.userMediaStreamTable[i].removeCallInfo(t),apiCC.userMediaStreamTable.splice(i,1),r=!0;break}return r},apiCC.activeSpeakerDetect=!1,apiCC.activeSpeakerThreshold=100,apiCC.enableActiveSpeakerDetecting=function(e,t){apiCC.activeSpeakerDetect=e,t&&(apiCC.activeSpeakerThreshold=t)},apiCC.apiRTCExtensionInstalled=!1,apiCC.extensionInstallationSuccessCallback=function(){f.debug("extensionInstallationSuccessCallback"),apiCC.apiRTCExtensionInstalled=!0},apiCC.extensionInstallationFailureCallback=function(e,t){f.debug("extensionInstallationFailureCallback : Error :"+e+", "+t),e=null,t=null,p.createDesktopCaptureEvent("Extension_installation_Error",apiRTC.waitingShareScreenCallId,apiRTC.waitingShareScreenDestNumber,apiRTC.waitingCaptureSourceType)},apiCC.manageNotInstalledExtension=function(e,t,n){f.debug("manageNotInstalledExtension"),f.warn("apiRTC extension not installed"),p.createDesktopCaptureEvent("Extension_not_installed",e,t),f.warn("Starting apiRTC extension installation"),apiRTC.waitingShareScreenDestNumber=t,apiRTC.waitingShareScreenCallId=e,apiRTC.waitingCaptureSourceType=n,a.d>=71?(f.debug("Chrome >= 71, opening Chrome web Store"),apiRTC.extensionInstallationFailureCallback("Chrome71 : chrome.webstore.install() no more supported","Chrome71-screenShare"),window.open("https://chrome.google.com/webstore/detail/apizee-desktop-capture/mjjnofoemoepfididplbfimokpnpcoeg")):chrome.webstore.install("https://chrome.google.com/webstore/detail/mjjnofoemoepfididplbfimokpnpcoeg",apiRTC.extensionInstallationSuccessCallback,apiRTC.extensionInstallationFailureCallback)},apiCC.activateScreenSharing=function(e){f.debug("activateScreenSharing");var t=null;void 0!==e?f.log("extensionId is defined :"+e):(f.log("using apizee extension's Id"),e="mjjnofoemoepfididplbfimokpnpcoeg"),"Chrome"===a.b?null!==document.getElementById(e)?(f.log("extensionLink is present, screenSharing is already activated"),window.postMessage("apiRTC-extension","*")):(f.log("screenSharing is not yet activated"),(t=document.createElement("link")).href="https://chrome.google.com/webstore/detail/"+e,t.rel="chrome-webstore-item",t.id=e,document.getElementsByTagName("head")[0].appendChild(t),window.addEventListener("message",(function(e){var t=null;if(f.log("message: event: "+JSON.stringify(e.data)),e.origin==window.location.origin){if("apiRTC-DeskstopCapture-loaded"!==e.data)return"extensionInstalledAndLoaded"===e.data?(apiCC.apiRTCExtensionInstalled=!0,null!==apiCC.waitingShareScreenUserMediaStream&&void 0!==apiCC.waitingShareScreenUserMediaStream&&(apiCC.userMediaStreamTable.push(apiCC.waitingShareScreenUserMediaStream[0]),delete apiCC.waitingShareScreenUserMediaStream),void(apiCC.waitingShareScreenUserMediaStreamId&&(t=apiCC.getUserMediaStream(apiCC.waitingShareScreenUserMediaStreamId),delete apiCC.waitingShareScreenUserMediaStreamId,t&&t.getScreenMedia()))):void("object"===d(e.data)&&void 0!==e.data.desktopId&&("getScreenMedia"!==e.data.remoteId||null===(t=apiCC.getUserMediaStream(e.data.callNumber))||t.registerScreenMedia(e.data.captureSourceType,e.data.desktopId)));apiCC.apiRTCExtensionInstalled=!0}})),window.postMessage("apiRTC-extension","*")):(f.log("activateScreenSharing is only available for chrome Browser"),p.createDesktopCaptureEvent("Browser_Not_Compatible",null,null))},apiCC.checkIfAudioSourceIdExistOnDevice=function(e){f.log("checkIfAudioSourceIdExistOnDevice :",e);var t,n=!1,r=null;if(null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)"audio"!==(r=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).kind&&"audioinput"!==r.kind||(r.deviceId===e?(f.log("Audio device present :",e),n=!0):f.log("not this deviceId"));return n},apiCC.setAudioSourceIdInConstraint=function(e,t){return f.log("setAudioSourceIdInConstraint:",t),null==e?f.log("audioSourceId not defined"):!1===t.audio?f.log("constraints.audio === false, no audio device present"):!1===apiCC.checkIfAudioSourceIdExistOnDevice(e)?(f.log("audioSourceId not found on device"),t.audio={}):(!0!==t.audio&&void 0!==t.audio||(t.audio={}),f.log("audioSourceId is defined :",e),"iOS"===a.h.name?"Mobile Safari"===a.b||(t.audio.deviceId=e):"Firefox"===a.b&&a.d>=50?t.audio.deviceId=e:"Chrome"===a.b&&a.d<48||"Safari"===a.b&&a.d<11?t.audio.optional=[{sourceId:e}]:t.audio.deviceId=e?{ideal:e}:void 0),f.debug("constraints =",t),t},apiCC.checkIfVideoSourceIdExistOnDevice=function(e){f.log("checkIfVideoSourceIdExistOnDevice :",e);var t,n=!1,r=null;if(f.debug("apiCC.mediaDeviceMgr.mediaSourceInfos :",apiCC.mediaDeviceMgr.mediaSourceInfos),null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)"video"!==(r=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).kind&&"videoinput"!==r.kind||(r.deviceId===e?(f.log("Video device present :",e),n=!0):f.log("not this deviceId"));return n},apiCC.getMediaDeviceLabelFromDeviceid=function(e){f.log("getMediaDeviceLabelFromDeviceid :",e);var t,n="Not_Found",r=null;if(f.debug("apiCC.mediaDeviceMgr.mediaSourceInfos :",apiCC.mediaDeviceMgr.mediaSourceInfos),null!==apiCC.mediaDeviceMgr.mediaSourceInfos)for(t=0;t<apiCC.mediaDeviceMgr.mediaSourceInfos.length;++t)(r=apiCC.mediaDeviceMgr.mediaSourceInfos[t]).deviceId===e?(f.log("Video device present :",e),n=r.label):f.log("not this deviceId");return n},apiCC.setVideoSourceIdInConstraint=function(e,t){if(f.log("setVideoSourceIdInConstraint : ",t),null==e)f.log("videoSourceId not defined");else if(!1===t.video)f.log("constraints.video === false, no video device present");else if(!1===apiCC.checkIfVideoSourceIdExistOnDevice(e))f.log("videoSourceId not found on device"),t.video={};else if(f.log("videoSourceId is defined :",e),!0!==t.video&&void 0!==t.video||(t.video={}),"iOS"===a.h.name)if("Mobile Safari"===a.b){if(e){var n=!1,r=a.h.version.split(".");r.length>0&&parseInt(r[0])<13&&(n=!0),t.video.deviceId=n?{exact:e}:{ideal:e}}}else t.video.deviceId=e;else"Firefox"===a.b&&a.d>=50?"Firefox"===a.b&&a.d>=77?(f.debug("FX > 77 using exact to set deviceId"),t.video.deviceId={exact:e}):t.video.deviceId=e:"Chrome"===a.b&&a.d<48||"Safari"===a.b&&a.d<11?t.video.optional=[{sourceId:e}]:t.video.deviceId=e?{ideal:e}:void 0;return f.log("constraints =",t),t},apiCC.setVideoFacingModeInConstraint=function(e,t){f.log("setVideoFacingModeInConstraint");var n={};return!1===t.video?(f.log("facingMode value is not setted, constraints.video is false"),t):null==e?(f.log("facingMode value is not setted"),t):"user"!==e&&"environment"!==e&&"left"!==e&&"right"!==e?(f.log("facingMode value is not correct"),t):(null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices.getSupportedConstraints&&void 0!==navigator.mediaDevices.getSupportedConstraints&&(n=navigator.mediaDevices.getSupportedConstraints()),n.hasOwnProperty("facingMode")?(f.log("Setting FacingMode in constraint"),!0===t.video&&(t.video={}),t.video.facingMode={ideal:e}):f.log("FacingMode not supported by device"),f.debug("constraints =",t),t)},apiCC.setResolutionInConstraint=function(e,t,n){return f.log("setResolutionInConstraint"),e<=0||t<=0?(f.log("Resolution value must be positif non null"),n):(!0===n.video||void 0!==n.video?"iOS"===a.h.name?"Mobile Safari"===a.b?(n.video.width=e?{exact:e}:void 0,n.video.height=t?{exact:t}:void 0):(n.video.width=e,n.video.height=t):"Firefox"===a.b&&a.d>=50?(n.video.width=e,n.video.height=t):"Safari"===a.b&&a.d>=11||"Mobile Safari"===a.b||"Edge"===a.b||"Chrome"===a.b&&a.d>=49||"Firefox"===a.b&&a.d>=50?(n.video.width=e?{exact:e}:void 0,n.video.height=t?{exact:t}:void 0):n.video.mandatory=[{width:e,height:t}]:f.error("setResolutionInConstraint : contraint.video must be true or defined"),f.debug("constraints =",n),n)},apiCC.checkConstraintDependingOnDevice=function(e){f.debug("checkConstraintDependingOnDevice :",e),"Mobile Safari"===a.b&&a.d>=13&&void 0!==e.video&&void 0!==e.video.height&&void 0!==e.video.width&&1080===e.video.height.ideal&&1920===e.video.width.ideal&&(f.debug("Downgrading selected height and width resolution on iOS, to avoid stream issue"),e.video.height.ideal=720,e.video.width.ideal=1280)},apiCC.attachMediaStream=function(e,t){f.debug("attachMediaStream"),null!==e?(void 0!==e.srcObject?e.srcObject=t:void 0!==e.mozSrcObject?e.mozSrcObject=t:void 0!==e.src?"Chrome"===a.b&&a.d<46?(f.log("Attaching media stream for Chrome < 46"),e.src=webkitURL.createObjectURL(t)):e.src=URL.createObjectURL(t):f.error("Error attaching stream to element."),"iOS"===a.h.name&&(f.log("iOS detected"),e.setAttribute("playsinline",!0))):f.log("videoElt is null")},apiCC.addStreamInDiv=function(e,t,n,r,i,o,s){f.debug("addStreamInDiv");var l,c=null,d=null,h=!1,p=null;Object(u.h)(s,"object")&&null!=s.type&&(t=s.type),Object(u.h)(s,"object")&&void 0!==s.forceAudioAndVideoMediaElementSeparation&&(f.debug("forceAudioAndVideoMediaElementSeparation is set"),h=!0),"audio"===t?c=document.createElement("audio"):("iOS"===a.g&&"Mobile Safari"===a.b&&(f.debug("iOS && Mobile Safari"),h=!0),c=document.createElement("video")),c.id=r,c.autoplay=!0,!0===h&&!1===o?(f.debug("before adding separated MediaEltAudio"),(p=document.createElement("audio")).id=r+"_sepAudio",p.muted=o,p.autoplay=!0,c.muted=!0):c.muted=o,c.style.width=i.width,c.style.height=i.height,l=function(e){var t=null,n=e.play();t=function(){var n=e.play();f.log("funcFixIoS"),void 0!==n&&n.then((function(){f.log("Autoplay started"),apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient.setStatus("Audio is now activated"),document.removeEventListener("touchstart",t)})).catch((function(e){f.error("Autoplay was prevented")}))},void 0!==n&&n.then((function(){f.log("Autoplay started")})).catch((function(e){"iOS"===a.h.name?(f.warn("iOS : Autoplay was prevented, activating touch event to start media play"),apiCC.myWebRTC_Event.createErrorEvent("ERROR: iOS : Autoplay was prevented","IOS_AUTOPLAY_PREVENTED"),document.addEventListener("touchstart",t),apiCC.session&&apiCC.session.apiCCWebRTCClient&&apiCC.session.apiCCWebRTCClient.webRTCClient.setStatus("WARNING : Audio autoplay was prevented by iOS, touch screen to activate audio")):f.warn("Autoplay was prevented")}))},"Chrome"===a.b&&"61"===a.d&&"Android"===a.g&&(c.style.borderRadius="1px",f.log("Patch for video display on Chrome 61 Android")),apiCC.session&&apiCC.session.apiCCWebRTCClient&&void 0!==apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId&&null!==apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId?(f.log("audioOutputId set to: "+apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId),c.setSinkId(apiCC.session.apiCCWebRTCClient.webRTCClient.audioOutputId).then((function(){f.log("Success, audio output device attached")}))):f.log("No audioOutputId set"),"iOS"!==a.g&&(d=document.getElementById(n)).appendChild(c),void 0!==e&&(apiCC.attachMediaStream(c,e),!0===h&&!1===o&&apiCC.attachMediaStream(p,e)),"iOS"===a.g&&(d=document.getElementById(n)).appendChild(c),!0===h&&!1===o&&null!==d&&d.appendChild(p),l(c),!0===h&&!1===o&&l(p)},apiCC.removeElementFromDiv=function(e,t){f.debug("removeElementFromDiv");var n,r,i=null;n=document.getElementById(t),i=document.getElementById(e),null!==n&&(f.log("Removing video element with Id : "+t),null!==i&&i.removeChild(n)),null!==(r=document.getElementById(t+"_sepAudio"))&&(f.log("iOS : Removing audio element with Id : "+t+"_sepAudio"),null!==i&&i.removeChild(r))},apiCC.randomString=function(e,t){for(var n="string"==typeof t&&t.length>0?t:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r="";--e>=0;)r+=n.charAt(Math.floor(Math.random()*n.length));return r},apiCC.generateCallId=function(){var e=0;return e=void 0!==Number.MAX_SAFE_INTEGER?Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():Math.floor(1000001*Math.random()).toString(),f.debug("new callId :"+e),e},apiCC.generateInstanceId=function(){var e=0;return e=void 0!==Number.MAX_SAFE_INTEGER?Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString():Math.floor(1000001*Math.random()).toString(),f.debug("new instanceId :"+e),e},apiCC.myApiCCWhiteBoardClient=null,apiCC.createWhiteBoard=function(e,t,n,r){return f.debug("createWhiteBoard"),apiCC.myApiCCWhiteBoardClient=new apiCC.ApiCCWhiteBoardClient(apiCC.session,e,t,n,r),apiCC.myApiCCWhiteBoardClient},apiCC.closeWhiteBoardClient=function(e){f.info("closeWhiteBoardClient"),p.createClosingWhiteBoardEvent(apiCC.myApiCCWhiteBoardClient.roomId,e),apiCC.myApiCCWhiteBoardClient.isInRoom()&&apiCC.myApiCCWhiteBoardClient.leaveRoom(),apiCC.myApiCCWhiteBoardClient.stop()},apiCC.registerIOsDevice=function(e){f.debug("call registerIOsDevice 1");var t={type:"registerIOsDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);f.debug("call registerIOsDevice "+n),apiCC.session.channel.socket.emit("registerIOsDevice",n),f.debug("call registerIOsDevice  done")},apiCC.registerAndroidDevice=function(e){f.debug("registerAndroidDevice");var t={type:"registerAndroidDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("registerAndroidDevice",n)},apiCC.unRegisterIOsDevice=function(e){f.debug("unRegisterIOsDevice");var t={type:"unRegisterIOsDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("unRegisterIOsDevice",n)},apiCC.unRegisterAndroidDevice=function(e){f.debug("unRegisterAndroidDevice");var t={type:"unRegisterAndroidDevice",senderId:apiCC.session.apiCCId,token:e},n=JSON.stringify(t);apiCC.session.channel.socket.emit("unRegisterAndroidDevice",n)},apiCC.storeSessionCookies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.info("storeSessionCookies",e),apiCC.session){var t=5e3;Object(u.g)(apiCC.session,"apiCCIdPersistenceTimeout","number")&&apiCC.session.apiCCIdPersistenceTimeout>=0&&(t=apiCC.session.apiCCIdPersistenceTimeout),Object(u.h)(e.apiCCIdPersistenceTimeout,"number")&&e.apiCCIdPersistenceTimeout>=0&&(t=e.apiCCIdPersistenceTimeout),apiCC.setCookie("apiCCId",apiCC.session.apiCCId,t),apiCC.setCookie("apiKey",apiCC.session.apiKey,t),null!==apiCC.session.sessionId&&apiCC.setCookie("sessionId",apiCC.session.sessionId,t)}},apiCC.disconnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.info("disconnect",e),null!==apiCC&&apiCC.cleanAllEventListener(),null!==apiCC.session&&void 0!==apiCC.session&&("undefined"==typeof apiRTC_React&&!0!==e.invalidateApiCCId&&apiCC.storeSessionCookies(e),null!==apiCC.myApiCCWhiteBoardClient&&(f.log("apiCC.myApiCCWhiteBoardClient.roomId :"+apiCC.myApiCCWhiteBoardClient.roomId),null!==apiCC.myApiCCWhiteBoardClient.roomId&&apiCC.closeWhiteBoardClient("USER_DISCONNECTION")),f.log("Disconnecting from Server"),void 0!==apiCC.session.channel.socket&&null!==apiCC.session.channel.socket&&apiCC.session.channel.socket.disconnect(),apiCC.session.channel.channelHasBeenDisconnected=!1,apiCC.session.connectedUsersList.splice(0,apiCC.session.connectedUsersList.length)),apiCC&&(apiCC.session=null,apiCC.jsLoaded=!1)},apiCC.reconnect=function(){f.log("Reconnect"),f.log("apiCC.session.channel.socket:",apiCC.session.channel.socket),apiCC.session.channel.socket.socket.connect()},apiCC.cleanApiRTCContext=function(){null!==apiCC.session&&void 0!==apiCC.session&&(null!==apiCC.session.apiCCWebRTCClient&&void 0!==apiCC.session.apiCCWebRTCClient&&(0!==apiCC.session.apiCCWebRTCClient.webRTCClient.callsTable.length&&f.warn("Call is still established and will be disconnected"),apiCC.session.apiCCWebRTCClient.webRTCClient.MCUClient.sessionMCUs.length>0&&f.log("MCU session is still established and will be disconnected"),apiCC.session.apiCCWebRTCClient.hangUp(),null!==apiCC.session.apiCCWebRTCClient.webRTCClient.localStream&&(apiCC.session.apiCCWebRTCClient.webRTCClient.stopStream(apiCC.session.apiCCWebRTCClient.webRTCClient.localStream),p.createUserMediaStopEvent(null,"media")),apiCC.session.apiCCWebRTCClient=null),null!==apiCC.session.apiCCIMClient&&void 0!==apiCC.session.apiCCIMClient&&(apiCC.session.apiCCIMClient=null),null!==apiCC.session.apiCCDataClient&&void 0!==apiCC.session.apiCCDataClient&&(apiCC.session.apiCCDataClient=null),null!==apiCC.myApiCCWhiteBoardClient&&void 0!==apiCC.myApiCCWhiteBoardClient&&(apiCC.myApiCCWhiteBoardClient=null),null!==apiCC.session.apiCCCoBrowsingClient&&void 0!==apiCC.session.apiCCCoBrowsingClient&&(apiCC.session.apiCCCoBrowsingClient=null))},apiCC.cleanAllEventListener=function(){var e,t=0;if(null!==apiCC&&null!==apiCC.myEventTable&&(t=apiCC.myEventTable.length),0!==t){for(f.trace("number of myEventTable:"+t),e=0;e<t;e+=1)apiCC.removeEventListener(apiCC.myEventTable[e].type,apiCC.myEventTable[e].listener);apiCC.myEventTable.splice(0,t),t=apiCC.myEventTable.length,f.trace("number of myEventTable after splice:"+t)}},apiCC.testUserPing=function(e){f.debug("testUserPing()");var t,n,r,i,a=apiCC.bandwidthTestServer+"/upload-test",o=new XMLHttpRequest,s=new FormData,l=Math.round(5*Math.random()),c=!1;"withCredentials"in o?o.open("POST",a,!0):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest).open("POST",a):o=null,t=new Blob([l],{type:"text/xml"}),s.append("file",t),o?(o.onload=function(){200===o.status&&(i=Date.now()-n,c||(clearTimeout(r),e(null,i)))},o.onerror=function(t){f.log("testUserUpload onerror status :",t.target.status),e({err:"An error occured during XMLHttpRequest",msg:t.target.status},null)},r=setTimeout((function(){c=!0,e("Ping timeout",-1)}),5e3),o.send(s),n=Date.now()):e({err:"XMLHttpRequest is not defined",msg:"XMLHttpRequest is not defined"},null)},apiCC.testUserDownload=function(e,t){f.debug("testUserDownload()");var n,r,i,a,o,s,l=apiCC.bandwidthTestServer+"/files/noise_"+e+"ko.jpg",c=0,u=new Image,d=0;l+="?nnn="+Date.now();var h=[[256,257529],[500,525944],[768,787234],[1e3,1055741],[1500,1541044],[2e3,1992034],[2500,2596028],[3e3,2904977],[3500,3648299],[4e3,4151187],[4500,4741712],[5e3,5264577],[5500,5776081],[6e3,6318553],[6500,6779868],[7e3,7334256],[7500,7874040],[8e3,8081460],[8500,8651795],[9e3,9081899],[9500,9503574],[1e4,10082008],[10500,10543425],[11e3,11200424],[11500,11200424],[12e3,12110671],[12500,12715962],[13e3,13222120],[13500,13605073],[14e3,13954769],[14500,14777594],[15e3,15178928],[15500,15602106],[16e3,16054618],[16500,16578623],[17e3,17048069],[17500,17456403],[18e3,17910332],[18500,18725846],[19e3,19284746],[19500,19771902],[2e4,20121527],[21e3,20975042],[22e3,22189200],[23e3,23027928],[24e3,24027870],[25e3,24878845],[26e3,26237503],[27e3,27112004],[28e3,27953446],[29e3,29313013],[3e4,30474095]];for(o=0;o<h.length;o++)e===h[o][0]&&(c=h[o][1]);apiCC.testUserPing((function(e,f){u.onload=function(){for((r=Date.now()-n)-f>10&&(r-=f),i=c/(r/1e3),a=Math.round(i/1e3),s={type:"download",kBPerSec:a},o=0;o<apiCC.bandwidthRatingThresholds.length;o++)8*s.kBPerSec>=apiCC.bandwidthRatingThresholds[o]&&d++;s.rating=d+"/"+apiCC.bandwidthRatingThresholds.length,t(null,s)},u.onerror=function(e,n){t({label:"Error when downloading",err:e,msg:n},null)},n=(new Date).getTime(),u.src=l}))},apiCC.testUserUpload=function(e,t){f.debug("testUserUpload()");var n,r,i,a,o,s,l,c=apiCC.bandwidthTestServer+"/upload-test",u=new XMLHttpRequest,d=new FormData,h="",p=0;"withCredentials"in u?u.open("POST",c,!0):"undefined"!=typeof XDomainRequest?(u=new XDomainRequest).open("POST",c):u=null;for(r=0;r<e;r++)h+=Math.round(5*Math.random());n=new Blob([h],{type:"text/xml"}),d.append("file",n),u?(u.onload=function(){if(200===u.status){for(o=Date.now()-a,s=e/(o/1e3),l=Math.round(s/1e3),i={type:"upload",kBPerSec:l},r=0;r<apiCC.bandwidthRatingThresholds.length;r++)8*i.kBPerSec>=apiCC.bandwidthRatingThresholds[r]&&p++;i.rating=p+"/"+apiCC.bandwidthRatingThresholds.length,t(null,i)}else t({err:"An error occured during XMLHttpRequest",msg:u.status},null)},u.onerror=function(e){f.log("testUserUpload onerror status :",e.target.status),t({err:"An error occured during XMLHttpRequest",msg:e.target.status},null)},u.send(d),a=Date.now()):t({err:"XMLHttpRequest is not defined",msg:"XMLHttpRequest is not defined"},null)},apiCC.testUserUploadLoop=function(e,t,n){var r={type:"upload",kBPerSec:t.kbps/8,kbps:t.kbps,rating:t.rating},i=0;t.kbps>1e3?apiCC.testUserUpload(e,(function(a,o){null!==a?n({err:"An error occured during XMLHttpRequest"},null):(r.kBPerSec=o.kBPerSec,r.kbps=8*o.kBPerSec,r.rating=o.rating,i=r.kbps-t.kbps,f.debug("upload "+e+" "+JSON.stringify(r)+"; diff "+i),i>=2e4&&e<12e6?apiCC.testUserUploadLoop(e+8e6,r,n):i>=1e4&&e<14e6?apiCC.testUserUploadLoop(e+6e6,r,n):i>=5e3&&e<16e6?apiCC.testUserUploadLoop(e+4e6,r,n):i>=1e3&&e<18e6?apiCC.testUserUploadLoop(e+2e6,r,n):i>=200&&e<19e6?apiCC.testUserUploadLoop(e+1e6,r,n):n(null,r))})):n(null,r)},apiCC.testUserDownloadLoop=function(e,t,n){var r={type:"download",kBPerSec:t.kbps/8,kbps:t.kbps,rating:t.rating},i=0;t.kbps>=3500?apiCC.testUserDownload(e,(function(a,o){null!==a?n({err:"Error when downloading"},null):(r.kBPerSec=o.kBPerSec,r.kbps=8*o.kBPerSec,r.rating=o.rating,i=r.kbps-t.kbps,f.debug("download "+e+" "+JSON.stringify(r)+"; diff "+i),i>=2e4?apiCC.testUserDownloadLoop(3e4,r,n):i>=1e4&&e<=2e4?apiCC.testUserDownloadLoop(e+1e4,r,n):i>=5e3&&e<=25e3?apiCC.testUserDownloadLoop(e+5e3,r,n):i>=1e3&&e<=27e3?apiCC.testUserDownloadLoop(e+3e3,r,n):i>=200&&e<=29e3?apiCC.testUserDownloadLoop(e+1e3,r,n):n(null,r))})):n(null,r)},apiCC.listenedAudioSources={};var m=window.AudioContext||window.webkitAudioContext||!1;apiCC.audioContext=null,apiCC.getAudioContext=function(){return"iOS"===apiRTC.osName&&"undefined"!=typeof cordova?f.debug("No audioContext for iOS cordova"):m&&null===apiCC.audioContext&&(apiCC.audioContext=new m),apiCC.audioContext},apiCC.listenToAudioSources=function(e){f.debug("listenToAudioSources()");var t,n=apiCC.getAudioContext();null!=n?(Object.keys(apiCC.listenedAudioSources).length>0&&apiCC.stopAudioSourceListening(),apiCC.getMediaDevices().then((function(r){for(f.log(r),t=0;t<r.length;t++)"audioinput"===r[t].kind&&(apiCC.listenedAudioSources[r[t].deviceId]={deviceId:r[t].deviceId,callback:e,label:r[t].label},navigator.getUserMedia({audio:{optional:[{sourceId:r[t].deviceId}]},video:!1},function(e){f.log("new stream processing function for : "+this.device.deviceId),this.device.audioListener=this;var t=this,r=n.createScriptProcessor(2048,1,1),i=n.createMediaStreamSource(e);r.connect(n.destination),r.onaudioprocess=function(){var n,r,i,a=new Uint8Array(this.analyser.frequencyBinCount),o=0;for(this.analyser.getByteFrequencyData(a),r=0;r<a.length;r++)o+=a[r];n=o/a.length,i={deviceId:t.device.deviceId,label:t.device.label,amplitude:n,active:e.active},t.device.callback(i)},r.analyser=n.createAnalyser(),r.analyser.smoothingTimeConstant=.3,r.analyser.fftSize=1024,i.connect(r.analyser),r.analyser.connect(r),this.destroy=function(){f.log("destroy()");var t,n=e.getTracks();for(t=0;t<n.length;t+=1)n[t].stop();i.disconnect(),r.analyser.disconnect(),r.disconnect()}}.bind({device:apiCC.listenedAudioSources[r[t].deviceId]}),(function(e){f.error("Error getting microphone",e)})))}),(function(e){f.debug("listenToAudioSources() - getMediaDevices error :",e)}))):f.debug("listenToAudioSources() - Unable to create audio context")},apiCC.stopAudioSourceListening=function(){var e;for(f.debug("stopAudioSourceListening()"),e=0;e<Object.keys(apiCC.listenedAudioSources).length;e++)void 0!==apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]]?void 0!==apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]].audioListener?apiCC.listenedAudioSources[Object.keys(apiCC.listenedAudioSources)[e]].audioListener.destroy():f.warn("error on stopAudioSourceListening, audioListener"):f.warn("error on stopAudioSourceListening, listenedAudioSources element");apiCC.listenedAudioSources={}},apiCC.webRTCPluginInstalled=!1,apiCC.iePluginInstallationPreventUnload=!1,apiCC.setlogStorageActivated=function(e,t){f.debug("setlogStorageActivated :",e),this.logStorageActivated=(!0===e||!1===e)&&e,void 0!==t&&(this.logStorageLevel=t)},apiCC.sendLogToCloud=function(e,t,n,r){f.info("sendLogToCloud");var i,a,o=[],s=null,l=[],c=null,u=null;for(o.push(JSON.stringify({title:"ApiRTC logs",description:"Logs of apiRTC client"})),o.push(JSON.stringify({ts:Date.now(),name:"system-info",args:{browserName:apiCC.browser,browserVersion:apiCC.browser_version,platform:apiCC.osName}})),i=0;i<e.length;i++)s="error"===e[i][0]?{name:"test-run",args:{error:e[i][1]}}:{name:"test-run",args:{info:e[i][1]}},o.push(JSON.stringify(s));l=o.concat(apiCC.logStorage),c=new FormData,a="["+l.join(",\n")+"]",f.debug("fileContent :",a),!0!==r&&(c.append("data",a),c.append("apiKey",apiCC.initApiKey),void 0!==t&&c.append("id",t),(u=new XMLHttpRequest).open("POST",n+"/test/api/",!0),u.onreadystatechange=function(){4===u.readyState&&200===u.status&&console.info("[apiRTC_Logs] POST'd successfully"),console.trace(u.responseText)},u.send(c))},apiCC.manageWebRTCPlugin=function(e,t){f.debug("manageWebRTCPlugin");var n="";n="https:"!==window.location.protocol?"http":"https",i([n+"://cdn.temasys.io/adapterjs/0.15.x/adapter.debug.js"],"temAdapter",{async:!0,numRetries:apiCC.extJsLoadingRetryNb||100,reqdelay:apiCC.extJsLoadingRetryDelay||200,success:function(){f.log("End of .js loading for plugin"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","loaded"),AdapterJS.WebRTCPlugin.isPluginInstalled(AdapterJS.WebRTCPlugin.pluginInfo.prefix,AdapterJS.WebRTCPlugin.pluginInfo.plugName,AdapterJS.WebRTCPlugin.pluginInfo.type,(function(){apiCC.myWebRTC_Adapter.RTCSessionDescription=RTCSessionDescription,apiCC.myWebRTC_Adapter.RTCIceCandidate=RTCIceCandidate,apiCC.myWebRTC_Adapter.RTCPeerConnection=RTCPeerConnection,apiCC.myWebRTC_Adapter.getUserMedia=navigator.getUserMedia,apiCC.attachMediaStream=attachMediaStream,AdapterJS.webRTCReady((function(t){return f.log("webRTCReady, plugin already installed"),e()}))}),(function(){return apiCC.iePluginInstallationPreventUnload=!0,t(),AdapterJS.webRTCReady((function(t){return f.log("webRTCReady after plugin install"),apiCC.iePluginInstallationPreventUnload=!1,apiCC.myWebRTC_Adapter.RTCSessionDescription=RTCSessionDescription,apiCC.myWebRTC_Adapter.RTCIceCandidate=RTCIceCandidate,apiCC.myWebRTC_Adapter.RTCPeerConnection=RTCPeerConnection,apiCC.myWebRTC_Adapter.getUserMedia=navigator.getUserMedia,apiCC.attachMediaStream=attachMediaStream,e()})),apiCC.session.apiCCWebRTCClient.myWebRTC_Event.createEvent({eventType:"webRTCPluginInstallation"}),null}))},error:function(e){f.error("temAdapter loading error"),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","error")},retrycb:function(e,t){f.warn("temAdapter loading retry :"+e+" ,delay before retry :"+t),apiCC.myWebRTC_Event.createExternalJsLoadingStatusEvent("temAdapter","retry")}})},apiCC.checkMutingStateForUserMedia=function(e,t){f.debug("checkMutingStateForUserMedia"),Object(u.g)(e,"muted","string")&&(f.log("callConfiguration muted is set :",e.muted),"VIDEO"===e.muted&&(t.muteVideoOnStreams(),t.muteAudioOnStreams()),"AUDIOONLY"===e.muted&&t.muteAudioOnStreams(),"VIDEOONLY"===e.muted&&t.muteVideoOnStreams())},apiCC.isSIPNumber=function(e){var t,n=null,r=!1;return t=e.toString().startsWith("sip:"),e.toString().length<=20&&(n=!0),(0!==e.toString().indexOf("0")&&0!==e.toString().indexOf("+")||!0!==n)&&!0!==t||(r=!0),r},apiCC.loadSentry=function(e,t){f.debug("Remote logging activation"),i([t+"://browser.sentry-cdn.com/5.24.2/bundle.tracing.min.js"],"Sentry",{async:!0,numRetries:10,reqdelay:500,success:function(){Sentry.init({dsn:"https://c24c226714f841dbbc3d1518b6cc7fe8@o333237.ingest.sentry.io/5448622",release:apiCC.version,tracesSampleRate:1}),Sentry.configureScope((function(t){t.setTag("apiKey",e)}))},error:function(e){console.error("Remote logging - loading error")},retrycb:function(e,t){console.warn("Remote logging - loading retry :"+e+" ,delay before retry :"+t)}})}}])},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(e){return Object(r.a)(e).getComputedStyle(e)}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=n(2),a=n(0),o=n(1),s=n(3),l=o.d.span(r||(r=Object(i.a)(["\n\tdisplay: inherit;\n\tflex-direction: inherit;\n\talign-items: inherit;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: ",";\n\tpadding-top: ",";\n\tpadding-left: ",";\n\tpadding-bottom: ",";\n\tpadding-right: ",";\n"])),(function(e){return e.all&&e.theme.spacing[e.all]}),(function(e){return e.top&&e.theme.spacing[e.top]||e.vertical&&e.theme.spacing[e.vertical]}),(function(e){return e.left&&e.theme.spacing[e.left]||e.horizontal&&e.theme.spacing[e.horizontal]}),(function(e){return e.bottom&&e.theme.spacing[e.bottom]||e.vertical&&e.theme.spacing[e.vertical]}),(function(e){return e.right&&e.theme.spacing[e.right]||e.horizontal&&e.theme.spacing[e.horizontal]}));l.displayName="InsetContainer";var c=function(e){var t=e.children,n=e.className,r=e.all,i=e.top,o=e.left,c=e.bottom,u=e.right,d=e.horizontal,f=e.vertical;return a.createElement(s.a,null,a.createElement(l,{all:r,top:i,left:o,bottom:c,right:u,horizontal:d,vertical:f,className:n},t))}},,function(e,t,n){"use strict";var r=n(160),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r=n(37),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r.a?r.a.toStringTag:void 0;var l=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i},c=Object.prototype.toString;var u=function(e){return c.call(e)},d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(80);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";function r(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;var l,c=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?a(u,(function(e){return e.test(c)})):i(u,(function(e){return e.test(c)}));l=e.valueCallback?e.valueCallback(d):d,l=n.valueCallback?n.valueCallback(l):l;var f=t.slice(c.length);return{value:l,rest:f}}}function i(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function a(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(11),i=n(34),a=n(44),o=n(83);var s=n(46),l=n(82),c=n(30);var u=n(94),d=n(62),f=n(25),h=n(57),p=n(71),m=n(116),v=n(39);function g(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b(e,t){return t===r.o?g(function(e){var t=Object(i.a)(e),n=Object(a.a)(e),r=t.visualViewport,s=n.clientWidth,l=n.clientHeight,c=0,u=0;return r&&(s=r.width,l=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=r.offsetLeft,u=r.offsetTop)),{width:s,height:l,x:c+Object(o.a)(e),y:u}}(e)):Object(f.b)(t)?function(e){var t=Object(h.a)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):g(function(e){var t,n=Object(a.a)(e),r=Object(l.a)(e),i=null==(t=e.ownerDocument)?void 0:t.body,u=Object(c.a)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=Object(c.a)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+Object(o.a)(e),h=-r.scrollTop;return"rtl"===Object(s.a)(i||n).direction&&(f+=Object(c.a)(n.clientWidth,i?i.clientWidth:0)-u),{width:u,height:d,x:f,y:h}}(Object(a.a)(e)))}function C(e,t,n){var r="clippingParents"===t?function(e){var t=Object(u.a)(Object(p.a)(e)),n=["absolute","fixed"].indexOf(Object(s.a)(e).position)>=0&&Object(f.b)(e)?Object(d.a)(e):e;return Object(f.a)(n)?t.filter((function(e){return Object(f.a)(e)&&Object(m.a)(e,n)&&"body"!==Object(v.a)(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=b(e,n);return t.top=Object(c.a)(r.top,t.top),t.right=Object(c.b)(r.right,t.right),t.bottom=Object(c.b)(r.bottom,t.bottom),t.left=Object(c.a)(r.left,t.left),t}),b(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var y=n(117),S=n(113),w=n(115);function T(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,s=n.boundary,l=void 0===s?r.d:s,c=n.rootBoundary,u=void 0===c?r.o:c,d=n.elementContext,p=void 0===d?r.i:d,m=n.altBoundary,v=void 0!==m&&m,b=n.padding,T=void 0===b?0:b,I=Object(S.a)("number"!==typeof T?T:Object(w.a)(T,r.b)),O=p===r.i?r.j:r.i,E=e.rects.popper,R=e.elements[v?O:p],k=C(Object(f.a)(R)?R:R.contextElement||Object(a.a)(e.elements.popper),l,u),M=Object(h.a)(e.elements.reference),_=Object(y.a)({reference:M,element:E,strategy:"absolute",placement:o}),A=g(Object.assign({},E,_)),x=p===r.i?A:M,D={top:k.top-x.top+I.top,bottom:x.bottom-k.bottom+I.bottom,left:k.left-x.left+I.left,right:x.right-k.right+I.right},j=e.modifiersData.offset;if(p===r.i&&j){var P=j[o];Object.keys(D).forEach((function(e){var t=[r.k,r.c].indexOf(e)>=0?1:-1,n=[r.m,r.c].indexOf(e)>=0?"y":"x";D[e]+=P[n]*t}))}return D}},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),i=n(23),a=n(18);function o(e,t){Object(a.a)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,l=null==s?0:Object(r.a)(s),c=null==n.weekStartsOn?l:Object(r.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(i.a)(e),d=u.getUTCDay(),f=(d<c?7:0)+d-c;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i=n(39),a=n(46),o=n(25);function s(e){return["table","td","th"].indexOf(Object(i.a)(e))>=0}var l=n(71);function c(e){return Object(o.b)(e)&&"fixed"!==Object(a.a)(e).position?e.offsetParent:null}function u(e){for(var t=Object(r.a)(e),n=c(e);n&&s(n)&&"static"===Object(a.a)(n).position;)n=c(n);return n&&("html"===Object(i.a)(n)||"body"===Object(i.a)(n)&&"static"===Object(a.a)(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Object(o.b)(e)&&"fixed"===Object(a.a)(e).position)return null;for(var n=Object(l.a)(e);Object(o.b)(n)&&["html","body"].indexOf(Object(i.a)(n))<0;){var r=Object(a.a)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},function(e,t,n){"use strict";var r=n(154);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23),i=n(18);function a(e){Object(i.a)(1,arguments);var t=1,n=Object(r.a)(e),a=n.getUTCDay(),o=(a<t?7:0)+a-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=["D","DD"],i=["YY","YYYY"];function a(e){return-1!==r.indexOf(e)}function o(e){return-1!==i.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var r=n(152),i=n(73);function a(){return Object(r.a)(i.a)}},function(e,t,n){"use strict";var r=n(79),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var b=f(n,g);try{c(t,g,b)}catch(C){}}}}return t}},function(e,t,n){"use strict";(function(e){var r=n(33),i=n(177),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||i.a;t.a=l}).call(this,n(144)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i=n(106),a=n(97),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=Object(a.a)((function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i.a[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=u(a)+":"+d(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=f(e,t,o);switch(a){case"animation":case"animationName":r+=u(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)c(o[l])&&(r+=u(a)+":"+d(a,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,a=n(e);return h=i,f(e,t,a)}break;case"string":}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";h=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=f(n,t,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=f(n,t,e[s]),i&&(a+=o[s]);p.lastIndex=0;for(var l,c="";null!==(l=p.exec(a));)c+="-"+l[1];return{name:r(a)+c,styles:a,next:h}}},function(e,t,n){"use strict";(function(e){var r=n(110),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.a.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.a=s}).call(this,n(144)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(39),i=n(44),a=n(25);function o(e){return"html"===Object(r.a)(e)?e:e.assignedSlot||e.parentNode||(Object(a.c)(e)?e.host:null)||Object(i.a)(e)}},function(e,t,n){"use strict";var r=n(111),i=Object(r.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";var r=n(12),i=n(4),a=n(7),o=n(154),s=n(306);function l(e,t,n){var a;return Object(i.a)({toolbar:(a={minHeight:56},Object(r.a)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(a,e.up("sm"),{minHeight:64}),a)},n)}var c=n(139),u=n(284),d={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},C=["mode","contrastThreshold","tonalOffset"],y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(u.d)(e.main,i):"dark"===t&&(e.dark=Object(u.b)(e.main,a)))}function T(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,s=void 0===r?3:r,l=e.tonalOffset,T=void 0===l?.2:l,I=Object(a.a)(e,C),O=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(n),R=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),k=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),M=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),_=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ED6C02",light:m[500],dark:m[900]}}(n);function A(e){return Object(u.c)(e,S.text.primary)>=s?S.text.primary:y.text.primary}var x=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,u=void 0===l?700:l;if(!(t=Object(i.a)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Object(c.a)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Object(c.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return w(t,"light",s,T),w(t,"dark",u,T),t.contrastText||(t.contrastText=A(t.main)),t},D={dark:S,light:y};return Object(o.a)(Object(i.a)({common:d,mode:n,primary:x({color:O,name:"primary"}),secondary:x({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:R,name:"error"}),warning:x({color:_,name:"warning"}),info:x({color:k,name:"info"}),success:x({color:M,name:"success"}),grey:f,contrastThreshold:s,getContrastText:A,augmentColor:x,tonalOffset:T},D[n]),I)}var I=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var O={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?E:r,l=n.fontSize,c=void 0===l?14:l,u=n.fontWeightLight,d=void 0===u?300:u,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,m=void 0===p?500:p,v=n.fontWeightBold,g=void 0===v?700:v,b=n.htmlFontSize,C=void 0===b?16:b,y=n.allVariants,S=n.pxToRem,w=Object(a.a)(n,I);var T=c/14,R=S||function(e){return"".concat(e/C*T,"rem")},k=function(e,t,n,r,a){return Object(i.a)({fontFamily:s,fontWeight:e,fontSize:R(t),lineHeight:n},s===E?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},M={h1:k(d,96,1.167,-1.5),h2:k(d,60,1.2,-.5),h3:k(h,48,1.167,0),h4:k(h,34,1.235,.25),h5:k(h,24,1.334,0),h6:k(m,20,1.6,.15),subtitle1:k(h,16,1.75,.15),subtitle2:k(m,14,1.57,.1),body1:k(h,16,1.5,.15),body2:k(h,14,1.43,.15),button:k(m,14,1.75,.4,O),caption:k(h,12,1.66,.4),overline:k(h,12,2.66,1,O)};return Object(o.a)(Object(i.a)({htmlFontSize:C,pxToRem:R,fontFamily:s,fontSize:c,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:g},M),w,{clone:!1})}function k(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var M=["none",k(0,2,1,-1,0,1,1,0,0,1,3,0),k(0,3,1,-2,0,2,2,0,0,1,5,0),k(0,3,3,-2,0,3,4,0,0,1,8,0),k(0,2,4,-1,0,4,5,0,0,1,10,0),k(0,3,5,-1,0,5,8,0,0,1,14,0),k(0,3,5,-1,0,6,10,0,0,1,18,0),k(0,4,5,-2,0,7,10,1,0,2,16,1),k(0,5,5,-3,0,8,10,1,0,3,14,2),k(0,5,6,-3,0,9,12,1,0,3,16,2),k(0,6,6,-3,0,10,14,1,0,4,18,3),k(0,6,7,-4,0,11,15,1,0,4,20,3),k(0,7,8,-4,0,12,17,2,0,5,22,4),k(0,7,8,-4,0,13,19,2,0,5,24,4),k(0,7,9,-4,0,14,21,2,0,5,26,4),k(0,8,9,-5,0,15,22,2,0,6,28,5),k(0,8,10,-5,0,16,24,2,0,6,30,5),k(0,8,11,-5,0,17,26,2,0,6,32,5),k(0,9,11,-5,0,18,28,2,0,7,34,6),k(0,9,12,-6,0,19,29,2,0,7,36,6),k(0,10,13,-6,0,20,31,3,0,8,38,7),k(0,10,13,-6,0,21,33,3,0,8,40,7),k(0,10,14,-6,0,22,35,3,0,8,42,7),k(0,11,14,-7,0,23,36,3,0,9,44,8),k(0,11,15,-7,0,24,38,3,0,9,46,8)],_=n(100),A={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},x=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,c=void 0===r?{}:r,u=e.transitions,d=void 0===u?{}:u,f=e.typography,h=void 0===f?{}:f,p=Object(a.a)(e,x),m=T(c),v=Object(s.a)(e),g=Object(o.a)(v,{mixins:l(v.breakpoints,v.spacing,n),palette:m,shadows:M.slice(),typography:R(m,h),transitions:Object(_.a)(d),zIndex:Object(i.a)({},A)});g=Object(o.a)(g,p);for(var b=arguments.length,C=new Array(b>1?b-1:0),y=1;y<b;y++)C[y-1]=arguments[y];return g=C.reduce((function(e,t){return Object(o.a)(e,t)}),g)}var j=D();t.a=j},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(0),i=(n(147),n(41)),a=(n(159),n(98),n(67),n(59)),o=n(69),s=n(107),l=Object(i.e)((function(e,t){var n=e.styles,l=Object(o.a)([n],void 0,Object(r.useContext)(i.b)),c=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new s.a({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&Object(a.b)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.a)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))},,function(e,t,n){"use strict";e.exports=n(214)},function(e,t,n){"use strict";var r=n(0),i=r.createContext();t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e){var t=Object(r.a)(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(e){var t=Object(r.a)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(57),i=n(44),a=n(82);function o(e){return Object(r.a)(Object(i.a)(e)).left+Object(a.a)(e).scrollLeft}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57);function i(e){var t=Object(r.a)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}},function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24),i=n(23),a=n(60),o=n(18);function s(e,t){Object(o.a)(1,arguments);var n=Object(i.a)(e,t),s=n.getUTCFullYear(),l=t||{},c=l.locale,u=c&&c.options&&c.options.firstWeekContainsDate,d=null==u?1:Object(r.a)(u),f=null==l.firstWeekContainsDate?d:Object(r.a)(l.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(s+1,0,f),h.setUTCHours(0,0,0,0);var p=Object(a.a)(h,t),m=new Date(0);m.setUTCFullYear(s,0,f),m.setUTCHours(0,0,0,0);var v=Object(a.a)(m,t);return n.getTime()>=p.getTime()?s+1:n.getTime()>=v.getTime()?s:s-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(132),c=n(3),u=Object(s.d)(l.a)(r||(r=Object(i.a)(["\n\t&[type='number'] {\n\t\t-moz-appearance: none;\n\t\tappearance: none;\n\n\t\t&::-webkit-inner-spin-button,\n\t\t&::-webkit-outer-spin-button {\n\t\t\t-webkit-appearance: none;\n\t\t}\n\t}\n"]))),d=function(e,t){var n=Object.assign(Object.assign({},e),{ref:t});return o.a.createElement(c.a,null,o.a.createElement(u,Object.assign({},n,{forwardAs:"input"})))};d.displayName="InputText";var f=Object(a.forwardRef)(d)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var i=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}((function(e,t){(function(){var n,i="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",s=16,l=32,c=64,u=128,d=256,f=1/0,h=9007199254740991,p=NaN,m=4294967295,v=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",c],["rearg",d]],g="[object Arguments]",b="[object Array]",C="[object Boolean]",y="[object Date]",S="[object Error]",w="[object Function]",T="[object GeneratorFunction]",I="[object Map]",O="[object Number]",E="[object Object]",R="[object Promise]",k="[object RegExp]",M="[object Set]",_="[object String]",A="[object Symbol]",x="[object WeakMap]",D="[object ArrayBuffer]",j="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",U="[object Int16Array]",F="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",H=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(J.source),K=RegExp(Y.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),ae=/^\s+/,oe=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['\u2019]",_e="[\\ud800-\\udfff]",Ae="["+ke+"]",xe="["+Te+"]",De="\\d+",je="[\\u2700-\\u27bf]",Pe="["+Oe+"]",Ne="[^\\ud800-\\udfff"+ke+De+Ie+Oe+Ee+"]",Le="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ee+"]",Be="(?:"+Pe+"|"+Ne+")",ze="(?:"+Ve+"|"+Ne+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+xe+"|"+Le+")"+"?",Je="[\\ufe0e\\ufe0f]?",Ye=Je+Ge+("(?:\\u200d(?:"+[Ue,Fe,We].join("|")+")"+Je+Ge+")*"),Ze="(?:"+[je,Fe,We].join("|")+")"+Ye,Ke="(?:"+[Ue+xe+"?",xe,Fe,We,_e].join("|")+")",$e=RegExp(Me,"g"),Qe=RegExp(xe,"g"),Xe=RegExp(Le+"(?="+Le+")|"+Ke+Ye,"g"),et=RegExp([Ve+"?"+Pe+"+"+He+"(?="+[Ae,Ve,"$"].join("|")+")",ze+"+"+qe+"(?="+[Ae,Ve+Be,"$"].join("|")+")",Ve+"?"+Be+"+"+He,Ve+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ze].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Te+Re+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[P]=at[N]=at[L]=at[U]=at[F]=at[W]=at[V]=at[B]=at[z]=!0,at[g]=at[b]=at[D]=at[C]=at[j]=at[y]=at[S]=at[w]=at[I]=at[O]=at[E]=at[k]=at[M]=at[_]=at[x]=!1;var ot={};ot[g]=ot[b]=ot[D]=ot[j]=ot[C]=ot[y]=ot[P]=ot[N]=ot[L]=ot[U]=ot[F]=ot[I]=ot[O]=ot[E]=ot[k]=ot[M]=ot[_]=ot[A]=ot[W]=ot[V]=ot[B]=ot[z]=!0,ot[S]=ot[w]=ot[x]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ut="object"==typeof r&&r&&r.Object===Object&&r,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||dt||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,mt=pt&&pt.exports===ht,vt=mt&&ut.process,gt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),bt=gt&&gt.isArrayBuffer,Ct=gt&&gt.isDate,yt=gt&&gt.isMap,St=gt&&gt.isRegExp,wt=gt&&gt.isSet,Tt=gt&&gt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function _t(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function At(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function jt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Ht("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Bt,n)}function Vt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Bt(e){return e!==e}function zt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:p}function Ht(e){return function(t){return null==t?n:t[e]}}function qt(e){return function(t){return null==e?n:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Jt(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,pn(e)+1).replace(ae,""):e}function Kt(e){return function(t){return e(t)}}function $t(e,t){return xt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),rn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+st[e]}function on(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return on(e)?function(e){var t=Xe.lastIndex=0;for(;Xe.test(e);)++t;return t}(e):Lt(e)}function hn(e){return on(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var mn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var r=(t=null==t?ft:vn.defaults(ft.Object(),t,vn.pick(ft,rt))).Array,oe=t.Date,Te=t.Error,Ie=t.Function,Oe=t.Math,Ee=t.Object,Re=t.RegExp,ke=t.String,Me=t.TypeError,_e=r.prototype,Ae=Ie.prototype,xe=Ee.prototype,De=t["__core-js_shared__"],je=Ae.toString,Pe=xe.hasOwnProperty,Ne=0,Le=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=xe.toString,Fe=je.call(Ee),We=ft._,Ve=Re("^"+je.call(Pe).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=mt?t.Buffer:n,ze=t.Symbol,He=t.Uint8Array,qe=Be?Be.allocUnsafe:n,Ge=ln(Ee.getPrototypeOf,Ee),Je=Ee.create,Ye=xe.propertyIsEnumerable,Ze=_e.splice,Ke=ze?ze.isConcatSpreadable:n,Xe=ze?ze.iterator:n,tt=ze?ze.toStringTag:n,st=function(){try{var e=fa(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,dt=oe&&oe.now!==ft.Date.now&&oe.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,pt=Oe.ceil,vt=Oe.floor,gt=Ee.getOwnPropertySymbols,Lt=Be?Be.isBuffer:n,qt=t.isFinite,gn=_e.join,bn=ln(Ee.keys,Ee),Cn=Oe.max,yn=Oe.min,Sn=oe.now,wn=t.parseInt,Tn=Oe.random,In=_e.reverse,On=fa(t,"DataView"),En=fa(t,"Map"),Rn=fa(t,"Promise"),kn=fa(t,"Set"),Mn=fa(t,"WeakMap"),_n=fa(Ee,"create"),An=Mn&&new Mn,xn={},Dn=Fa(On),jn=Fa(En),Pn=Fa(Rn),Nn=Fa(kn),Ln=Fa(Mn),Un=ze?ze.prototype:n,Fn=Un?Un.valueOf:n,Wn=Un?Un.toString:n;function Vn(e){if(rs(e)&&!Go(e)&&!(e instanceof qn)){if(e instanceof Hn)return e;if(Pe.call(e,"__wrapped__"))return Wa(e)}return new Hn(e)}var Bn=function(){function e(){}return function(t){if(!ns(t))return{};if(Je)return Je(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function zn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Jn(e);this.size=t.size}function $n(e,t){var n=Go(e),r=!n&&qo(e),i=!n&&!r&&Ko(e),a=!n&&!r&&!i&&ds(e),o=n||r||i||a,s=o?Yt(e.length,ke):[],l=s.length;for(var c in e)!t&&!Pe.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ca(c,l))||s.push(c);return s}function Qn(e){var t=e.length;return t?e[Zr(0,t-1)]:n}function Xn(e,t){return Na(_i(e),lr(t,0,e.length))}function er(e){return Na(_i(e))}function tr(e,t,r){(r!==n&&!Bo(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function nr(e,t,r){var i=e[t];Pe.call(e,t)&&Bo(i,r)&&(r!==n||t in e)||or(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ai(t,Ds(t),e)}function or(e,t,n){"__proto__"==t&&st?st(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var i=-1,a=t.length,o=r(a),s=null==e;++i<a;)o[i]=s?n:ks(e,t[i]);return o}function lr(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,i,a,o){var s,l=1&t,c=2&t,u=4&t;if(r&&(s=a?r(e,i,a,o):r(e)),s!==n)return s;if(!ns(e))return e;var d=Go(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return _i(e,s)}else{var f=ma(e),h=f==w||f==T;if(Ko(e))return Ii(e,l);if(f==E||f==g||h&&!a){if(s=c||h?{}:ga(e),!l)return c?function(e,t){return Ai(e,pa(e),t)}(e,function(e,t){return e&&Ai(t,js(t),e)}(s,e)):function(e,t){return Ai(e,ha(e),t)}(e,ar(s,e))}else{if(!ot[f])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return Oi(e);case C:case y:return new r(+e);case j:return function(e,t){var n=t?Oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case N:case L:case U:case F:case W:case V:case B:case z:return Ei(e,n);case I:return new r;case O:case _:return new r(e);case k:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case A:return i=e,Fn?Ee(Fn.call(i)):{}}var i}(e,f,l)}}o||(o=new Kn);var p=o.get(e);if(p)return p;o.set(e,s),ls(e)?e.forEach((function(n){s.add(cr(n,t,r,n,e,o))})):is(e)&&e.forEach((function(n,i){s.set(i,cr(n,t,r,i,e,o))}));var m=d?n:(u?c?aa:ia:c?js:Ds)(e);return Et(m||e,(function(n,i){m&&(n=e[i=n]),nr(s,i,cr(n,t,r,i,e,o))})),s}function ur(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ee(e);i--;){var a=r[i],o=t[a],s=e[a];if(s===n&&!(a in e)||!o(s))return!1}return!0}function dr(e,t,r){if("function"!=typeof e)throw new Me(i);return xa((function(){e.apply(n,r)}),t)}function fr(e,t,n,r){var i=-1,a=_t,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=xt(t,Kt(n))),r?(a=At,o=!1):t.length>=200&&(a=Qt,o=!1,t=new Zn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,o&&d===d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else a(t,d,r)||l.push(u)}return l}Vn.templateSettings={escape:$,evaluate:Q,interpolate:X,variable:"",imports:{_:Vn}},Vn.prototype=zn.prototype,Vn.prototype.constructor=Vn,Hn.prototype=Bn(zn.prototype),Hn.prototype.constructor=Hn,qn.prototype=Bn(zn.prototype),qn.prototype.constructor=qn,Gn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(_n){var r=t[e];return r===a?n:r}return Pe.call(t,e)?t[e]:n},Gn.prototype.has=function(e){var t=this.__data__;return _n?t[e]!==n:Pe.call(t,e)},Gn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_n&&t===n?a:t,this},Jn.prototype.clear=function(){this.__data__=[],this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Jn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Jn.prototype.has=function(e){return rr(this.__data__,e)>-1},Jn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Jn),string:new Gn}},Yn.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ua(this,e).get(e)},Yn.prototype.has=function(e){return ua(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ua(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Jn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Jn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=ji(Sr),pr=ji(wr,!0);function mr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===n?s===s&&!us(s):r(s,l)))var l=s,c=o}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var Cr=Pi(),yr=Pi(!0);function Sr(e,t){return e&&Cr(e,t,Ds)}function wr(e,t){return e&&yr(e,t,Ds)}function Tr(e,t){return Mt(t,(function(t){return Xo(e[t])}))}function Ir(e,t){for(var r=0,i=(t=yi(t,e)).length;null!=e&&r<i;)e=e[Ua(t[r++])];return r&&r==i?e:n}function Or(e,t,n){var r=t(e);return Go(e)?r:Dt(r,n(e))}function Er(e){return null==e?e===n?"[object Undefined]":"[object Null]":tt&&tt in Ee(e)?function(e){var t=Pe.call(e,tt),r=e[tt];try{e[tt]=n;var i=!0}catch(o){}var a=Ue.call(e);i&&(t?e[tt]=r:delete e[tt]);return a}(e):function(e){return Ue.call(e)}(e)}function Rr(e,t){return e>t}function kr(e,t){return null!=e&&Pe.call(e,t)}function Mr(e,t){return null!=e&&t in Ee(e)}function _r(e,t,i){for(var a=i?At:_t,o=e[0].length,s=e.length,l=s,c=r(s),u=1/0,d=[];l--;){var f=e[l];l&&t&&(f=xt(f,Kt(t))),u=yn(f.length,u),c[l]=!i&&(t||o>=120&&f.length>=120)?new Zn(l&&f):n}f=e[0];var h=-1,p=c[0];e:for(;++h<o&&d.length<u;){var m=f[h],v=t?t(m):m;if(m=i||0!==m?m:0,!(p?Qt(p,v):a(d,v,i))){for(l=s;--l;){var g=c[l];if(!(g?Qt(g,v):a(e[l],v,i)))continue e}p&&p.push(v),d.push(m)}}return d}function Ar(e,t,r){var i=null==(e=ka(e,t=yi(t,e)))?e:e[Ua($a(t))];return null==i?n:It(i,e,r)}function xr(e){return rs(e)&&Er(e)==g}function Dr(e,t,r,i,a){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,r,i,a,o){var s=Go(e),l=Go(t),c=s?b:ma(e),u=l?b:ma(t),d=(c=c==g?E:c)==E,f=(u=u==g?E:u)==E,h=c==u;if(h&&Ko(e)){if(!Ko(t))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Kn),s||ds(e)?na(e,t,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case C:case y:case O:return Bo(+e,+t);case S:return e.name==t.name&&e.message==t.message;case k:case _:return e==t+"";case I:var s=sn;case M:var l=1&r;if(s||(s=un),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=na(s(e),s(t),r,i,a,o);return o.delete(e),u;case A:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,r,i,a,o);if(!(1&r)){var p=d&&Pe.call(e,"__wrapped__"),m=f&&Pe.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,w=m?t.value():t;return o||(o=new Kn),a(v,w,r,i,o)}}if(!h)return!1;return o||(o=new Kn),function(e,t,r,i,a,o){var s=1&r,l=ia(e),c=l.length,u=ia(t).length;if(c!=u&&!s)return!1;var d=c;for(;d--;){var f=l[d];if(!(s?f in t:Pe.call(t,f)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var v=s;for(;++d<c;){var g=e[f=l[d]],b=t[f];if(i)var C=s?i(b,g,f,t,e,o):i(g,b,f,e,t,o);if(!(C===n?g===b||a(g,b,r,i,o):C)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var y=e.constructor,S=t.constructor;y==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof S&&S instanceof S||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,r,i,a,o)}(e,t,r,i,Dr,a))}function jr(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=Ee(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var c=(l=r[a])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===n&&!(c in e))return!1}else{var f=new Kn;if(i)var h=i(u,d,c,e,t,f);if(!(h===n?Dr(d,u,3,i,f):h))return!1}}return!0}function Pr(e){return!(!ns(e)||(t=e,Le&&Le in t))&&(Xo(e)?Ve:ge).test(Fa(e));var t}function Nr(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?Go(e)?Br(e[0],e[1]):Vr(e):pl(e)}function Lr(e){if(!Ia(e))return bn(e);var t=[];for(var n in Ee(e))Pe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var r in e)("constructor"!=r||!t&&Pe.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Wr(e,t){var n=-1,i=Yo(e)?r(e.length):[];return hr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Vr(e){var t=da(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||jr(n,e,t)}}function Br(e,t){return Sa(e)&&Oa(t)?Ea(Ua(e),t):function(r){var i=ks(r,e);return i===n&&i===t?Ms(r,e):Dr(t,i,3)}}function zr(e,t,r,i,a){e!==t&&Cr(t,(function(o,s){if(a||(a=new Kn),ns(o))!function(e,t,r,i,a,o,s){var l=_a(e,r),c=_a(t,r),u=s.get(c);if(u)return void tr(e,r,u);var d=o?o(l,c,r+"",e,t,s):n,f=d===n;if(f){var h=Go(c),p=!h&&Ko(c),m=!h&&!p&&ds(c);d=c,h||p||m?Go(l)?d=l:Zo(l)?d=_i(l):p?(f=!1,d=Ii(c,!0)):m?(f=!1,d=Ei(c,!0)):d=[]:os(c)||qo(c)?(d=l,qo(l)?d=Cs(l):ns(l)&&!Xo(l)||(d=ga(c))):f=!1}f&&(s.set(c,d),a(d,c,i,o,s),s.delete(c));tr(e,r,d)}(e,t,s,r,zr,i,a);else{var l=i?i(_a(e,s),o,s+"",e,t,a):n;l===n&&(l=o),tr(e,s,l)}}),js)}function Hr(e,t){var r=e.length;if(r)return Ca(t+=t<0?r:0,r)?e[t]:n}function qr(e,t,n){t=t.length?xt(t,(function(e){return Go(e)?function(t){return Ir(t,1===e.length?e[0]:e)}:e})):[al];var r=-1;return t=xt(t,Kt(ca())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Wr(e,(function(e,n,i){return{criteria:xt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Ri(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Ir(e,o);n(s,o)&&ei(a,yi(o,e),s)}return a}function Jr(e,t,n,r){var i=r?Vt:Wt,a=-1,o=t.length,s=e;for(e===t&&(t=_i(t)),n&&(s=xt(e,Kt(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Ze.call(s,l,1),Ze.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;Ca(i)?Ze.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+vt(Tn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Da(Ra(e,t,al),e+"")}function Qr(e){return Qn(Bs(e))}function Xr(e,t){var n=Bs(e);return Na(n,lr(t,0,n.length))}function ei(e,t,r,i){if(!ns(e))return e;for(var a=-1,o=(t=yi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var c=Ua(t[a]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var d=l[c];(u=i?i(d,c,l):n)===n&&(u=ns(d)?d:Ca(t[a+1])?[]:{})}nr(l,c,u),l=l[c]}return e}var ti=An?function(e,t){return An.set(e,t),e}:al,ni=st?function(e,t){return st(e,"toString",{configurable:!0,enumerable:!1,value:nl(t),writable:!0})}:al;function ri(e){return Na(Bs(e))}function ii(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!us(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return si(e,t,al,n)}function si(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!==t,l=null===t,c=us(t),u=t===n;a<o;){var d=vt((a+o)/2),f=r(e[d]),h=f!==n,p=null===f,m=f===f,v=us(f);if(s)var g=i||m;else g=u?m&&(i||h):l?m&&h&&(i||!p):c?m&&h&&!p&&(i||!v):!p&&!v&&(i?f<=t:f<t);g?a=d+1:o=d}return yn(o,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Bo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:us(e)?p:+e}function ui(e){if("string"==typeof e)return e;if(Go(e))return xt(e,ui)+"";if(us(e))return Wn?Wn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=_t,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=At;else if(a>=200){var c=t?null:Ki(e);if(c)return un(c);o=!1,i=Qt,l=new Zn}else l=t?[]:s;e:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function fi(e,t){return null==(e=ka(e,t=yi(t,e)))||delete e[Ua($a(t))]}function hi(e,t,n,r){return ei(e,t,n(Ir(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function mi(e,t){var n=e;return n instanceof qn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function vi(e,t,n){var i=e.length;if(i<2)return i?di(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],l=-1;++l<i;)l!=a&&(o[a]=fr(o[a]||s,e[l],t,n));return di(br(o,1),t,n)}function gi(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:n;r(s,e[i],l)}return s}function bi(e){return Zo(e)?e:[]}function Ci(e){return"function"==typeof e?e:al}function yi(e,t){return Go(e)?e:Sa(e,t)?[e]:La(ys(e))}var Si=$r;function wi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var Ti=ut||function(e){return ft.clearTimeout(e)};function Ii(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Oi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ei(e,t){var n=t?Oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ri(e,t){if(e!==t){var r=e!==n,i=null===e,a=e===e,o=us(e),s=t!==n,l=null===t,c=t===t,u=us(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!r&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!c)return-1}return 0}function ki(e,t,n,i){for(var a=-1,o=e.length,s=n.length,l=-1,c=t.length,u=Cn(o-s,0),d=r(c+u),f=!i;++l<c;)d[l]=t[l];for(;++a<s;)(f||a<o)&&(d[n[a]]=e[a]);for(;u--;)d[l++]=e[a++];return d}function Mi(e,t,n,i){for(var a=-1,o=e.length,s=-1,l=n.length,c=-1,u=t.length,d=Cn(o-l,0),f=r(d+u),h=!i;++a<d;)f[a]=e[a];for(var p=a;++c<u;)f[p+c]=t[c];for(;++s<l;)(h||a<o)&&(f[p+n[s]]=e[a++]);return f}function _i(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ai(e,t,r,i){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(r[l],e[l],l,r,e):n;c===n&&(c=e[l]),a?or(r,l,c):nr(r,l,c)}return r}function xi(e,t){return function(n,r){var i=Go(n)?Ot:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Di(e){return $r((function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,s&&ya(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=Ee(t);++i<a;){var l=r[i];l&&e(t,l,i,o)}return t}))}function ji(e,t){return function(n,r){if(null==n)return n;if(!Yo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Pi(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Ni(e){return function(t){var r=on(t=ys(t))?hn(t):n,i=r?r[0]:t.charAt(0),a=r?wi(r,1).join(""):t.slice(1);return i[e]()+a}}function Li(e){return function(t){return jt(Xs(qs(t).replace($e,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Fi(e){return function(t,r,i){var a=Ee(t);if(!Yo(t)){var o=ca(r,3);t=Ds(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}}function Wi(e){return ra((function(t){var r=t.length,a=r,o=Hn.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Me(i);if(o&&!l&&"wrapper"==sa(s))var l=new Hn([],!0)}for(a=l?a:r;++a<r;){var c=sa(s=t[a]),u="wrapper"==c?oa(s):n;l=u&&wa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[sa(u[0])].apply(l,u[3]):1==s.length&&wa(s)?l[c]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Go(n))return l.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Vi(e,t,i,a,o,s,l,c,d,f){var h=t&u,p=1&t,m=2&t,v=24&t,g=512&t,b=m?n:Ui(e);return function n(){for(var u=arguments.length,C=r(u),y=u;y--;)C[y]=arguments[y];if(v)var S=la(n),w=tn(C,S);if(a&&(C=ki(C,a,o,v)),s&&(C=Mi(C,s,l,v)),u-=w,v&&u<f){var T=cn(C,S);return Yi(e,t,Vi,n.placeholder,i,C,T,c,d,f-u)}var I=p?i:this,O=m?I[e]:e;return u=C.length,c?C=Ma(C,c):g&&u>1&&C.reverse(),h&&d<u&&(C.length=d),this&&this!==ft&&this instanceof n&&(O=b||Ui(O)),O.apply(I,C)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return Sr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function zi(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=ui(r),i=ui(i)):(r=ci(r),i=ci(i)),a=e(r,i)}return a}}function Hi(e){return ra((function(t){return t=xt(t,Kt(ca())),$r((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function qi(e,t){var r=(t=t===n?" ":ui(t)).length;if(r<2)return r?Kr(t,e):t;var i=Kr(t,pt(e/fn(t)));return on(t)?wi(hn(i),0,e).join(""):i.slice(0,e)}function Gi(e){return function(t,i,a){return a&&"number"!=typeof a&&ya(t,i,a)&&(i=a=n),t=ms(t),i===n?(i=t,t=0):i=ms(i),function(e,t,n,i){for(var a=-1,o=Cn(pt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,i,a=a===n?t<i?1:-1:ms(a),e)}}function Ji(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Yi(e,t,r,i,a,o,s,u,d,f){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,a,h?o:n,h?s:n,h?n:o,h?n:s,u,d,f],m=r.apply(n,p);return wa(e)&&Aa(m,p),m.placeholder=i,ja(m,e,t)}function Zi(e){var t=Oe[e];return function(e,n){if(e=bs(e),(n=null==n?0:yn(vs(n),292))&&qt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=kn&&1/un(new kn([,-0]))[1]==f?function(e){return new kn(e)}:ul;function $i(e){return function(t){var n=ma(t);return n==I?sn(t):n==M?dn(t):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,a,f,h,p,m,v){var g=2&t;if(!g&&"function"!=typeof e)throw new Me(i);var b=f?f.length:0;if(b||(t&=-97,f=h=n),m=m===n?m:Cn(vs(m),0),v=v===n?v:vs(v),b-=h?h.length:0,t&c){var C=f,y=h;f=h=n}var S=g?n:oa(e),w=[e,t,a,f,h,C,y,p,m,v];if(S&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?ki(c,l,t[4]):l,e[4]=c?cn(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Mi(c,l,t[6]):l,e[6]=c?cn(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,S),e=w[0],t=w[1],a=w[2],f=w[3],h=w[4],!(v=w[9]=w[9]===n?g?0:e.length:Cn(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||t==s?function(e,t,i){var a=Ui(e);return function o(){for(var s=arguments.length,l=r(s),c=s,u=la(o);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:cn(l,u);return(s-=d.length)<i?Yi(e,t,Vi,o.placeholder,n,l,d,n,n,i-s):It(this&&this!==ft&&this instanceof o?a:e,this,l)}}(e,t,v):t!=l&&33!=t||h.length?Vi.apply(n,w):function(e,t,n,i){var a=1&t,o=Ui(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=i.length,d=r(u+l),f=this&&this!==ft&&this instanceof t?o:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++s];return It(f,a?n:this,d)}}(e,t,a,f);else var T=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,a);return ja((S?ti:Aa)(T,w),e,t)}function Xi(e,t,r,i){return e===n||Bo(e,xe[r])&&!Pe.call(i,r)?t:e}function ea(e,t,r,i,a,o){return ns(e)&&ns(t)&&(o.set(t,e),zr(e,t,n,ea,o),o.delete(t)),e}function ta(e){return os(e)?n:e}function na(e,t,r,i,a,o){var s=1&r,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&r?new Zn:n;for(o.set(e,t),o.set(t,e);++f<l;){var m=e[f],v=t[f];if(i)var g=s?i(v,m,f,t,e,o):i(m,v,f,e,t,o);if(g!==n){if(g)continue;h=!1;break}if(p){if(!Nt(t,(function(e,t){if(!Qt(p,t)&&(m===e||a(m,e,r,i,o)))return p.push(t)}))){h=!1;break}}else if(m!==v&&!a(m,v,r,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ra(e){return Da(Ra(e,n,Ga),e+"")}function ia(e){return Or(e,Ds,ha)}function aa(e){return Or(e,js,pa)}var oa=An?function(e){return An.get(e)}:ul;function sa(e){for(var t=e.name+"",n=xn[t],r=Pe.call(xn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Pe.call(Vn,"placeholder")?Vn:e).placeholder}function ca(){var e=Vn.iteratee||ol;return e=e===ol?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function da(e){for(var t=Ds(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Oa(i)]}return t}function fa(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Pr(r)?r:n}var ha=gt?function(e){return null==e?[]:(e=Ee(e),Mt(gt(e),(function(t){return Ye.call(e,t)})))}:gl,pa=gt?function(e){for(var t=[];e;)Dt(t,ha(e)),e=Ge(e);return t}:gl,ma=Er;function va(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,a=!1;++r<i;){var o=Ua(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ts(i)&&Ca(o,i)&&(Go(e)||qo(e))}function ga(e){return"function"!=typeof e.constructor||Ia(e)?{}:Bn(Ge(e))}function ba(e){return Go(e)||qo(e)||!!(Ke&&e&&e[Ke])}function Ca(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Yo(n)&&Ca(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function Sa(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ee(t))}function wa(e){var t=sa(e),n=Vn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(On&&ma(new On(new ArrayBuffer(1)))!=j||En&&ma(new En)!=I||Rn&&ma(Rn.resolve())!=R||kn&&ma(new kn)!=M||Mn&&ma(new Mn)!=x)&&(ma=function(e){var t=Er(e),r=t==E?e.constructor:n,i=r?Fa(r):"";if(i)switch(i){case Dn:return j;case jn:return I;case Pn:return R;case Nn:return M;case Ln:return x}return t});var Ta=De?Xo:bl;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function Oa(e){return e===e&&!ns(e)}function Ea(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ee(r)))}}function Ra(e,t,i){return t=Cn(t===n?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Cn(n.length-t,0),s=r(o);++a<o;)s[a]=n[t+a];a=-1;for(var l=r(t+1);++a<t;)l[a]=n[a];return l[t]=i(s),It(e,this,l)}}function ka(e,t){return t.length<2?e:Ir(e,ii(t,0,-1))}function Ma(e,t){for(var r=e.length,i=yn(t.length,r),a=_i(e);i--;){var o=t[i];e[i]=Ca(o,r)?a[o]:n}return e}function _a(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Aa=Pa(ti),xa=ht||function(e,t){return ft.setTimeout(e,t)},Da=Pa(ni);function ja(e,t,n){var r=t+"";return Da(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(v,(function(n){var r="_."+n[0];t&n[1]&&!_t(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Pa(e){var t=0,r=0;return function(){var i=Sn(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Na(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Zr(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var La=function(e){var t=No(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Ua(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fa(e){if(null!=e){try{return je.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Wa(e){if(e instanceof qn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=_i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Va=$r((function(e,t){return Zo(e)?fr(e,br(t,1,Zo,!0)):[]})),Ba=$r((function(e,t){var r=$a(t);return Zo(r)&&(r=n),Zo(e)?fr(e,br(t,1,Zo,!0),ca(r,2)):[]})),za=$r((function(e,t){var r=$a(t);return Zo(r)&&(r=n),Zo(e)?fr(e,br(t,1,Zo,!0),n,r):[]}));function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=Cn(r+i,0)),Ft(e,ca(t,3),i)}function qa(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=vs(r),a=r<0?Cn(i+a,0):yn(a,i-1)),Ft(e,ca(t,3),a,!0)}function Ga(e){return(null==e?0:e.length)?br(e,1):[]}function Ja(e){return e&&e.length?e[0]:n}var Ya=$r((function(e){var t=xt(e,bi);return t.length&&t[0]===e[0]?_r(t):[]})),Za=$r((function(e){var t=$a(e),r=xt(e,bi);return t===$a(r)?t=n:r.pop(),r.length&&r[0]===e[0]?_r(r,ca(t,2)):[]})),Ka=$r((function(e){var t=$a(e),r=xt(e,bi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?_r(r,n,t):[]}));function $a(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Qa=$r(Xa);function Xa(e,t){return e&&e.length&&t&&t.length?Jr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Yr(e,xt(t,(function(e){return Ca(e,n)?+e:e})).sort(Ri)),r}));function to(e){return null==e?e:In.call(e)}var no=$r((function(e){return di(br(e,1,Zo,!0))})),ro=$r((function(e){var t=$a(e);return Zo(t)&&(t=n),di(br(e,1,Zo,!0),ca(t,2))})),io=$r((function(e){var t=$a(e);return t="function"==typeof t?t:n,di(br(e,1,Zo,!0),n,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Zo(e))return t=Cn(e.length,t),!0})),Yt(t,(function(t){return xt(e,Ht(t))}))}function oo(e,t){if(!e||!e.length)return[];var r=ao(e);return null==t?r:xt(r,(function(e){return It(t,n,e)}))}var so=$r((function(e,t){return Zo(e)?fr(e,t):[]})),lo=$r((function(e){return vi(Mt(e,Zo))})),co=$r((function(e){var t=$a(e);return Zo(t)&&(t=n),vi(Mt(e,Zo),ca(t,2))})),uo=$r((function(e){var t=$a(e);return t="function"==typeof t?t:n,vi(Mt(e,Zo),n,t)})),fo=$r(ao);var ho=$r((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,oo(e,r)}));function po(e){var t=Vn(e);return t.__chain__=!0,t}function mo(e,t){return t(e)}var vo=ra((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof qn&&Ca(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:mo,args:[a],thisArg:n}),new Hn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(a)}));var go=xi((function(e,t,n){Pe.call(e,n)?++e[n]:or(e,n,1)}));var bo=Fi(Ha),Co=Fi(qa);function yo(e,t){return(Go(e)?Et:hr)(e,ca(t,3))}function So(e,t){return(Go(e)?Rt:pr)(e,ca(t,3))}var wo=xi((function(e,t,n){Pe.call(e,n)?e[n].push(t):or(e,n,[t])}));var To=$r((function(e,t,n){var i=-1,a="function"==typeof t,o=Yo(e)?r(e.length):[];return hr(e,(function(e){o[++i]=a?It(t,e,n):Ar(e,t,n)})),o})),Io=xi((function(e,t,n){or(e,n,t)}));function Oo(e,t){return(Go(e)?xt:Wr)(e,ca(t,3))}var Eo=xi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ro=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ya(e,t[0],t[1])?t=[]:n>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,br(t,1),[])})),ko=dt||function(){return ft.Date.now()};function Mo(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Qi(e,u,n,n,n,n,t)}function _o(e,t){var r;if("function"!=typeof t)throw new Me(i);return e=vs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var Ao=$r((function(e,t,n){var r=1;if(n.length){var i=cn(n,la(Ao));r|=l}return Qi(e,r,t,n,i)})),xo=$r((function(e,t,n){var r=3;if(n.length){var i=cn(n,la(xo));r|=l}return Qi(t,r,e,n,i)}));function Do(e,t,r){var a,o,s,l,c,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Me(i);function m(t){var r=a,i=o;return a=o=n,d=t,l=e.apply(i,r)}function v(e){return d=e,c=xa(b,t),f?m(e):l}function g(e){var r=e-u;return u===n||r>=t||r<0||h&&e-d>=s}function b(){var e=ko();if(g(e))return C(e);c=xa(b,function(e){var n=t-(e-u);return h?yn(n,s-(e-d)):n}(e))}function C(e){return c=n,p&&a?m(e):(a=o=n,l)}function y(){var e=ko(),r=g(e);if(a=arguments,o=this,u=e,r){if(c===n)return v(u);if(h)return Ti(c),c=xa(b,t),m(u)}return c===n&&(c=xa(b,t)),l}return t=bs(t)||0,ns(r)&&(f=!!r.leading,s=(h="maxWait"in r)?Cn(bs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),y.cancel=function(){c!==n&&Ti(c),d=0,a=u=o=c=n},y.flush=function(){return c===n?l:C(ko())},y}var jo=$r((function(e,t){return dr(e,1,t)})),Po=$r((function(e,t,n){return dr(e,bs(t)||0,n)}));function No(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(No.Cache||Yn),n}function Lo(e){if("function"!=typeof e)throw new Me(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}No.Cache=Yn;var Uo=Si((function(e,t){var n=(t=1==t.length&&Go(t[0])?xt(t[0],Kt(ca())):xt(br(t,1),Kt(ca()))).length;return $r((function(r){for(var i=-1,a=yn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Fo=$r((function(e,t){var r=cn(t,la(Fo));return Qi(e,l,n,t,r)})),Wo=$r((function(e,t){var r=cn(t,la(Wo));return Qi(e,c,n,t,r)})),Vo=ra((function(e,t){return Qi(e,d,n,n,n,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var zo=Ji(Rr),Ho=Ji((function(e,t){return e>=t})),qo=xr(function(){return arguments}())?xr:function(e){return rs(e)&&Pe.call(e,"callee")&&!Ye.call(e,"callee")},Go=r.isArray,Jo=bt?Kt(bt):function(e){return rs(e)&&Er(e)==D};function Yo(e){return null!=e&&ts(e.length)&&!Xo(e)}function Zo(e){return rs(e)&&Yo(e)}var Ko=Lt||bl,$o=Ct?Kt(Ct):function(e){return rs(e)&&Er(e)==y};function Qo(e){if(!rs(e))return!1;var t=Er(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Xo(e){if(!ns(e))return!1;var t=Er(e);return t==w||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==vs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=yt?Kt(yt):function(e){return rs(e)&&ma(e)==I};function as(e){return"number"==typeof e||rs(e)&&Er(e)==O}function os(e){if(!rs(e)||Er(e)!=E)return!1;var t=Ge(e);if(null===t)return!0;var n=Pe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&je.call(n)==Fe}var ss=St?Kt(St):function(e){return rs(e)&&Er(e)==k};var ls=wt?Kt(wt):function(e){return rs(e)&&ma(e)==M};function cs(e){return"string"==typeof e||!Go(e)&&rs(e)&&Er(e)==_}function us(e){return"symbol"==typeof e||rs(e)&&Er(e)==A}var ds=Tt?Kt(Tt):function(e){return rs(e)&&ts(e.length)&&!!at[Er(e)]};var fs=Ji(Fr),hs=Ji((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Yo(e))return cs(e)?hn(e):_i(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=ma(e);return(t==I?sn:t==M?un:Bs)(e)}function ms(e){return e?(e=bs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=ms(e),n=t%1;return t===t?n?t-n:t:0}function gs(e){return e?lr(vs(e),0,m):0}function bs(e){if("number"==typeof e)return e;if(us(e))return p;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):me.test(e)?p:+e}function Cs(e){return Ai(e,js(e))}function ys(e){return null==e?"":ui(e)}var Ss=Di((function(e,t){if(Ia(t)||Yo(t))Ai(t,Ds(t),e);else for(var n in t)Pe.call(t,n)&&nr(e,n,t[n])})),ws=Di((function(e,t){Ai(t,js(t),e)})),Ts=Di((function(e,t,n,r){Ai(t,js(t),e,r)})),Is=Di((function(e,t,n,r){Ai(t,Ds(t),e,r)})),Os=ra(sr);var Es=$r((function(e,t){e=Ee(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&ya(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=js(o),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===n||Bo(d,xe[u])&&!Pe.call(e,u))&&(e[u]=o[u])}return e})),Rs=$r((function(e){return e.push(n,ea),It(Ns,n,e)}));function ks(e,t,r){var i=null==e?n:Ir(e,t);return i===n?r:i}function Ms(e,t){return null!=e&&va(e,t,Mr)}var _s=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),nl(al)),As=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Pe.call(e,t)?e[t].push(n):e[t]=[n]}),ca),xs=$r(Ar);function Ds(e){return Yo(e)?$n(e):Lr(e)}function js(e){return Yo(e)?$n(e,!0):Ur(e)}var Ps=Di((function(e,t,n){zr(e,t,n)})),Ns=Di((function(e,t,n,r){zr(e,t,n,r)})),Ls=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Ai(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Us=ra((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ms(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=xt(aa(e),(function(e){return[e]}));return t=ca(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Ws=$i(Ds),Vs=$i(js);function Bs(e){return null==e?[]:$t(e,Ds(e))}var zs=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?Hs(t):t)}));function Hs(e){return Qs(ys(e).toLowerCase())}function qs(e){return(e=ys(e))&&e.replace(ye,nn).replace(Qe,"")}var Gs=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Js=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Ni("toLowerCase");var Zs=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=Li((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var $s=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Ni("toUpperCase");function Xs(e,t,r){return e=ys(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var el=$r((function(e,t){try{return It(e,n,t)}catch(r){return Qo(r)?r:new Te(r)}})),tl=ra((function(e,t){return Et(t,(function(t){t=Ua(t),or(e,t,Ao(e[t],e))})),e}));function nl(e){return function(){return e}}var rl=Wi(),il=Wi(!0);function al(e){return e}function ol(e){return Nr("function"==typeof e?e:cr(e,1))}var sl=$r((function(e,t){return function(n){return Ar(n,e,t)}})),ll=$r((function(e,t){return function(n){return Ar(e,n,t)}}));function cl(e,t,n){var r=Ds(t),i=Tr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tr(t,Ds(t)));var a=!(ns(n)&&"chain"in n)||!!n.chain,o=Xo(e);return Et(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=_i(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ul(){}var dl=Hi(xt),fl=Hi(kt),hl=Hi(Nt);function pl(e){return Sa(e)?Ht(Ua(e)):function(e){return function(t){return Ir(t,e)}}(e)}var ml=Gi(),vl=Gi(!0);function gl(){return[]}function bl(){return!1}var Cl=zi((function(e,t){return e+t}),0),yl=Zi("ceil"),Sl=zi((function(e,t){return e/t}),1),wl=Zi("floor");var Tl=zi((function(e,t){return e*t}),1),Il=Zi("round"),Ol=zi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Me(i);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Mo,Vn.assign=Ss,Vn.assignIn=ws,Vn.assignInWith=Ts,Vn.assignWith=Is,Vn.at=Os,Vn.before=_o,Vn.bind=Ao,Vn.bindAll=tl,Vn.bindKey=xo,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Vn.chain=po,Vn.chunk=function(e,t,i){t=(i?ya(e,t,i):t===n)?1:Cn(vs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=r(pt(a/t));o<a;)l[s++]=ii(e,o,o+=t);return l},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Go(n)?_i(n):[n],br(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Me(i);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ds(e);return function(n){return ur(n,e,t)}}(cr(e,1))},Vn.constant=nl,Vn.countBy=go,Vn.create=function(e,t){var n=Bn(e);return null==t?n:ar(n,t)},Vn.curry=function e(t,r,i){var a=Qi(t,8,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Vn.curryRight=function e(t,r,i){var a=Qi(t,s,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Vn.debounce=Do,Vn.defaults=Es,Vn.defaultsDeep=Rs,Vn.defer=jo,Vn.delay=Po,Vn.difference=Va,Vn.differenceBy=Ba,Vn.differenceWith=za,Vn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:vs(t))<0?0:t,i):[]},Vn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:vs(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},Vn.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ya(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=vs(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:vs(i))<0&&(i+=a),i=r>i?0:gs(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Vn.filter=function(e,t){return(Go(e)?Mt:gr)(e,ca(t,3))},Vn.flatMap=function(e,t){return br(Oo(e,t),1)},Vn.flatMapDeep=function(e,t){return br(Oo(e,t),f)},Vn.flatMapDepth=function(e,t,r){return r=r===n?1:vs(r),br(Oo(e,t),r)},Vn.flatten=Ga,Vn.flattenDeep=function(e){return(null==e?0:e.length)?br(e,f):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===n?1:vs(t)):[]},Vn.flip=function(e){return Qi(e,512)},Vn.flow=rl,Vn.flowRight=il,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Tr(e,Ds(e))},Vn.functionsIn=function(e){return null==e?[]:Tr(e,js(e))},Vn.groupBy=wo,Vn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Vn.intersection=Ya,Vn.intersectionBy=Za,Vn.intersectionWith=Ka,Vn.invert=_s,Vn.invertBy=As,Vn.invokeMap=To,Vn.iteratee=ol,Vn.keyBy=Io,Vn.keys=Ds,Vn.keysIn=js,Vn.map=Oo,Vn.mapKeys=function(e,t){var n={};return t=ca(t,3),Sr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=ca(t,3),Sr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(cr(e,1))},Vn.matchesProperty=function(e,t){return Br(e,cr(t,1))},Vn.memoize=No,Vn.merge=Ps,Vn.mergeWith=Ns,Vn.method=sl,Vn.methodOf=ll,Vn.mixin=cl,Vn.negate=Lo,Vn.nthArg=function(e){return e=vs(e),$r((function(t){return Hr(t,e)}))},Vn.omit=Ls,Vn.omitBy=function(e,t){return Fs(e,Lo(ca(t)))},Vn.once=function(e){return _o(2,e)},Vn.orderBy=function(e,t,r,i){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(r=i?n:r)||(r=null==r?[]:[r]),qr(e,t,r))},Vn.over=dl,Vn.overArgs=Uo,Vn.overEvery=fl,Vn.overSome=hl,Vn.partial=Fo,Vn.partialRight=Wo,Vn.partition=Eo,Vn.pick=Us,Vn.pickBy=Fs,Vn.property=pl,Vn.propertyOf=function(e){return function(t){return null==e?n:Ir(e,t)}},Vn.pull=Qa,Vn.pullAll=Xa,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Jr(e,t,ca(n,2)):e},Vn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Jr(e,t,n,r):e},Vn.pullAt=eo,Vn.range=ml,Vn.rangeRight=vl,Vn.rearg=Vo,Vn.reject=function(e,t){return(Go(e)?Mt:gr)(e,Lo(ca(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Yr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Me(i);return $r(e,t=t===n?t:vs(t))},Vn.reverse=to,Vn.sampleSize=function(e,t,r){return t=(r?ya(e,t,r):t===n)?1:vs(t),(Go(e)?Xn:Xr)(e,t)},Vn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Vn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},Vn.shuffle=function(e){return(Go(e)?er:ri)(e)},Vn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ya(e,t,r)?(t=0,r=i):(t=null==t?0:vs(t),r=r===n?i:vs(r)),ii(e,t,r)):[]},Vn.sortBy=Ro,Vn.sortedUniq=function(e){return e&&e.length?li(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?li(e,ca(t,2)):[]},Vn.split=function(e,t,r){return r&&"number"!=typeof r&&ya(e,t,r)&&(t=r=n),(r=r===n?m:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ui(t))&&on(e)?wi(hn(e),0,r):e.split(t,r):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Me(i);return t=null==t?0:Cn(vs(t),0),$r((function(n){var r=n[t],i=wi(n,0,t);return r&&Dt(i,r),It(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Vn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:vs(t))<0?0:t):[]},Vn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:vs(t)))<0?0:t,i):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Me(i);return ns(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Do(e,t,{leading:r,maxWait:t,trailing:a})},Vn.thru=mo,Vn.toArray=ps,Vn.toPairs=Ws,Vn.toPairsIn=Vs,Vn.toPath=function(e){return Go(e)?xt(e,Ua):us(e)?[e]:_i(La(ys(e)))},Vn.toPlainObject=Cs,Vn.transform=function(e,t,n){var r=Go(e),i=r||Ko(e)||ds(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ns(e)&&Xo(a)?Bn(Ge(e)):{}}return(i?Et:Sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Mo(e,1)},Vn.union=no,Vn.unionBy=ro,Vn.unionWith=io,Vn.uniq=function(e){return e&&e.length?di(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?di(e,ca(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?di(e,n,t):[]},Vn.unset=function(e,t){return null==e||fi(e,t)},Vn.unzip=ao,Vn.unzipWith=oo,Vn.update=function(e,t,n){return null==e?e:hi(e,t,Ci(n))},Vn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:hi(e,t,Ci(r),i)},Vn.values=Bs,Vn.valuesIn=function(e){return null==e?[]:$t(e,js(e))},Vn.without=so,Vn.words=Xs,Vn.wrap=function(e,t){return Fo(Ci(t),e)},Vn.xor=lo,Vn.xorBy=co,Vn.xorWith=uo,Vn.zip=fo,Vn.zipObject=function(e,t){return gi(e||[],t||[],nr)},Vn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Vn.zipWith=ho,Vn.entries=Ws,Vn.entriesIn=Vs,Vn.extend=ws,Vn.extendWith=Ts,cl(Vn,Vn),Vn.add=Cl,Vn.attempt=el,Vn.camelCase=zs,Vn.capitalize=Hs,Vn.ceil=yl,Vn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=bs(r))===r?r:0),t!==n&&(t=(t=bs(t))===t?t:0),lr(bs(e),t,r)},Vn.clone=function(e){return cr(e,4)},Vn.cloneDeep=function(e){return cr(e,5)},Vn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},Vn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},Vn.conformsTo=function(e,t){return null==t||ur(e,t,Ds(t))},Vn.deburr=qs,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=Sl,Vn.endsWith=function(e,t,r){e=ys(e),t=ui(t);var i=e.length,a=r=r===n?i:lr(vs(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},Vn.eq=Bo,Vn.escape=function(e){return(e=ys(e))&&K.test(e)?e.replace(Y,rn):e},Vn.escapeRegExp=function(e){return(e=ys(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Vn.every=function(e,t,r){var i=Go(e)?kt:mr;return r&&ya(e,t,r)&&(t=n),i(e,ca(t,3))},Vn.find=bo,Vn.findIndex=Ha,Vn.findKey=function(e,t){return Ut(e,ca(t,3),Sr)},Vn.findLast=Co,Vn.findLastIndex=qa,Vn.findLastKey=function(e,t){return Ut(e,ca(t,3),wr)},Vn.floor=wl,Vn.forEach=yo,Vn.forEachRight=So,Vn.forIn=function(e,t){return null==e?e:Cr(e,ca(t,3),js)},Vn.forInRight=function(e,t){return null==e?e:yr(e,ca(t,3),js)},Vn.forOwn=function(e,t){return e&&Sr(e,ca(t,3))},Vn.forOwnRight=function(e,t){return e&&wr(e,ca(t,3))},Vn.get=ks,Vn.gt=zo,Vn.gte=Ho,Vn.has=function(e,t){return null!=e&&va(e,t,kr)},Vn.hasIn=Ms,Vn.head=Ja,Vn.identity=al,Vn.includes=function(e,t,n,r){e=Yo(e)?e:Bs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=Cn(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=Cn(r+i,0)),Wt(e,t,i)},Vn.inRange=function(e,t,r){return t=ms(t),r===n?(r=t,t=0):r=ms(r),function(e,t,n){return e>=yn(t,n)&&e<Cn(t,n)}(e=bs(e),t,r)},Vn.invoke=xs,Vn.isArguments=qo,Vn.isArray=Go,Vn.isArrayBuffer=Jo,Vn.isArrayLike=Yo,Vn.isArrayLikeObject=Zo,Vn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Er(e)==C},Vn.isBuffer=Ko,Vn.isDate=$o,Vn.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Yo(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Ko(e)||ds(e)||qo(e)))return!e.length;var t=ma(e);if(t==I||t==M)return!e.size;if(Ia(e))return!Lr(e).length;for(var n in e)if(Pe.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Dr(e,t)},Vn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Dr(e,t,n,r):!!i},Vn.isError=Qo,Vn.isFinite=function(e){return"number"==typeof e&&qt(e)},Vn.isFunction=Xo,Vn.isInteger=es,Vn.isLength=ts,Vn.isMap=is,Vn.isMatch=function(e,t){return e===t||jr(e,t,da(t))},Vn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,jr(e,t,da(t),r)},Vn.isNaN=function(e){return as(e)&&e!=+e},Vn.isNative=function(e){if(Ta(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=as,Vn.isObject=ns,Vn.isObjectLike=rs,Vn.isPlainObject=os,Vn.isRegExp=ss,Vn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=h},Vn.isSet=ls,Vn.isString=cs,Vn.isSymbol=us,Vn.isTypedArray=ds,Vn.isUndefined=function(e){return e===n},Vn.isWeakMap=function(e){return rs(e)&&ma(e)==x},Vn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Er(e)},Vn.join=function(e,t){return null==e?"":gn.call(e,t)},Vn.kebabCase=Gs,Vn.last=$a,Vn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=(a=vs(r))<0?Cn(i+a,0):yn(a,i-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ft(e,Bt,a,!0)},Vn.lowerCase=Js,Vn.lowerFirst=Ys,Vn.lt=fs,Vn.lte=hs,Vn.max=function(e){return e&&e.length?vr(e,al,Rr):n},Vn.maxBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Rr):n},Vn.mean=function(e){return zt(e,al)},Vn.meanBy=function(e,t){return zt(e,ca(t,2))},Vn.min=function(e){return e&&e.length?vr(e,al,Fr):n},Vn.minBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Fr):n},Vn.stubArray=gl,Vn.stubFalse=bl,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Tl,Vn.nth=function(e,t){return e&&e.length?Hr(e,vs(t)):n},Vn.noConflict=function(){return ft._===this&&(ft._=We),this},Vn.noop=ul,Vn.now=ko,Vn.pad=function(e,t,n){e=ys(e);var r=(t=vs(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(vt(i),n)+e+qi(pt(i),n)},Vn.padEnd=function(e,t,n){e=ys(e);var r=(t=vs(t))?fn(e):0;return t&&r<t?e+qi(t-r,n):e},Vn.padStart=function(e,t,n){e=ys(e);var r=(t=vs(t))?fn(e):0;return t&&r<t?qi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(ae,""),t||0)},Vn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ya(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ms(e),t===n?(t=e,e=0):t=ms(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=Tn();return yn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Zr(e,t)},Vn.reduce=function(e,t,n){var r=Go(e)?jt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,hr)},Vn.reduceRight=function(e,t,n){var r=Go(e)?Pt:Gt,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},Vn.repeat=function(e,t,r){return t=(r?ya(e,t,r):t===n)?1:vs(t),Kr(ys(e),t)},Vn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,r){var i=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[Ua(t[i])];o===n&&(i=a,o=r),e=Xo(o)?o.call(e):o}return e},Vn.round=Il,Vn.runInContext=e,Vn.sample=function(e){return(Go(e)?Qn:Qr)(e)},Vn.size=function(e){if(null==e)return 0;if(Yo(e))return cs(e)?fn(e):e.length;var t=ma(e);return t==I||t==M?e.size:Lr(e).length},Vn.snakeCase=Zs,Vn.some=function(e,t,r){var i=Go(e)?Nt:ai;return r&&ya(e,t,r)&&(t=n),i(e,ca(t,3))},Vn.sortedIndex=function(e,t){return oi(e,t)},Vn.sortedIndexBy=function(e,t,n){return si(e,t,ca(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Bo(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return si(e,t,ca(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Vn.startCase=Ks,Vn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:lr(vs(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Vn.subtract=Ol,Vn.sum=function(e){return e&&e.length?Jt(e,al):0},Vn.sumBy=function(e,t){return e&&e.length?Jt(e,ca(t,2)):0},Vn.template=function(e,t,r){var i=Vn.templateSettings;r&&ya(e,t,r)&&(t=n),e=ys(e),t=Ts({},t,i,Xi);var a,o,s=Ts({},t.imports,i.imports,Xi),l=Ds(s),c=$t(s,l),u=0,d=t.interpolate||Se,f="__p += '",h=Re((t.escape||Se).source+"|"+d.source+"|"+(d===X?he:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(h,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(u,l).replace(we,an),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var m=Pe.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new Te("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(H,""):f).replace(q,"$1").replace(G,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=el((function(){return Ie(l,p+"return "+f).apply(n,c)}));if(v.source=f,Qo(v))throw v;return v},Vn.times=function(e,t){if((e=vs(e))<1||e>h)return[];var n=m,r=yn(e,m);t=ca(t),e-=m;for(var i=Yt(r,t);++n<e;)t(n);return i},Vn.toFinite=ms,Vn.toInteger=vs,Vn.toLength=gs,Vn.toLower=function(e){return ys(e).toLowerCase()},Vn.toNumber=bs,Vn.toSafeInteger=function(e){return e?lr(vs(e),-9007199254740991,h):0===e?e:0},Vn.toString=ys,Vn.toUpper=function(e){return ys(e).toUpperCase()},Vn.trim=function(e,t,r){if((e=ys(e))&&(r||t===n))return Zt(e);if(!e||!(t=ui(t)))return e;var i=hn(e),a=hn(t);return wi(i,Xt(i,a),en(i,a)+1).join("")},Vn.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.slice(0,pn(e)+1);if(!e||!(t=ui(t)))return e;var i=hn(e);return wi(i,0,en(i,hn(t))+1).join("")},Vn.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.replace(ae,"");if(!e||!(t=ui(t)))return e;var i=hn(e);return wi(i,Xt(i,hn(t))).join("")},Vn.truncate=function(e,t){var r=30,i="...";if(ns(t)){var a="separator"in t?t.separator:a;r="length"in t?vs(t.length):r,i="omission"in t?ui(t.omission):i}var o=(e=ys(e)).length;if(on(e)){var s=hn(e);o=s.length}if(r>=o)return e;var l=r-fn(i);if(l<1)return i;var c=s?wi(s,0,l).join(""):e.slice(0,l);if(a===n)return c+i;if(s&&(l+=c.length-l),ss(a)){if(e.slice(l).search(a)){var u,d=c;for(a.global||(a=Re(a.source,ys(pe.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var f=u.index;c=c.slice(0,f===n?l:f)}}else if(e.indexOf(ui(a),l)!=l){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+i},Vn.unescape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(J,mn):e},Vn.uniqueId=function(e){var t=++Ne;return ys(e)+t},Vn.upperCase=$s,Vn.upperFirst=Qs,Vn.each=yo,Vn.eachRight=So,Vn.first=Ja,cl(Vn,function(){var e={};return Sr(Vn,(function(t,n){Pe.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),Et(["drop","take"],(function(e,t){qn.prototype[e]=function(r){r=r===n?1:Cn(vs(r),0);var i=this.__filtered__&&!t?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=yn(r,i.__takeCount__):i.__views__.push({size:yn(r,m),type:e+(i.__dir__<0?"Right":"")}),i},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(al)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Ar(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Lo(ca(e)))},qn.prototype.slice=function(e,t){e=vs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=vs(t))<0?r.dropRight(-t):r.take(t-e)),r)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(m)},Sr(qn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Vn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof qn,c=s[0],u=l||Go(t),d=function(e){var t=a.apply(Vn,Dt([e],s));return i&&f?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,m=l&&!h;if(!o&&u){t=m?t:new qn(this);var v=e.apply(t,s);return v.__actions__.push({func:mo,args:[d],thisArg:n}),new Hn(v,f)}return p&&m?e.apply(this,s):(v=this.thru(d),p?i?v.value()[0]:v.value():v)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),Sr(qn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Pe.call(xn,r)||(xn[r]=[]),xn[r].push({name:t,func:n})}})),xn[Vi(n,2).name]=[{name:"wrapper",func:n}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=_i(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=_i(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=_i(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yn(t,e+o);break;case"takeRight":e=Cn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,d=u.length,f=0,h=yn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return mi(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var m=-1,v=e[c+=t];++m<d;){var g=u[m],b=g.iteratee,C=g.type,y=b(v);if(2==C)v=y;else if(!y){if(1==C)continue e;break e}}p[f++]=v}return p},Vn.prototype.at=vo,Vn.prototype.chain=function(){return po(this)},Vn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===n&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,r=this;r instanceof zn;){var i=Wa(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:mo,args:[to],thisArg:n}),new Hn(t,this.__chain__)}return this.thru(to)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Xe&&(Vn.prototype[Xe]=function(){return this}),Vn}();pt?((pt.exports=vn)._=vn,ht._=vn):ft._=vn}).call(r)}))}).call(this,n(143))},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(4),i=n(0),a=n(7),o=(n(9),n(13)),s=n(250),l=n(19),c=n(16),u=n(10),d=n(193),f=n(251);function h(e){return Object(d.a)("MuiSvgIcon",e)}Object(f.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(6),m=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],v=Object(u.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Object(l.a)(n.color))],t["fontSize".concat(Object(l.a)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),g=i.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiSvgIcon"}),i=n.children,u=n.className,d=n.color,f=void 0===d?"inherit":d,g=n.component,b=void 0===g?"svg":g,C=n.fontSize,y=void 0===C?"medium":C,S=n.htmlColor,w=n.titleAccess,T=n.viewBox,I=void 0===T?"0 0 24 24":T,O=Object(a.a)(n,m),E=Object(r.a)({},n,{color:f,component:b,fontSize:y,viewBox:I}),R=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat(Object(l.a)(t)),"fontSize".concat(Object(l.a)(n))]};return Object(s.a)(i,h,r)}(E);return Object(p.jsxs)(v,Object(r.a)({as:b,className:Object(o.a)(R.root,u),ownerState:E,focusable:"false",viewBox:I,color:S,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},O,{children:[i,w?Object(p.jsx)("title",{children:w}):null]}))}));g.muiName="SvgIcon";var b=g;function C(e,t){var n=function(n,i){return Object(p.jsx)(b,Object(r.a)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=b.muiName,i.memo(i.forwardRef(n))}},function(e,t,n){"use strict";var r=n(8),i=n(0);t.a=function(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),s=Object(r.a)(o,2),l=s[0],c=s[1];return[a?t:l,i.useCallback((function(e){a||c(e)}),[])]}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30);function i(e,t,n){return Object(r.a)(e,Object(r.b)(t,n))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return Z}));var r=n(12),i=n(14),a=n(63);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Object(a.a)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},s=n(40),l=n(31);function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var u=Object(i.a)({prop:"border",themeKey:"borders",transform:c}),d=Object(i.a)({prop:"borderTop",themeKey:"borders",transform:c}),f=Object(i.a)({prop:"borderRight",themeKey:"borders",transform:c}),h=Object(i.a)({prop:"borderBottom",themeKey:"borders",transform:c}),p=Object(i.a)({prop:"borderLeft",themeKey:"borders",transform:c}),m=Object(i.a)({prop:"borderColor",themeKey:"palette"}),v=Object(i.a)({prop:"borderTopColor",themeKey:"palette"}),g=Object(i.a)({prop:"borderRightColor",themeKey:"palette"}),b=Object(i.a)({prop:"borderBottomColor",themeKey:"palette"}),C=Object(i.a)({prop:"borderLeftColor",themeKey:"palette"}),y=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(s.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(l.b)(e,e.borderRadius,(function(e){return{borderRadius:Object(s.d)(t,e)}}))}return null};y.propTypes={},y.filterProps=["borderRadius"];var S=o(u,d,f,h,p,m,v,g,b,C,y),w=o(Object(i.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(i.a)({prop:"display"}),Object(i.a)({prop:"overflow"}),Object(i.a)({prop:"textOverflow"}),Object(i.a)({prop:"visibility"}),Object(i.a)({prop:"whiteSpace"})),T=o(Object(i.a)({prop:"flexBasis"}),Object(i.a)({prop:"flexDirection"}),Object(i.a)({prop:"flexWrap"}),Object(i.a)({prop:"justifyContent"}),Object(i.a)({prop:"alignItems"}),Object(i.a)({prop:"alignContent"}),Object(i.a)({prop:"order"}),Object(i.a)({prop:"flex"}),Object(i.a)({prop:"flexGrow"}),Object(i.a)({prop:"flexShrink"}),Object(i.a)({prop:"alignSelf"}),Object(i.a)({prop:"justifyItems"}),Object(i.a)({prop:"justifySelf"})),I=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(s.b)(e.theme,"spacing",8,"gap");return Object(l.b)(e,e.gap,(function(e){return{gap:Object(s.d)(t,e)}}))}return null};I.propTypes={},I.filterProps=["gap"];var O=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(s.b)(e.theme,"spacing",8,"columnGap");return Object(l.b)(e,e.columnGap,(function(e){return{columnGap:Object(s.d)(t,e)}}))}return null};O.propTypes={},O.filterProps=["columnGap"];var E=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(s.b)(e.theme,"spacing",8,"rowGap");return Object(l.b)(e,e.rowGap,(function(e){return{rowGap:Object(s.d)(t,e)}}))}return null};E.propTypes={},E.filterProps=["rowGap"];var R=o(I,O,E,Object(i.a)({prop:"gridColumn"}),Object(i.a)({prop:"gridRow"}),Object(i.a)({prop:"gridAutoFlow"}),Object(i.a)({prop:"gridAutoColumns"}),Object(i.a)({prop:"gridAutoRows"}),Object(i.a)({prop:"gridTemplateColumns"}),Object(i.a)({prop:"gridTemplateRows"}),Object(i.a)({prop:"gridTemplateAreas"}),Object(i.a)({prop:"gridArea"})),k=o(Object(i.a)({prop:"position"}),Object(i.a)({prop:"zIndex",themeKey:"zIndex"}),Object(i.a)({prop:"top"}),Object(i.a)({prop:"right"}),Object(i.a)({prop:"bottom"}),Object(i.a)({prop:"left"})),M=o(Object(i.a)({prop:"color",themeKey:"palette"}),Object(i.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(i.a)({prop:"backgroundColor",themeKey:"palette"})),_=Object(i.a)({prop:"boxShadow",themeKey:"shadows"});function A(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var x=Object(i.a)({prop:"width",transform:A}),D=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(l.b)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||l.e[t]||A(t)}}))}return null};D.filterProps=["maxWidth"];var j=Object(i.a)({prop:"minWidth",transform:A}),P=Object(i.a)({prop:"height",transform:A}),N=Object(i.a)({prop:"maxHeight",transform:A}),L=Object(i.a)({prop:"minHeight",transform:A}),U=(Object(i.a)({prop:"size",cssProperty:"width",transform:A}),Object(i.a)({prop:"size",cssProperty:"height",transform:A}),o(x,D,j,P,N,L,Object(i.a)({prop:"boxSizing"}))),F=Object(i.a)({prop:"fontFamily",themeKey:"typography"}),W=Object(i.a)({prop:"fontSize",themeKey:"typography"}),V=Object(i.a)({prop:"fontStyle",themeKey:"typography"}),B=Object(i.a)({prop:"fontWeight",themeKey:"typography"}),z=Object(i.a)({prop:"letterSpacing"}),H=Object(i.a)({prop:"lineHeight"}),q=Object(i.a)({prop:"textAlign"}),G=o(Object(i.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,W,V,B,z,H,q),J={borders:S.filterProps,display:w.filterProps,flexbox:T.filterProps,grid:R.filterProps,positions:k.filterProps,palette:M.filterProps,shadows:_.filterProps,sizing:U.filterProps,spacing:s.c.filterProps,typography:G.filterProps},Y={borders:S,display:w,flexbox:T,grid:R,positions:k,palette:M,shadows:_,sizing:U,spacing:s.c,typography:G},Z=Object.keys(J).reduce((function(e,t){return J[t].forEach((function(n){e[n]=Y[t]})),e}),{});t.a=function(e,t,n){var i,a=(i={},Object(r.a)(i,e,t),Object(r.a)(i,"theme",n),i),o=Z[e];return o?o(a):Object(r.a)({},e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(71),i=n(81),a=n(39),o=n(25);function s(e){return["html","body","#document"].indexOf(Object(a.a)(e))>=0?e.ownerDocument.body:Object(o.b)(e)&&Object(i.a)(e)?e:s(Object(r.a)(e))}var l=n(34);function c(e,t){var n;void 0===t&&(t=[]);var a=s(e),o=a===(null==(n=e.ownerDocument)?void 0:n.body),u=Object(l.a)(a),d=o?[u].concat(u.visualViewport||[],Object(i.a)(a)?a:[]):a,f=t.concat(d);return o?f:f.concat(c(Object(r.a)(d)))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(193),i=n(251);function a(e){return Object(r.a)("MuiFormLabel",e)}var o=Object(i.a)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);t.a=o},,function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(7),i=n(4),a=["duration","easing","delay"],o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function u(e){var t=Object(i.a)({},o,e.easing),n=Object(i.a)({},s,e.duration);return Object(i.a)({getAutoHeightDuration:c,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.duration,s=void 0===o?n.standard:o,c=i.easing,u=void 0===c?t.easeInOut:c,d=i.delay,f=void 0===d?0:d;Object(r.a)(i,a);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:l(s)," ").concat(u," ").concat("string"===typeof f?f:l(f))})).join(",")}},e,{easing:t,duration:n})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return P}));var r="#fff",i="#000",a="#fafafa",o="#ddd",s="#617296",l="#bdbdbd",c="#757575",u="#656565",d="#383636",f="#181821",h="#EFF8FD",p="#7ABFEB",m="#0078D4",v="#1977B3",g="#0C3956",b="#00FF00",C="#D9ECED",y="#6CBC7A",S="#038387",w="#026E72",T="#003a3c",I="#1A7D44",O="#E2F2E4",E="#F14848",R="#EF381B",k="#CD3118",M="#FCD7D1",_="#F2B04C",A="#F2994A",x="#EE8D16",D="#FCEBDB",j={light:{primaryLighter:h,primaryLight:p,primary:m,primaryDark:v,primaryDarker:g,secondaryLighter:C,secondaryLight:y,secondary:S,secondaryDark:w,secondaryDarker:T,successLight:b,success:y,successDark:I,warningLight:_,warning:A,warningDark:x,dangerLight:E,danger:R,dangerDark:k,infoLight:p,info:m,infoDark:v,primaryBackground:r,neutralLighter:a,neutralLight:o,neutral:l,neutralDark:c,neutralDarker:u,neutralDarkest:d,neutralDarkestest:f,neutralBlue:s,text:i,white:r,black:i,transparentWhite:"rgba(255, 255, 255, 0.8)"},dark:{primaryLighter:h,primaryLight:p,primary:m,primaryDark:v,primaryDarker:g,secondaryLighter:C,secondaryLight:y,secondary:S,secondaryDark:w,secondaryDarker:T,successLight:b,success:y,successDark:I,warningLight:_,warning:A,warningDark:x,dangerLight:E,danger:R,dangerDark:k,infoLight:p,info:m,infoDark:v,primaryBackground:r,neutralLighter:a,neutralLight:o,neutral:l,neutralDark:c,neutralDarker:u,neutralDarkest:d,neutralDarkestest:f,neutralBlue:s,text:r,white:r,black:i,transparentBlack:"rgba(0, 0, 0, 0.3)"}},P={name:"main theme",themeVariant:"light",borders:{radiusNone:"0px",radiusSm:"2px",radiusMd:"5px",radiusLg:"10px",radiusXl:"20px"},background:{light:j.light.white,dark:j.dark.black},dropdown:{borderWidth:"1px",minWidth:"250px",light:{textColor:j.light.neutralDarkest,borderColor:j.light.neutral,backgroundColorOptionHover:j.light.primaryLight},dark:{textColor:j.dark.white,borderColor:j.dark.neutralDarker,backgroundColorOptionHover:j.dark.primaryDark}},text:{light:{header:j.dark.neutralBlue,body:j.dark.neutralDarker},dark:{header:j.dark.white,body:j.dark.white}},error:{light:{color:j.light.danger,separator:j.light.neutralDarker},dark:{color:j.dark.danger,separator:j.dark.neutralLighter}},callbar:{light:{color:j.light.danger,separator:j.light.neutralDarker},dark:{color:j.dark.danger,separator:j.dark.neutralLighter}},calendar:{light:{backgroundColor:j.light.primaryBackground,backgroundColorCurrentTime:j.light.primaryDarker,backgroundColorToday:j.light.primaryLighter,backgroundColorTodayBubble:j.light.primaryDark,colorToday:j.light.primaryDark,colorTodayNumber:j.light.white,textColor:j.light.white,color:j.light.neutralDarkest,border:j.light.neutral,gridBorderDay:j.light.neutral,gridBorderSlot:j.light.neutralLight},dark:{backgroundColor:j.dark.primaryBackground,backgroundColorCurrentTime:j.dark.primaryLight,backgroundColorToday:j.dark.primaryDarker,backgroundColorTodayBubble:j.dark.white,colorToday:j.dark.white,colorTodayNumber:j.dark.neutralDarker,textColor:j.dark.white,color:j.dark.white,border:j.dark.neutralDarker,gridBorderDay:j.dark.neutralDarker,gridBorderSlot:j.dark.neutralDarker}},command:{light:{header:j.light.primaryDark},dark:{header:j.dark.primaryDark}},field:{borderRadius:{sharp:"4px 4px 0 0",rounded:"28px"},borderWidth:"1px",borderWidthFocus:"1px",height:"40px",heightWithLabel:"56px",light:{borderColor:j.light.neutralLight,borderColorFocus:j.light.primary,borderColorInvalid:j.light.danger,backgroundColor:j.light.neutralLighter,backgroundColorDisabled:j.light.white,backgroundColorHover:j.light.white,placeholderColor:j.light.neutralDarker,textColor:j.light.neutralDarkest,textColorDisabled:j.light.neutral,titleColor:j.light.neutralBlue,titleColorInvalid:j.light.dangerDark},dark:{borderColor:j.dark.neutralDarkest,borderColorFocus:j.dark.primaryLight,borderColorInvalid:j.dark.danger,backgroundColor:j.dark.neutralDarkestest,backgroundColorDisabled:j.dark.black,backgroundColorHover:j.dark.black,placeholderColor:j.dark.neutral,textColor:j.dark.white,textColorDisabled:j.dark.neutralDarker,titleColor:j.dark.primaryLight,titleColorInvalid:j.dark.dangerLight}},select:{borderRadius:{rounded:"14px",sharp:0},borderWidth:"1px",light:{borderColor:j.light.neutralLight,backgroundColorHover:j.light.primaryLighter,backgroundColorSelected:j.light.primaryLight,backgroundColorSelecting:j.light.neutralLighter,textColor:j.light.neutralDarker,textColorDisabled:j.light.neutral,textColorSelected:j.light.neutralDarkest},dark:{borderColor:j.dark.neutralDarkest,backgroundColorHover:j.dark.primaryDarker,backgroundColorSelected:j.dark.primaryDark,backgroundColorSelecting:j.dark.black,textColor:j.dark.white,textColorDisabled:j.dark.neutralDark,textColorSelected:j.dark.white}},inputWithButton:{borderRadius:"20px",borderWidth:"1px",light:{borderColor:j.light.neutralLight,borderColorDisabled:j.dark.neutral,borderColorInvalid:j.light.danger,borderColorFocus:j.light.primary,borderColorFocusInvalid:j.light.dangerLight,backgroundColor:j.light.white},dark:{borderColor:j.dark.neutralDark,borderColorInvalid:j.dark.danger,borderColorFocus:j.dark.primary,borderColorFocusInvalid:j.dark.dangerLight,backgroundColor:j.dark.neutralDarkestest}},buttons:{functions:{light:{primary:{style:"fill",color:"primary"},secondary:{style:"plain",color:"primary"},tertiary:{style:"outline",color:"primary"},enhanced:{style:"fill",color:"secondary"},link:{style:"link",color:"primary"},linkSecondary:{style:"link",color:"secondary"},dangerPrimary:{style:"outline",color:"danger"},dangerEnhanced:{style:"fill",color:"danger"},warningPrimary:{style:"outline",color:"warning"},successPrimary:{style:"outline",color:"success"},infoPrimary:{style:"outline",color:"info"}},dark:{primary:{style:"fill",color:"primary"},secondary:{style:"outline",color:"primary"},tertiary:{style:"plain",color:"primary"},enhanced:{style:"fill",color:"secondary"},link:{style:"link",color:"primary"},linkSecondary:{style:"link",color:"secondary"},dangerPrimary:{style:"outline",color:"danger"},dangerEnhanced:{style:"fill",color:"danger"},warningPrimary:{style:"outline",color:"warning"},successPrimary:{style:"outline",color:"success"},infoPrimary:{style:"outline",color:"info"}}},fill:{light:{textColor:j.light.white,textColorDisabled:j.light.neutralLighter,backgroundColor:{primary:j.light.primary,secondary:j.light.secondary,success:j.light.success,warning:j.light.warning,danger:j.light.dangerDark,info:j.light.info},backgroundColorHover:{primary:j.light.primaryDark,secondary:j.light.secondaryDark,success:j.light.successDark,warning:j.light.warningDark,danger:j.light.dangerLight,info:j.light.infoDark},backgroundColorDisabled:j.light.neutral,focusOutline:{primary:j.light.primaryLight,secondary:j.light.secondaryLight,success:j.light.successLight,warning:j.light.warningLight,danger:j.light.dangerLight,info:j.light.infoLight},borderColorHover:{primary:j.light.primaryLight,secondary:j.light.secondaryLight,success:j.light.successLight,warning:j.light.warningLight,info:j.light.infoLight,danger:j.light.dangerDark}},dark:{textColor:j.dark.text,textColorDisabled:j.dark.neutral,backgroundColor:{primary:j.dark.primary,secondary:j.dark.secondary,success:j.dark.success,warning:j.dark.warning,danger:j.dark.dangerDark,info:j.dark.info},backgroundColorHover:{primary:j.dark.primaryDark,secondary:j.dark.secondaryDark,success:j.dark.successDark,warning:j.dark.warningDark,danger:j.dark.dangerDark,info:j.dark.infoDark},backgroundColorDisabled:j.dark.neutralDarker,focusOutline:{primary:j.dark.primaryLight,secondary:j.dark.secondaryLight,success:j.dark.successLight,warning:j.dark.warningLight,danger:j.dark.dangerLight,info:j.dark.infoLight},borderColorHover:{primary:j.dark.primaryLight,secondary:j.dark.secondaryLight,success:j.dark.successLight,warning:j.dark.warningLight,info:j.dark.infoLight,danger:j.dark.dangerLight}}},outline:{light:{textColor:j.light.neutralDarker,textColorPressed:{primary:j.light.white,secondary:j.light.neutralDarker,danger:j.light.neutralDarker,success:j.light.neutralDarker,info:j.light.neutralDarker,warning:j.light.neutralDarker},backgroundColor:j.light.white,backgroundColorHover:{primary:j.light.primaryLighter,secondary:j.light.secondaryLighter,danger:M,success:O,info:j.light.primaryLighter,warning:D},backgroundColorPressed:{primary:j.light.primaryDark,secondary:j.light.secondaryLighter,danger:M,success:O,info:j.light.primaryLighter,warning:D},textColorDisabled:j.light.neutral,borderColor:{primary:j.light.primary,secondary:j.light.secondary,danger:j.light.danger,success:j.light.success,warning:j.light.warning,info:j.light.info},borderColorDisabled:j.light.neutralLight,focusOutline:{primary:j.light.primaryLight,secondary:j.light.secondaryLight,danger:j.light.dangerLight,success:j.light.successLight,warning:j.light.warningLight,info:j.light.infoLight},backgroundColorDisabled:j.light.neutralLighter},dark:{textColor:j.dark.white,textColorPressed:{primary:j.dark.white,secondary:j.dark.white,danger:j.dark.white,success:j.dark.white,warning:j.dark.white,info:j.dark.white},backgroundColor:j.dark.black,backgroundColorHover:{primary:j.dark.primaryDarker,secondary:j.dark.secondaryDarker,danger:j.dark.danger,success:j.dark.successDark,warning:j.dark.warning,info:j.dark.info},backgroundColorPressed:{primary:j.dark.primaryDark,secondary:j.dark.secondaryDark,danger:j.dark.dangerDark,success:j.dark.successDark,warning:j.dark.warningDark,info:j.dark.infoDark},textColorDisabled:j.dark.neutral,borderColor:{primary:j.dark.primary,secondary:j.dark.secondary,danger:j.dark.danger,success:j.dark.successLight,warning:j.dark.warning,info:j.dark.info},borderColorDisabled:j.dark.neutralDarker,borderColorPressed:{primary:j.dark.primary,secondary:j.dark.secondary,danger:j.dark.danger,success:j.dark.success,warning:j.dark.warning,info:j.dark.info},focusOutline:{primary:j.dark.primaryLight,secondary:j.dark.secondaryLight,danger:j.dark.dangerLight,success:j.dark.successLight,warning:j.dark.warningLight,info:j.dark.infoLight}}},link:{light:{textColor:{primary:j.light.neutralDarker,secondary:j.light.primary},textColorHover:{primary:j.light.primary,secondary:j.light.primaryLight},textColorDisabled:{primary:j.light.neutral,secondary:j.light.neutral}},dark:{textColor:{primary:j.dark.white,secondary:j.dark.primaryLight},textColorHover:{primary:j.dark.primaryLight,secondary:j.dark.primaryLighter},textColorDisabled:{primary:j.dark.neutral,secondary:j.dark.neutral}}},plain:{light:{backgroundColor:j.light.white,backgroundColorDisabled:j.light.neutralLighter,backgroundColorHover:{primary:j.light.primaryLighter,secondary:j.light.secondaryLighter},backgroundColorPressed:{primary:j.dark.primaryLighter,secondary:j.dark.secondaryLighter},borderColor:{primary:j.light.neutralLight,secondary:j.light.neutralLight},borderColorDisabled:j.dark.neutralLight,borderColorHover:{primary:j.light.primaryLight,secondary:j.light.secondaryLight},borderColorPressed:{primary:j.dark.primaryLight,secondary:j.dark.secondaryLight},boxShadow:!0,focusOutline:{primary:j.light.primaryLight,secondary:j.light.secondaryLight},textColor:{primary:j.light.primary,secondary:j.light.secondary},textColorDisabled:j.light.neutral,textColorHover:{primary:j.light.primaryDark,secondary:j.light.secondaryDark},textColorPressed:{primary:j.dark.primaryDark,secondary:j.dark.secondaryDark}},dark:{backgroundColor:j.dark.black,backgroundColorDisabled:j.dark.neutralDarkestest,backgroundColorHover:{primary:j.dark.neutralDarkestest,secondary:j.dark.primaryDarker},backgroundColorPressed:{primary:j.dark.white,secondary:j.dark.primaryDarker},borderColor:{primary:j.dark.neutralDarker,secondary:j.dark.primaryLight},borderColorDisabled:j.dark.neutral,borderColorHover:{primary:j.dark.white,secondary:j.dark.primaryLight},borderColorPressed:{primary:j.dark.neutralLight,secondary:j.dark.primaryLight},boxShadow:!1,focusOutline:{primary:j.dark.neutralDark,secondary:j.dark.primary},textColor:{primary:j.dark.white,secondary:j.dark.primaryLight},textColorDisabled:j.dark.neutral,textColorHover:{primary:j.dark.white,secondary:j.dark.primaryLight},textColorPressed:{primary:j.dark.black,secondary:j.dark.primaryLight}}}},dialog:{light:{textColor:j.light.neutralDarker,backgroundColor:j.light.white,borderColor:j.light.neutralLight},dark:{textColor:j.light.white,backgroundColor:j.dark.black,borderColor:j.dark.neutralDarker}},panel:{desktopMaxWidth:"40rem",navWidth:"5rem",light:{textColor:j.light.black,backgroundColor:j.light.white,hoverBackgroundColor:a,activeBorderColor:j.light.primary,borderColor:j.light.neutralLight,notificationFontColor:j.light.white,notificationBackgroundColor:j.light.danger,iconColor:j.light.neutralDarker},dark:{textColor:j.dark.white,backgroundColor:j.dark.black,hoverBackgroundColor:f,activeBorderColor:j.dark.primary,borderColor:j.dark.neutralDarker,notificationFontColor:j.dark.white,notificationBackgroundColor:j.dark.danger,iconColor:j.dark.white}},whiteboard:{headerBorderRadius:"10px",light:{whiteboardBackgroundColor:j.light.neutralDarker,headerBackgroundColor:j.light.neutralLight,toolBarBackgroundColor:j.light.neutralLight,toolBarSeparatorColor:j.light.neutralDarker,settingsBackgroundColor:j.light.neutralDarkestest,settingsLabelsColor:j.light.white,settingsSectionsSeparatorColor:j.light.neutralDarker,colorPreviewBorderColor:j.light.neutral,colorSelectedBorderColor:j.light.neutralDark,colorButtonBorderColor:j.light.neutralDarker,actionsSeparatorColor:j.light.neutral},dark:{whiteboardBackgroundColor:j.dark.neutralDarker,headerBackgroundColor:j.dark.neutralDarkestest,toolBarBackgroundColor:j.dark.neutralDarkestest,toolBarSeparatorColor:j.light.neutral,settingsBackgroundColor:j.dark.neutralLighter,settingsLabelsColor:j.dark.neutralDarkest,settingsSectionsSeparatorColor:j.dark.neutral,colorPreviewBorderColor:j.dark.neutral,colorSelectedBorderColor:j.dark.neutralDark,colorButtonBorderColor:j.dark.neutral,actionsSeparatorColor:j.dark.neutralDark}},gallery:{light:{galleryElementBackgroundColor:j.light.neutralDarker,galleryElementBorderColor:j.light.neutral,galleryElementBorderColorFocus:j.light.primary},dark:{galleryElementBackgroundColor:j.dark.neutralDarker,galleryElementBorderColor:j.dark.neutral,galleryElementBorderColorFocus:j.dark.primary}},actionsBar:{light:{actionsBackgroundColor:j.light.neutralLight},dark:{actionsBackgroundColor:j.dark.neutralDarker}},carousel:{light:{headerBackgroundColor:j.light.neutralLight},dark:{headerBackgroundColor:j.dark.neutralDarker}},tabs:{light:{textColor:j.light.black,backgroundColor:j.light.neutralLighter,backgroundColorActive:j.light.primary,borderColor:j.light.neutralLight,tabColor:j.light.neutralDarker,selectedTabColor:j.light.white},dark:{textColor:j.dark.white,backgroundColor:j.dark.neutralDarkestest,backgroundColorActive:j.dark.primary,borderColor:j.dark.neutralDarkest,tabColor:j.dark.white,selectedTabColor:j.dark.white}},inputScale:{light:{textColor:j.light.black,backgroundColor:j.light.white,borderColor:j.light.neutralLight,separator:j.light.neutralDarker,selectedTextColor:j.light.white,selectedBackgroundColor:j.light.primary},dark:{textColor:j.dark.white,backgroundColor:j.dark.black,borderColor:j.dark.primary,separator:j.dark.neutralLighter,selectedTextColor:j.dark.white,selectedBackgroundColor:j.dark.primary}},card:{light:{backgroundColor:j.light.neutralLight},dark:{backgroundColor:j.dark.neutralDarkestest}},enhancedBlock:{light:{textColor:j.dark.neutralDarker,borderColor:{default:j.light.neutralLight,primary:j.light.primary},backgroundColor:j.light.neutralLighter,separator:j.light.neutralLight},dark:{textColor:j.dark.white,borderColor:{default:j.dark.neutralDarkest,primary:j.dark.primary},backgroundColor:j.dark.neutralDarkestest,separator:j.dark.neutralDarker}},navBack:{light:{backgroundColor:j.light.neutralLighter},dark:{backgroundColor:j.dark.neutralDarkestest}},linkCard:{activeIconPadding:"4px",activeIconPosition:"8px",light:{textColor:j.light.black,textColorDisabled:l,backgroundColor:j.light.white,backgroundColorHover:j.light.primaryLighter,backgroundColorActive:j.light.primaryLighter,backgroundColorDisabled:j.light.white,borderColor:j.light.neutralLight,borderColorActive:j.light.primaryLight,borderColorHover:j.light.primaryLight,borderColorFocus:j.light.primaryLight,borderColorDisabled:j.light.neutralLight,iconColor:j.light.primary,iconColorActive:j.light.primary,iconColorDisabled:l,iconCheckColor:j.light.primary,separator:j.light.neutral},dark:{textColor:j.dark.white,textColorDisabled:l,backgroundColor:j.dark.neutralDarkestest,backgroundColorHover:j.dark.black,backgroundColorActive:j.dark.primaryDarker,backgroundColorDisabled:j.dark.black,borderColor:j.dark.neutralDarkest,borderColorActive:j.dark.white,borderColorHover:j.dark.white,borderColorFocus:j.dark.neutralDark,borderColorDisabled:j.dark.neutralDarkest,iconColor:j.dark.white,iconColorActive:j.dark.white,iconColorDisabled:j.dark.neutralDarker,iconCheckColor:j.dark.primary,separator:j.dark.neutralDarkest}},progressStepBar:{dark:{backgroundColor:j.dark.black,borderColor:d,progressColor:j.dark.primary},light:{backgroundColor:j.light.white,borderColor:j.light.neutralDarker,progressColor:j.light.primary}},progressBar:{borderRadius:"15px",height:"10px",dark:{backgroundColor:j.dark.neutralDarker,progressColor:j.dark.primaryLight},light:{backgroundColor:j.dark.neutralLight,progressColor:j.light.primary}},fileList:{dark:{textColor:j.dark.white,backgroundColor:j.dark.black,borderColor:j.dark.neutralDark,ownerTextColor:j.dark.neutral},light:{textColor:j.light.neutralDarker,backgroundColor:j.light.white,borderColor:j.dark.neutral,ownerTextColor:j.dark.neutralDark}},statusChip:{borderRadius:"4px",borderWidth:"1px",gap:"6px",lineHeight:"14px",padding:"4px",dark:{backgroundColor:{default:j.dark.neutralDarkestest,success:j.dark.black,warning:j.dark.black},borderColor:{default:j.dark.neutralDarker,success:j.dark.secondaryLight,warning:j.dark.warning},textColor:{default:j.dark.white,success:j.dark.secondaryLight,warning:j.dark.warning}},light:{backgroundColor:{default:j.light.white,success:j.light.white,warning:j.light.white},borderColor:{default:j.light.neutralDarker,success:j.light.secondaryLight,warning:j.light.warning},textColor:{default:j.light.neutralDarker,success:j.light.successDark,warning:j.light.neutralDarker}}},chip:{borderRadius:"100px",borderWidth:"1px",gap:"6px",lineHeight:"16px",padding:"6px 8px",dark:{textColor:j.dark.white,backgroundColor:j.dark.neutralDarkestest,borderColor:j.dark.neutralDarker,hoverBackgroundColor:j.dark.neutralDarkest,hoverBorderColor:j.dark.neutralDark,focusBorderColor:j.dark.white,selectedBorderColor:j.dark.secondaryLighter,selectedColor:j.dark.white,selectedBackgroundColor:j.dark.secondary,dismissHoverBackground:"rgba(255, 255, 255, 0.125)",errorBorderColor:j.dark.dangerLight,errorTextColor:j.dark.white,disabledColor:j.dark.neutral,disabledBackgroundColor:j.dark.neutralDarkest,disabledBorderColor:j.dark.neutralDarker},light:{textColor:j.light.neutralDarker,backgroundColor:j.light.white,hoverBackgroundColor:j.dark.neutralLight,borderColor:j.light.neutralDarker,hoverBorderColor:j.light.neutralDarker,focusBorderColor:j.light.neutralDarker,selectedBorderColor:j.light.secondary,selectedColor:j.light.secondary,selectedBackgroundColor:j.light.secondaryLighter,dismissHoverBackground:"rgba(0, 0, 0, 0.125)",errorBorderColor:j.light.dangerDark,errorTextColor:j.light.dangerDark,disabledColor:j.light.neutral,disabledBackgroundColor:j.light.neutralLighter,disabledBorderColor:j.light.neutralLight}},survey:{light:{surveyBackgroundColor:j.light.white},dark:{surveyBackgroundColor:j.dark.black},question:{light:{questionBackgroundColor:j.light.neutralLighter},dark:{questionBackgroundColor:f}},answer:{light:{moodFaceColor:j.light.black,moodFacePressedColor:j.light.black,pressedBorder:j.light.neutral,pressedBackground:j.light.white,sad:{color:R,pressedBackgroundColor:M},neutral:{color:A,pressedBackgroundColor:D},happy:{color:y,pressedBackgroundColor:O}},dark:{moodFaceColor:j.dark.white,moodFacePressedColor:j.dark.black,pressedBorder:l,pressedBackground:j.dark.black,sad:{color:R,pressedBackgroundColor:M},neutral:{color:A,pressedBackgroundColor:D},happy:{color:y,pressedBackgroundColor:O}}}},textCoach:{header:{dark:{borderColor:j.dark.neutralDarker},light:{borderColor:j.dark.neutralLight}},finish:{dark:{color:j.dark.primaryLight,chipBackgroundColor:j.dark.black,sentenceBackgroundColor:f,chipBorderColor:u},light:{chipBackgroundColor:j.light.white,sentenceBackgroundColor:j.light.neutralLighter,chipBorderColor:u}}},chat:{composer:{light:{backgroundColor:j.light.neutralLighter,borderColor:j.light.neutralLight},dark:{backgroundColor:f,borderColor:j.dark.neutralDarker}},message:{light:{textColor:j.light.neutralDark,linkColor:j.light.infoDark,timeColor:j.light.neutralDark,left:{borderColor:j.light.neutralLight,backgroundColor:j.light.neutralLighter},right:{borderColor:j.light.primaryLight,backgroundColor:j.light.primaryLighter}},dark:{textColor:j.dark.white,linkColor:j.light.infoLight,timeColor:j.light.neutral,left:{borderColor:j.dark.neutralDarker,backgroundColor:j.dark.black},right:{borderColor:j.dark.primary,backgroundColor:j.dark.primaryDarker}}},newMessages:{light:{backgroundColor:f,textColor:j.light.white,borderColor:j.light.neutral},dark:{backgroundColor:j.dark.neutralLighter,textColor:j.light.neutralDarker,borderColor:j.light.neutralDarker}},loadingFiles:{borderRadius:"10px",light:{backgroundColor:j.light.neutralLighter,borderColor:j.light.neutralLight},dark:{backgroundColor:f,borderColor:j.dark.neutralDarker}},typing:{light:{dotColor:j.light.neutral},dark:{dotColor:j.dark.neutral}}},switch:{borderRadius:"13px",borderWidth:"1px",height:"22px",horizontalPadding:"2px",verticalPadding:"3px",width:"50px",light:{backgroundColor:j.light.neutral,switchColor:j.light.white,activeBackgroundColor:j.light.primary},dark:{backgroundColor:j.dark.neutral,switchColor:j.dark.white,activeBackgroundColor:j.dark.primary}},confStartDialog:{overlayMinHeight:"176px",light:{microFeedbackColor:j.light.successLight},dark:{microFeedbackColor:j.dark.successLight}},avatar:{light:{borderColor:j.light.neutralDark,avatarColor:j.dark.neutralDark},dark:{borderColor:j.dark.white,avatarColor:j.dark.white}},switcher:{light:{backgroundColor:j.light.white,backgroundColorHover:j.light.primaryLighter,borderColor:j.light.primary,borderColorDisabled:j.light.neutralLight,borderWidth:"2px",focusOutline:j.light.primaryLight,iconBackgroundColor:j.light.primary,iconBackgroundColorDisabled:j.light.neutral,iconLeft:3,iconTextColor:j.light.neutralDarker,iconTextColorDisabled:j.light.neutralDark,iconTranslateX:0,mainIcon:"funkySun",minorIcon:"clouds",textColor:j.light.neutralDark,textColorDisabled:j.light.neutral,textColorSelected:j.light.primary,themeInverse:"dark"},dark:{backgroundColor:j.dark.black,backgroundColorHover:j.dark.primaryDarker,borderColor:j.dark.primary,borderColorDisabled:j.dark.neutralDarker,borderWidth:"2px",focusOutline:j.dark.primaryLight,iconBackgroundColor:j.dark.primary,iconBackgroundColorDisabled:j.dark.neutralDarker,iconLeft:35,iconTextColor:j.dark.white,iconTextColorDisabled:j.dark.neutral,iconTranslateX:"-100%",mainIcon:"moonRounded",minorIcon:"stars",textColor:j.dark.neutral,textColorDisabled:j.dark.neutral,textColorSelected:j.dark.white,themeInverse:"light"}},list:{light:{backgroundColor:j.light.neutralLighter,borderColor:j.light.neutralLight,textColor:j.light.black,badgeBackgroundColor:j.light.primary},dark:{backgroundColor:j.dark.neutralDarkestest,borderColor:j.dark.neutralDarker,textColor:j.dark.white,badgeBackgroundColor:j.dark.primary}},tooltip:{light:{textColor:j.light.neutralDarkest,backgroundColor:j.light.neutralLighter,shadowColor:"rgba(0, 0, 0, 0.15)"},dark:{textColor:j.dark.white,backgroundColor:j.dark.neutralDarkestest,shadowColor:"rgba(0, 0, 0, 0.8)"}},itemInformation:{light:{textColor:j.light.neutralDarker,textColorDetails:j.light.neutralDarker},dark:{textColor:j.dark.white,textColorDetails:j.dark.neutral}},iconTooltip:{light:{color:j.light.neutralDarker,hoverColor:j.light.primary},dark:{color:j.dark.white,hoverColor:j.dark.primaryLight}},grid:{drawer:{height:{mobile:"60px",tablet:"82px",desktop:"128px"},padding:"8px",toggleHeight:"40px",toggleWidth:"auto",toggleRadius:"0 15px 0 0",light:{backgroundColor:j.light.transparentWhite,toggleColor:j.light.primary},dark:{backgroundColor:j.dark.transparentBlack,toggleColor:j.dark.white}},mosaic:{cellPadding:"5px",light:{resizingLabelBgColor:j.light.white,resizingLabelColor:j.light.primary},dark:{resizingLabelBgColor:j.dark.transparentBlack,resizingLabelColor:j.dark.white}},tiny:{borderRadius:"5px",height:{mobile:"80px",tablet:"106px",desktop:"170px"},padding:"8px",light:{backgroundColor:j.light.white},dark:{backgroundColor:j.dark.black}}},gridSwitch:{borderRadius:"16px",borderWidth:"1px",height:"32px",iconPadding:"7px",iconSpace:"4px",iconSize:"16px",light:{backgroundColor:j.light.white,backgroundColorSelected:j.light.primary,borderColor:j.light.neutralLighter,textColor:j.light.primary,textColorSelected:j.light.white},dark:{backgroundColor:j.dark.black,backgroundColorSelected:j.dark.primary,borderColor:j.dark.neutralDarkestest,textColor:j.dark.white,textColorSelected:j.dark.white}},createPasswordDialog:{light:{textSuccess:j.light.successDark},dark:{textSuccess:j.dark.successLight}},stream:{maxHeight:"263px"},streamOverlay:{nameBorderRadius:"5px",light:{nameBackgroundColor:j.light.white,textColor:j.light.neutralDark,thumbnailBackgroundColor:j.light.neutralLighter},dark:{nameBackgroundColor:j.dark.black,textColor:j.dark.white,thumbnailBackgroundColor:j.dark.neutralDarkestest}},timeline:{light:{iconBackground:{primary:j.light.primary,secondary:j.light.secondary,tertiary:j.light.neutralBlue,warning:j.light.warning,danger:j.light.danger,neutral:j.light.neutral},contentBorderColor:j.light.neutralLight,contentBackgroundColor:j.light.neutralLighter,textColor:j.light.neutralDarker,hourColor:j.light.neutralBlue},dark:{iconBackground:{primary:j.dark.primary,secondary:j.dark.secondary,tertiary:j.dark.neutralBlue,warning:j.dark.warning,danger:j.dark.danger,neutral:j.dark.neutral},contentBorderColor:j.dark.neutralDarkest,contentBackgroundColor:j.dark.neutralDarkestest,textColor:j.dark.white,hourColor:j.dark.primaryLighter}},badge:{borderRadius:{circle:"50%",square:"3px"},borderWidth:"1px",padding:{small:"2px",medium:"3px",large:"5px"},sizes:{small:"12",medium:"16",large:"24"},light:{backgroundColor:{primary:j.light.primary,secondary:j.light.secondary,tertiary:j.light.neutralLighter},borderColor:{primary:j.light.white,secondary:j.light.white,tertiary:j.light.neutral},iconColor:{primary:j.light.white,secondary:j.light.white,tertiary:j.light.neutralDarker}},dark:{backgroundColor:{primary:j.dark.primary,secondary:j.dark.secondary,tertiary:j.dark.neutralDarkestest},borderColor:{primary:j.dark.white,secondary:j.dark.white,tertiary:j.dark.neutralDarker},iconColor:{primary:j.dark.white,secondary:j.dark.white,tertiary:j.dark.white}}},stepbar:{light:{stepIconDefaultBackgroundColor:j.light.neutral,stepIconActiveBackgroundColor:j.light.primary,defaultTextColor:j.light.neutral,activeTextColor:j.light.neutralDarkest,lineColor:j.light.neutral},dark:{stepIconDefaultBackgroundColor:j.dark.neutral,stepIconActiveBackgroundColor:j.dark.primary,defaultTextColor:j.dark.neutral,activeTextColor:j.dark.white,lineColor:j.dark.neutral}},fontColors:{dark:{text:j.dark.text},light:{text:j.dark.text}},fontFamily:{sans:'Roboto, "San Francisco", -apple-system, Arial, sans-serif',serif:'Georgia, Cambria, "Times New Roman", Times, serif',mono:'Menlo, Monaco, Consolas, "Liberation Mono", "Courier New" , monospace'},fontSize:{xs:"1.2000000000000002rem",sm:"1.4000000000000001rem",base:"1.6rem",lg:"1.8rem",xl:"2rem","2xl":"2.4000000000000004rem","3xl":"3rem","4xl":"3.6rem","5xl":"4.800000000000001rem","6xl":"6.4rem"},spacing:{px:"1px",0:"0",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem",40:"10rem",48:"12rem",56:"14rem",64:"16rem"},breakpoints:{mobileS:"320px",mobileM:"375px",mobileL:"425px",tablet:"768px",laptop:"1024px",laptopL:"1440px",desktop:"2560px"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"min";return"(".concat(n,"-width: ").concat(e.breakpoints[t],")")},i=function(e,t){return r(e,t,"max")},a=function(){var e=window.navigator.userAgent,t=e.indexOf("OS ");return(e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&t>-1&&window.Number(e.substr(t+3,3).replace("_","."))}},function(e,t,n){"use strict";e.exports=n(235)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(99);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=t.slice(i.length);return{value:o,rest:s}}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";var r=n(0),i=r.createContext();t.a=i},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(143))},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";var r=n(11),i=n(56);function a(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function o(e){return[r.m,r.k,r.c,r.f].some((function(t){return e[t]>=0}))}t.a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,l=t.modifiersData.preventOverflow,c=Object(i.a)(t,{elementContext:"reference"}),u=Object(i.a)(t,{altBoundary:!0}),d=a(c,r),f=a(u,s,l),h=o(d),p=o(f);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(114);function i(e){return Object.assign({},Object(r.a)(),e)}},function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Object(r.c)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(36),i=n(58),a=n(85),o=n(11);function s(e){var t,n=e.reference,s=e.element,l=e.placement,c=l?Object(r.a)(l):null,u=l?Object(i.a)(l):null,d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2;switch(c){case o.m:t={x:d,y:n.y-s.height};break;case o.c:t={x:d,y:n.y+n.height};break;case o.k:t={x:n.x+n.width,y:f};break;case o.f:t={x:n.x-s.width,y:f};break;default:t={x:n.x,y:n.y}}var h=c?Object(a.a)(c):null;if(null!=h){var p="y"===h?"height":"width";switch(u){case o.l:t[h]=t[h]-(n[p]/2-s[p]/2);break;case o.e:t[h]=t[h]+(n[p]/2-s[p]/2)}}return t}},function(e,t,n){"use strict";var r=n(117);t.a={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Object(r.a)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},function(e,t,n){"use strict";var r=n(11),i=n(62),a=n(34),o=n(44),s=n(46),l=n(36),c=n(58),u=n(30),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f(e){var t,n=e.popper,l=e.popperRect,c=e.placement,f=e.variation,h=e.offsets,p=e.position,m=e.gpuAcceleration,v=e.adaptive,g=e.roundOffsets,b=!0===g?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Object(u.c)(Object(u.c)(t*r)/r)||0,y:Object(u.c)(Object(u.c)(n*r)/r)||0}}(h):"function"===typeof g?g(h):h,C=b.x,y=void 0===C?0:C,S=b.y,w=void 0===S?0:S,T=h.hasOwnProperty("x"),I=h.hasOwnProperty("y"),O=r.f,E=r.m,R=window;if(v){var k=Object(i.a)(n),M="clientHeight",_="clientWidth";k===Object(a.a)(n)&&(k=Object(o.a)(n),"static"!==Object(s.a)(k).position&&"absolute"===p&&(M="scrollHeight",_="scrollWidth")),k=k,c!==r.m&&(c!==r.f&&c!==r.k||f!==r.e)||(E=r.c,w-=k[M]-l.height,w*=m?1:-1),c!==r.f&&(c!==r.m&&c!==r.c||f!==r.e)||(O=r.k,y-=k[_]-l.width,y*=m?1:-1)}var A,x=Object.assign({position:p},v&&d);return m?Object.assign({},x,((A={})[E]=I?"0":"",A[O]=T?"0":"",A.transform=(R.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",A)):Object.assign({},x,((t={})[E]=I?w+"px":"",t[O]=T?y+"px":"",t.transform="",t))}t.a={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,d={placement:Object(l.a)(t.placement),variation:Object(c.a)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,f(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,f(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},function(e,t,n){"use strict";var r=n(34),i={passive:!0};t.a={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,o=a.scroll,s=void 0===o||o,l=a.resize,c=void 0===l||l,u=Object(r.a)(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",n.update,i)})),c&&u.addEventListener("resize",n.update,i),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",n.update,i)})),c&&u.removeEventListener("resize",n.update,i)}},data:{}}},function(e,t,n){"use strict";var r=n(36),i=n(11);t.a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,o=n.offset,s=void 0===o?[0,0]:o,l=i.h.reduce((function(e,n){return e[n]=function(e,t,n){var a=Object(r.a)(e),o=[i.f,i.m].indexOf(a)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,l=s[0],c=s[1];return l=l||0,c=(c||0)*o,[i.f,i.k].indexOf(a)>=0?{x:c,y:l}:{x:l,y:c}}(n,t.rects,s),e}),{}),c=l[t.placement],u=c.x,d=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[a]=l}}},function(e,t,n){"use strict";var r=n(36),i=n(84),a=n(116),o=n(62),s=n(85),l=n(92),c=n(113),u=n(115),d=n(11);t.a={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,f=e.options,h=n.elements.arrow,p=n.modifiersData.popperOffsets,m=Object(r.a)(n.placement),v=Object(s.a)(m),g=[d.f,d.k].indexOf(m)>=0?"height":"width";if(h&&p){var b=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Object(c.a)("number"!==typeof e?e:Object(u.a)(e,d.b))}(f.padding,n),C=Object(i.a)(h),y="y"===v?d.m:d.f,S="y"===v?d.c:d.k,w=n.rects.reference[g]+n.rects.reference[v]-p[v]-n.rects.popper[g],T=p[v]-n.rects.reference[v],I=Object(o.a)(h),O=I?"y"===v?I.clientHeight||0:I.clientWidth||0:0,E=w/2-T/2,R=b[y],k=O-C[g]-b[S],M=O/2-C[g]/2+E,_=Object(l.a)(R,M,k),A=v;n.modifiersData[a]=((t={})[A]=_,t.centerOffset=_-M,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Object(a.a)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(3),c=n(5),u=s.d.svg(r||(r=Object(i.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),d=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,d=e.height,f=void 0===d?"20":d,h=e.title,p=e.viewBox,m=void 0===p?"0 0 32 32":p,v=e.width,g=void 0===v?"20":v,b=function(e,t){return e.startsWith("url(#")?e:Object(c.a)(e,t)};return o.a.createElement(l.b.Consumer,null,(function(e){return o.a.createElement(s.a,{theme:e.theme},o.a.createElement(u,{"aria-hidden":t,className:r,width:"".concat(g,"px"),height:"".concat(f,"px"),viewBox:m,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,h||"ChevronLeft"),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m20.813 28-12-12 12-12 2.375 2.375L13.624 16l9.563 9.625L20.813 28Z",fill:b(a,e.theme)}),n))}))}},function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function i(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var a={p:i,P:function(e,t){var n,a=e.match(/(P+)(p+)?/),o=a[1],s=a[2];if(!s)return r(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(o,t)).replace("{{time}}",i(s,t))}};t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),i=n(64),a=n(18);function o(e){Object(a.a)(1,arguments);var t=Object(r.a)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var s=Object(i.a)(o),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=Object(i.a)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(3),c=n(5),u=s.d.svg(r||(r=Object(i.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),d=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,d=e.height,f=void 0===d?"20":d,h=e.title,p=e.viewBox,m=void 0===p?"0 0 32 32":p,v=e.width,g=void 0===v?"20":v,b=function(e,t){return e.startsWith("url(#")?e:Object(c.a)(e,t)};return o.a.createElement(l.b.Consumer,null,(function(e){return o.a.createElement(s.a,{theme:e.theme},o.a.createElement(u,{"aria-hidden":t,className:r,width:"".concat(g,"px"),height:"".concat(f,"px"),viewBox:m,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,h||"Check"),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 26.75c-.5 0-1-.188-1.375-.5l-7.813-7.875C1.563 18 1.313 17.5 1.313 17c0-.438.25-1 .625-1.375a1.939 1.939 0 0 1 1.375-.563c.5 0 1 .188 1.376.563l6.437 6.438 16.25-16.188c.375-.375.875-.625 1.375-.625s1 .25 1.375.625.625.875.625 1.375-.25 1-.625 1.375L12.562 26.188c-.374.375-.937.562-1.437.562Z",fill:b(a,e.theme)}),n))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(3),c=n(5),u=s.d.svg(r||(r=Object(i.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),d=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,d=e.height,f=void 0===d?"20":d,h=e.title,p=e.viewBox,m=void 0===p?"0 0 32 32":p,v=e.width,g=void 0===v?"20":v,b=function(e,t){return e.startsWith("url(#")?e:Object(c.a)(e,t)};return o.a.createElement(l.b.Consumer,null,(function(e){return o.a.createElement(s.a,{theme:e.theme},o.a.createElement(u,{"aria-hidden":t,className:r,width:"".concat(g,"px"),height:"".concat(f,"px"),viewBox:m,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,h||"DocumentNewFull"),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.563C6 4.16 7.111 3 8.515 3h10L26 10.812v15.625C26 27.9 24.889 29 23.485 29H8.515C7.11 29 6 27.901 6 26.437V5.563Zm11.228-.61v7.202h6.9l-6.9-7.202Z",fill:b(a,e.theme)}),n))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(3),c=n(5),u=s.d.svg(r||(r=Object(i.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),d=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,d=e.height,f=void 0===d?"20":d,h=e.title,p=e.viewBox,m=void 0===p?"0 0 32 32":p,v=e.width,g=void 0===v?"20":v,b=function(e,t){return e.startsWith("url(#")?e:Object(c.a)(e,t)};return o.a.createElement(l.b.Consumer,null,(function(e){return o.a.createElement(s.a,{theme:e.theme},o.a.createElement(u,{"aria-hidden":t,className:r,width:"".concat(g,"px"),height:"".concat(f,"px"),viewBox:m,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,h||"Whiteboard"),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.542 7.758a1 1 0 0 0-1.306-1.516C5.592 8.52 3.381 12.78 2.138 16.372c-.625 1.809-1.037 3.54-1.122 4.859-.041.644-.012 1.296.184 1.83.102.276.268.575.547.81.296.247.655.37 1.031.37.432 0 .796-.181 1.059-.358.272-.183.526-.423.758-.678.465-.511.95-1.2 1.432-1.955.692-1.084 1.44-2.405 2.172-3.695.285-.503.567-1 .842-1.478.99-1.718 1.858-3.11 2.512-3.788l.02.1c.239 1.25.133 2.743-.178 4.354-.308 1.603-.803 3.247-1.29 4.785l-.228.718c-.397 1.246-.774 2.425-.977 3.367-.12.556-.202 1.124-.158 1.62.043.494.241 1.168.928 1.506.773.38 1.575.306 2.264.027.671-.273 1.282-.754 1.799-1.296 1.031-1.08 1.886-2.606 2.236-3.983a1 1 0 1 0-1.938-.493c-.261 1.029-.94 2.252-1.745 3.095-.4.42-.784.693-1.104.824a.927.927 0 0 1-.452.083c-.006-.197.028-.508.125-.961.181-.839.52-1.903.919-3.153v-.002l.239-.748c.488-1.545 1.014-3.285 1.346-5.01.331-1.718.486-3.497.18-5.107-.079-.409-.193-.794-.371-1.116-.18-.325-.477-.669-.942-.817-.467-.148-.898-.034-1.209.118-.305.15-.576.375-.808.603-.892.882-1.92 2.573-2.9 4.275-.294.51-.588 1.027-.88 1.541-.72 1.271-1.426 2.517-2.088 3.554-.464.727-.877 1.302-1.225 1.686-.038.041-.074.079-.108.113a4.687 4.687 0 0 1 .004-.613c.068-1.068.42-2.608 1.017-4.333C5.23 13.55 7.297 9.69 9.542 7.758Zm1.204 19.384v-.003.003Zm-8.084-4.884.003-.001-.003.001ZM26.72 7.83c.306-.305.848-.305 1.187 0l2 2c.306.34.306.883 0 1.188l-1.695 1.695-3.187-3.187L26.72 7.83Zm-2.509 2.543 3.154 3.154-8.477 8.51H15.7V18.85l8.51-8.477Z",fill:b(a,e.theme)}),n))}))}},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(e,t,n){var i,a=r[e];return i="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},a=n(75),o={date:Object(a.a)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Object(a.a)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Object(a.a)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l=function(e,t,n,r){return s[e]},c=n(54),u={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Object(c.a)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Object(c.a)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Object(c.a)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Object(c.a)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Object(c.a)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},d=n(55),f=n(105),h={code:"en-US",formatDistance:i,formatLong:o,formatRelative:l,localize:u,match:{ordinalNumber:Object(f.a)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Object(d.a)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Object(d.a)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Object(d.a)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Object(d.a)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Object(d.a)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=h},function(e,t,n){"use strict";var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var a=n(36),o={start:"end",end:"start"};function s(e){return e.replace(/start|end/g,(function(e){return o[e]}))}var l=n(56),c=n(58),u=n(11);t.a={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,d=void 0===o||o,f=n.altAxis,h=void 0===f||f,p=n.fallbackPlacements,m=n.padding,v=n.boundary,g=n.rootBoundary,b=n.altBoundary,C=n.flipVariations,y=void 0===C||C,S=n.allowedAutoPlacements,w=t.options.placement,T=Object(a.a)(w),I=p||(T===w||!y?[i(w)]:function(e){if(Object(a.a)(e)===u.a)return[];var t=i(e);return[s(e),t,s(t)]}(w)),O=[w].concat(I).reduce((function(e,n){return e.concat(Object(a.a)(n)===u.a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,d=n.flipVariations,f=n.allowedAutoPlacements,h=void 0===f?u.h:f,p=Object(c.a)(r),m=p?d?u.n:u.n.filter((function(e){return Object(c.a)(e)===p})):u.b,v=m.filter((function(e){return h.indexOf(e)>=0}));0===v.length&&(v=m);var g=v.reduce((function(t,n){return t[n]=Object(l.a)(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Object(a.a)(n)],t}),{});return Object.keys(g).sort((function(e,t){return g[e]-g[t]}))}(t,{placement:n,boundary:v,rootBoundary:g,padding:m,flipVariations:y,allowedAutoPlacements:S}):n)}),[]),E=t.rects.reference,R=t.rects.popper,k=new Map,M=!0,_=O[0],A=0;A<O.length;A++){var x=O[A],D=Object(a.a)(x),j=Object(c.a)(x)===u.l,P=[u.m,u.c].indexOf(D)>=0,N=P?"width":"height",L=Object(l.a)(t,{placement:x,boundary:v,rootBoundary:g,altBoundary:b,padding:m}),U=P?j?u.k:u.f:j?u.c:u.m;E[N]>R[N]&&(U=i(U));var F=i(U),W=[];if(d&&W.push(L[D]<=0),h&&W.push(L[U]<=0,L[F]<=0),W.every((function(e){return e}))){_=x,M=!1;break}k.set(x,W)}if(M)for(var V=function(e){var t=O.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},B=y?3:1;B>0;B--){if("break"===V(B))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r,i,a,o,s,l,c=n(2),u=n(21),d=n(0),f=n.n(d),h=n(1),p=n(88),m=function(e){return Object(h.c)(r||(r=Object(c.a)(["\n\tcursor: not-allowed !important;\n\tcolor: ",";\n\tbackground-color: ",";\n"])),e.field[e.themeVariant].textColorDisabled,e.field[e.themeVariant].backgroundColorDisabled)},v=function(e){return Object(h.c)(i||(i=Object(c.a)(["\n\tcolor: ",";\n\tcursor: not-allowed !important;\n\tpointer-events: none;\n"])),e.field[e.themeVariant].textColorDisabled)},g=n(3);function b(e,t){return t?"20":"sharp"===e?"4":"8"}var C=function(e,t,n){var r="calc((2 * ".concat(e.spacing[32],")");return t&&(r+=" + ".concat(e.spacing[16])),n&&(r+=" + ".concat(e.spacing[20])),r+=")"},y=h.d.div(a||(a=Object(c.a)(["\n\theight: 100%;\n\tmin-width: ",";\n\n\tcolor: ",";\n\tfont-family: ",";\n\tfont-size: ",";\n\n\tbackground-color: ",";\n\twidth: ",";\n\n\tborder-radius: ",";\n\tborder: ",";\n\tbox-sizing: border-box;\n\tpadding: ",";\n\tpadding-top: ",";\n\tpadding-left: ",";\n\tpadding-right: ",";\n\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\n\ttransition: background-color 200ms ease, border-color 200ms ease;\n\n\t&::placeholder {\n\t\tcolor: ",";\n\t}\n\n\t&:hover:not(:focus) {\n\t\tbackground-color: ",";\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t\t","\n\t\t","\n\t}\n\n\t&:disabled {\n\t\t","\n\t}\n\n\t",";\n\n\t","\n"])),(function(e){var t=e.theme,n=e.$withAddonEnd,r=e.$withAddonStart;return C(t,n,r)}),(function(e){var t=e.theme;return t.field[t.themeVariant].textColor}),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.theme.fontSize.base}),(function(e){var t=e.theme;return t.field[t.themeVariant].backgroundColor}),(function(e){return"fluid"===e.layout?"100%":"auto"}),(function(e){var t=e.theme,n=e.variant;return t.field.borderRadius[n]}),(function(e){var t=e.theme,n=t.field,r=t.themeVariant;return"".concat(n.borderWidth," solid ").concat(n[r].borderColor)}),(function(e){var t=e.theme,n=e.variant;return"".concat(t.spacing[4]," ").concat(t.spacing["sharp"===n?"4":"8"])}),(function(e){var t=e.theme,n=e.$hasLabel;return t.spacing[n?"8":"4"]}),(function(e){var t=e.theme,n=e.variant,r=e.$withAddonStart;return t.spacing[b(n,r)]}),(function(e){var t=e.theme,n=e.variant,r=e.$withAddonEnd;return t.spacing[b(n,r)]}),(function(e){var t=e.$hasLabel,n=e.theme;return t?"transparent":n.field[n.themeVariant].placeholderColor}),(function(e){var t=e.theme;return t.field[t.themeVariant].backgroundColorHover}),(function(e){var t=e.theme,n=e.variant;return"border-".concat("sharp"===n?"bottom-":"","width: ").concat(t.field.borderWidthFocus,";")}),(function(e){var t=e.theme,n=e.variant;return"border-".concat("sharp"===n?"bottom-":"","color: ").concat(t.field[t.themeVariant].borderColorFocus,";")}),(function(e){var t=e.theme;return m(t)}),(function(e){var t=e.disabled,n=e.theme;return t&&m(n)}),(function(e){var t=e.$isValid,n=e.theme,r=e.variant;return!t&&Object(h.c)(o||(o=Object(c.a)(["\n\t\t\t&,\n\t\t\t&:focus {\n\t\t\t\t","\n\t\t\t}\n\t\t"])),"border-".concat("sharp"===r?"bottom-":"","color: ").concat(n.field[n.themeVariant].borderColorInvalid,";"))})),S=h.d.div(s||(s=Object(c.a)(["\n\theight: ",";\n\tmax-width: 100%;\n\tmin-width: ",";\n\twidth: ",";\n\tdisplay: inline-block;\n\n\tposition: relative;\n\n\twhite-space: nowrap;\n"])),(function(e){var t=e.$hasLabel;return e.theme.field["height".concat(t?"WithLabel":"")]}),(function(e){var t=e.theme,n=e.$withAddonEnd,r=e.$withAddonStart;return C(t,n,r)}),(function(e){return"fluid"===e.layout?"100%":"auto"})),w=h.d.label(l||(l=Object(c.a)(["\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tleft: ",";\n\tright: ",";\n\n\tline-height: 15px;\n\tfont-family: ",";\n\tfont-size: ",";\n\tcolor: ",";\n\n\tcursor: text;\n\tuser-select: none;\n\tpointer-events: none;\n\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\n\ttransition: all 150ms ease-in;\n\n\t",":focus + &&,\n\t",":not(:placeholder-shown) + && {\n\t\ttop: ",";\n\t\ttransform: translateY(-75%);\n\t\tfont-size: ",";\n\t\tcolor: ",";\n\n\t\t","\n\t}\n\n\t",":disabled + && {\n\t\t","\n\t}\n\n\t","\n"])),(function(e){var t=e.theme,n=e.variant,r=e.$withAddonStart;return t.spacing[b(n,r)]}),(function(e){var t=e.theme,n=e.variant,r=e.$withAddonEnd;return t.spacing[b(n,r)]}),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.theme.fontSize.base}),(function(e){var t=e.$isValid,n=e.theme;return n.field[n.themeVariant][t?"placeholderColor":"titleColorInvalid"]}),y,y,(function(e){return e.theme.spacing[8]}),(function(e){return e.theme.fontSize.xs}),(function(e){var t=e.$isValid,n=e.theme;return n.field[n.themeVariant]["titleColor".concat(t?"":"Invalid")]}),(function(e){var t=e.disabled,n=e.theme;return t&&v(n)}),y,(function(e){var t=e.theme;return v(t)}),(function(e){var t=e.disabled,n=e.theme;return t&&v(n)}));function T(e,t){var n=e.forwardAs,r=e.className,i=e.disabled,a=e.id,o=e.isValid,s=void 0===o||o,l=e.label,c=e.layout,h=e.placeholder,m=e.variant,v=void 0===m?"rounded":m,b=e.withAddonStart,C=e.withAddonEnd,T=Object(u.b)(e,["forwardAs","className","disabled","id","isValid","label","layout","placeholder","variant","withAddonStart","withAddonEnd"]),I=a||p.a.uniqueId("field-"),O=Object.assign(Object.assign({},T),{disabled:i,id:I,placeholder:h||l});return f.a.createElement(g.a,null,f.a.createElement(S,{className:r,$hasLabel:Boolean(l),layout:c,$withAddonEnd:Boolean(C),$withAddonStart:Boolean(b)},b&&Object(d.cloneElement)(d.Children.only(b),{disabled:i,variant:v}),f.a.createElement(y,Object.assign({as:n,$hasLabel:Boolean(l),$isValid:s,layout:c,ref:t,variant:v,$withAddonEnd:Boolean(C),$withAddonStart:Boolean(b)},O)),l&&f.a.createElement(w,{disabled:i,htmlFor:I,$isValid:s,variant:v,$withAddonEnd:Boolean(C),$withAddonStart:Boolean(b)},l),C&&Object(d.cloneElement)(d.Children.only(C),{disabled:i,variant:v,isEnd:!0})))}T.displayName="Field";var I=Object(d.forwardRef)(T)},function(e,t,n){"use strict";var r=n(0),i=!0,a=!1,o=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function u(){"hidden"===this.visibilityState&&a&&(i=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}t.a=function(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(o),o=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24),i=n(23),a=n(18);function o(e,t){Object(a.a)(2,arguments);var n=Object(i.a)(e).getTime(),o=Object(r.a)(t);return new Date(n+o)}function s(e,t){Object(a.a)(2,arguments);var n=Object(r.a)(t);return o(e,-n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(23),i=n(60),a=n(24),o=n(86),s=n(18);function l(e,t){Object(s.a)(1,arguments);var n=t||{},r=n.locale,l=r&&r.options&&r.options.firstWeekContainsDate,c=null==l?1:Object(a.a)(l),u=null==n.firstWeekContainsDate?c:Object(a.a)(n.firstWeekContainsDate),d=Object(o.a)(e,t),f=new Date(0);f.setUTCFullYear(d,0,u),f.setUTCHours(0,0,0,0);var h=Object(i.a)(f,t);return h}var c=6048e5;function u(e,t){Object(s.a)(1,arguments);var n=Object(r.a)(e),a=Object(i.a)(n,t).getTime()-l(n,t).getTime();return Math.round(a/c)+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(23),i=n(64),a=n(126),o=n(18);function s(e){Object(o.a)(1,arguments);var t=Object(a.a)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Object(i.a)(n);return r}var l=6048e5;function c(e){Object(o.a)(1,arguments);var t=Object(r.a)(e),n=Object(i.a)(t).getTime()-s(t).getTime();return Math.round(n/l)+1}},function(e,t,n){"use strict";var r=n(11),i=n(36),a=n(85);var o=n(92),s=n(84),l=n(62),c=n(56),u=n(58),d=n(114),f=n(30);t.a={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,h=e.name,p=n.mainAxis,m=void 0===p||p,v=n.altAxis,g=void 0!==v&&v,b=n.boundary,C=n.rootBoundary,y=n.altBoundary,S=n.padding,w=n.tether,T=void 0===w||w,I=n.tetherOffset,O=void 0===I?0:I,E=Object(c.a)(t,{boundary:b,rootBoundary:C,padding:S,altBoundary:y}),R=Object(i.a)(t.placement),k=Object(u.a)(t.placement),M=!k,_=Object(a.a)(R),A="x"===_?"y":"x",x=t.modifiersData.popperOffsets,D=t.rects.reference,j=t.rects.popper,P="function"===typeof O?O(Object.assign({},t.rects,{placement:t.placement})):O,N={x:0,y:0};if(x){if(m||g){var L="y"===_?r.m:r.f,U="y"===_?r.c:r.k,F="y"===_?"height":"width",W=x[_],V=x[_]+E[L],B=x[_]-E[U],z=T?-j[F]/2:0,H=k===r.l?D[F]:j[F],q=k===r.l?-j[F]:-D[F],G=t.elements.arrow,J=T&&G?Object(s.a)(G):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Object(d.a)(),Z=Y[L],K=Y[U],$=Object(o.a)(0,D[F],J[F]),Q=M?D[F]/2-z-$-Z-P:H-$-Z-P,X=M?-D[F]/2+z+$+K+P:q+$+K+P,ee=t.elements.arrow&&Object(l.a)(t.elements.arrow),te=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,ne=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,re=x[_]+Q-ne-te,ie=x[_]+X-ne;if(m){var ae=Object(o.a)(T?Object(f.b)(V,re):V,W,T?Object(f.a)(B,ie):B);x[_]=ae,N[_]=ae-W}if(g){var oe="x"===_?r.m:r.f,se="x"===_?r.c:r.k,le=x[A],ce=le+E[oe],ue=le-E[se],de=Object(o.a)(T?Object(f.b)(ce,re):ce,le,T?Object(f.a)(ue,ie):ue);x[A]=de,N[A]=de-le}}t.modifiersData[h]=N}},requiresIfExists:["offset"]}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";(function(t){var r=n(51),i=n(221),a=n(163),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(164)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(o)})),e.exports=l}).call(this,n(162))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(67),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(57),i=n(82),a=n(34),o=n(25);var s=n(39),l=n(83),c=n(44),u=n(81);function d(e,t,n){void 0===n&&(n=!1);var d=Object(o.b)(t),f=Object(o.b)(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),h=Object(c.a)(t),p=Object(r.a)(e,f),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(d||!d&&!n)&&(("body"!==Object(s.a)(t)||Object(u.a)(h))&&(m=function(e){return e!==Object(a.a)(e)&&Object(o.b)(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Object(i.a)(e);var t}(t)),Object(o.b)(t)?((v=Object(r.a)(t,!0)).x+=t.clientLeft,v.y+=t.clientTop):h&&(v.x=Object(l.a)(h))),{x:p.left+m.scrollLeft-v.x,y:p.top+m.scrollTop-v.y,width:p.width,height:p.height}}var f=n(84),h=n(94),p=n(62),m=n(11);function v(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function g(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var b={placement:"bottom",modifiers:[],strategy:"absolute"};function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function y(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?b:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},b,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],l=!1,c={state:i,setOptions:function(n){var l="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},a,i.options,l),i.scrollParents={reference:Object(o.a)(e)?Object(h.a)(e):e.contextElement?Object(h.a)(e.contextElement):[],popper:Object(h.a)(t)};var d=function(e){var t=v(e);return m.g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=d.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var o=a({state:i,name:t,instance:c,options:r}),l=function(){};s.push(o||l)}})),c.update()},forceUpdate:function(){if(!l){var e=i.elements,t=e.reference,n=e.popper;if(C(t,n)){i.rects={reference:d(t,Object(p.a)(n),"fixed"===i.options.strategy),popper:Object(f.a)(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,s=a.options,u=void 0===s?{}:s,h=a.name;"function"===typeof o&&(i=o({state:i,options:u,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:g((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){u(),l=!0}};if(!C(e,t))return c;function u(){s.forEach((function(e){return e()})),s=[]}return c.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}},function(e,t,n){"use strict";var r=n(107),i="-ms-",a="-moz-",o="-webkit-",s="comm",l="rule",c="decl",u=Math.abs,d=String.fromCharCode;function f(e){return e.trim()}function h(e,t,n){return e.replace(t,n)}function p(e,t){return e.indexOf(t)}function m(e,t){return 0|e.charCodeAt(t)}function v(e,t,n){return e.slice(t,n)}function g(e){return e.length}function b(e){return e.length}function C(e,t){return t.push(e),e}function y(e,t){return e.map(t).join("")}var S=1,w=1,T=0,I=0,O=0,E="";function R(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:S,column:w,length:o,return:""}}function k(e,t,n){return R(e,t.root,t.parent,n,t.props,t.children,0)}function M(){return O=I>0?m(E,--I):0,w--,10===O&&(w=1,S--),O}function _(){return O=I<T?m(E,I++):0,w++,10===O&&(w=1,S++),O}function A(){return m(E,I)}function x(){return I}function D(e,t){return v(E,e,t)}function j(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return S=w=1,T=g(E=e),I=0,[]}function N(e){return E="",e}function L(e){return f(D(I-1,W(91===e?e+2:40===e?e+1:e)))}function U(e){for(;(O=A())&&O<33;)_();return j(e)>2||j(O)>3?"":" "}function F(e,t){for(;--t&&_()&&!(O<48||O>102||O>57&&O<65||O>70&&O<97););return D(e,x()+(t<6&&32==A()&&32==_()))}function W(e){for(;_();)switch(O){case e:return I;case 34:case 39:return W(34===e||39===e?e:O);case 40:41===e&&W(e);break;case 92:_()}return I}function V(e,t){for(;_()&&e+O!==57&&(e+O!==84||47!==A()););return"/*"+D(t,I-1)+"*"+d(47===e?e:_())}function B(e){for(;!j(A());)_();return D(e,I)}function z(e){return N(H("",null,null,null,[""],e=P(e),0,[0],e))}function H(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,f=o,p=0,m=0,v=0,b=1,y=1,S=1,w=0,T="",I=i,O=a,E=r,R=T;y;)switch(v=w,w=_()){case 34:case 39:case 91:case 40:R+=L(w);break;case 9:case 10:case 13:case 32:R+=U(v);break;case 92:R+=F(x()-1,7);continue;case 47:switch(A()){case 42:case 47:C(G(V(_(),x()),t,n),l);break;default:R+="/"}break;case 123*b:s[c++]=g(R)*S;case 125*b:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:m>0&&g(R)-f&&C(m>32?J(R+";",r,n,f-1):J(h(R," ","")+";",r,n,f-2),l);break;case 59:R+=";";default:if(C(E=q(R,t,n,c,u,i,s,T,I=[],O=[],f),a),123===w)if(0===u)H(R,t,E,E,I,a,f,s,O);else switch(p){case 100:case 109:case 115:H(e,E,E,r&&C(q(e,E,E,0,0,i,s,T,i,I=[],f),O),i,O,f,s,r?I:O);break;default:H(R,E,E,E,[""],O,f,s,O)}}c=u=m=0,b=S=1,T=R="",f=o;break;case 58:f=1+g(R),m=v;default:if(b<1)if(123==w)--b;else if(125==w&&0==b++&&125==M())continue;switch(R+=d(w),w*b){case 38:S=u>0?1:(R+="\f",-1);break;case 44:s[c++]=(g(R)-1)*S,S=1;break;case 64:45===A()&&(R+=L(_())),p=A(),u=g(T=R+=B(x())),w++;break;case 45:45===v&&2==g(R)&&(b=0)}}return a}function q(e,t,n,r,i,a,o,s,c,d,p){for(var m=i-1,g=0===i?a:[""],C=b(g),y=0,S=0,w=0;y<r;++y)for(var T=0,I=v(e,m+1,m=u(S=o[y])),O=e;T<C;++T)(O=f(S>0?g[T]+" "+I:h(I,/&\f/g,g[T])))&&(c[w++]=O);return R(e,t,n,0===i?l:s,c,d,p)}function G(e,t,n){return R(e,t,n,s,d(O),v(e,2,-2),0)}function J(e,t,n,r){return R(e,t,n,c,v(e,0,r),v(e,r+1,-1),r)}function Y(e,t){switch(function(e,t){return(((t<<2^m(e,0))<<2^m(e,1))<<2^m(e,2))<<2^m(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+a+e+i+e+e;case 6828:case 4268:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+h(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+h(e,/flex-|-self/,"")+e;case 4675:return o+e+i+"flex-line-pack"+h(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+i+h(e,"shrink","negative")+e;case 5292:return o+e+i+h(e,"basis","preferred-size")+e;case 6060:return o+"box-"+h(e,"-grow","")+o+e+i+h(e,"grow","positive")+e;case 4554:return o+h(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return h(h(h(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return h(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return h(h(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return h(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(e)-1-t>6)switch(m(e,t+1)){case 109:if(45!==m(e,t+4))break;case 102:return h(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==m(e,t+3)?"$3":"$2-$3"))+e;case 115:return~p(e,"stretch")?Y(h(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==m(e,t+1))break;case 6444:switch(m(e,g(e)-3-(~p(e,"!important")&&10))){case 107:return h(e,":",":"+o)+e;case 101:return h(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===m(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(m(e,t+11)){case 114:return o+e+i+h(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+h(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+h(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+i+e+e}return e}function Z(e,t){for(var n="",r=b(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case s:return"";case l:e.value=e.props.join(",")}return g(n=Z(e.children,r))?e.return=e.value+"{"+n+"}":""}function $(e){return function(t){t.root||(t=t.return)&&e(t)}}n(98),n(97);var Q=function(e,t,n){for(var r=0,i=0;r=i,i=A(),38===r&&12===i&&(t[n]=1),!j(i);)_();return D(e,I)},X=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(j(r)){case 0:38===r&&12===A()&&(t[n]=1),e[n]+=Q(I-1,t,n);break;case 2:e[n]+=L(r);break;case 4:if(44===r){e[++n]=58===A()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=d(r)}}while(r=_());return e}(P(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=X(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(!e.return)switch(e.type){case c:e.return=Y(e.value,e.length);break;case"@keyframes":return Z([k(h(e.value,"@","@"+o),e,"")],r);case l:if(e.length)return y(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Z([k(h(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return Z([k(h(t,/:(plac\w+)/,":"+o+"input-$1"),e,""),k(h(t,/:(plac\w+)/,":-moz-$1"),e,""),k(h(t,/:(plac\w+)/,i+"input-$1"),e,"")],r)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,s={},l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var c=[te,ne];var u,d=[K,$((function(e){u.insert(e)}))],f=function(e){var t=b(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(c.concat(i,d));o=function(e,t,n,r){u=n,Z(z(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new r.a({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:o};return h.sheet.hydrate(l),h}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}t.a=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23),i=n(18);function a(e){Object(i.a)(1,arguments);var t=Object(r.a)(e);return t.setHours(0,0,0,0),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r,o=new(n(236)),s=o.getBrowser(),l=(o.getCPU(),o.getDevice()),c=o.getEngine(),u=o.getOS(),d=o.getUA(),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},h=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},p=function(e){var t=h();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I="mobile",O="tablet",E="smarttv",R="console",k="wearable",M=void 0,_={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},A={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},x={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},D=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:f(t.vendor),model:f(t.model),os:f(n.name),osVersion:f(n.version),ua:f(r)})},j=function(e){switch(e){case I:return{isMobile:!0};case O:return{isTablet:!0};case E:return{isSmartTV:!0};case R:return{isConsole:!0};case k:return{isWearable:!0};case M:return{isBrowser:!0};default:return x}}(l.type);var P=function(){return"string"===typeof d&&-1!==d.indexOf("Edg/")},N=function(){return l.type===M},L=function(){return s.name===_.Edge},U=function(){return p("iPad")},F=l.type===E,W=l.type===R,V=l.type===k,B=s.name===_.MobileSafari||U(),z=s.name===_.Chromium,H=function(){switch(l.type){case I:case O:return!0;default:return!1}}()||U(),q=l.type===I,G=l.type===O||U(),J=N(),Y=N(),Z=u.name===A.Android,K=u.name===A.WindowsPhone,$=u.name===A.IOS||U(),Q=s.name===_.Chrome,X=s.name===_.Firefox,ee=s.name===_.Safari||s.name===_.MobileSafari,te=s.name===_.Opera,ne=s.name===_.InternetExplorer||s.name===_.Ie,re=f(u.version),ie=f(u.name),ae=f(s.version),oe=f(s.major),se=f(s.name),le=f(l.vendor),ce=f(l.model),ue=f(c.name),de=f(c.version),fe=f(d),he=L()||P(),pe=s.name===_.Yandex,me=f(l.type,"browser"),ve=function(){var e=h();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream}(),ge=U(),be=p("iPhone"),Ce=p("iPod"),ye=function(){var e=h(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)}(),Se=P(),we=L()&&!P(),Te=u.name===A.Windows,Ie=u.name===A.MAC_OS,Oe=s.name===_.MIUI,Ee=s.name===_.SamsungBrowser;t.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return Z?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.BrowserTypes=_,t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return J?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return W?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.CustomView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=e.condition,l=w(e,["renderWithFragment","children","viewClassName","style","condition"]);return s?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},l),n):null},t.IEView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return ne?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return $?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return q?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return H?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.OsTypes=A,t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return F?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return G?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return V?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style,s=w(e,["renderWithFragment","children","viewClassName","style"]);return K?t?a.createElement(i.Fragment,null,n):a.createElement("div",b({className:r,style:o},s),n):null},t.browserName=se,t.browserVersion=oe,t.deviceDetect=function(){var e=j.isBrowser,t=j.isMobile,n=j.isTablet,r=j.isSmartTV,i=j.isConsole,a=j.isWearable;return e?function(e,t,n,r,i){return{isBrowser:e,browserMajorVersion:f(t.major),browserFullVersion:f(t.version),browserName:f(t.name),engineName:f(n.name),engineVersion:f(n.version),osName:f(r.name),osVersion:f(r.version),userAgent:f(i)}}(e,s,c,u,d):r?function(e,t,n,r){return{isSmartTV:e,engineName:f(t.name),engineVersion:f(t.version),osName:f(n.name),osVersion:f(n.version),userAgent:f(r)}}(r,c,u,d):i?function(e,t,n,r){return{isConsole:e,engineName:f(t.name),engineVersion:f(t.version),osName:f(n.name),osVersion:f(n.version),userAgent:f(r)}}(i,c,u,d):t||n?D(j,l,u,d):a?function(e,t,n,r){return{isWearable:e,engineName:f(t.name),engineVersion:f(t.version),osName:f(n.name),osVersion:f(n.version),userAgent:f(r)}}(a,c,u,d):void 0},t.deviceType=me,t.engineName=ue,t.engineVersion=de,t.fullBrowserVersion=ae,t.getUA=fe,t.isAndroid=Z,t.isBrowser=J,t.isChrome=Q,t.isChromium=z,t.isConsole=W,t.isDesktop=Y,t.isEdge=he,t.isEdgeChromium=Se,t.isElectron=ye,t.isFirefox=X,t.isIE=ne,t.isIOS=$,t.isIOS13=ve,t.isIPad13=ge,t.isIPhone13=be,t.isIPod13=Ce,t.isLegacyEdge=we,t.isMIUI=Oe,t.isMacOs=Ie,t.isMobile=H,t.isMobileOnly=q,t.isMobileSafari=B,t.isOpera=te,t.isSafari=ee,t.isSamsungBrowser=Ee,t.isSmartTV=F,t.isTablet=G,t.isWearable=V,t.isWinPhone=K,t.isWindows=Te,t.isYandex=pe,t.mobileModel=ce,t.mobileVendor=le,t.osName=ie,t.osVersion=re,t.withOrientationChange=function(e){return function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?T(e):t}(this,y(n).call(this,e))).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(T(t)),t.onOrientationChange=t.onOrientationChange.bind(T(t)),t.onPageLoad=t.onPageLoad.bind(T(t)),t.state={isLandscape:!1,isPortrait:!1},t}var r,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,t),r=n,(i=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"===typeof window?"undefined":m(window))&&H&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return a.createElement(e,b({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&v(r.prototype,i),o&&v(r,o),n}(a.Component)}},function(e,t,n){"use strict";var r=n(306),i=n(0);var a=i.createContext(null);function o(){return i.useContext(a)}function s(e){return 0===Object.keys(e).length}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||s(t)?e:t},c=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return l(e)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},,,,,function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(51);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(51),i=n(222),a=n(223),o=n(161),s=n(224),l=n(227),c=n(228),u=n(165);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers,h=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+v)}var g=s(e.baseURL,e.url);function b(){if(p){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,a={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}}if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(b)},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var C=(e.withCredentials||c(g))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;C&&(f[e.xsrfHeaderName]=C)}"setRequestHeader"in p&&r.forEach(f,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(163);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(51);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(a,c),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var u=i.concat(a).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.a=i},function(e,t,n){e.exports=n(216)},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";(function(e){var r=n(33),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.a.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(144)(e))},function(e,t,n){"use strict";var r=n(52),i=n(72),a=n(38),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);t.a=function(e){if(!Object(a.a)(e)||"[object Object]"!=Object(r.a)(e))return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,l,c,f){for(var h,p,m,v,y,w=0,T=0,I=0,O=0,E=0,x=0,j=m=h=0,N=0,L=0,U=0,F=0,W=l.length,V=W-1,B="",z="",H="",q="";N<W;){if(p=l.charCodeAt(N),N===V&&0!==T+O+I+w&&(0!==T&&(p=47===T?10:47),O=I=w=0,W++,V++),0===T+O+I+w){if(N===V&&(0<L&&(B=B.replace(d,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=l.charAt(N)}p=59}switch(p){case 123:for(h=(B=B.trim()).charCodeAt(0),m=1,F=++N;N<W;){switch(p=l.charCodeAt(N)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(N+1)){case 42:case 47:e:{for(j=N+1;j<V;++j)switch(l.charCodeAt(j)){case 47:if(42===p&&42===l.charCodeAt(j-1)&&N+2!==j){N=j+1;break e}break;case 10:if(47===p){N=j+1;break e}}N=j}}break;case 91:p++;case 40:p++;case 34:case 39:for(;N++<V&&l.charCodeAt(N)!==p;);}if(0===m)break;N++}switch(m=l.substring(F,N),0===h&&(h=(B=B.replace(u,"").trim()).charCodeAt(0)),h){case 64:switch(0<L&&(B=B.replace(d,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(F=(m=t(r,L,m,p,f+1)).length,0<D&&(y=s(3,m,L=n(A,B,U),r,k,R,F,p,f,c),B=L.join(""),void 0!==y&&0===(F=(m=y.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:B=B.replace(S,o);case 100:case 109:case 45:m=B+"{"+m+"}";break;case 107:m=(B=B.replace(g,"$1 $2"))+"{"+m+"}",m=1===_||2===_&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=B+m,112===c&&(z+=m,m="")}else m="";break;default:m=t(r,n(r,B,U),m,c,f+1)}H+=m,m=U=L=j=h=0,B="",p=l.charCodeAt(++N);break;case 125:case 59:if(1<(F=(B=(0<L?B.replace(d,""):B).trim()).length))switch(0===j&&(h=B.charCodeAt(0),45===h||96<h&&123>h)&&(F=(B=B.replace(" ",":")).length),0<D&&void 0!==(y=s(1,B,r,e,k,R,z.length,c,f,c))&&0===(F=(B=y.trim()).length)&&(B="\0\0"),h=B.charCodeAt(0),p=B.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){q+=B+l.charAt(N);break}default:58!==B.charCodeAt(F-1)&&(z+=i(B,h,p,B.charCodeAt(2)))}U=L=j=h=0,B="",p=l.charCodeAt(++N)}}switch(p){case 13:case 10:47===T?T=0:0===1+h&&107!==c&&0<B.length&&(L=1,B+="\0"),0<D*P&&s(0,B,r,e,k,R,z.length,c,f,c),R=1,k++;break;case 59:case 125:if(0===T+O+I+w){R++;break}default:switch(R++,v=l.charAt(N),p){case 9:case 32:if(0===O+w+T)switch(E){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===O+T+w&&(L=U=1,v="\f"+v);break;case 108:if(0===O+T+w+M&&0<j)switch(N-j){case 2:112===E&&58===l.charCodeAt(N-3)&&(M=E);case 8:111===x&&(M=x)}break;case 58:0===O+T+w&&(j=N);break;case 44:0===T+I+O+w&&(L=1,v+="\r");break;case 34:case 39:0===T&&(O=O===p?0:0===O?p:O);break;case 91:0===O+T+I&&w++;break;case 93:0===O+T+I&&w--;break;case 41:0===O+T+w&&I--;break;case 40:if(0===O+T+w){if(0===h)switch(2*E+3*x){case 533:break;default:h=1}I++}break;case 64:0===T+I+O+w+j+m&&(m=1);break;case 42:case 47:if(!(0<O+w+I))switch(T){case 0:switch(2*p+3*l.charCodeAt(N+1)){case 235:T=47;break;case 220:F=N,T=42}break;case 42:47===p&&42===E&&F+2!==N&&(33===l.charCodeAt(F+2)&&(z+=l.substring(F,N+1)),v="",T=0)}}0===T&&(B+=v)}x=E,E=p,N++}if(0<(F=z.length)){if(L=r,0<D&&(void 0!==(y=s(2,z,L,e,k,R,F,c,f,c))&&0===(z=y).length))return q+z+H;if(z=L.join(",")+"{"+z+"}",0!==_*M){switch(2!==_||a(z,2)||(M=0),M){case 111:z=z.replace(C,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}M=0}}return q+z+H}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===_||2===_&&a(l,1)?"-webkit-"+l+l:l}if(0===_||2===_&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(y,"tb");break;case 232:l=o.replace(y,"tb-rl");break;case 220:l=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(T,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(T,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,u){for(var d,f=0,h=t;f<D;++f)switch(d=x[f].call(c,e,h,n,r,i,a,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?_=1:(_=2,j=e):_=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,k,R,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(A,r,n,0,0);return 0<D&&(void 0!==(i=s(-2,a,r,r,k,R,a.length,0,0,0))&&(a=i)),"",M=0,R=k=1,a}var u=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,C=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,T=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,R=1,k=1,M=0,_=1,A=[],x=[],D=0,j=null,P=0;return c.use=function e(t){switch(t){case void 0:case null:D=x.length=0;break;default:if("function"===typeof t)x[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else P=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(184),i=n(23),a=n(18);function o(e){if(Object(a.a)(1,arguments),!Object(r.a)(e)&&"number"!==typeof e)return!1;var t=Object(i.a)(e);return!isNaN(Number(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(e){return Object(r.a)(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23),i=n(18);function a(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getDay();return n}},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(t){var r;e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=50)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(19)()},function(e,t){e.exports={EMOJI_PROPERTY_NAME:"n",EMOJI_PROPERTY_UNIFIED:"u",EMOJI_PROPERTY_SKIN_VARIATIONS:"v",EMOJI_PROPERTY_GROUP:"g",GROUP_NAME_PEOPLE:"smileys_people",GROUP_NAME_NATURE:"animals_nature",GROUP_NAME_FOOD:"food_drink",GROUP_NAME_TRAVEL:"travel_places",GROUP_NAME_ACTIVITIES:"activities",GROUP_NAME_OBJECTS:"objects",GROUP_NAME_SYMBOLS:"symbols",GROUP_NAME_FLAGS:"flags",GROUP_NAME_RECENTLY_USED:"recently_used"}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(22),i=n(23),a=n(13),o=n(24);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:u,updater:v(f,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function h(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function v(e,t){var n,r,i;if(t.singleton){var a=m++;n=p||(p=c(t)),r=f.bind(null,n,a,!1),i=f.bind(null,n,a,!0)}else n=c(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var a=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=a}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(16),i=n(17),a=n(13),o=n(18);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e){e.exports=JSON.parse('["smileys_people","animals_nature","food_drink","travel_places","activities","objects","symbols","flags"]')},function(e){e.exports=JSON.parse('["neutral","1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"]')},function(e){e.exports=JSON.parse('{"travel_places":[{"n":["earth globe europe-africa","earth_africa"],"u":"1f30d"},{"n":["earth globe americas","earth_americas"],"u":"1f30e"},{"n":["earth globe asia-australia","earth_asia"],"u":"1f30f"},{"n":["globe with meridians","globe_with_meridians"],"u":"1f310"},{"n":["world_map"],"u":"1f5fa-fe0f"},{"n":["silhouette of japan","japan"],"u":"1f5fe"},{"n":["snow_capped_mountain"],"u":"1f3d4-fe0f"},{"n":["mountain"],"u":"26f0-fe0f"},{"n":["volcano"],"u":"1f30b"},{"n":["mount fuji","mount_fuji"],"u":"1f5fb"},{"n":["camping"],"u":"1f3d5-fe0f"},{"n":["beach_with_umbrella"],"u":"1f3d6-fe0f"},{"n":["desert"],"u":"1f3dc-fe0f"},{"n":["desert_island"],"u":"1f3dd-fe0f"},{"n":["national_park"],"u":"1f3de-fe0f"},{"n":["stadium"],"u":"1f3df-fe0f"},{"n":["classical_building"],"u":"1f3db-fe0f"},{"n":["building_construction"],"u":"1f3d7-fe0f"},{"n":["house_buildings"],"u":"1f3d8-fe0f"},{"n":["cityscape"],"u":"1f3d9-fe0f"},{"n":["derelict_house_building"],"u":"1f3da-fe0f"},{"n":["house building","house"],"u":"1f3e0"},{"n":["house with garden","house_with_garden"],"u":"1f3e1"},{"n":["office building","office"],"u":"1f3e2"},{"n":["japanese post office","post_office"],"u":"1f3e3"},{"n":["european post office","european_post_office"],"u":"1f3e4"},{"n":["hospital"],"u":"1f3e5"},{"n":["bank"],"u":"1f3e6"},{"n":["hotel"],"u":"1f3e8"},{"n":["love hotel","love_hotel"],"u":"1f3e9"},{"n":["convenience store","convenience_store"],"u":"1f3ea"},{"n":["school"],"u":"1f3eb"},{"n":["department store","department_store"],"u":"1f3ec"},{"n":["factory"],"u":"1f3ed"},{"n":["japanese castle","japanese_castle"],"u":"1f3ef"},{"n":["european castle","european_castle"],"u":"1f3f0"},{"n":["wedding"],"u":"1f492"},{"n":["tokyo tower","tokyo_tower"],"u":"1f5fc"},{"n":["statue of liberty","statue_of_liberty"],"u":"1f5fd"},{"n":["church"],"u":"26ea"},{"n":["mosque"],"u":"1f54c"},{"n":["synagogue"],"u":"1f54d"},{"n":["shinto_shrine"],"u":"26e9-fe0f"},{"n":["kaaba"],"u":"1f54b"},{"n":["fountain"],"u":"26f2"},{"n":["tent"],"u":"26fa"},{"n":["foggy"],"u":"1f301"},{"n":["night with stars","night_with_stars"],"u":"1f303"},{"n":["sunrise over mountains","sunrise_over_mountains"],"u":"1f304"},{"n":["sunrise"],"u":"1f305"},{"n":["cityscape at dusk","city_sunset"],"u":"1f306"},{"n":["sunset over buildings","city_sunrise"],"u":"1f307"},{"n":["bridge at night","bridge_at_night"],"u":"1f309"},{"n":["hot springs","hotsprings"],"u":"2668-fe0f"},{"n":["milky way","milky_way"],"u":"1f30c"},{"n":["carousel horse","carousel_horse"],"u":"1f3a0"},{"n":["ferris wheel","ferris_wheel"],"u":"1f3a1"},{"n":["roller coaster","roller_coaster"],"u":"1f3a2"},{"n":["barber pole","barber"],"u":"1f488"},{"n":["circus tent","circus_tent"],"u":"1f3aa"},{"n":["performing arts","performing_arts"],"u":"1f3ad"},{"n":["frame_with_picture"],"u":"1f5bc-fe0f"},{"n":["artist palette","art"],"u":"1f3a8"},{"n":["slot machine","slot_machine"],"u":"1f3b0"},{"n":["steam locomotive","steam_locomotive"],"u":"1f682"},{"n":["railway car","railway_car"],"u":"1f683"},{"n":["high-speed train","bullettrain_side"],"u":"1f684"},{"n":["high-speed train with bullet nose","bullettrain_front"],"u":"1f685"},{"n":["train","train2"],"u":"1f686"},{"n":["metro"],"u":"1f687"},{"n":["light rail","light_rail"],"u":"1f688"},{"n":["station"],"u":"1f689"},{"n":["tram"],"u":"1f68a"},{"n":["monorail"],"u":"1f69d"},{"n":["mountain railway","mountain_railway"],"u":"1f69e"},{"n":["tram car","train"],"u":"1f68b"},{"n":["bus"],"u":"1f68c"},{"n":["oncoming bus","oncoming_bus"],"u":"1f68d"},{"n":["trolleybus"],"u":"1f68e"},{"n":["minibus"],"u":"1f690"},{"n":["ambulance"],"u":"1f691"},{"n":["fire engine","fire_engine"],"u":"1f692"},{"n":["police car","police_car"],"u":"1f693"},{"n":["oncoming police car","oncoming_police_car"],"u":"1f694"},{"n":["taxi"],"u":"1f695"},{"n":["oncoming taxi","oncoming_taxi"],"u":"1f696"},{"n":["automobile","car","red_car"],"u":"1f697"},{"n":["oncoming automobile","oncoming_automobile"],"u":"1f698"},{"n":["recreational vehicle","blue_car"],"u":"1f699"},{"n":["delivery truck","truck"],"u":"1f69a"},{"n":["articulated lorry","articulated_lorry"],"u":"1f69b"},{"n":["tractor"],"u":"1f69c"},{"n":["bicycle","bike"],"u":"1f6b2"},{"n":["scooter"],"u":"1f6f4"},{"n":["motor scooter","motor_scooter"],"u":"1f6f5"},{"n":["bus stop","busstop"],"u":"1f68f"},{"n":["motorway"],"u":"1f6e3-fe0f"},{"n":["railway_track"],"u":"1f6e4-fe0f"},{"n":["fuel pump","fuelpump"],"u":"26fd"},{"n":["police cars revolving light","rotating_light"],"u":"1f6a8"},{"n":["horizontal traffic light","traffic_light"],"u":"1f6a5"},{"n":["vertical traffic light","vertical_traffic_light"],"u":"1f6a6"},{"n":["construction sign","construction"],"u":"1f6a7"},{"n":["octagonal sign","octagonal_sign"],"u":"1f6d1"},{"n":["anchor"],"u":"2693"},{"n":["sailboat","boat"],"u":"26f5"},{"n":["canoe"],"u":"1f6f6"},{"n":["speedboat"],"u":"1f6a4"},{"n":["passenger_ship"],"u":"1f6f3-fe0f"},{"n":["ferry"],"u":"26f4-fe0f"},{"n":["motor_boat"],"u":"1f6e5-fe0f"},{"n":["ship"],"u":"1f6a2"},{"n":["airplane"],"u":"2708-fe0f"},{"n":["small_airplane"],"u":"1f6e9-fe0f"},{"n":["airplane departure","airplane_departure"],"u":"1f6eb"},{"n":["airplane arriving","airplane_arriving"],"u":"1f6ec"},{"n":["seat"],"u":"1f4ba"},{"n":["helicopter"],"u":"1f681"},{"n":["suspension railway","suspension_railway"],"u":"1f69f"},{"n":["mountain cableway","mountain_cableway"],"u":"1f6a0"},{"n":["aerial tramway","aerial_tramway"],"u":"1f6a1"},{"n":["satellite"],"u":"1f6f0-fe0f"},{"n":["rocket"],"u":"1f680"},{"n":["flying saucer","flying_saucer"],"u":"1f6f8"},{"n":["bellhop_bell"],"u":"1f6ce-fe0f"},{"n":["door"],"u":"1f6aa"},{"n":["bed"],"u":"1f6cf-fe0f"},{"n":["couch_and_lamp"],"u":"1f6cb-fe0f"},{"n":["toilet"],"u":"1f6bd"},{"n":["shower"],"u":"1f6bf"},{"n":["bathtub"],"u":"1f6c1"},{"n":["hourglass"],"u":"231b"},{"n":["hourglass with flowing sand","hourglass_flowing_sand"],"u":"23f3"},{"n":["watch"],"u":"231a"},{"n":["alarm clock","alarm_clock"],"u":"23f0"},{"n":["stopwatch"],"u":"23f1-fe0f"},{"n":["timer_clock"],"u":"23f2-fe0f"},{"n":["mantelpiece_clock"],"u":"1f570-fe0f"},{"n":["clock face twelve oclock","clock12"],"u":"1f55b"},{"n":["clock face twelve-thirty","clock1230"],"u":"1f567"},{"n":["clock face one oclock","clock1"],"u":"1f550"},{"n":["clock face one-thirty","clock130"],"u":"1f55c"},{"n":["clock face two oclock","clock2"],"u":"1f551"},{"n":["clock face two-thirty","clock230"],"u":"1f55d"},{"n":["clock face three oclock","clock3"],"u":"1f552"},{"n":["clock face three-thirty","clock330"],"u":"1f55e"},{"n":["clock face four oclock","clock4"],"u":"1f553"},{"n":["clock face four-thirty","clock430"],"u":"1f55f"},{"n":["clock face five oclock","clock5"],"u":"1f554"},{"n":["clock face five-thirty","clock530"],"u":"1f560"},{"n":["clock face six oclock","clock6"],"u":"1f555"},{"n":["clock face six-thirty","clock630"],"u":"1f561"},{"n":["clock face seven oclock","clock7"],"u":"1f556"},{"n":["clock face seven-thirty","clock730"],"u":"1f562"},{"n":["clock face eight oclock","clock8"],"u":"1f557"},{"n":["clock face eight-thirty","clock830"],"u":"1f563"},{"n":["clock face nine oclock","clock9"],"u":"1f558"},{"n":["clock face nine-thirty","clock930"],"u":"1f564"},{"n":["clock face ten oclock","clock10"],"u":"1f559"},{"n":["clock face ten-thirty","clock1030"],"u":"1f565"},{"n":["clock face eleven oclock","clock11"],"u":"1f55a"},{"n":["clock face eleven-thirty","clock1130"],"u":"1f566"},{"n":["new moon symbol","new_moon"],"u":"1f311"},{"n":["waxing crescent moon symbol","waxing_crescent_moon"],"u":"1f312"},{"n":["first quarter moon symbol","first_quarter_moon"],"u":"1f313"},{"n":["waxing gibbous moon symbol","moon","waxing_gibbous_moon"],"u":"1f314"},{"n":["full moon symbol","full_moon"],"u":"1f315"},{"n":["waning gibbous moon symbol","waning_gibbous_moon"],"u":"1f316"},{"n":["last quarter moon symbol","last_quarter_moon"],"u":"1f317"},{"n":["waning crescent moon symbol","waning_crescent_moon"],"u":"1f318"},{"n":["crescent moon","crescent_moon"],"u":"1f319"},{"n":["new moon with face","new_moon_with_face"],"u":"1f31a"},{"n":["first quarter moon with face","first_quarter_moon_with_face"],"u":"1f31b"},{"n":["last quarter moon with face","last_quarter_moon_with_face"],"u":"1f31c"},{"n":["thermometer"],"u":"1f321-fe0f"},{"n":["black sun with rays","sunny"],"u":"2600-fe0f"},{"n":["full moon with face","full_moon_with_face"],"u":"1f31d"},{"n":["sun with face","sun_with_face"],"u":"1f31e"},{"n":["white medium star","star"],"u":"2b50"},{"n":["glowing star","star2"],"u":"1f31f"},{"n":["shooting star","stars"],"u":"1f320"},{"n":["cloud"],"u":"2601-fe0f"},{"n":["sun behind cloud","partly_sunny"],"u":"26c5"},{"n":["thunder_cloud_and_rain"],"u":"26c8-fe0f"},{"n":["mostly_sunny","sun_small_cloud"],"u":"1f324-fe0f"},{"n":["barely_sunny","sun_behind_cloud"],"u":"1f325-fe0f"},{"n":["partly_sunny_rain","sun_behind_rain_cloud"],"u":"1f326-fe0f"},{"n":["rain_cloud"],"u":"1f327-fe0f"},{"n":["snow_cloud"],"u":"1f328-fe0f"},{"n":["lightning","lightning_cloud"],"u":"1f329-fe0f"},{"n":["tornado","tornado_cloud"],"u":"1f32a-fe0f"},{"n":["fog"],"u":"1f32b-fe0f"},{"n":["wind_blowing_face"],"u":"1f32c-fe0f"},{"n":["cyclone"],"u":"1f300"},{"n":["rainbow"],"u":"1f308"},{"n":["closed umbrella","closed_umbrella"],"u":"1f302"},{"n":["umbrella"],"u":"2602-fe0f"},{"n":["umbrella with rain drops","umbrella_with_rain_drops"],"u":"2614"},{"n":["umbrella_on_ground"],"u":"26f1-fe0f"},{"n":["high voltage sign","zap"],"u":"26a1"},{"n":["snowflake"],"u":"2744-fe0f"},{"n":["snowman"],"u":"2603-fe0f"},{"n":["snowman without snow","snowman_without_snow"],"u":"26c4"},{"n":["comet"],"u":"2604-fe0f"},{"n":["fire"],"u":"1f525"},{"n":["droplet"],"u":"1f4a7"},{"n":["water wave","ocean"],"u":"1f30a"}],"food_drink":[{"n":["grapes"],"u":"1f347"},{"n":["melon"],"u":"1f348"},{"n":["watermelon"],"u":"1f349"},{"n":["tangerine"],"u":"1f34a"},{"n":["lemon"],"u":"1f34b"},{"n":["banana"],"u":"1f34c"},{"n":["pineapple"],"u":"1f34d"},{"n":["red apple","apple"],"u":"1f34e"},{"n":["green apple","green_apple"],"u":"1f34f"},{"n":["pear"],"u":"1f350"},{"n":["peach"],"u":"1f351"},{"n":["cherries"],"u":"1f352"},{"n":["strawberry"],"u":"1f353"},{"n":["kiwifruit"],"u":"1f95d"},{"n":["tomato"],"u":"1f345"},{"n":["coconut"],"u":"1f965"},{"n":["avocado"],"u":"1f951"},{"n":["aubergine","eggplant"],"u":"1f346"},{"n":["potato"],"u":"1f954"},{"n":["carrot"],"u":"1f955"},{"n":["ear of maize","corn"],"u":"1f33d"},{"n":["hot_pepper"],"u":"1f336-fe0f"},{"n":["cucumber"],"u":"1f952"},{"n":["broccoli"],"u":"1f966"},{"n":["mushroom"],"u":"1f344"},{"n":["peanuts"],"u":"1f95c"},{"n":["chestnut"],"u":"1f330"},{"n":["bread"],"u":"1f35e"},{"n":["croissant"],"u":"1f950"},{"n":["baguette bread","baguette_bread"],"u":"1f956"},{"n":["pretzel"],"u":"1f968"},{"n":["pancakes"],"u":"1f95e"},{"n":["cheese wedge","cheese_wedge"],"u":"1f9c0"},{"n":["meat on bone","meat_on_bone"],"u":"1f356"},{"n":["poultry leg","poultry_leg"],"u":"1f357"},{"n":["cut of meat","cut_of_meat"],"u":"1f969"},{"n":["bacon"],"u":"1f953"},{"n":["hamburger"],"u":"1f354"},{"n":["french fries","fries"],"u":"1f35f"},{"n":["slice of pizza","pizza"],"u":"1f355"},{"n":["hot dog","hotdog"],"u":"1f32d"},{"n":["sandwich"],"u":"1f96a"},{"n":["taco"],"u":"1f32e"},{"n":["burrito"],"u":"1f32f"},{"n":["stuffed flatbread","stuffed_flatbread"],"u":"1f959"},{"n":["egg"],"u":"1f95a"},{"n":["cooking","fried_egg"],"u":"1f373"},{"n":["shallow pan of food","shallow_pan_of_food"],"u":"1f958"},{"n":["pot of food","stew"],"u":"1f372"},{"n":["bowl with spoon","bowl_with_spoon"],"u":"1f963"},{"n":["green salad","green_salad"],"u":"1f957"},{"n":["popcorn"],"u":"1f37f"},{"n":["canned food","canned_food"],"u":"1f96b"},{"n":["bento box","bento"],"u":"1f371"},{"n":["rice cracker","rice_cracker"],"u":"1f358"},{"n":["rice ball","rice_ball"],"u":"1f359"},{"n":["cooked rice","rice"],"u":"1f35a"},{"n":["curry and rice","curry"],"u":"1f35b"},{"n":["steaming bowl","ramen"],"u":"1f35c"},{"n":["spaghetti"],"u":"1f35d"},{"n":["roasted sweet potato","sweet_potato"],"u":"1f360"},{"n":["oden"],"u":"1f362"},{"n":["sushi"],"u":"1f363"},{"n":["fried shrimp","fried_shrimp"],"u":"1f364"},{"n":["fish cake with swirl design","fish_cake"],"u":"1f365"},{"n":["dango"],"u":"1f361"},{"n":["dumpling"],"u":"1f95f"},{"n":["fortune cookie","fortune_cookie"],"u":"1f960"},{"n":["takeout box","takeout_box"],"u":"1f961"},{"n":["soft ice cream","icecream"],"u":"1f366"},{"n":["shaved ice","shaved_ice"],"u":"1f367"},{"n":["ice cream","ice_cream"],"u":"1f368"},{"n":["doughnut"],"u":"1f369"},{"n":["cookie"],"u":"1f36a"},{"n":["birthday cake","birthday"],"u":"1f382"},{"n":["shortcake","cake"],"u":"1f370"},{"n":["pie"],"u":"1f967"},{"n":["chocolate bar","chocolate_bar"],"u":"1f36b"},{"n":["candy"],"u":"1f36c"},{"n":["lollipop"],"u":"1f36d"},{"n":["custard"],"u":"1f36e"},{"n":["honey pot","honey_pot"],"u":"1f36f"},{"n":["baby bottle","baby_bottle"],"u":"1f37c"},{"n":["glass of milk","glass_of_milk"],"u":"1f95b"},{"n":["hot beverage","coffee"],"u":"2615"},{"n":["teacup without handle","tea"],"u":"1f375"},{"n":["sake bottle and cup","sake"],"u":"1f376"},{"n":["bottle with popping cork","champagne"],"u":"1f37e"},{"n":["wine glass","wine_glass"],"u":"1f377"},{"n":["cocktail glass","cocktail"],"u":"1f378"},{"n":["tropical drink","tropical_drink"],"u":"1f379"},{"n":["beer mug","beer"],"u":"1f37a"},{"n":["clinking beer mugs","beers"],"u":"1f37b"},{"n":["clinking glasses","clinking_glasses"],"u":"1f942"},{"n":["tumbler glass","tumbler_glass"],"u":"1f943"},{"n":["cup with straw","cup_with_straw"],"u":"1f964"},{"n":["chopsticks"],"u":"1f962"},{"n":["knife_fork_plate"],"u":"1f37d-fe0f"},{"n":["fork and knife","fork_and_knife"],"u":"1f374"},{"n":["spoon"],"u":"1f944"},{"n":["hocho","knife"],"u":"1f52a"},{"n":["amphora"],"u":"1f3fa"}],"activities":[{"n":["jack-o-lantern","jack_o_lantern"],"u":"1f383"},{"n":["christmas tree","christmas_tree"],"u":"1f384"},{"n":["fireworks"],"u":"1f386"},{"n":["firework sparkler","sparkler"],"u":"1f387"},{"n":["sparkles"],"u":"2728"},{"n":["balloon"],"u":"1f388"},{"n":["party popper","tada"],"u":"1f389"},{"n":["confetti ball","confetti_ball"],"u":"1f38a"},{"n":["tanabata tree","tanabata_tree"],"u":"1f38b"},{"n":["pine decoration","bamboo"],"u":"1f38d"},{"n":["japanese dolls","dolls"],"u":"1f38e"},{"n":["carp streamer","flags"],"u":"1f38f"},{"n":["wind chime","wind_chime"],"u":"1f390"},{"n":["moon viewing ceremony","rice_scene"],"u":"1f391"},{"n":["ribbon"],"u":"1f380"},{"n":["wrapped present","gift"],"u":"1f381"},{"n":["reminder_ribbon"],"u":"1f397-fe0f"},{"n":["admission_tickets"],"u":"1f39f-fe0f"},{"n":["ticket"],"u":"1f3ab"},{"n":["medal"],"u":"1f396-fe0f"},{"n":["trophy"],"u":"1f3c6"},{"n":["sports medal","sports_medal"],"u":"1f3c5"},{"n":["first place medal","first_place_medal"],"u":"1f947"},{"n":["second place medal","second_place_medal"],"u":"1f948"},{"n":["third place medal","third_place_medal"],"u":"1f949"},{"n":["soccer ball","soccer"],"u":"26bd"},{"n":["baseball"],"u":"26be"},{"n":["basketball and hoop","basketball"],"u":"1f3c0"},{"n":["volleyball"],"u":"1f3d0"},{"n":["american football","football"],"u":"1f3c8"},{"n":["rugby football","rugby_football"],"u":"1f3c9"},{"n":["tennis racquet and ball","tennis"],"u":"1f3be"},{"n":["billiards","8ball"],"u":"1f3b1"},{"n":["bowling"],"u":"1f3b3"},{"n":["cricket bat and ball","cricket_bat_and_ball"],"u":"1f3cf"},{"n":["field hockey stick and ball","field_hockey_stick_and_ball"],"u":"1f3d1"},{"n":["ice hockey stick and puck","ice_hockey_stick_and_puck"],"u":"1f3d2"},{"n":["table tennis paddle and ball","table_tennis_paddle_and_ball"],"u":"1f3d3"},{"n":["badminton racquet and shuttlecock","badminton_racquet_and_shuttlecock"],"u":"1f3f8"},{"n":["boxing glove","boxing_glove"],"u":"1f94a"},{"n":["martial arts uniform","martial_arts_uniform"],"u":"1f94b"},{"n":["goal net","goal_net"],"u":"1f945"},{"n":["direct hit","dart"],"u":"1f3af"},{"n":["flag in hole","golf"],"u":"26f3"},{"n":["ice_skate"],"u":"26f8-fe0f"},{"n":["fishing pole and fish","fishing_pole_and_fish"],"u":"1f3a3"},{"n":["running shirt with sash","running_shirt_with_sash"],"u":"1f3bd"},{"n":["ski and ski boot","ski"],"u":"1f3bf"},{"n":["sled"],"u":"1f6f7"},{"n":["curling stone","curling_stone"],"u":"1f94c"},{"n":["video game","video_game"],"u":"1f3ae"},{"n":["joystick"],"u":"1f579-fe0f"},{"n":["game die","game_die"],"u":"1f3b2"},{"n":["black spade suit","spades"],"u":"2660-fe0f"},{"n":["black heart suit","hearts"],"u":"2665-fe0f"},{"n":["black diamond suit","diamonds"],"u":"2666-fe0f"},{"n":["black club suit","clubs"],"u":"2663-fe0f"},{"n":["playing card black joker","black_joker"],"u":"1f0cf"},{"n":["mahjong tile red dragon","mahjong"],"u":"1f004"},{"n":["flower playing cards","flower_playing_cards"],"u":"1f3b4"}],"flags":[{"n":["chequered flag","checkered_flag"],"u":"1f3c1"},{"n":["triangular flag on post","triangular_flag_on_post"],"u":"1f6a9"},{"n":["crossed flags","crossed_flags"],"u":"1f38c"},{"n":["waving black flag","waving_black_flag"],"u":"1f3f4"},{"n":["waving_white_flag"],"u":"1f3f3-fe0f"},{"n":["rainbow-flag"],"u":"1f3f3-fe0f-200d-1f308"},{"n":["ascension island flag","flag-ac"],"u":"1f1e6-1f1e8"},{"n":["andorra flag","flag-ad"],"u":"1f1e6-1f1e9"},{"n":["united arab emirates flag","flag-ae"],"u":"1f1e6-1f1ea"},{"n":["afghanistan flag","flag-af"],"u":"1f1e6-1f1eb"},{"n":["antigua & barbuda flag","flag-ag"],"u":"1f1e6-1f1ec"},{"n":["anguilla flag","flag-ai"],"u":"1f1e6-1f1ee"},{"n":["albania flag","flag-al"],"u":"1f1e6-1f1f1"},{"n":["armenia flag","flag-am"],"u":"1f1e6-1f1f2"},{"n":["angola flag","flag-ao"],"u":"1f1e6-1f1f4"},{"n":["antarctica flag","flag-aq"],"u":"1f1e6-1f1f6"},{"n":["argentina flag","flag-ar"],"u":"1f1e6-1f1f7"},{"n":["american samoa flag","flag-as"],"u":"1f1e6-1f1f8"},{"n":["austria flag","flag-at"],"u":"1f1e6-1f1f9"},{"n":["australia flag","flag-au"],"u":"1f1e6-1f1fa"},{"n":["aruba flag","flag-aw"],"u":"1f1e6-1f1fc"},{"n":["\xe5land islands flag","flag-ax"],"u":"1f1e6-1f1fd"},{"n":["azerbaijan flag","flag-az"],"u":"1f1e6-1f1ff"},{"n":["bosnia & herzegovina flag","flag-ba"],"u":"1f1e7-1f1e6"},{"n":["barbados flag","flag-bb"],"u":"1f1e7-1f1e7"},{"n":["bangladesh flag","flag-bd"],"u":"1f1e7-1f1e9"},{"n":["belgium flag","flag-be"],"u":"1f1e7-1f1ea"},{"n":["burkina faso flag","flag-bf"],"u":"1f1e7-1f1eb"},{"n":["bulgaria flag","flag-bg"],"u":"1f1e7-1f1ec"},{"n":["bahrain flag","flag-bh"],"u":"1f1e7-1f1ed"},{"n":["burundi flag","flag-bi"],"u":"1f1e7-1f1ee"},{"n":["benin flag","flag-bj"],"u":"1f1e7-1f1ef"},{"n":["st. barth\xe9lemy flag","flag-bl"],"u":"1f1e7-1f1f1"},{"n":["bermuda flag","flag-bm"],"u":"1f1e7-1f1f2"},{"n":["brunei flag","flag-bn"],"u":"1f1e7-1f1f3"},{"n":["bolivia flag","flag-bo"],"u":"1f1e7-1f1f4"},{"n":["caribbean netherlands flag","flag-bq"],"u":"1f1e7-1f1f6"},{"n":["brazil flag","flag-br"],"u":"1f1e7-1f1f7"},{"n":["bahamas flag","flag-bs"],"u":"1f1e7-1f1f8"},{"n":["bhutan flag","flag-bt"],"u":"1f1e7-1f1f9"},{"n":["bouvet island flag","flag-bv"],"u":"1f1e7-1f1fb"},{"n":["botswana flag","flag-bw"],"u":"1f1e7-1f1fc"},{"n":["belarus flag","flag-by"],"u":"1f1e7-1f1fe"},{"n":["belize flag","flag-bz"],"u":"1f1e7-1f1ff"},{"n":["canada flag","flag-ca"],"u":"1f1e8-1f1e6"},{"n":["cocos (keeling) islands flag","flag-cc"],"u":"1f1e8-1f1e8"},{"n":["congo - kinshasa flag","flag-cd"],"u":"1f1e8-1f1e9"},{"n":["central african republic flag","flag-cf"],"u":"1f1e8-1f1eb"},{"n":["congo - brazzaville flag","flag-cg"],"u":"1f1e8-1f1ec"},{"n":["switzerland flag","flag-ch"],"u":"1f1e8-1f1ed"},{"n":["c\xf4te d\u2019ivoire flag","flag-ci"],"u":"1f1e8-1f1ee"},{"n":["cook islands flag","flag-ck"],"u":"1f1e8-1f1f0"},{"n":["chile flag","flag-cl"],"u":"1f1e8-1f1f1"},{"n":["cameroon flag","flag-cm"],"u":"1f1e8-1f1f2"},{"n":["china flag","cn","flag-cn"],"u":"1f1e8-1f1f3"},{"n":["colombia flag","flag-co"],"u":"1f1e8-1f1f4"},{"n":["clipperton island flag","flag-cp"],"u":"1f1e8-1f1f5"},{"n":["costa rica flag","flag-cr"],"u":"1f1e8-1f1f7"},{"n":["cuba flag","flag-cu"],"u":"1f1e8-1f1fa"},{"n":["cape verde flag","flag-cv"],"u":"1f1e8-1f1fb"},{"n":["cura\xe7ao flag","flag-cw"],"u":"1f1e8-1f1fc"},{"n":["christmas island flag","flag-cx"],"u":"1f1e8-1f1fd"},{"n":["cyprus flag","flag-cy"],"u":"1f1e8-1f1fe"},{"n":["czechia flag","flag-cz"],"u":"1f1e8-1f1ff"},{"n":["germany flag","de","flag-de"],"u":"1f1e9-1f1ea"},{"n":["diego garcia flag","flag-dg"],"u":"1f1e9-1f1ec"},{"n":["djibouti flag","flag-dj"],"u":"1f1e9-1f1ef"},{"n":["denmark flag","flag-dk"],"u":"1f1e9-1f1f0"},{"n":["dominica flag","flag-dm"],"u":"1f1e9-1f1f2"},{"n":["dominican republic flag","flag-do"],"u":"1f1e9-1f1f4"},{"n":["algeria flag","flag-dz"],"u":"1f1e9-1f1ff"},{"n":["ceuta & melilla flag","flag-ea"],"u":"1f1ea-1f1e6"},{"n":["ecuador flag","flag-ec"],"u":"1f1ea-1f1e8"},{"n":["estonia flag","flag-ee"],"u":"1f1ea-1f1ea"},{"n":["egypt flag","flag-eg"],"u":"1f1ea-1f1ec"},{"n":["western sahara flag","flag-eh"],"u":"1f1ea-1f1ed"},{"n":["eritrea flag","flag-er"],"u":"1f1ea-1f1f7"},{"n":["spain flag","es","flag-es"],"u":"1f1ea-1f1f8"},{"n":["ethiopia flag","flag-et"],"u":"1f1ea-1f1f9"},{"n":["european union flag","flag-eu"],"u":"1f1ea-1f1fa"},{"n":["finland flag","flag-fi"],"u":"1f1eb-1f1ee"},{"n":["fiji flag","flag-fj"],"u":"1f1eb-1f1ef"},{"n":["falkland islands flag","flag-fk"],"u":"1f1eb-1f1f0"},{"n":["micronesia flag","flag-fm"],"u":"1f1eb-1f1f2"},{"n":["faroe islands flag","flag-fo"],"u":"1f1eb-1f1f4"},{"n":["france flag","fr","flag-fr"],"u":"1f1eb-1f1f7"},{"n":["gabon flag","flag-ga"],"u":"1f1ec-1f1e6"},{"n":["united kingdom flag","gb","uk","flag-gb"],"u":"1f1ec-1f1e7"},{"n":["grenada flag","flag-gd"],"u":"1f1ec-1f1e9"},{"n":["georgia flag","flag-ge"],"u":"1f1ec-1f1ea"},{"n":["french guiana flag","flag-gf"],"u":"1f1ec-1f1eb"},{"n":["guernsey flag","flag-gg"],"u":"1f1ec-1f1ec"},{"n":["ghana flag","flag-gh"],"u":"1f1ec-1f1ed"},{"n":["gibraltar flag","flag-gi"],"u":"1f1ec-1f1ee"},{"n":["greenland flag","flag-gl"],"u":"1f1ec-1f1f1"},{"n":["gambia flag","flag-gm"],"u":"1f1ec-1f1f2"},{"n":["guinea flag","flag-gn"],"u":"1f1ec-1f1f3"},{"n":["guadeloupe flag","flag-gp"],"u":"1f1ec-1f1f5"},{"n":["equatorial guinea flag","flag-gq"],"u":"1f1ec-1f1f6"},{"n":["greece flag","flag-gr"],"u":"1f1ec-1f1f7"},{"n":["south georgia & south sandwich islands flag","flag-gs"],"u":"1f1ec-1f1f8"},{"n":["guatemala flag","flag-gt"],"u":"1f1ec-1f1f9"},{"n":["guam flag","flag-gu"],"u":"1f1ec-1f1fa"},{"n":["guinea-bissau flag","flag-gw"],"u":"1f1ec-1f1fc"},{"n":["guyana flag","flag-gy"],"u":"1f1ec-1f1fe"},{"n":["hong kong sar china flag","flag-hk"],"u":"1f1ed-1f1f0"},{"n":["heard & mcdonald islands flag","flag-hm"],"u":"1f1ed-1f1f2"},{"n":["honduras flag","flag-hn"],"u":"1f1ed-1f1f3"},{"n":["croatia flag","flag-hr"],"u":"1f1ed-1f1f7"},{"n":["haiti flag","flag-ht"],"u":"1f1ed-1f1f9"},{"n":["hungary flag","flag-hu"],"u":"1f1ed-1f1fa"},{"n":["canary islands flag","flag-ic"],"u":"1f1ee-1f1e8"},{"n":["indonesia flag","flag-id"],"u":"1f1ee-1f1e9"},{"n":["ireland flag","flag-ie"],"u":"1f1ee-1f1ea"},{"n":["israel flag","flag-il"],"u":"1f1ee-1f1f1"},{"n":["isle of man flag","flag-im"],"u":"1f1ee-1f1f2"},{"n":["india flag","flag-in"],"u":"1f1ee-1f1f3"},{"n":["british indian ocean territory flag","flag-io"],"u":"1f1ee-1f1f4"},{"n":["iraq flag","flag-iq"],"u":"1f1ee-1f1f6"},{"n":["iran flag","flag-ir"],"u":"1f1ee-1f1f7"},{"n":["iceland flag","flag-is"],"u":"1f1ee-1f1f8"},{"n":["italy flag","it","flag-it"],"u":"1f1ee-1f1f9"},{"n":["jersey flag","flag-je"],"u":"1f1ef-1f1ea"},{"n":["jamaica flag","flag-jm"],"u":"1f1ef-1f1f2"},{"n":["jordan flag","flag-jo"],"u":"1f1ef-1f1f4"},{"n":["japan flag","jp","flag-jp"],"u":"1f1ef-1f1f5"},{"n":["kenya flag","flag-ke"],"u":"1f1f0-1f1ea"},{"n":["kyrgyzstan flag","flag-kg"],"u":"1f1f0-1f1ec"},{"n":["cambodia flag","flag-kh"],"u":"1f1f0-1f1ed"},{"n":["kiribati flag","flag-ki"],"u":"1f1f0-1f1ee"},{"n":["comoros flag","flag-km"],"u":"1f1f0-1f1f2"},{"n":["st. kitts & nevis flag","flag-kn"],"u":"1f1f0-1f1f3"},{"n":["north korea flag","flag-kp"],"u":"1f1f0-1f1f5"},{"n":["south korea flag","kr","flag-kr"],"u":"1f1f0-1f1f7"},{"n":["kuwait flag","flag-kw"],"u":"1f1f0-1f1fc"},{"n":["cayman islands flag","flag-ky"],"u":"1f1f0-1f1fe"},{"n":["kazakhstan flag","flag-kz"],"u":"1f1f0-1f1ff"},{"n":["laos flag","flag-la"],"u":"1f1f1-1f1e6"},{"n":["lebanon flag","flag-lb"],"u":"1f1f1-1f1e7"},{"n":["st. lucia flag","flag-lc"],"u":"1f1f1-1f1e8"},{"n":["liechtenstein flag","flag-li"],"u":"1f1f1-1f1ee"},{"n":["sri lanka flag","flag-lk"],"u":"1f1f1-1f1f0"},{"n":["liberia flag","flag-lr"],"u":"1f1f1-1f1f7"},{"n":["lesotho flag","flag-ls"],"u":"1f1f1-1f1f8"},{"n":["lithuania flag","flag-lt"],"u":"1f1f1-1f1f9"},{"n":["luxembourg flag","flag-lu"],"u":"1f1f1-1f1fa"},{"n":["latvia flag","flag-lv"],"u":"1f1f1-1f1fb"},{"n":["libya flag","flag-ly"],"u":"1f1f1-1f1fe"},{"n":["morocco flag","flag-ma"],"u":"1f1f2-1f1e6"},{"n":["monaco flag","flag-mc"],"u":"1f1f2-1f1e8"},{"n":["moldova flag","flag-md"],"u":"1f1f2-1f1e9"},{"n":["montenegro flag","flag-me"],"u":"1f1f2-1f1ea"},{"n":["st. martin flag","flag-mf"],"u":"1f1f2-1f1eb"},{"n":["madagascar flag","flag-mg"],"u":"1f1f2-1f1ec"},{"n":["marshall islands flag","flag-mh"],"u":"1f1f2-1f1ed"},{"n":["macedonia flag","flag-mk"],"u":"1f1f2-1f1f0"},{"n":["mali flag","flag-ml"],"u":"1f1f2-1f1f1"},{"n":["myanmar (burma) flag","flag-mm"],"u":"1f1f2-1f1f2"},{"n":["mongolia flag","flag-mn"],"u":"1f1f2-1f1f3"},{"n":["macau sar china flag","flag-mo"],"u":"1f1f2-1f1f4"},{"n":["northern mariana islands flag","flag-mp"],"u":"1f1f2-1f1f5"},{"n":["martinique flag","flag-mq"],"u":"1f1f2-1f1f6"},{"n":["mauritania flag","flag-mr"],"u":"1f1f2-1f1f7"},{"n":["montserrat flag","flag-ms"],"u":"1f1f2-1f1f8"},{"n":["malta flag","flag-mt"],"u":"1f1f2-1f1f9"},{"n":["mauritius flag","flag-mu"],"u":"1f1f2-1f1fa"},{"n":["maldives flag","flag-mv"],"u":"1f1f2-1f1fb"},{"n":["malawi flag","flag-mw"],"u":"1f1f2-1f1fc"},{"n":["mexico flag","flag-mx"],"u":"1f1f2-1f1fd"},{"n":["malaysia flag","flag-my"],"u":"1f1f2-1f1fe"},{"n":["mozambique flag","flag-mz"],"u":"1f1f2-1f1ff"},{"n":["namibia flag","flag-na"],"u":"1f1f3-1f1e6"},{"n":["new caledonia flag","flag-nc"],"u":"1f1f3-1f1e8"},{"n":["niger flag","flag-ne"],"u":"1f1f3-1f1ea"},{"n":["norfolk island flag","flag-nf"],"u":"1f1f3-1f1eb"},{"n":["nigeria flag","flag-ng"],"u":"1f1f3-1f1ec"},{"n":["nicaragua flag","flag-ni"],"u":"1f1f3-1f1ee"},{"n":["netherlands flag","flag-nl"],"u":"1f1f3-1f1f1"},{"n":["norway flag","flag-no"],"u":"1f1f3-1f1f4"},{"n":["nepal flag","flag-np"],"u":"1f1f3-1f1f5"},{"n":["nauru flag","flag-nr"],"u":"1f1f3-1f1f7"},{"n":["niue flag","flag-nu"],"u":"1f1f3-1f1fa"},{"n":["new zealand flag","flag-nz"],"u":"1f1f3-1f1ff"},{"n":["oman flag","flag-om"],"u":"1f1f4-1f1f2"},{"n":["panama flag","flag-pa"],"u":"1f1f5-1f1e6"},{"n":["peru flag","flag-pe"],"u":"1f1f5-1f1ea"},{"n":["french polynesia flag","flag-pf"],"u":"1f1f5-1f1eb"},{"n":["papua new guinea flag","flag-pg"],"u":"1f1f5-1f1ec"},{"n":["philippines flag","flag-ph"],"u":"1f1f5-1f1ed"},{"n":["pakistan flag","flag-pk"],"u":"1f1f5-1f1f0"},{"n":["poland flag","flag-pl"],"u":"1f1f5-1f1f1"},{"n":["st. pierre & miquelon flag","flag-pm"],"u":"1f1f5-1f1f2"},{"n":["pitcairn islands flag","flag-pn"],"u":"1f1f5-1f1f3"},{"n":["puerto rico flag","flag-pr"],"u":"1f1f5-1f1f7"},{"n":["palestinian territories flag","flag-ps"],"u":"1f1f5-1f1f8"},{"n":["portugal flag","flag-pt"],"u":"1f1f5-1f1f9"},{"n":["palau flag","flag-pw"],"u":"1f1f5-1f1fc"},{"n":["paraguay flag","flag-py"],"u":"1f1f5-1f1fe"},{"n":["qatar flag","flag-qa"],"u":"1f1f6-1f1e6"},{"n":["r\xe9union flag","flag-re"],"u":"1f1f7-1f1ea"},{"n":["romania flag","flag-ro"],"u":"1f1f7-1f1f4"},{"n":["serbia flag","flag-rs"],"u":"1f1f7-1f1f8"},{"n":["russia flag","ru","flag-ru"],"u":"1f1f7-1f1fa"},{"n":["rwanda flag","flag-rw"],"u":"1f1f7-1f1fc"},{"n":["saudi arabia flag","flag-sa"],"u":"1f1f8-1f1e6"},{"n":["solomon islands flag","flag-sb"],"u":"1f1f8-1f1e7"},{"n":["seychelles flag","flag-sc"],"u":"1f1f8-1f1e8"},{"n":["sudan flag","flag-sd"],"u":"1f1f8-1f1e9"},{"n":["sweden flag","flag-se"],"u":"1f1f8-1f1ea"},{"n":["singapore flag","flag-sg"],"u":"1f1f8-1f1ec"},{"n":["st. helena flag","flag-sh"],"u":"1f1f8-1f1ed"},{"n":["slovenia flag","flag-si"],"u":"1f1f8-1f1ee"},{"n":["svalbard & jan mayen flag","flag-sj"],"u":"1f1f8-1f1ef"},{"n":["slovakia flag","flag-sk"],"u":"1f1f8-1f1f0"},{"n":["sierra leone flag","flag-sl"],"u":"1f1f8-1f1f1"},{"n":["san marino flag","flag-sm"],"u":"1f1f8-1f1f2"},{"n":["senegal flag","flag-sn"],"u":"1f1f8-1f1f3"},{"n":["somalia flag","flag-so"],"u":"1f1f8-1f1f4"},{"n":["suriname flag","flag-sr"],"u":"1f1f8-1f1f7"},{"n":["south sudan flag","flag-ss"],"u":"1f1f8-1f1f8"},{"n":["s\xe3o tom\xe9 & pr\xedncipe flag","flag-st"],"u":"1f1f8-1f1f9"},{"n":["el salvador flag","flag-sv"],"u":"1f1f8-1f1fb"},{"n":["sint maarten flag","flag-sx"],"u":"1f1f8-1f1fd"},{"n":["syria flag","flag-sy"],"u":"1f1f8-1f1fe"},{"n":["swaziland flag","flag-sz"],"u":"1f1f8-1f1ff"},{"n":["tristan da cunha flag","flag-ta"],"u":"1f1f9-1f1e6"},{"n":["turks & caicos islands flag","flag-tc"],"u":"1f1f9-1f1e8"},{"n":["chad flag","flag-td"],"u":"1f1f9-1f1e9"},{"n":["french southern territories flag","flag-tf"],"u":"1f1f9-1f1eb"},{"n":["togo flag","flag-tg"],"u":"1f1f9-1f1ec"},{"n":["thailand flag","flag-th"],"u":"1f1f9-1f1ed"},{"n":["tajikistan flag","flag-tj"],"u":"1f1f9-1f1ef"},{"n":["tokelau flag","flag-tk"],"u":"1f1f9-1f1f0"},{"n":["timor-leste flag","flag-tl"],"u":"1f1f9-1f1f1"},{"n":["turkmenistan flag","flag-tm"],"u":"1f1f9-1f1f2"},{"n":["tunisia flag","flag-tn"],"u":"1f1f9-1f1f3"},{"n":["tonga flag","flag-to"],"u":"1f1f9-1f1f4"},{"n":["turkey flag","flag-tr"],"u":"1f1f9-1f1f7"},{"n":["trinidad & tobago flag","flag-tt"],"u":"1f1f9-1f1f9"},{"n":["tuvalu flag","flag-tv"],"u":"1f1f9-1f1fb"},{"n":["taiwan flag","flag-tw"],"u":"1f1f9-1f1fc"},{"n":["tanzania flag","flag-tz"],"u":"1f1f9-1f1ff"},{"n":["ukraine flag","flag-ua"],"u":"1f1fa-1f1e6"},{"n":["uganda flag","flag-ug"],"u":"1f1fa-1f1ec"},{"n":["u.s. outlying islands flag","flag-um"],"u":"1f1fa-1f1f2"},{"n":["united nations flag","flag-un"],"u":"1f1fa-1f1f3"},{"n":["united states flag","us","flag-us"],"u":"1f1fa-1f1f8"},{"n":["uruguay flag","flag-uy"],"u":"1f1fa-1f1fe"},{"n":["uzbekistan flag","flag-uz"],"u":"1f1fa-1f1ff"},{"n":["vatican city flag","flag-va"],"u":"1f1fb-1f1e6"},{"n":["st. vincent & grenadines flag","flag-vc"],"u":"1f1fb-1f1e8"},{"n":["venezuela flag","flag-ve"],"u":"1f1fb-1f1ea"},{"n":["british virgin islands flag","flag-vg"],"u":"1f1fb-1f1ec"},{"n":["u.s. virgin islands flag","flag-vi"],"u":"1f1fb-1f1ee"},{"n":["vietnam flag","flag-vn"],"u":"1f1fb-1f1f3"},{"n":["vanuatu flag","flag-vu"],"u":"1f1fb-1f1fa"},{"n":["wallis & futuna flag","flag-wf"],"u":"1f1fc-1f1eb"},{"n":["samoa flag","flag-ws"],"u":"1f1fc-1f1f8"},{"n":["kosovo flag","flag-xk"],"u":"1f1fd-1f1f0"},{"n":["yemen flag","flag-ye"],"u":"1f1fe-1f1ea"},{"n":["mayotte flag","flag-yt"],"u":"1f1fe-1f1f9"},{"n":["south africa flag","flag-za"],"u":"1f1ff-1f1e6"},{"n":["zambia flag","flag-zm"],"u":"1f1ff-1f1f2"},{"n":["zimbabwe flag","flag-zw"],"u":"1f1ff-1f1fc"},{"n":["england flag","flag-england"],"u":"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f"},{"n":["scotland flag","flag-scotland"],"u":"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f"},{"n":["wales flag","flag-wales"],"u":"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f"}],"symbols":[{"n":["automated teller machine","atm"],"u":"1f3e7"},{"n":["put litter in its place symbol","put_litter_in_its_place"],"u":"1f6ae"},{"n":["potable water symbol","potable_water"],"u":"1f6b0"},{"n":["wheelchair symbol","wheelchair"],"u":"267f"},{"n":["mens symbol","mens"],"u":"1f6b9"},{"n":["womens symbol","womens"],"u":"1f6ba"},{"n":["restroom"],"u":"1f6bb"},{"n":["baby symbol","baby_symbol"],"u":"1f6bc"},{"n":["water closet","wc"],"u":"1f6be"},{"n":["passport control","passport_control"],"u":"1f6c2"},{"n":["customs"],"u":"1f6c3"},{"n":["baggage claim","baggage_claim"],"u":"1f6c4"},{"n":["left luggage","left_luggage"],"u":"1f6c5"},{"n":["warning sign","warning"],"u":"26a0-fe0f"},{"n":["children crossing","children_crossing"],"u":"1f6b8"},{"n":["no entry","no_entry"],"u":"26d4"},{"n":["no entry sign","no_entry_sign"],"u":"1f6ab"},{"n":["no bicycles","no_bicycles"],"u":"1f6b3"},{"n":["no smoking symbol","no_smoking"],"u":"1f6ad"},{"n":["do not litter symbol","do_not_litter"],"u":"1f6af"},{"n":["non-potable water symbol","non-potable_water"],"u":"1f6b1"},{"n":["no pedestrians","no_pedestrians"],"u":"1f6b7"},{"n":["no mobile phones","no_mobile_phones"],"u":"1f4f5"},{"n":["no one under eighteen symbol","underage"],"u":"1f51e"},{"n":["radioactive_sign"],"u":"2622-fe0f"},{"n":["biohazard_sign"],"u":"2623-fe0f"},{"n":["upwards black arrow","arrow_up"],"u":"2b06-fe0f"},{"n":["north east arrow","arrow_upper_right"],"u":"2197-fe0f"},{"n":["black rightwards arrow","arrow_right"],"u":"27a1-fe0f"},{"n":["south east arrow","arrow_lower_right"],"u":"2198-fe0f"},{"n":["downwards black arrow","arrow_down"],"u":"2b07-fe0f"},{"n":["south west arrow","arrow_lower_left"],"u":"2199-fe0f"},{"n":["leftwards black arrow","arrow_left"],"u":"2b05-fe0f"},{"n":["north west arrow","arrow_upper_left"],"u":"2196-fe0f"},{"n":["up down arrow","arrow_up_down"],"u":"2195-fe0f"},{"n":["left right arrow","left_right_arrow"],"u":"2194-fe0f"},{"n":["leftwards arrow with hook","leftwards_arrow_with_hook"],"u":"21a9-fe0f"},{"n":["rightwards arrow with hook","arrow_right_hook"],"u":"21aa-fe0f"},{"n":["arrow pointing rightwards then curving upwards","arrow_heading_up"],"u":"2934-fe0f"},{"n":["arrow pointing rightwards then curving downwards","arrow_heading_down"],"u":"2935-fe0f"},{"n":["clockwise downwards and upwards open circle arrows","arrows_clockwise"],"u":"1f503"},{"n":["anticlockwise downwards and upwards open circle arrows","arrows_counterclockwise"],"u":"1f504"},{"n":["back with leftwards arrow above","back"],"u":"1f519"},{"n":["end with leftwards arrow above","end"],"u":"1f51a"},{"n":["on with exclamation mark with left right arrow above","on"],"u":"1f51b"},{"n":["soon with rightwards arrow above","soon"],"u":"1f51c"},{"n":["top with upwards arrow above","top"],"u":"1f51d"},{"n":["place of worship","place_of_worship"],"u":"1f6d0"},{"n":["atom_symbol"],"u":"269b-fe0f"},{"n":["om_symbol"],"u":"1f549-fe0f"},{"n":["star_of_david"],"u":"2721-fe0f"},{"n":["wheel_of_dharma"],"u":"2638-fe0f"},{"n":["yin_yang"],"u":"262f-fe0f"},{"n":["latin_cross"],"u":"271d-fe0f"},{"n":["orthodox_cross"],"u":"2626-fe0f"},{"n":["star_and_crescent"],"u":"262a-fe0f"},{"n":["peace_symbol"],"u":"262e-fe0f"},{"n":["menorah with nine branches","menorah_with_nine_branches"],"u":"1f54e"},{"n":["six pointed star with middle dot","six_pointed_star"],"u":"1f52f"},{"n":["aries"],"u":"2648"},{"n":["taurus"],"u":"2649"},{"n":["gemini"],"u":"264a"},{"n":["cancer"],"u":"264b"},{"n":["leo"],"u":"264c"},{"n":["virgo"],"u":"264d"},{"n":["libra"],"u":"264e"},{"n":["scorpius"],"u":"264f"},{"n":["sagittarius"],"u":"2650"},{"n":["capricorn"],"u":"2651"},{"n":["aquarius"],"u":"2652"},{"n":["pisces"],"u":"2653"},{"n":["ophiuchus"],"u":"26ce"},{"n":["twisted rightwards arrows","twisted_rightwards_arrows"],"u":"1f500"},{"n":["clockwise rightwards and leftwards open circle arrows","repeat"],"u":"1f501"},{"n":["clockwise rightwards and leftwards open circle arrows with circled one overlay","repeat_one"],"u":"1f502"},{"n":["black right-pointing triangle","arrow_forward"],"u":"25b6-fe0f"},{"n":["black right-pointing double triangle","fast_forward"],"u":"23e9"},{"n":["black_right_pointing_double_triangle_with_vertical_bar"],"u":"23ed-fe0f"},{"n":["black_right_pointing_triangle_with_double_vertical_bar"],"u":"23ef-fe0f"},{"n":["black left-pointing triangle","arrow_backward"],"u":"25c0-fe0f"},{"n":["black left-pointing double triangle","rewind"],"u":"23ea"},{"n":["black_left_pointing_double_triangle_with_vertical_bar"],"u":"23ee-fe0f"},{"n":["up-pointing small red triangle","arrow_up_small"],"u":"1f53c"},{"n":["black up-pointing double triangle","arrow_double_up"],"u":"23eb"},{"n":["down-pointing small red triangle","arrow_down_small"],"u":"1f53d"},{"n":["black down-pointing double triangle","arrow_double_down"],"u":"23ec"},{"n":["double_vertical_bar"],"u":"23f8-fe0f"},{"n":["black_square_for_stop"],"u":"23f9-fe0f"},{"n":["black_circle_for_record"],"u":"23fa-fe0f"},{"n":["eject"],"u":"23cf-fe0f"},{"n":["cinema"],"u":"1f3a6"},{"n":["low brightness symbol","low_brightness"],"u":"1f505"},{"n":["high brightness symbol","high_brightness"],"u":"1f506"},{"n":["antenna with bars","signal_strength"],"u":"1f4f6"},{"n":["vibration mode","vibration_mode"],"u":"1f4f3"},{"n":["mobile phone off","mobile_phone_off"],"u":"1f4f4"},{"n":["female_sign"],"u":"2640-fe0f"},{"n":["male_sign"],"u":"2642-fe0f"},{"n":["medical_symbol","staff_of_aesculapius"],"u":"2695-fe0f"},{"n":["black universal recycling symbol","recycle"],"u":"267b-fe0f"},{"n":["fleur_de_lis"],"u":"269c-fe0f"},{"n":["trident emblem","trident"],"u":"1f531"},{"n":["name badge","name_badge"],"u":"1f4db"},{"n":["japanese symbol for beginner","beginner"],"u":"1f530"},{"n":["heavy large circle","o"],"u":"2b55"},{"n":["white heavy check mark","white_check_mark"],"u":"2705"},{"n":["ballot box with check","ballot_box_with_check"],"u":"2611-fe0f"},{"n":["heavy check mark","heavy_check_mark"],"u":"2714-fe0f"},{"n":["heavy multiplication x","heavy_multiplication_x"],"u":"2716-fe0f"},{"n":["cross mark","x"],"u":"274c"},{"n":["negative squared cross mark","negative_squared_cross_mark"],"u":"274e"},{"n":["heavy plus sign","heavy_plus_sign"],"u":"2795"},{"n":["heavy minus sign","heavy_minus_sign"],"u":"2796"},{"n":["heavy division sign","heavy_division_sign"],"u":"2797"},{"n":["curly loop","curly_loop"],"u":"27b0"},{"n":["double curly loop","loop"],"u":"27bf"},{"n":["part alternation mark","part_alternation_mark"],"u":"303d-fe0f"},{"n":["eight spoked asterisk","eight_spoked_asterisk"],"u":"2733-fe0f"},{"n":["eight pointed black star","eight_pointed_black_star"],"u":"2734-fe0f"},{"n":["sparkle"],"u":"2747-fe0f"},{"n":["double exclamation mark","bangbang"],"u":"203c-fe0f"},{"n":["exclamation question mark","interrobang"],"u":"2049-fe0f"},{"n":["black question mark ornament","question"],"u":"2753"},{"n":["white question mark ornament","grey_question"],"u":"2754"},{"n":["white exclamation mark ornament","grey_exclamation"],"u":"2755"},{"n":["heavy exclamation mark symbol","exclamation","heavy_exclamation_mark"],"u":"2757"},{"n":["wavy dash","wavy_dash"],"u":"3030-fe0f"},{"n":["copyright sign","copyright"],"u":"00a9-fe0f"},{"n":["registered sign","registered"],"u":"00ae-fe0f"},{"n":["trade mark sign","tm"],"u":"2122-fe0f"},{"n":["hash key","hash"],"u":"0023-fe0f-20e3"},{"n":["keycap_star"],"u":"002a-fe0f-20e3"},{"n":["keycap 0","zero"],"u":"0030-fe0f-20e3"},{"n":["keycap 1","one"],"u":"0031-fe0f-20e3"},{"n":["keycap 2","two"],"u":"0032-fe0f-20e3"},{"n":["keycap 3","three"],"u":"0033-fe0f-20e3"},{"n":["keycap 4","four"],"u":"0034-fe0f-20e3"},{"n":["keycap 5","five"],"u":"0035-fe0f-20e3"},{"n":["keycap 6","six"],"u":"0036-fe0f-20e3"},{"n":["keycap 7","seven"],"u":"0037-fe0f-20e3"},{"n":["keycap 8","eight"],"u":"0038-fe0f-20e3"},{"n":["keycap 9","nine"],"u":"0039-fe0f-20e3"},{"n":["keycap ten","keycap_ten"],"u":"1f51f"},{"n":["hundred points symbol","100"],"u":"1f4af"},{"n":["input symbol for latin capital letters","capital_abcd"],"u":"1f520"},{"n":["input symbol for latin small letters","abcd"],"u":"1f521"},{"n":["input symbol for numbers","1234"],"u":"1f522"},{"n":["input symbol for symbols","symbols"],"u":"1f523"},{"n":["input symbol for latin letters","abc"],"u":"1f524"},{"n":["negative squared latin capital letter a","a"],"u":"1f170-fe0f"},{"n":["negative squared ab","ab"],"u":"1f18e"},{"n":["negative squared latin capital letter b","b"],"u":"1f171-fe0f"},{"n":["squared cl","cl"],"u":"1f191"},{"n":["squared cool","cool"],"u":"1f192"},{"n":["squared free","free"],"u":"1f193"},{"n":["information source","information_source"],"u":"2139-fe0f"},{"n":["squared id","id"],"u":"1f194"},{"n":["circled latin capital letter m","m"],"u":"24c2-fe0f"},{"n":["squared new","new"],"u":"1f195"},{"n":["squared ng","ng"],"u":"1f196"},{"n":["negative squared latin capital letter o","o2"],"u":"1f17e-fe0f"},{"n":["squared ok","ok"],"u":"1f197"},{"n":["negative squared latin capital letter p","parking"],"u":"1f17f-fe0f"},{"n":["squared sos","sos"],"u":"1f198"},{"n":["squared up with exclamation mark","up"],"u":"1f199"},{"n":["squared vs","vs"],"u":"1f19a"},{"n":["squared katakana koko","koko"],"u":"1f201"},{"n":["squared katakana sa","sa"],"u":"1f202-fe0f"},{"n":["squared cjk unified ideograph-6708","u6708"],"u":"1f237-fe0f"},{"n":["squared cjk unified ideograph-6709","u6709"],"u":"1f236"},{"n":["squared cjk unified ideograph-6307","u6307"],"u":"1f22f"},{"n":["circled ideograph advantage","ideograph_advantage"],"u":"1f250"},{"n":["squared cjk unified ideograph-5272","u5272"],"u":"1f239"},{"n":["squared cjk unified ideograph-7121","u7121"],"u":"1f21a"},{"n":["squared cjk unified ideograph-7981","u7981"],"u":"1f232"},{"n":["circled ideograph accept","accept"],"u":"1f251"},{"n":["squared cjk unified ideograph-7533","u7533"],"u":"1f238"},{"n":["squared cjk unified ideograph-5408","u5408"],"u":"1f234"},{"n":["squared cjk unified ideograph-7a7a","u7a7a"],"u":"1f233"},{"n":["circled ideograph congratulation","congratulations"],"u":"3297-fe0f"},{"n":["circled ideograph secret","secret"],"u":"3299-fe0f"},{"n":["squared cjk unified ideograph-55b6","u55b6"],"u":"1f23a"},{"n":["squared cjk unified ideograph-6e80","u6e80"],"u":"1f235"},{"n":["black small square","black_small_square"],"u":"25aa-fe0f"},{"n":["white small square","white_small_square"],"u":"25ab-fe0f"},{"n":["white medium square","white_medium_square"],"u":"25fb-fe0f"},{"n":["black medium square","black_medium_square"],"u":"25fc-fe0f"},{"n":["white medium small square","white_medium_small_square"],"u":"25fd"},{"n":["black medium small square","black_medium_small_square"],"u":"25fe"},{"n":["black large square","black_large_square"],"u":"2b1b"},{"n":["white large square","white_large_square"],"u":"2b1c"},{"n":["large orange diamond","large_orange_diamond"],"u":"1f536"},{"n":["large blue diamond","large_blue_diamond"],"u":"1f537"},{"n":["small orange diamond","small_orange_diamond"],"u":"1f538"},{"n":["small blue diamond","small_blue_diamond"],"u":"1f539"},{"n":["up-pointing red triangle","small_red_triangle"],"u":"1f53a"},{"n":["down-pointing red triangle","small_red_triangle_down"],"u":"1f53b"},{"n":["diamond shape with a dot inside","diamond_shape_with_a_dot_inside"],"u":"1f4a0"},{"n":["radio button","radio_button"],"u":"1f518"},{"n":["black square button","black_square_button"],"u":"1f532"},{"n":["white square button","white_square_button"],"u":"1f533"},{"n":["medium white circle","white_circle"],"u":"26aa"},{"n":["medium black circle","black_circle"],"u":"26ab"},{"n":["large red circle","red_circle"],"u":"1f534"},{"n":["large blue circle","large_blue_circle"],"u":"1f535"}],"animals_nature":[{"n":["monkey face","monkey_face"],"u":"1f435"},{"n":["monkey"],"u":"1f412"},{"n":["gorilla"],"u":"1f98d"},{"n":["dog face","dog"],"u":"1f436"},{"n":["dog","dog2"],"u":"1f415"},{"n":["poodle"],"u":"1f429"},{"n":["wolf face","wolf"],"u":"1f43a"},{"n":["fox face","fox_face"],"u":"1f98a"},{"n":["cat face","cat"],"u":"1f431"},{"n":["cat","cat2"],"u":"1f408"},{"n":["lion face","lion_face"],"u":"1f981"},{"n":["tiger face","tiger"],"u":"1f42f"},{"n":["tiger","tiger2"],"u":"1f405"},{"n":["leopard"],"u":"1f406"},{"n":["horse face","horse"],"u":"1f434"},{"n":["horse","racehorse"],"u":"1f40e"},{"n":["unicorn face","unicorn_face"],"u":"1f984"},{"n":["zebra face","zebra_face"],"u":"1f993"},{"n":["deer"],"u":"1f98c"},{"n":["cow face","cow"],"u":"1f42e"},{"n":["ox"],"u":"1f402"},{"n":["water buffalo","water_buffalo"],"u":"1f403"},{"n":["cow","cow2"],"u":"1f404"},{"n":["pig face","pig"],"u":"1f437"},{"n":["pig","pig2"],"u":"1f416"},{"n":["boar"],"u":"1f417"},{"n":["pig nose","pig_nose"],"u":"1f43d"},{"n":["ram"],"u":"1f40f"},{"n":["sheep"],"u":"1f411"},{"n":["goat"],"u":"1f410"},{"n":["dromedary camel","dromedary_camel"],"u":"1f42a"},{"n":["bactrian camel","camel"],"u":"1f42b"},{"n":["giraffe face","giraffe_face"],"u":"1f992"},{"n":["elephant"],"u":"1f418"},{"n":["rhinoceros"],"u":"1f98f"},{"n":["mouse face","mouse"],"u":"1f42d"},{"n":["mouse","mouse2"],"u":"1f401"},{"n":["rat"],"u":"1f400"},{"n":["hamster face","hamster"],"u":"1f439"},{"n":["rabbit face","rabbit"],"u":"1f430"},{"n":["rabbit","rabbit2"],"u":"1f407"},{"n":["chipmunk"],"u":"1f43f-fe0f"},{"n":["hedgehog"],"u":"1f994"},{"n":["bat"],"u":"1f987"},{"n":["bear face","bear"],"u":"1f43b"},{"n":["koala"],"u":"1f428"},{"n":["panda face","panda_face"],"u":"1f43c"},{"n":["paw prints","feet","paw_prints"],"u":"1f43e"},{"n":["turkey"],"u":"1f983"},{"n":["chicken"],"u":"1f414"},{"n":["rooster"],"u":"1f413"},{"n":["hatching chick","hatching_chick"],"u":"1f423"},{"n":["baby chick","baby_chick"],"u":"1f424"},{"n":["front-facing baby chick","hatched_chick"],"u":"1f425"},{"n":["bird"],"u":"1f426"},{"n":["penguin"],"u":"1f427"},{"n":["dove_of_peace"],"u":"1f54a-fe0f"},{"n":["eagle"],"u":"1f985"},{"n":["duck"],"u":"1f986"},{"n":["owl"],"u":"1f989"},{"n":["frog face","frog"],"u":"1f438"},{"n":["crocodile"],"u":"1f40a"},{"n":["turtle"],"u":"1f422"},{"n":["lizard"],"u":"1f98e"},{"n":["snake"],"u":"1f40d"},{"n":["dragon face","dragon_face"],"u":"1f432"},{"n":["dragon"],"u":"1f409"},{"n":["sauropod"],"u":"1f995"},{"n":["t-rex"],"u":"1f996"},{"n":["spouting whale","whale"],"u":"1f433"},{"n":["whale","whale2"],"u":"1f40b"},{"n":["dolphin","flipper"],"u":"1f42c"},{"n":["fish"],"u":"1f41f"},{"n":["tropical fish","tropical_fish"],"u":"1f420"},{"n":["blowfish"],"u":"1f421"},{"n":["shark"],"u":"1f988"},{"n":["octopus"],"u":"1f419"},{"n":["spiral shell","shell"],"u":"1f41a"},{"n":["crab"],"u":"1f980"},{"n":["shrimp"],"u":"1f990"},{"n":["squid"],"u":"1f991"},{"n":["snail"],"u":"1f40c"},{"n":["butterfly"],"u":"1f98b"},{"n":["bug"],"u":"1f41b"},{"n":["ant"],"u":"1f41c"},{"n":["honeybee","bee"],"u":"1f41d"},{"n":["lady beetle","beetle"],"u":"1f41e"},{"n":["cricket"],"u":"1f997"},{"n":["spider"],"u":"1f577-fe0f"},{"n":["spider_web"],"u":"1f578-fe0f"},{"n":["scorpion"],"u":"1f982"},{"n":["bouquet"],"u":"1f490"},{"n":["cherry blossom","cherry_blossom"],"u":"1f338"},{"n":["white flower","white_flower"],"u":"1f4ae"},{"n":["rosette"],"u":"1f3f5-fe0f"},{"n":["rose"],"u":"1f339"},{"n":["wilted flower","wilted_flower"],"u":"1f940"},{"n":["hibiscus"],"u":"1f33a"},{"n":["sunflower"],"u":"1f33b"},{"n":["blossom"],"u":"1f33c"},{"n":["tulip"],"u":"1f337"},{"n":["seedling"],"u":"1f331"},{"n":["evergreen tree","evergreen_tree"],"u":"1f332"},{"n":["deciduous tree","deciduous_tree"],"u":"1f333"},{"n":["palm tree","palm_tree"],"u":"1f334"},{"n":["cactus"],"u":"1f335"},{"n":["ear of rice","ear_of_rice"],"u":"1f33e"},{"n":["herb"],"u":"1f33f"},{"n":["shamrock"],"u":"2618-fe0f"},{"n":["four leaf clover","four_leaf_clover"],"u":"1f340"},{"n":["maple leaf","maple_leaf"],"u":"1f341"},{"n":["fallen leaf","fallen_leaf"],"u":"1f342"},{"n":["leaf fluttering in wind","leaves"],"u":"1f343"}],"objects":[{"n":["speaker with cancellation stroke","mute"],"u":"1f507"},{"n":["speaker"],"u":"1f508"},{"n":["speaker with one sound wave","sound"],"u":"1f509"},{"n":["speaker with three sound waves","loud_sound"],"u":"1f50a"},{"n":["public address loudspeaker","loudspeaker"],"u":"1f4e2"},{"n":["cheering megaphone","mega"],"u":"1f4e3"},{"n":["postal horn","postal_horn"],"u":"1f4ef"},{"n":["bell"],"u":"1f514"},{"n":["bell with cancellation stroke","no_bell"],"u":"1f515"},{"n":["musical score","musical_score"],"u":"1f3bc"},{"n":["musical note","musical_note"],"u":"1f3b5"},{"n":["multiple musical notes","notes"],"u":"1f3b6"},{"n":["studio_microphone"],"u":"1f399-fe0f"},{"n":["level_slider"],"u":"1f39a-fe0f"},{"n":["control_knobs"],"u":"1f39b-fe0f"},{"n":["microphone"],"u":"1f3a4"},{"n":["headphone","headphones"],"u":"1f3a7"},{"n":["radio"],"u":"1f4fb"},{"n":["saxophone"],"u":"1f3b7"},{"n":["guitar"],"u":"1f3b8"},{"n":["musical keyboard","musical_keyboard"],"u":"1f3b9"},{"n":["trumpet"],"u":"1f3ba"},{"n":["violin"],"u":"1f3bb"},{"n":["drum with drumsticks","drum_with_drumsticks"],"u":"1f941"},{"n":["mobile phone","iphone"],"u":"1f4f1"},{"n":["mobile phone with rightwards arrow at left","calling"],"u":"1f4f2"},{"n":["black telephone","phone","telephone"],"u":"260e-fe0f"},{"n":["telephone receiver","telephone_receiver"],"u":"1f4de"},{"n":["pager"],"u":"1f4df"},{"n":["fax machine","fax"],"u":"1f4e0"},{"n":["battery"],"u":"1f50b"},{"n":["electric plug","electric_plug"],"u":"1f50c"},{"n":["personal computer","computer"],"u":"1f4bb"},{"n":["desktop_computer"],"u":"1f5a5-fe0f"},{"n":["printer"],"u":"1f5a8-fe0f"},{"n":["keyboard"],"u":"2328-fe0f"},{"n":["three_button_mouse"],"u":"1f5b1-fe0f"},{"n":["trackball"],"u":"1f5b2-fe0f"},{"n":["minidisc"],"u":"1f4bd"},{"n":["floppy disk","floppy_disk"],"u":"1f4be"},{"n":["optical disc","cd"],"u":"1f4bf"},{"n":["dvd"],"u":"1f4c0"},{"n":["movie camera","movie_camera"],"u":"1f3a5"},{"n":["film_frames"],"u":"1f39e-fe0f"},{"n":["film_projector"],"u":"1f4fd-fe0f"},{"n":["clapper board","clapper"],"u":"1f3ac"},{"n":["television","tv"],"u":"1f4fa"},{"n":["camera"],"u":"1f4f7"},{"n":["camera with flash","camera_with_flash"],"u":"1f4f8"},{"n":["video camera","video_camera"],"u":"1f4f9"},{"n":["videocassette","vhs"],"u":"1f4fc"},{"n":["left-pointing magnifying glass","mag"],"u":"1f50d"},{"n":["right-pointing magnifying glass","mag_right"],"u":"1f50e"},{"n":["microscope"],"u":"1f52c"},{"n":["telescope"],"u":"1f52d"},{"n":["satellite antenna","satellite_antenna"],"u":"1f4e1"},{"n":["candle"],"u":"1f56f-fe0f"},{"n":["electric light bulb","bulb"],"u":"1f4a1"},{"n":["electric torch","flashlight"],"u":"1f526"},{"n":["izakaya lantern","izakaya_lantern","lantern"],"u":"1f3ee"},{"n":["notebook with decorative cover","notebook_with_decorative_cover"],"u":"1f4d4"},{"n":["closed book","closed_book"],"u":"1f4d5"},{"n":["open book","book","open_book"],"u":"1f4d6"},{"n":["green book","green_book"],"u":"1f4d7"},{"n":["blue book","blue_book"],"u":"1f4d8"},{"n":["orange book","orange_book"],"u":"1f4d9"},{"n":["books"],"u":"1f4da"},{"n":["notebook"],"u":"1f4d3"},{"n":["ledger"],"u":"1f4d2"},{"n":["page with curl","page_with_curl"],"u":"1f4c3"},{"n":["scroll"],"u":"1f4dc"},{"n":["page facing up","page_facing_up"],"u":"1f4c4"},{"n":["newspaper"],"u":"1f4f0"},{"n":["rolled_up_newspaper"],"u":"1f5de-fe0f"},{"n":["bookmark tabs","bookmark_tabs"],"u":"1f4d1"},{"n":["bookmark"],"u":"1f516"},{"n":["label"],"u":"1f3f7-fe0f"},{"n":["money bag","moneybag"],"u":"1f4b0"},{"n":["banknote with yen sign","yen"],"u":"1f4b4"},{"n":["banknote with dollar sign","dollar"],"u":"1f4b5"},{"n":["banknote with euro sign","euro"],"u":"1f4b6"},{"n":["banknote with pound sign","pound"],"u":"1f4b7"},{"n":["money with wings","money_with_wings"],"u":"1f4b8"},{"n":["credit card","credit_card"],"u":"1f4b3"},{"n":["chart with upwards trend and yen sign","chart"],"u":"1f4b9"},{"n":["currency exchange","currency_exchange"],"u":"1f4b1"},{"n":["heavy dollar sign","heavy_dollar_sign"],"u":"1f4b2"},{"n":["envelope","email"],"u":"2709-fe0f"},{"n":["e-mail symbol","e-mail"],"u":"1f4e7"},{"n":["incoming envelope","incoming_envelope"],"u":"1f4e8"},{"n":["envelope with downwards arrow above","envelope_with_arrow"],"u":"1f4e9"},{"n":["outbox tray","outbox_tray"],"u":"1f4e4"},{"n":["inbox tray","inbox_tray"],"u":"1f4e5"},{"n":["package"],"u":"1f4e6"},{"n":["closed mailbox with raised flag","mailbox"],"u":"1f4eb"},{"n":["closed mailbox with lowered flag","mailbox_closed"],"u":"1f4ea"},{"n":["open mailbox with raised flag","mailbox_with_mail"],"u":"1f4ec"},{"n":["open mailbox with lowered flag","mailbox_with_no_mail"],"u":"1f4ed"},{"n":["postbox"],"u":"1f4ee"},{"n":["ballot_box_with_ballot"],"u":"1f5f3-fe0f"},{"n":["pencil","pencil2"],"u":"270f-fe0f"},{"n":["black nib","black_nib"],"u":"2712-fe0f"},{"n":["lower_left_fountain_pen"],"u":"1f58b-fe0f"},{"n":["lower_left_ballpoint_pen"],"u":"1f58a-fe0f"},{"n":["lower_left_paintbrush"],"u":"1f58c-fe0f"},{"n":["lower_left_crayon"],"u":"1f58d-fe0f"},{"n":["memo","pencil"],"u":"1f4dd"},{"n":["briefcase"],"u":"1f4bc"},{"n":["file folder","file_folder"],"u":"1f4c1"},{"n":["open file folder","open_file_folder"],"u":"1f4c2"},{"n":["card_index_dividers"],"u":"1f5c2-fe0f"},{"n":["calendar","date"],"u":"1f4c5"},{"n":["tear-off calendar","calendar"],"u":"1f4c6"},{"n":["spiral_note_pad"],"u":"1f5d2-fe0f"},{"n":["spiral_calendar_pad"],"u":"1f5d3-fe0f"},{"n":["card index","card_index"],"u":"1f4c7"},{"n":["chart with upwards trend","chart_with_upwards_trend"],"u":"1f4c8"},{"n":["chart with downwards trend","chart_with_downwards_trend"],"u":"1f4c9"},{"n":["bar chart","bar_chart"],"u":"1f4ca"},{"n":["clipboard"],"u":"1f4cb"},{"n":["pushpin"],"u":"1f4cc"},{"n":["round pushpin","round_pushpin"],"u":"1f4cd"},{"n":["paperclip"],"u":"1f4ce"},{"n":["linked_paperclips"],"u":"1f587-fe0f"},{"n":["straight ruler","straight_ruler"],"u":"1f4cf"},{"n":["triangular ruler","triangular_ruler"],"u":"1f4d0"},{"n":["black scissors","scissors"],"u":"2702-fe0f"},{"n":["card_file_box"],"u":"1f5c3-fe0f"},{"n":["file_cabinet"],"u":"1f5c4-fe0f"},{"n":["wastebasket"],"u":"1f5d1-fe0f"},{"n":["lock"],"u":"1f512"},{"n":["open lock","unlock"],"u":"1f513"},{"n":["lock with ink pen","lock_with_ink_pen"],"u":"1f50f"},{"n":["closed lock with key","closed_lock_with_key"],"u":"1f510"},{"n":["key"],"u":"1f511"},{"n":["old_key"],"u":"1f5dd-fe0f"},{"n":["hammer"],"u":"1f528"},{"n":["pick"],"u":"26cf-fe0f"},{"n":["hammer_and_pick"],"u":"2692-fe0f"},{"n":["hammer_and_wrench"],"u":"1f6e0-fe0f"},{"n":["dagger_knife"],"u":"1f5e1-fe0f"},{"n":["crossed_swords"],"u":"2694-fe0f"},{"n":["pistol","gun"],"u":"1f52b"},{"n":["bow and arrow","bow_and_arrow"],"u":"1f3f9"},{"n":["shield"],"u":"1f6e1-fe0f"},{"n":["wrench"],"u":"1f527"},{"n":["nut and bolt","nut_and_bolt"],"u":"1f529"},{"n":["gear"],"u":"2699-fe0f"},{"n":["compression"],"u":"1f5dc-fe0f"},{"n":["alembic"],"u":"2697-fe0f"},{"n":["scales"],"u":"2696-fe0f"},{"n":["link symbol","link"],"u":"1f517"},{"n":["chains"],"u":"26d3-fe0f"},{"n":["syringe"],"u":"1f489"},{"n":["pill"],"u":"1f48a"},{"n":["smoking symbol","smoking"],"u":"1f6ac"},{"n":["coffin"],"u":"26b0-fe0f"},{"n":["funeral_urn"],"u":"26b1-fe0f"},{"n":["moyai"],"u":"1f5ff"},{"n":["oil_drum"],"u":"1f6e2-fe0f"},{"n":["crystal ball","crystal_ball"],"u":"1f52e"},{"n":["shopping trolley","shopping_trolley"],"u":"1f6d2"}],"smileys_people":[{"n":["grinning face","grinning"],"u":"1f600"},{"n":["grinning face with smiling eyes","grin"],"u":"1f601"},{"n":["face with tears of joy","joy"],"u":"1f602"},{"n":["rolling on the floor laughing","rolling_on_the_floor_laughing"],"u":"1f923"},{"n":["smiling face with open mouth","smiley"],"u":"1f603"},{"n":["smiling face with open mouth and smiling eyes","smile"],"u":"1f604"},{"n":["smiling face with open mouth and cold sweat","sweat_smile"],"u":"1f605"},{"n":["smiling face with open mouth and tightly-closed eyes","laughing","satisfied"],"u":"1f606"},{"n":["winking face","wink"],"u":"1f609"},{"n":["smiling face with smiling eyes","blush"],"u":"1f60a"},{"n":["face savouring delicious food","yum"],"u":"1f60b"},{"n":["smiling face with sunglasses","sunglasses"],"u":"1f60e"},{"n":["smiling face with heart-shaped eyes","heart_eyes"],"u":"1f60d"},{"n":["face throwing a kiss","kissing_heart"],"u":"1f618"},{"n":["kissing face","kissing"],"u":"1f617"},{"n":["kissing face with smiling eyes","kissing_smiling_eyes"],"u":"1f619"},{"n":["kissing face with closed eyes","kissing_closed_eyes"],"u":"1f61a"},{"n":["white smiling face","relaxed"],"u":"263a-fe0f"},{"n":["slightly smiling face","slightly_smiling_face"],"u":"1f642"},{"n":["hugging face","hugging_face"],"u":"1f917"},{"n":["grinning face with star eyes","star-struck","grinning_face_with_star_eyes"],"u":"1f929"},{"n":["thinking face","thinking_face"],"u":"1f914"},{"n":["face with one eyebrow raised","face_with_raised_eyebrow","face_with_one_eyebrow_raised"],"u":"1f928"},{"n":["neutral face","neutral_face"],"u":"1f610"},{"n":["expressionless face","expressionless"],"u":"1f611"},{"n":["face without mouth","no_mouth"],"u":"1f636"},{"n":["face with rolling eyes","face_with_rolling_eyes"],"u":"1f644"},{"n":["smirking face","smirk"],"u":"1f60f"},{"n":["persevering face","persevere"],"u":"1f623"},{"n":["disappointed but relieved face","disappointed_relieved"],"u":"1f625"},{"n":["face with open mouth","open_mouth"],"u":"1f62e"},{"n":["zipper-mouth face","zipper_mouth_face"],"u":"1f910"},{"n":["hushed face","hushed"],"u":"1f62f"},{"n":["sleepy face","sleepy"],"u":"1f62a"},{"n":["tired face","tired_face"],"u":"1f62b"},{"n":["sleeping face","sleeping"],"u":"1f634"},{"n":["relieved face","relieved"],"u":"1f60c"},{"n":["face with stuck-out tongue","stuck_out_tongue"],"u":"1f61b"},{"n":["face with stuck-out tongue and winking eye","stuck_out_tongue_winking_eye"],"u":"1f61c"},{"n":["face with stuck-out tongue and tightly-closed eyes","stuck_out_tongue_closed_eyes"],"u":"1f61d"},{"n":["drooling face","drooling_face"],"u":"1f924"},{"n":["unamused face","unamused"],"u":"1f612"},{"n":["face with cold sweat","sweat"],"u":"1f613"},{"n":["pensive face","pensive"],"u":"1f614"},{"n":["confused face","confused"],"u":"1f615"},{"n":["upside-down face","upside_down_face"],"u":"1f643"},{"n":["money-mouth face","money_mouth_face"],"u":"1f911"},{"n":["astonished face","astonished"],"u":"1f632"},{"n":["white_frowning_face"],"u":"2639-fe0f"},{"n":["slightly frowning face","slightly_frowning_face"],"u":"1f641"},{"n":["confounded face","confounded"],"u":"1f616"},{"n":["disappointed face","disappointed"],"u":"1f61e"},{"n":["worried face","worried"],"u":"1f61f"},{"n":["face with look of triumph","triumph"],"u":"1f624"},{"n":["crying face","cry"],"u":"1f622"},{"n":["loudly crying face","sob"],"u":"1f62d"},{"n":["frowning face with open mouth","frowning"],"u":"1f626"},{"n":["anguished face","anguished"],"u":"1f627"},{"n":["fearful face","fearful"],"u":"1f628"},{"n":["weary face","weary"],"u":"1f629"},{"n":["shocked face with exploding head","exploding_head","shocked_face_with_exploding_head"],"u":"1f92f"},{"n":["grimacing face","grimacing"],"u":"1f62c"},{"n":["face with open mouth and cold sweat","cold_sweat"],"u":"1f630"},{"n":["face screaming in fear","scream"],"u":"1f631"},{"n":["flushed face","flushed"],"u":"1f633"},{"n":["grinning face with one large and one small eye","zany_face","grinning_face_with_one_large_and_one_small_eye"],"u":"1f92a"},{"n":["dizzy face","dizzy_face"],"u":"1f635"},{"n":["pouting face","rage"],"u":"1f621"},{"n":["angry face","angry"],"u":"1f620"},{"n":["serious face with symbols covering mouth","face_with_symbols_on_mouth","serious_face_with_symbols_covering_mouth"],"u":"1f92c"},{"n":["face with medical mask","mask"],"u":"1f637"},{"n":["face with thermometer","face_with_thermometer"],"u":"1f912"},{"n":["face with head-bandage","face_with_head_bandage"],"u":"1f915"},{"n":["nauseated face","nauseated_face"],"u":"1f922"},{"n":["face with open mouth vomiting","face_vomiting","face_with_open_mouth_vomiting"],"u":"1f92e"},{"n":["sneezing face","sneezing_face"],"u":"1f927"},{"n":["smiling face with halo","innocent"],"u":"1f607"},{"n":["face with cowboy hat","face_with_cowboy_hat"],"u":"1f920"},{"n":["clown face","clown_face"],"u":"1f921"},{"n":["lying face","lying_face"],"u":"1f925"},{"n":["face with finger covering closed lips","shushing_face","face_with_finger_covering_closed_lips"],"u":"1f92b"},{"n":["smiling face with smiling eyes and hand covering mouth","face_with_hand_over_mouth","smiling_face_with_smiling_eyes_and_hand_covering_mouth"],"u":"1f92d"},{"n":["face with monocle","face_with_monocle"],"u":"1f9d0"},{"n":["nerd face","nerd_face"],"u":"1f913"},{"n":["smiling face with horns","smiling_imp"],"u":"1f608"},{"n":["imp"],"u":"1f47f"},{"n":["japanese ogre","japanese_ogre"],"u":"1f479"},{"n":["japanese goblin","japanese_goblin"],"u":"1f47a"},{"n":["skull"],"u":"1f480"},{"n":["skull_and_crossbones"],"u":"2620-fe0f"},{"n":["ghost"],"u":"1f47b"},{"n":["extraterrestrial alien","alien"],"u":"1f47d"},{"n":["alien monster","space_invader"],"u":"1f47e"},{"n":["robot face","robot_face"],"u":"1f916"},{"n":["pile of poo","hankey","poop","shit"],"u":"1f4a9"},{"n":["smiling cat face with open mouth","smiley_cat"],"u":"1f63a"},{"n":["grinning cat face with smiling eyes","smile_cat"],"u":"1f638"},{"n":["cat face with tears of joy","joy_cat"],"u":"1f639"},{"n":["smiling cat face with heart-shaped eyes","heart_eyes_cat"],"u":"1f63b"},{"n":["cat face with wry smile","smirk_cat"],"u":"1f63c"},{"n":["kissing cat face with closed eyes","kissing_cat"],"u":"1f63d"},{"n":["weary cat face","scream_cat"],"u":"1f640"},{"n":["crying cat face","crying_cat_face"],"u":"1f63f"},{"n":["pouting cat face","pouting_cat"],"u":"1f63e"},{"n":["see-no-evil monkey","see_no_evil"],"u":"1f648"},{"n":["hear-no-evil monkey","hear_no_evil"],"u":"1f649"},{"n":["speak-no-evil monkey","speak_no_evil"],"u":"1f64a"},{"n":["baby"],"u":"1f476","v":["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"]},{"n":["child"],"u":"1f9d2","v":["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"]},{"n":["boy"],"u":"1f466","v":["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"]},{"n":["girl"],"u":"1f467","v":["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"]},{"n":["adult"],"u":"1f9d1","v":["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"]},{"n":["man"],"u":"1f468","v":["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"]},{"n":["woman"],"u":"1f469","v":["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"]},{"n":["older adult","older_adult"],"u":"1f9d3","v":["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"]},{"n":["older man","older_man"],"u":"1f474","v":["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"]},{"n":["older woman","older_woman"],"u":"1f475","v":["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"]},{"n":["male-doctor"],"u":"1f468-200d-2695-fe0f","v":["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"]},{"n":["female-doctor"],"u":"1f469-200d-2695-fe0f","v":["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"]},{"n":["male-student"],"u":"1f468-200d-1f393","v":["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"]},{"n":["female-student"],"u":"1f469-200d-1f393","v":["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"]},{"n":["male-teacher"],"u":"1f468-200d-1f3eb","v":["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"]},{"n":["female-teacher"],"u":"1f469-200d-1f3eb","v":["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"]},{"n":["male-judge"],"u":"1f468-200d-2696-fe0f","v":["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"]},{"n":["female-judge"],"u":"1f469-200d-2696-fe0f","v":["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"]},{"n":["male-farmer"],"u":"1f468-200d-1f33e","v":["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"]},{"n":["female-farmer"],"u":"1f469-200d-1f33e","v":["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"]},{"n":["male-cook"],"u":"1f468-200d-1f373","v":["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"]},{"n":["female-cook"],"u":"1f469-200d-1f373","v":["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"]},{"n":["male-mechanic"],"u":"1f468-200d-1f527","v":["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"]},{"n":["female-mechanic"],"u":"1f469-200d-1f527","v":["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"]},{"n":["male-factory-worker"],"u":"1f468-200d-1f3ed","v":["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"]},{"n":["female-factory-worker"],"u":"1f469-200d-1f3ed","v":["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"]},{"n":["male-office-worker"],"u":"1f468-200d-1f4bc","v":["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"]},{"n":["female-office-worker"],"u":"1f469-200d-1f4bc","v":["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"]},{"n":["male-scientist"],"u":"1f468-200d-1f52c","v":["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"]},{"n":["female-scientist"],"u":"1f469-200d-1f52c","v":["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"]},{"n":["male-technologist"],"u":"1f468-200d-1f4bb","v":["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"]},{"n":["female-technologist"],"u":"1f469-200d-1f4bb","v":["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"]},{"n":["male-singer"],"u":"1f468-200d-1f3a4","v":["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"]},{"n":["female-singer"],"u":"1f469-200d-1f3a4","v":["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"]},{"n":["male-artist"],"u":"1f468-200d-1f3a8","v":["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"]},{"n":["female-artist"],"u":"1f469-200d-1f3a8","v":["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"]},{"n":["male-pilot"],"u":"1f468-200d-2708-fe0f","v":["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"]},{"n":["female-pilot"],"u":"1f469-200d-2708-fe0f","v":["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"]},{"n":["male-astronaut"],"u":"1f468-200d-1f680","v":["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"]},{"n":["female-astronaut"],"u":"1f469-200d-1f680","v":["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"]},{"n":["male-firefighter"],"u":"1f468-200d-1f692","v":["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"]},{"n":["female-firefighter"],"u":"1f469-200d-1f692","v":["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"]},{"n":["police officer","cop"],"u":"1f46e","v":["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"]},{"n":["male-police-officer"],"u":"1f46e-200d-2642-fe0f","v":["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"]},{"n":["female-police-officer"],"u":"1f46e-200d-2640-fe0f","v":["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"]},{"n":["sleuth_or_spy"],"u":"1f575-fe0f","v":["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"]},{"n":["male-detective"],"u":"1f575-fe0f-200d-2642-fe0f","v":["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"]},{"n":["female-detective"],"u":"1f575-fe0f-200d-2640-fe0f","v":["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"]},{"n":["guardsman"],"u":"1f482","v":["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"]},{"n":["male-guard"],"u":"1f482-200d-2642-fe0f","v":["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"]},{"n":["female-guard"],"u":"1f482-200d-2640-fe0f","v":["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"]},{"n":["construction worker","construction_worker"],"u":"1f477","v":["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"]},{"n":["male-construction-worker"],"u":"1f477-200d-2642-fe0f","v":["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"]},{"n":["female-construction-worker"],"u":"1f477-200d-2640-fe0f","v":["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"]},{"n":["prince"],"u":"1f934","v":["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"]},{"n":["princess"],"u":"1f478","v":["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"]},{"n":["man with turban","man_with_turban"],"u":"1f473","v":["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"]},{"n":["man-wearing-turban"],"u":"1f473-200d-2642-fe0f","v":["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"]},{"n":["woman-wearing-turban"],"u":"1f473-200d-2640-fe0f","v":["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"]},{"n":["man with gua pi mao","man_with_gua_pi_mao"],"u":"1f472","v":["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"]},{"n":["person with headscarf","person_with_headscarf"],"u":"1f9d5","v":["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"]},{"n":["bearded person","bearded_person"],"u":"1f9d4","v":["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"]},{"n":["person with blond hair","person_with_blond_hair"],"u":"1f471","v":["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"]},{"n":["blond-haired-man"],"u":"1f471-200d-2642-fe0f","v":["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"]},{"n":["blond-haired-woman"],"u":"1f471-200d-2640-fe0f","v":["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"]},{"n":["man in tuxedo","man_in_tuxedo"],"u":"1f935","v":["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"]},{"n":["bride with veil","bride_with_veil"],"u":"1f470","v":["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"]},{"n":["pregnant woman","pregnant_woman"],"u":"1f930","v":["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"]},{"n":["breast-feeding"],"u":"1f931","v":["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"]},{"n":["baby angel","angel"],"u":"1f47c","v":["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"]},{"n":["father christmas","santa"],"u":"1f385","v":["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"]},{"n":["mother christmas","mrs_claus","mother_christmas"],"u":"1f936","v":["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"]},{"n":["mage"],"u":"1f9d9","v":["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"]},{"n":["female_mage"],"u":"1f9d9-200d-2640-fe0f","v":["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"]},{"n":["male_mage"],"u":"1f9d9-200d-2642-fe0f","v":["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"]},{"n":["fairy"],"u":"1f9da","v":["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"]},{"n":["female_fairy"],"u":"1f9da-200d-2640-fe0f","v":["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"]},{"n":["male_fairy"],"u":"1f9da-200d-2642-fe0f","v":["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"]},{"n":["vampire"],"u":"1f9db","v":["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"]},{"n":["female_vampire"],"u":"1f9db-200d-2640-fe0f","v":["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"]},{"n":["male_vampire"],"u":"1f9db-200d-2642-fe0f","v":["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"]},{"n":["merperson"],"u":"1f9dc","v":["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"]},{"n":["mermaid"],"u":"1f9dc-200d-2640-fe0f","v":["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"]},{"n":["merman"],"u":"1f9dc-200d-2642-fe0f","v":["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"]},{"n":["elf"],"u":"1f9dd","v":["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"]},{"n":["female_elf"],"u":"1f9dd-200d-2640-fe0f","v":["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"]},{"n":["male_elf"],"u":"1f9dd-200d-2642-fe0f","v":["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"]},{"n":["genie"],"u":"1f9de"},{"n":["female_genie"],"u":"1f9de-200d-2640-fe0f"},{"n":["male_genie"],"u":"1f9de-200d-2642-fe0f"},{"n":["zombie"],"u":"1f9df"},{"n":["female_zombie"],"u":"1f9df-200d-2640-fe0f"},{"n":["male_zombie"],"u":"1f9df-200d-2642-fe0f"},{"n":["person frowning","person_frowning"],"u":"1f64d","v":["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"]},{"n":["man-frowning"],"u":"1f64d-200d-2642-fe0f","v":["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"]},{"n":["woman-frowning"],"u":"1f64d-200d-2640-fe0f","v":["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"]},{"n":["person with pouting face","person_with_pouting_face"],"u":"1f64e","v":["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"]},{"n":["man-pouting"],"u":"1f64e-200d-2642-fe0f","v":["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"]},{"n":["woman-pouting"],"u":"1f64e-200d-2640-fe0f","v":["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"]},{"n":["face with no good gesture","no_good"],"u":"1f645","v":["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"]},{"n":["man-gesturing-no"],"u":"1f645-200d-2642-fe0f","v":["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"]},{"n":["woman-gesturing-no"],"u":"1f645-200d-2640-fe0f","v":["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"]},{"n":["face with ok gesture","ok_woman"],"u":"1f646","v":["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"]},{"n":["man-gesturing-ok"],"u":"1f646-200d-2642-fe0f","v":["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"]},{"n":["woman-gesturing-ok"],"u":"1f646-200d-2640-fe0f","v":["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"]},{"n":["information desk person","information_desk_person"],"u":"1f481","v":["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"]},{"n":["man-tipping-hand"],"u":"1f481-200d-2642-fe0f","v":["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"]},{"n":["woman-tipping-hand"],"u":"1f481-200d-2640-fe0f","v":["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"]},{"n":["happy person raising one hand","raising_hand"],"u":"1f64b","v":["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"]},{"n":["man-raising-hand"],"u":"1f64b-200d-2642-fe0f","v":["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"]},{"n":["woman-raising-hand"],"u":"1f64b-200d-2640-fe0f","v":["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"]},{"n":["person bowing deeply","bow"],"u":"1f647","v":["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"]},{"n":["man-bowing"],"u":"1f647-200d-2642-fe0f","v":["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"]},{"n":["woman-bowing"],"u":"1f647-200d-2640-fe0f","v":["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"]},{"n":["face palm","face_palm"],"u":"1f926","v":["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"]},{"n":["man-facepalming"],"u":"1f926-200d-2642-fe0f","v":["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"]},{"n":["woman-facepalming"],"u":"1f926-200d-2640-fe0f","v":["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"]},{"n":["shrug"],"u":"1f937","v":["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"]},{"n":["man-shrugging"],"u":"1f937-200d-2642-fe0f","v":["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"]},{"n":["woman-shrugging"],"u":"1f937-200d-2640-fe0f","v":["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"]},{"n":["face massage","massage"],"u":"1f486","v":["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"]},{"n":["man-getting-massage"],"u":"1f486-200d-2642-fe0f","v":["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"]},{"n":["woman-getting-massage"],"u":"1f486-200d-2640-fe0f","v":["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"]},{"n":["haircut"],"u":"1f487","v":["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"]},{"n":["man-getting-haircut"],"u":"1f487-200d-2642-fe0f","v":["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"]},{"n":["woman-getting-haircut"],"u":"1f487-200d-2640-fe0f","v":["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"]},{"n":["pedestrian","walking"],"u":"1f6b6","v":["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"]},{"n":["man-walking"],"u":"1f6b6-200d-2642-fe0f","v":["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"]},{"n":["woman-walking"],"u":"1f6b6-200d-2640-fe0f","v":["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"]},{"n":["runner","running"],"u":"1f3c3","v":["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"]},{"n":["man-running"],"u":"1f3c3-200d-2642-fe0f","v":["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"]},{"n":["woman-running"],"u":"1f3c3-200d-2640-fe0f","v":["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"]},{"n":["dancer"],"u":"1f483","v":["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"]},{"n":["man dancing","man_dancing"],"u":"1f57a","v":["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"]},{"n":["woman with bunny ears","dancers"],"u":"1f46f"},{"n":["man-with-bunny-ears-partying"],"u":"1f46f-200d-2642-fe0f"},{"n":["woman-with-bunny-ears-partying"],"u":"1f46f-200d-2640-fe0f"},{"n":["person in steamy room","person_in_steamy_room"],"u":"1f9d6","v":["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"]},{"n":["woman_in_steamy_room"],"u":"1f9d6-200d-2640-fe0f","v":["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"]},{"n":["man_in_steamy_room"],"u":"1f9d6-200d-2642-fe0f","v":["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"]},{"n":["person climbing","person_climbing"],"u":"1f9d7","v":["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"]},{"n":["woman_climbing"],"u":"1f9d7-200d-2640-fe0f","v":["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"]},{"n":["man_climbing"],"u":"1f9d7-200d-2642-fe0f","v":["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"]},{"n":["person in lotus position","person_in_lotus_position"],"u":"1f9d8","v":["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"]},{"n":["woman_in_lotus_position"],"u":"1f9d8-200d-2640-fe0f","v":["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"]},{"n":["man_in_lotus_position"],"u":"1f9d8-200d-2642-fe0f","v":["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"]},{"n":["bath"],"u":"1f6c0","v":["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"]},{"n":["sleeping accommodation","sleeping_accommodation"],"u":"1f6cc","v":["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"]},{"n":["man_in_business_suit_levitating"],"u":"1f574-fe0f","v":["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"]},{"n":["speaking_head_in_silhouette"],"u":"1f5e3-fe0f"},{"n":["bust in silhouette","bust_in_silhouette"],"u":"1f464"},{"n":["busts in silhouette","busts_in_silhouette"],"u":"1f465"},{"n":["fencer"],"u":"1f93a"},{"n":["horse racing","horse_racing"],"u":"1f3c7","v":["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"]},{"n":["skier"],"u":"26f7-fe0f"},{"n":["snowboarder"],"u":"1f3c2","v":["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"]},{"n":["golfer"],"u":"1f3cc-fe0f","v":["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"]},{"n":["man-golfing"],"u":"1f3cc-fe0f-200d-2642-fe0f","v":["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"]},{"n":["woman-golfing"],"u":"1f3cc-fe0f-200d-2640-fe0f","v":["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"]},{"n":["surfer"],"u":"1f3c4","v":["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"]},{"n":["man-surfing"],"u":"1f3c4-200d-2642-fe0f","v":["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"]},{"n":["woman-surfing"],"u":"1f3c4-200d-2640-fe0f","v":["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"]},{"n":["rowboat"],"u":"1f6a3","v":["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"]},{"n":["man-rowing-boat"],"u":"1f6a3-200d-2642-fe0f","v":["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"]},{"n":["woman-rowing-boat"],"u":"1f6a3-200d-2640-fe0f","v":["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"]},{"n":["swimmer"],"u":"1f3ca","v":["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"]},{"n":["man-swimming"],"u":"1f3ca-200d-2642-fe0f","v":["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"]},{"n":["woman-swimming"],"u":"1f3ca-200d-2640-fe0f","v":["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"]},{"n":["person_with_ball"],"u":"26f9-fe0f","v":["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"]},{"n":["man-bouncing-ball"],"u":"26f9-fe0f-200d-2642-fe0f","v":["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"]},{"n":["woman-bouncing-ball"],"u":"26f9-fe0f-200d-2640-fe0f","v":["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"]},{"n":["weight_lifter"],"u":"1f3cb-fe0f","v":["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"]},{"n":["man-lifting-weights"],"u":"1f3cb-fe0f-200d-2642-fe0f","v":["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"]},{"n":["woman-lifting-weights"],"u":"1f3cb-fe0f-200d-2640-fe0f","v":["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"]},{"n":["bicyclist"],"u":"1f6b4","v":["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"]},{"n":["man-biking"],"u":"1f6b4-200d-2642-fe0f","v":["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"]},{"n":["woman-biking"],"u":"1f6b4-200d-2640-fe0f","v":["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"]},{"n":["mountain bicyclist","mountain_bicyclist"],"u":"1f6b5","v":["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"]},{"n":["man-mountain-biking"],"u":"1f6b5-200d-2642-fe0f","v":["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"]},{"n":["woman-mountain-biking"],"u":"1f6b5-200d-2640-fe0f","v":["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"]},{"n":["racing_car"],"u":"1f3ce-fe0f"},{"n":["racing_motorcycle"],"u":"1f3cd-fe0f"},{"n":["person doing cartwheel","person_doing_cartwheel"],"u":"1f938","v":["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"]},{"n":["man-cartwheeling"],"u":"1f938-200d-2642-fe0f","v":["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"]},{"n":["woman-cartwheeling"],"u":"1f938-200d-2640-fe0f","v":["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"]},{"n":["wrestlers"],"u":"1f93c"},{"n":["man-wrestling"],"u":"1f93c-200d-2642-fe0f"},{"n":["woman-wrestling"],"u":"1f93c-200d-2640-fe0f"},{"n":["water polo","water_polo"],"u":"1f93d","v":["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"]},{"n":["man-playing-water-polo"],"u":"1f93d-200d-2642-fe0f","v":["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"]},{"n":["woman-playing-water-polo"],"u":"1f93d-200d-2640-fe0f","v":["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"]},{"n":["handball"],"u":"1f93e","v":["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"]},{"n":["man-playing-handball"],"u":"1f93e-200d-2642-fe0f","v":["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"]},{"n":["woman-playing-handball"],"u":"1f93e-200d-2640-fe0f","v":["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"]},{"n":["juggling"],"u":"1f939","v":["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"]},{"n":["man-juggling"],"u":"1f939-200d-2642-fe0f","v":["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"]},{"n":["woman-juggling"],"u":"1f939-200d-2640-fe0f","v":["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"]},{"n":["man and woman holding hands","couple","man_and_woman_holding_hands"],"u":"1f46b"},{"n":["two men holding hands","two_men_holding_hands"],"u":"1f46c"},{"n":["two women holding hands","two_women_holding_hands"],"u":"1f46d"},{"n":["kiss","couplekiss"],"u":"1f48f"},{"n":["woman-kiss-man"],"u":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{"n":["man-kiss-man"],"u":"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{"n":["woman-kiss-woman"],"u":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{"n":["couple with heart","couple_with_heart"],"u":"1f491"},{"n":["woman-heart-man"],"u":"1f469-200d-2764-fe0f-200d-1f468"},{"n":["man-heart-man"],"u":"1f468-200d-2764-fe0f-200d-1f468"},{"n":["woman-heart-woman"],"u":"1f469-200d-2764-fe0f-200d-1f469"},{"n":["family","man-woman-boy"],"u":"1f46a"},{"n":["man-woman-boy","family"],"u":"1f468-200d-1f469-200d-1f466"},{"n":["man-woman-girl"],"u":"1f468-200d-1f469-200d-1f467"},{"n":["man-woman-girl-boy"],"u":"1f468-200d-1f469-200d-1f467-200d-1f466"},{"n":["man-woman-boy-boy"],"u":"1f468-200d-1f469-200d-1f466-200d-1f466"},{"n":["man-woman-girl-girl"],"u":"1f468-200d-1f469-200d-1f467-200d-1f467"},{"n":["man-man-boy"],"u":"1f468-200d-1f468-200d-1f466"},{"n":["man-man-girl"],"u":"1f468-200d-1f468-200d-1f467"},{"n":["man-man-girl-boy"],"u":"1f468-200d-1f468-200d-1f467-200d-1f466"},{"n":["man-man-boy-boy"],"u":"1f468-200d-1f468-200d-1f466-200d-1f466"},{"n":["man-man-girl-girl"],"u":"1f468-200d-1f468-200d-1f467-200d-1f467"},{"n":["woman-woman-boy"],"u":"1f469-200d-1f469-200d-1f466"},{"n":["woman-woman-girl"],"u":"1f469-200d-1f469-200d-1f467"},{"n":["woman-woman-girl-boy"],"u":"1f469-200d-1f469-200d-1f467-200d-1f466"},{"n":["woman-woman-boy-boy"],"u":"1f469-200d-1f469-200d-1f466-200d-1f466"},{"n":["woman-woman-girl-girl"],"u":"1f469-200d-1f469-200d-1f467-200d-1f467"},{"n":["man-boy"],"u":"1f468-200d-1f466"},{"n":["man-boy-boy"],"u":"1f468-200d-1f466-200d-1f466"},{"n":["man-girl"],"u":"1f468-200d-1f467"},{"n":["man-girl-boy"],"u":"1f468-200d-1f467-200d-1f466"},{"n":["man-girl-girl"],"u":"1f468-200d-1f467-200d-1f467"},{"n":["woman-boy"],"u":"1f469-200d-1f466"},{"n":["woman-boy-boy"],"u":"1f469-200d-1f466-200d-1f466"},{"n":["woman-girl"],"u":"1f469-200d-1f467"},{"n":["woman-girl-boy"],"u":"1f469-200d-1f467-200d-1f466"},{"n":["woman-girl-girl"],"u":"1f469-200d-1f467-200d-1f467"},{"n":["selfie"],"u":"1f933","v":["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"]},{"n":["flexed biceps","muscle"],"u":"1f4aa","v":["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"]},{"n":["white left pointing backhand index","point_left"],"u":"1f448","v":["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"]},{"n":["white right pointing backhand index","point_right"],"u":"1f449","v":["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"]},{"n":["white up pointing index","point_up"],"u":"261d-fe0f","v":["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"]},{"n":["white up pointing backhand index","point_up_2"],"u":"1f446","v":["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"]},{"n":["reversed hand with middle finger extended","middle_finger","reversed_hand_with_middle_finger_extended"],"u":"1f595","v":["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"]},{"n":["white down pointing backhand index","point_down"],"u":"1f447","v":["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"]},{"n":["victory hand","v"],"u":"270c-fe0f","v":["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"]},{"n":["hand with index and middle fingers crossed","crossed_fingers","hand_with_index_and_middle_fingers_crossed"],"u":"1f91e","v":["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"]},{"n":["raised hand with part between middle and ring fingers","spock-hand"],"u":"1f596","v":["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"]},{"n":["sign of the horns","the_horns","sign_of_the_horns"],"u":"1f918","v":["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"]},{"n":["call me hand","call_me_hand"],"u":"1f919","v":["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"]},{"n":["raised_hand_with_fingers_splayed"],"u":"1f590-fe0f","v":["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"]},{"n":["raised hand","hand","raised_hand"],"u":"270b","v":["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"]},{"n":["ok hand sign","ok_hand"],"u":"1f44c","v":["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"]},{"n":["thumbs up sign","+1","thumbsup"],"u":"1f44d","v":["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"]},{"n":["thumbs down sign","-1","thumbsdown"],"u":"1f44e","v":["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"]},{"n":["raised fist","fist"],"u":"270a","v":["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"]},{"n":["fisted hand sign","facepunch","punch"],"u":"1f44a","v":["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"]},{"n":["left-facing fist","left-facing_fist"],"u":"1f91b","v":["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"]},{"n":["right-facing fist","right-facing_fist"],"u":"1f91c","v":["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"]},{"n":["raised back of hand","raised_back_of_hand"],"u":"1f91a","v":["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"]},{"n":["waving hand sign","wave"],"u":"1f44b","v":["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"]},{"n":["i love you hand sign","i_love_you_hand_sign"],"u":"1f91f","v":["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"]},{"n":["writing_hand"],"u":"270d-fe0f","v":["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"]},{"n":["clapping hands sign","clap"],"u":"1f44f","v":["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"]},{"n":["open hands sign","open_hands"],"u":"1f450","v":["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"]},{"n":["person raising both hands in celebration","raised_hands"],"u":"1f64c","v":["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"]},{"n":["palms up together","palms_up_together"],"u":"1f932","v":["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"]},{"n":["person with folded hands","pray"],"u":"1f64f","v":["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"]},{"n":["handshake"],"u":"1f91d"},{"n":["nail polish","nail_care"],"u":"1f485","v":["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"]},{"n":["ear"],"u":"1f442","v":["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"]},{"n":["nose"],"u":"1f443","v":["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"]},{"n":["footprints"],"u":"1f463"},{"n":["eyes"],"u":"1f440"},{"n":["eye"],"u":"1f441-fe0f"},{"n":["eye-in-speech-bubble"],"u":"1f441-fe0f-200d-1f5e8-fe0f"},{"n":["brain"],"u":"1f9e0"},{"n":["tongue"],"u":"1f445"},{"n":["mouth","lips"],"u":"1f444"},{"n":["kiss mark","kiss"],"u":"1f48b"},{"n":["heart with arrow","cupid"],"u":"1f498"},{"n":["heavy black heart","heart"],"u":"2764-fe0f"},{"n":["beating heart","heartbeat"],"u":"1f493"},{"n":["broken heart","broken_heart"],"u":"1f494"},{"n":["two hearts","two_hearts"],"u":"1f495"},{"n":["sparkling heart","sparkling_heart"],"u":"1f496"},{"n":["growing heart","heartpulse"],"u":"1f497"},{"n":["blue heart","blue_heart"],"u":"1f499"},{"n":["green heart","green_heart"],"u":"1f49a"},{"n":["yellow heart","yellow_heart"],"u":"1f49b"},{"n":["orange heart","orange_heart"],"u":"1f9e1"},{"n":["purple heart","purple_heart"],"u":"1f49c"},{"n":["black heart","black_heart"],"u":"1f5a4"},{"n":["heart with ribbon","gift_heart"],"u":"1f49d"},{"n":["revolving hearts","revolving_hearts"],"u":"1f49e"},{"n":["heart decoration","heart_decoration"],"u":"1f49f"},{"n":["heavy_heart_exclamation_mark_ornament"],"u":"2763-fe0f"},{"n":["love letter","love_letter"],"u":"1f48c"},{"n":["sleeping symbol","zzz"],"u":"1f4a4"},{"n":["anger symbol","anger"],"u":"1f4a2"},{"n":["bomb"],"u":"1f4a3"},{"n":["collision symbol","boom","collision"],"u":"1f4a5"},{"n":["splashing sweat symbol","sweat_drops"],"u":"1f4a6"},{"n":["dash symbol","dash"],"u":"1f4a8"},{"n":["dizzy symbol","dizzy"],"u":"1f4ab"},{"n":["speech balloon","speech_balloon"],"u":"1f4ac"},{"n":["left_speech_bubble"],"u":"1f5e8-fe0f"},{"n":["right_anger_bubble"],"u":"1f5ef-fe0f"},{"n":["thought balloon","thought_balloon"],"u":"1f4ad"},{"n":["hole"],"u":"1f573-fe0f"},{"n":["eyeglasses"],"u":"1f453"},{"n":["dark_sunglasses"],"u":"1f576-fe0f"},{"n":["necktie"],"u":"1f454"},{"n":["t-shirt","shirt","tshirt"],"u":"1f455"},{"n":["jeans"],"u":"1f456"},{"n":["scarf"],"u":"1f9e3"},{"n":["gloves"],"u":"1f9e4"},{"n":["coat"],"u":"1f9e5"},{"n":["socks"],"u":"1f9e6"},{"n":["dress"],"u":"1f457"},{"n":["kimono"],"u":"1f458"},{"n":["bikini"],"u":"1f459"},{"n":["womans clothes","womans_clothes"],"u":"1f45a"},{"n":["purse"],"u":"1f45b"},{"n":["handbag"],"u":"1f45c"},{"n":["pouch"],"u":"1f45d"},{"n":["shopping_bags"],"u":"1f6cd-fe0f"},{"n":["school satchel","school_satchel"],"u":"1f392"},{"n":["mans shoe","mans_shoe","shoe"],"u":"1f45e"},{"n":["athletic shoe","athletic_shoe"],"u":"1f45f"},{"n":["high-heeled shoe","high_heel"],"u":"1f460"},{"n":["womans sandal","sandal"],"u":"1f461"},{"n":["womans boots","boot"],"u":"1f462"},{"n":["crown"],"u":"1f451"},{"n":["womans hat","womans_hat"],"u":"1f452"},{"n":["top hat","tophat"],"u":"1f3a9"},{"n":["graduation cap","mortar_board"],"u":"1f393"},{"n":["billed cap","billed_cap"],"u":"1f9e2"},{"n":["helmet_with_white_cross"],"u":"26d1-fe0f"},{"n":["prayer beads","prayer_beads"],"u":"1f4ff"},{"n":["lipstick"],"u":"1f484"},{"n":["ring"],"u":"1f48d"},{"n":["gem stone","gem"],"u":"1f48e"}]}')},function(e,t,n){var r=n(14);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(21);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(20);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){var r=n(14);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(5),i=n(26);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react ul.skin-tones-list {\n  padding: 0;\n  margin: 0;\n  list-style-type: none;\n  position: absolute;\n  top: 13px;\n  right: 40px;\n}\n\n.emoji-picker-react ul.skin-tones-list li {\n  background-color: currentColor;\n  position: absolute;\n  padding: 0;\n  border-radius: 2px;\n  overflow: hidden;\n  transition: transform 0.3s ease;\n}\n\n.emoji-picker-react ul.skin-tones-list label {\n  height: 10px;\n  width: 10px;\n  padding: 0;\n  display: block;\n  cursor: pointer;\n}\n\n.emoji-picker-react ul.skin-tones-list input {\n  height: 0;\n  width: 0;\n  opacity: 0;\n  visibility: hidden;\n  display: none;\n}\n\n.emoji-picker-react ul.skin-tones-list li.tneutral {\n  color: #ffd225;\n}\n.emoji-picker-react ul.skin-tones-list li.t1f3fb {\n  color: #ffdfbd;\n}\n.emoji-picker-react ul.skin-tones-list li.t1f3fc {\n  color: #e9c197;\n}\n.emoji-picker-react ul.skin-tones-list li.t1f3fd {\n  color: #c88e62;\n}\n.emoji-picker-react ul.skin-tones-list li.t1f3fe {\n  color: #a86637;\n}\n.emoji-picker-react ul.skin-tones-list li.t1f3ff {\n  color: #60463a;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react img.emoji-img {\n  height: 25px;\n  width: 25px;\n  margin: 5px;\n}\n\n.emoji-picker-react .native {\n  height: 25px;\n  width: 25px;\n  margin: 5px;\n  font-size: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(30);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react .variation-wrapper {\n  position: relative;\n}\n\n.emoji-picker-react .variation-list {\n  background: #f4f4f4;\n  border-bottom: 1px solid #efefef;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 10;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: space-evenly;\n  list-style-type: none;\n  transition: transform 0.1s;\n  transform: translateY(-100%);\n}\n\n.emoji-picker-react .variation-list.visible {\n  transform: translateY(0);\n}\n\n.emoji-picker-react .variation-list button {\n  display: flex;\n}\n\n.emoji-picker-react .variation-list button {\n  border-radius: 5px;\n  transition: background 0.1s;\n  background: none;\n  padding: 0;\n}\n\n.emoji-picker-react .variation-list button:hover {\n  background-color: #dbdbdb;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(32);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var r=n(6),i=n(33),a=n(34),o=n(35),s=n(36),l=n(37),c=n(38),u=n(39),d=n(40),f=n(41);t=r(!1);var h=i(a),p=i(o),m=i(s),v=i(l),g=i(c),b=i(u),C=i(d),y=i(f);t.push([e.i,".emoji-picker-react .emoji-categories button {\n  height: 40px;\n  width: 20px;\n  padding: 5px 0;\n  background-repeat: no-repeat;\n  background-size: 20px;\n  background-position: 50% 50%;\n  cursor: pointer;\n  opacity: 0.5;\n  transition: opacity 0.1s;\n}\n\n.emoji-picker-react .active-category-indicator-wrapper {\n  position: relative;\n  width: 100%;\n}\n.emoji-picker-react\n  .active-category-indicator-wrapper\n  .active-category-indicator {\n  background: #99c2f1;\n  height: 3px;\n  width: 5px;\n  position: absolute;\n  bottom: 3px;\n  border-radius: 5px;\n  transition: 0.3s;\n  width: 30px;\n  left: -7px;\n}\n\n.emoji-picker-react .emoji-categories button.icn-activities {\n  background-image: url("+h+");\n}\n.emoji-picker-react .emoji-categories button.icn-animals_nature {\n  background-image: url("+p+");\n}\n.emoji-picker-react .emoji-categories button.icn-flags {\n  background-image: url("+m+");\n}\n.emoji-picker-react .emoji-categories button.icn-food_drink {\n  background-image: url("+v+");\n}\n.emoji-picker-react .emoji-categories button.icn-objects {\n  background-image: url("+g+");\n}\n.emoji-picker-react .emoji-categories button.icn-smileys_people {\n  background-image: url("+b+");\n}\n.emoji-picker-react .emoji-categories button.icn-symbols {\n  background-image: url("+C+");\n}\n.emoji-picker-react .emoji-categories button.icn-travel_places {\n  background-image: url("+y+");\n}\n\n.emoji-picker-react .emoji-categories {\n  padding: 0 15px;\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n}\n\n.emoji-picker-react .emoji-categories.inactive button,\n.emoji-picker-react .emoji-categories.inactive button.active,\n.emoji-picker-react .emoji-categories.inactive button:hover {\n  opacity: 0.4;\n  cursor: default;\n}\n\n.emoji-picker-react .emoji-categories button.active {\n  opacity: 1;\n}\n\n.emoji-picker-react .emoji-categories button:hover {\n  opacity: 0.7;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpath d='M32 0C14.355 0 0 14.355 0 32s14.355 32 32 32 32-14.355 32-32S49.645 0 32 0zm29.624 36.731l-3.885-6.439 2.681-7.88a29.867 29.867 0 0 1 1.204 14.319zm-7.558 15.567a.994.994 0 0 0-.408-.02L43.98 53.83a.993.993 0 0 0-.123-.345l-5.502-9.17 8.896-13.7h8.428a.992.992 0 0 0 .105.312l5.236 8.678a29.956 29.956 0 0 1-6.954 12.693zm-10.085 3.557l7.688-1.232a29.958 29.958 0 0 1-11.706 6.296l4.018-5.064zM12.65 9.1a29.858 29.858 0 0 1 18.628-7.082.982.982 0 0 0 .24.376l5.525 5.214-2.185 8.156-14.237 5.465c-.052-.042-.093-.094-.154-.126l-8.87-4.701L12.65 9.1zm25.736-2.976l-4.283-4.042a29.763 29.763 0 0 1 10.989 2.931l-6.706 1.111zM21.93 38.737l-.816-15.554L35.655 17.6l9.803 12.106-8.483 13.063-15.045-4.032zm37.375-19.141c-.031.054-.072.098-.093.159l-3.015 8.86h-9.048L36.882 15.937l2.113-7.887 8.27-1.371a.979.979 0 0 0 .453-.218 30.2 30.2 0 0 1 11.587 13.135zm-48.994-8.289l-.802 5.561-5.349 3.975a30.035 30.035 0 0 1 6.151-9.536zm-7.255 12.82c.044-.023.09-.037.131-.068l7.737-5.751 8.158 4.323.888 16.936c.002.025.013.048.016.073l-7.71 7.629c-.066.065-.105.145-.149.222L4.734 44.32c-.028-.012-.057-.009-.085-.018A29.822 29.822 0 0 1 2 32c0-2.725.372-5.362 1.056-7.873zm3.022 22.945l5.415 2.322 4.141 7.729a30.222 30.222 0 0 1-9.556-10.051zm12.759 11.879c-.019-.064-.025-.131-.058-.192l-5.317-9.924c.076-.043.155-.08.22-.145l8.027-7.942 14.507 3.888 5.927 9.879c.05.083.11.154.178.217l-5.449 6.867c-1.587.26-3.213.401-4.872.401-4.72 0-9.186-1.099-13.163-3.049z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 470 470'%3E%3Cpath d='M401.17 68.83C356.784 24.444 297.771 0 235 0S113.216 24.444 68.83 68.83 0 172.229 0 235s24.444 121.784 68.83 166.17S172.229 470 235 470s121.784-24.444 166.17-68.83S470 297.771 470 235s-24.444-121.784-68.83-166.17zM235 455c-121.309 0-220-98.691-220-220S113.691 15 235 15s220 98.691 220 220-98.691 220-220 220z'/%3E%3Cpath d='M382.5 173.979c3.532 0 6.735 1.824 8.568 4.879a7.499 7.499 0 0 0 12.864 0c1.833-3.055 5.036-4.879 8.568-4.879 4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5c-5.461 0-10.724 1.829-15 5.039-4.276-3.21-9.539-5.039-15-5.039-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5zM322.5 135.459c3.532 0 6.735 1.824 8.568 4.879a7.499 7.499 0 0 0 12.864 0c1.833-3.055 5.036-4.879 8.568-4.879 4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5c-5.461 0-10.724 1.829-15 5.039-4.276-3.21-9.539-5.039-15-5.039-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5zM117.5 173.979c3.532 0 6.735 1.824 8.568 4.879a7.499 7.499 0 0 0 12.864 0c1.833-3.055 5.036-4.879 8.568-4.879 4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5c-5.461 0-10.724 1.829-15 5.039-4.276-3.21-9.539-5.039-15-5.039-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5zM436.826 253.173a7.5 7.5 0 0 0-5.443-2.6c-12.664-.4-24.343-7.548-32.041-19.608a7.5 7.5 0 0 0-12.643-.001c-7.974 12.489-20.074 19.652-33.2 19.652-13.089 0-25.177-7.164-33.162-19.656a7.502 7.502 0 0 0-12.635-.004c-8 12.494-20.098 19.66-33.192 19.66-13.098 0-25.189-7.164-33.175-19.656a7.5 7.5 0 0 0-12.64.004c-7.974 12.489-20.069 19.652-33.187 19.652-13.098 0-25.19-7.164-33.176-19.656a7.502 7.502 0 0 0-12.635-.004c-8 12.494-20.098 19.66-33.191 19.66-13.099 0-25.19-7.164-33.175-19.655a7.5 7.5 0 0 0-12.64.004c-7.699 12.061-19.389 19.207-32.07 19.608a7.494 7.494 0 0 0-5.443 2.6 7.497 7.497 0 0 0-1.769 5.767c5.786 49.506 29.545 95.215 66.901 128.706C135.964 421.407 184.509 440 235 440c45.241 0 88.17-14.518 124.145-41.982a7.498 7.498 0 0 0 1.41-10.512 7.496 7.496 0 0 0-10.512-1.41C316.705 411.547 276.924 425 235 425c-93.882 0-173.276-68.424-187.68-160.366 11.265-2.217 21.561-8.215 29.707-17.284 10.49 11.584 24.673 18.267 39.476 18.267 14.808 0 29.002-6.691 39.505-18.291 10.493 11.6 24.685 18.291 39.498 18.291 14.828 0 29.022-6.689 39.511-18.284 10.493 11.595 24.682 18.284 39.491 18.284 14.808 0 29.002-6.691 39.505-18.291 10.493 11.6 24.679 18.291 39.485 18.291 14.826 0 29.018-6.681 39.505-18.264 8.14 9.065 18.422 15.061 29.671 17.278-6.044 38.177-24.008 74.246-51.068 102.269a7.5 7.5 0 1 0 10.791 10.419c31.08-32.185 51.038-74.226 56.198-118.38a7.495 7.495 0 0 0-1.769-5.766z'/%3E%3Cpath d='M289.513 310.616c-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5h10c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-10zM358.49 280.616h-10c-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5h10c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5zM111.503 280.616c-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5h10c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-10zM235 191.25c30.327 0 55-24.673 55-55s-24.673-55-55-55-55 24.673-55 55 24.673 55 55 55zm0-95c22.056 0 40 17.944 40 40s-17.944 40-40 40-40-17.944-40-40 17.944-40 40-40z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 502 502'%3E%3Cpath d='M428.484 73.516C381.076 26.108 318.044 0 251 0S120.924 26.108 73.516 73.516 0 183.956 0 251s26.108 130.076 73.516 177.484S183.956 502 251 502s130.076-26.108 177.484-73.516C475.892 381.076 502 318.044 502 251s-26.108-130.076-73.516-177.484zM283.829 39h58.868c58.354 25.338 104.274 74.079 125.849 134.317h-41.725a21.139 21.139 0 0 0-19.587 13.087 21.139 21.139 0 0 0 4.595 23.104l3.3 3.3c4.638 4.637 4.638 12.184 0 16.821a11.42 11.42 0 0 1-8.13 3.368 11.422 11.422 0 0 1-8.13-3.368l-7.969-7.969c-13.135-13.135-30.599-20.369-49.175-20.369h-6.397v-8.036c0-19.265-7.502-37.376-21.124-50.999l-9.952-9.952c-10.216-10.216-23.799-15.843-38.247-15.843h-19.931c-7.721 0-14.98 3.007-20.439 8.466l-5.17 5.169c-5.459 5.459-8.466 12.718-8.466 20.439a4.736 4.736 0 0 1-4.73 4.73h-8.66v-12.154c0-8.648 3.368-16.78 9.483-22.895l5.849-5.849c5.244-5.243 8.131-12.214 8.131-19.629V92.71c0-.394.32-.713.713-.713H320.5c12.407 0 22.5-10.093 22.5-22.5S332.907 47 320.5 47h-36.671c-2.206 0-4-1.794-4-4s1.794-4 4-4zm74.893 252.437l-5.452 5.484a155.066 155.066 0 0 0-22.913 29.41l-9.918 16.5-12.403 20.492a48.673 48.673 0 0 0-7.036 25.21v.615a.857.857 0 0 1-.856.856h-.004a8.78 8.78 0 0 1-6.247-2.586 8.776 8.776 0 0 1-2.589-6.25c0-12.58-4.899-24.407-13.794-33.303l-4.591-4.591c-6.947-6.947-10.773-16.183-10.773-26.007v-29.475c0-14.806-12.045-26.851-26.852-26.851H231.8c-8.349 0-15.142-6.792-15.142-15.142v-15.343c0-9.034 7.35-16.384 16.384-16.384h79.886l24.099 24.1c6.003 6.003 9.309 13.984 9.309 22.473v11.464c0 8.56 5.082 15.955 12.386 19.328zM20 251c0-9.444.583-18.752 1.69-27.902h30.619c10.153 0 19.698 3.954 26.876 11.133l8.781 8.78c7.527 7.527 17.534 11.672 28.179 11.672 5.65 0 10.962 2.2 14.957 6.195l.193.193c7.233 7.233 11.217 16.851 11.217 27.081v17.886c0 13.63-5.308 26.444-14.945 36.082l-19.15 19.15c-13.442 13.443-21.939 30.512-24.58 49.002C44.303 368.799 20 312.684 20 251zm231 231c-56.288 0-107.93-20.247-148.049-53.827v-5.423c0-17.881 6.963-34.693 19.607-47.337l19.15-19.15c13.415-13.416 20.803-31.252 20.803-50.224v-17.886c0-15.573-6.064-30.213-17.075-41.224l-.193-.192c-7.772-7.772-18.106-12.053-29.099-12.053a19.72 19.72 0 0 1-14.036-5.814l-8.781-8.781c-10.957-10.956-25.524-16.99-41.019-16.99h-27.3C47.126 98.635 140.047 20 251 20c7.743 0 15.396.39 22.946 1.138-8.316 3.774-14.117 12.151-14.117 21.862 0 13.234 10.766 24 24 24H320.5c1.378 0 2.5 1.122 2.5 2.5s-1.122 2.5-2.5 2.5h-97.713c-11.421 0-20.713 9.292-20.713 20.713v2.028a7.706 7.706 0 0 1-2.273 5.486l-5.85 5.85c-9.893 9.893-15.341 23.047-15.341 37.037v13.574c0 10.245 8.334 18.58 18.579 18.58h10.081c13.636 0 24.73-11.094 24.73-24.73 0-2.379.926-4.615 2.608-6.297l5.169-5.169c.203-.203.414-.393.632-.574.167.195.334.389.518.574l19.932 19.932c-3.833 3.911-3.813 10.186.068 14.068 1.953 1.953 4.512 2.929 7.071 2.929s5.119-.976 7.071-2.929l7-7c3.905-3.905 3.905-10.237 0-14.143l-15.45-15.45c8.875.156 17.197 3.677 23.489 9.97l9.953 9.952c9.844 9.844 15.266 22.934 15.266 36.856v.817H233.04c-20.062 0-36.384 16.322-36.384 36.384V245.8c0 19.377 15.765 35.142 35.142 35.142h3.493a6.86 6.86 0 0 1 6.852 6.851v29.475c0 15.167 5.906 29.425 16.63 40.15l4.591 4.591c5.118 5.118 7.937 11.923 7.937 19.161 0 7.705 3.001 14.948 8.451 20.396 5.446 5.443 12.685 8.44 20.384 8.44h.015C311.648 410 321 400.644 321 389.149v-.614a28.68 28.68 0 0 1 4.146-14.854l12.409-20.502a.226.226 0 0 1 .016-.026l9.928-16.517a135.064 135.064 0 0 1 19.955-25.613l11.147-11.213c4.428-4.455 5.731-11.08 3.319-16.879s-8.029-9.546-14.31-9.546a1.274 1.274 0 0 1-1.273-1.273v-11.464c0-13.832-5.386-26.835-15.167-36.616l-2.215-2.215c10.49 1.524 20.173 6.357 27.804 13.988l7.969 7.969c6.141 6.141 14.207 9.211 22.272 9.211s16.132-3.07 22.272-9.211c6.024-6.024 9.341-14.033 9.341-22.553 0-8.519-3.317-16.528-9.341-22.553l-3.3-3.3c-.198-.198-.567-.567-.26-1.308.307-.741.829-.741 1.109-.741h47.888C479.468 211.761 482 231.09 482 251c0 127.374-103.626 231-231 231z'/%3E%3Cpath d='M184 85c5.523 0 10-4.477 10-10V54.494c0-5.523-4.477-10-10-10s-10 4.477-10 10V75c0 5.523 4.477 10 10 10zM450.39 314.63c-5.176-1.93-10.935.702-12.863 5.877C408.652 397.961 333.692 450 251 450c-5.523 0-10 4.477-10 10s4.477 10 10 10c45.543 0 89.207-13.849 126.272-40.048 36.24-25.617 63.556-61.046 78.995-102.458 1.929-5.175-.702-10.934-5.877-12.864zM202.433 444.034a198.232 198.232 0 0 1-28.554-9.526c-5.092-2.144-10.954.249-13.096 5.339-2.142 5.09.249 10.954 5.339 13.096a218.202 218.202 0 0 0 31.445 10.491c.817.205 1.635.303 2.44.303 4.478 0 8.554-3.03 9.692-7.57 1.344-5.358-1.909-10.79-7.266-12.133z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M337.502 61.244c-46.267-19.341-98.094-21.573-145.933-6.282-5.497 1.758-8.528 7.638-6.772 13.134 1.758 5.497 7.64 8.528 13.134 6.772 43.115-13.782 89.819-11.772 131.51 5.657 1.317.55 2.682.811 4.026.811 4.087 0 7.969-2.415 9.644-6.422 2.228-5.324-.284-11.445-5.609-13.67zM368.323 77.252a11.31 11.31 0 0 0-.375-.239c-4.925-3.009-11.356-1.458-14.364 3.467-2.984 4.884-1.483 11.249 3.346 14.29a10.398 10.398 0 0 0 5.587 1.626c3.377 0 6.69-1.633 8.704-4.654 3.201-4.801 1.904-11.289-2.898-14.49zM447.293 161.884c-4.081-4.08-10.698-4.08-14.778 0l-14.629 14.629c-4.08 4.081-4.08 10.698 0 14.778 2.04 2.041 4.715 3.06 7.388 3.06s5.349-1.02 7.389-3.06l14.629-14.629c4.081-4.081 4.081-10.698.001-14.778zM83.999 214.617c-4.081-4.08-10.698-4.08-14.778 0l-14.629 14.629c-4.08 4.081-4.08 10.698 0 14.778 2.04 2.041 4.715 3.06 7.388 3.06s5.349-1.02 7.39-3.06l14.629-14.629c4.081-4.082 4.081-10.698 0-14.778zM115.508 100.235c-4.081-4.08-10.698-4.08-14.778 0l-14.629 14.629c-4.08 4.081-4.08 10.698 0 14.778 2.04 2.041 4.715 3.06 7.388 3.06s5.348-1.02 7.39-3.06l14.629-14.629c4.081-4.081 4.081-10.698 0-14.778zM386.754 116.24h-20.688c-5.771 0-10.449 4.678-10.449 10.449s4.678 10.449 10.449 10.449h20.688c5.771 0 10.449-4.678 10.449-10.449s-4.678-10.449-10.449-10.449zM151.326 161.908l-14.618-14.618c-4.081-4.08-10.698-4.081-14.778 0s-4.08 10.698 0 14.778l14.618 14.618a10.413 10.413 0 0 0 7.388 3.06c2.674 0 5.349-1.02 7.39-3.06 4.081-4.081 4.081-10.698 0-14.778zM411.753 229.241l-14.618-14.617c-4.08-4.081-10.696-4.08-14.777 0s-4.08 10.697 0 14.777l14.618 14.617c2.041 2.041 4.715 3.06 7.388 3.06s5.348-1.021 7.388-3.06c4.083-4.08 4.082-10.696.001-14.777zM318.326 126.607l-14.617-14.617c-4.081-4.08-10.698-4.081-14.778 0s-4.08 10.698 0 14.778l14.617 14.617a10.414 10.414 0 0 0 7.388 3.061 10.42 10.42 0 0 0 7.39-3.061c4.08-4.081 4.08-10.698 0-14.778zM195.194 97.387c-3.904-4.25-10.515-4.528-14.763-.622l-15.22 13.989c-4.249 3.905-4.527 10.515-.622 14.763a10.42 10.42 0 0 0 7.696 3.378c2.528 0 5.063-.911 7.068-2.756l15.22-13.989c4.248-3.905 4.526-10.515.621-14.763zM256.153 145.241H255.865c-5.762 0-10.437 4.665-10.449 10.429-.011 5.771 4.658 10.457 10.429 10.469H256.134c5.762 0 10.438-4.664 10.449-10.429.01-5.771-4.659-10.458-10.43-10.469z'/%3E%3Cpath d='M437.019 74.981C388.668 26.628 324.38 0 256 0S123.332 26.628 74.981 74.981C26.629 123.333 0 187.62 0 256c0 68.38 26.628 132.668 74.981 181.019C123.333 485.371 187.62 512 256 512c68.38 0 132.668-26.628 181.019-74.981C485.371 388.667 512 324.38 512 256s-26.628-132.668-74.981-181.019zM256 491.102c-94.256 0-175.718-55.763-213.173-136.024 6.781-.56 13.126-3.458 18.112-8.35 5.756-5.647 9.057-13.495 9.057-21.531v-9.364c0-7.449 6.027-13.624 13.435-13.767 3.561-.079 6.976 1.322 9.617 3.913 2.77 2.718 4.359 6.484 4.359 10.332v23.709c0 18.754 15.222 34.302 33.932 34.66.221.004.442.006.664.006 8.973 0 17.47-3.499 23.989-9.895 6.751-6.623 10.623-15.826 10.623-25.25v-18.215c20.172 27.524 52.723 45.432 89.384 45.432 52.209 0 96.09-36.312 107.73-85.007a10.027 10.027 0 0 1 2.18 6.23v25.773c0 19.673 15.968 35.984 35.596 36.361.233.004.464.006.696.006 9.409 0 18.321-3.671 25.161-10.38 7.086-6.951 11.149-16.61 11.149-26.5v-24.856c0-2.83 1.17-5.6 3.21-7.602 1.927-1.889 4.429-2.882 6.986-2.854 5.403.104 9.8 4.612 9.8 10.05v2.721c0 14.409 10.071 26.69 23.526 30.04C453.848 418.996 363.189 491.102 256 491.102zm223.405-200.399v-2.721c0-16.741-13.591-30.624-30.297-30.944-8.235-.159-16.057 2.978-22.022 8.829-6.021 5.906-9.473 14.113-9.473 22.52v24.856c0 4.314-1.782 8.536-4.886 11.582-2.97 2.912-6.846 4.462-10.82 4.397-8.326-.16-15.099-7.098-15.099-15.468v-25.773c0-13.154-8.392-24.538-20.091-28.971.027-1.001.043-2.004.043-3.011 0-46.06-29.007-87.788-72.182-103.836-5.411-2.01-11.425.745-13.434 6.154-2.01 5.409.745 11.424 6.154 13.434 35.027 13.021 58.562 46.877 58.562 84.248 0 49.549-40.312 89.861-89.861 89.861-49.549 0-89.861-40.312-89.861-89.861 0-37.372 23.535-71.228 58.565-84.246 5.409-2.01 8.164-8.026 6.154-13.434s-8.022-8.165-13.434-6.154C174.248 168.21 145.239 209.938 145.239 256a110.22 110.22 0 0 0 7.085 38.971 30.145 30.145 0 0 0-6.607 18.808v25.763c0 3.848-1.589 7.614-4.359 10.332-2.642 2.591-6.036 3.973-9.617 3.913-7.407-.142-13.434-6.317-13.434-13.766v-23.709c0-9.424-3.872-18.627-10.623-25.251-6.681-6.554-15.435-10.081-24.652-9.889-18.71.358-33.932 15.907-33.932 34.66v9.364c0 2.461-1.019 4.871-2.794 6.613-1.668 1.635-3.808 2.506-6.034 2.47-3.374-.065-6.387-2.139-7.733-5.21-7.543-23.011-11.64-47.569-11.64-73.07C20.898 126.365 126.365 20.898 256 20.898S491.102 126.365 491.102 256c0 15.182-1.464 30.026-4.227 44.414-4.281-1.138-7.47-5.083-7.47-9.711z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 58.153 58.153'%3E%3Cpath d='M40.076 29.153h-7.142a3.995 3.995 0 0 0-2.858-2.858V16.153a1 1 0 1 0-2 0v10.142c-1.72.447-3 1.999-3 3.858 0 2.206 1.794 4 4 4 1.858 0 3.411-1.28 3.858-3h7.142a1 1 0 1 0 0-2zm-11 3c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z'/%3E%3Cpath d='M50.188 9.764l4.096 4.096a1 1 0 0 0 1.414 0c3.167-3.166 3.167-8.319 0-11.485s-8.319-3.166-11.485 0a.997.997 0 0 0 0 1.414l4.561 4.561-1.699 1.699c-4.78-4.284-11.089-6.896-17.998-6.896s-13.218 2.612-17.998 6.896l-1.7-1.699 4.561-4.561a.997.997 0 0 0 0-1.414c-3.166-3.166-8.318-3.166-11.485 0s-3.167 8.319 0 11.485a1 1 0 0 0 1.414 0l4.096-4.096 1.676 1.676c-4.679 4.857-7.565 11.453-7.565 18.713 0 9.898 5.357 18.564 13.321 23.265l-3.028 3.028a.999.999 0 1 0 1.414 1.414l3.45-3.45c3.578 1.754 7.597 2.743 11.843 2.743s8.265-.989 11.843-2.743l3.45 3.45a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-3.028-3.028c7.964-4.701 13.321-13.367 13.321-23.265 0-7.26-2.886-13.856-7.565-18.713l1.677-1.676zm4.095-5.975c2.146 2.146 2.362 5.502.649 7.893L46.391 3.14a6.13 6.13 0 0 1 7.892.649zM3.22 11.681c-1.713-2.39-1.497-5.746.649-7.892s5.502-2.361 7.892-.649L3.22 11.681zm25.856 43.472c-13.785 0-25-11.215-25-25s11.215-25 25-25 25 11.215 25 25-11.214 25-25 25z'/%3E%3Cpath d='M29.076 10.032a1 1 0 0 0 1-1v-1a1 1 0 1 0-2 0v1a1 1 0 0 0 1 1zM29.076 50.032a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0v-1a1 1 0 0 0-1-1zM50.076 31.032h1a1 1 0 1 0 0-2h-1a1 1 0 1 0 0 2zM8.076 29.032h-1a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2zM43.926 13.768l-.707.707a.999.999 0 1 0 1.414 1.414l.707-.707a.999.999 0 1 0-1.414-1.414zM13.52 44.174l-.707.707a.999.999 0 1 0 1.414 1.414l.707-.707a.999.999 0 1 0-1.414-1.414zM44.633 44.174a.999.999 0 1 0-1.414 1.414l.707.707a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-.707-.707zM14.227 13.768a.999.999 0 1 0-1.414 1.414l.707.707a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-.707-.707z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 33 33'%3E%3Cpath d='M16.5 33C7.402 33 0 25.598 0 16.5S7.402 0 16.5 0 33 7.402 33 16.5 25.598 33 16.5 33zm0-32C7.953 1 1 7.953 1 16.5S7.953 32 16.5 32 32 25.047 32 16.5 25.047 1 16.5 1z'/%3E%3Cpath d='M16.5 33a16.38 16.38 0 0 1-9.549-3.06.5.5 0 1 1 .116-.876c4.146-1.535 4.815-2.781 4.815-5.169 0-.631-.142-.838-.398-1.214-.339-.494-.803-1.171-1.129-2.939-.048-.254-.089-.274-.316-.384-.606-.292-1.163-.712-1.309-2.628 0-.928.32-1.441.585-1.708-.058-.33-.153-.899-.242-1.519-.453-2.777-.473-6.178 3.433-7.759 3.404-1.38 6.121-.626 6.974.273.604.019 2.162.177 3.246 1.438 1.668 1.94 1.137 6.363.955 7.562.266.261.589.767.589 1.675-.146 1.954-.703 2.375-1.31 2.666-.228.11-.269.129-.316.384-.326 1.768-.789 2.445-1.128 2.939-.257.375-.398.583-.398 1.214 0 2.388.669 3.634 4.815 5.169a.498.498 0 0 1 .116.876A16.38 16.38 0 0 1 16.5 33zm-8.183-3.349C10.779 31.191 13.589 32 16.5 32s5.721-.809 8.183-2.349c-3.474-1.426-4.565-2.864-4.565-5.755 0-.941.278-1.348.573-1.779.304-.444.682-.996.971-2.556.139-.754.576-.964.865-1.103.311-.149.631-.303.744-1.803-.001-.764-.344-.972-.358-.98a.533.533 0 0 1-.264-.537c.248-1.329.656-5.474-.681-7.031-.913-1.062-2.352-1.091-2.626-1.08-.046-.004-.091-.005-.134-.016-.13-.033-.35-.146-.417-.262-.272-.466-2.641-1.403-5.91-.08-3.231 1.308-3.238 4.112-2.819 6.682.138.957.289 1.784.29 1.788a.5.5 0 0 1-.283.544c.003 0-.339.209-.339 1.008.112 1.461.433 1.616.743 1.765.289.139.727.349.866 1.103.288 1.56.666 2.112.97 2.556.296.431.574.838.574 1.779 0 2.894-1.091 4.332-4.566 5.757z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 490.4 490.4'%3E%3Cpath d='M229 381.2c4.4 4.4 10.1 6.8 16.3 6.8 6.2 0 12-2.4 16.3-6.8l96.3-96.3c15.7-15.7 24.4-36.6 24.4-58.7 0-22.2-8.6-43.1-24.3-58.8-15.7-15.7-36.6-24.3-58.7-24.3-20 0-38.9 7-54 19.9-15.1-13-34.1-20-54.1-20-22.2 0-43 8.6-58.7 24.3s-24.3 36.6-24.3 58.8 8.7 43 24.4 58.7l96.4 96.4zm-79.3-196.7c11.1-11.1 25.7-17.1 41.4-17.1s30.4 6.1 41.5 17.2l4 4c4.8 4.8 12.5 4.8 17.3 0l3.9-3.9c11.1-11.1 25.8-17.2 41.5-17.2 15.6 0 30.3 6.1 41.4 17.2 11.1 11.1 17.2 25.8 17.1 41.4 0 15.7-6.1 30.4-17.2 41.5l-95.3 95.3-95.5-95.5c-11.1-11.1-17.2-25.8-17.2-41.4 0-15.7 6.1-30.4 17.1-41.5z'/%3E%3Cpath d='M245.2 490.4c135.2 0 245.2-110 245.2-245.2S380.4 0 245.2 0 0 110 0 245.2s110 245.2 245.2 245.2zm0-465.9c121.7 0 220.7 99 220.7 220.7s-99 220.7-220.7 220.7-220.7-99-220.7-220.7 99-220.7 220.7-220.7z'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 470 470'%3E%3Cpath d='M401.17 68.83C356.784 24.444 297.771 0 235 0S113.216 24.444 68.83 68.83C24.444 113.215 0 172.229 0 235s24.444 121.785 68.83 166.17C113.216 445.556 172.229 470 235 470s121.784-24.444 166.17-68.83C445.556 356.785 470 297.771 470 235s-24.444-121.785-68.83-166.17zM235 455c-121.309 0-220-98.691-220-220S113.691 15 235 15s220 98.691 220 220-98.691 220-220 220z'/%3E%3Ccircle cx='235' cy='97.5' r='7.5'/%3E%3Cpath d='M437.56 242.365a7.501 7.501 0 0 0-5.467-2.365h-26.046v-22.5c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5V240H372.5v-52.5a7.5 7.5 0 0 0-3.525-6.36L292.5 133.343V97.5A7.5 7.5 0 0 0 285 90h-13.253C268.262 72.905 253.109 60 235 60s-33.262 12.905-36.747 30H185a7.5 7.5 0 0 0-7.5 7.5V130h-25v-22.5c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5V130H105a7.5 7.5 0 0 0-7.5 7.5v102.499l-59.593-.01a7.504 7.504 0 0 0-7.487 7.969c3.523 56.171 29.666 105.984 69.187 140.798.281.291.587.556.911.799 23.389 20.362 51.39 35.496 82.128 43.638.307.102.622.184.946.246A204.258 204.258 0 0 0 235 440c17.409 0 34.679-2.229 51.386-6.558a7.297 7.297 0 0 0 1.002-.262 203.842 203.842 0 0 0 50.574-20.966c30.222-17.629 55.631-42.86 73.479-72.965a7.5 7.5 0 0 0-12.902-7.65 189.49 189.49 0 0 1-26.039 34.299V255h51.438a188.457 188.457 0 0 1-12.616 50.728 7.499 7.499 0 0 0 4.156 9.758 7.498 7.498 0 0 0 9.758-4.157 203.511 203.511 0 0 0 14.342-63.359 7.499 7.499 0 0 0-2.018-5.605zM192.5 175h85v215h-85V175zm0-70H205a7.5 7.5 0 0 0 7.5-7.5c0-12.407 10.094-22.5 22.5-22.5s22.5 10.093 22.5 22.5a7.5 7.5 0 0 0 7.5 7.5h12.5v55h-85v-55zM46.059 254.99l51.441.009V307.5c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5V145h65v245H175c-4.143 0-7.5 3.358-7.5 7.5s3.357 7.5 7.5 7.5h2.5v11.078c-24.056-7.668-46.091-20.018-65-35.997V337.5c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v28.458c-28.127-29.492-46.937-68.033-51.441-110.968zM192.5 420.179V405h85v15.106A187.644 187.644 0 0 1 235 425a189.427 189.427 0 0 1-42.5-4.821zm100-4.235V405h2.5c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5h-2.5V151.032l65 40.625v188.307a191.989 191.989 0 0 1-65 35.98z'/%3E%3Cpath d='M325 320a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM325 280a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM325 240a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM325 200a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM145 345a7.5 7.5 0 0 0 7.5-7.5v-10c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v10a7.5 7.5 0 0 0 7.5 7.5zM145 305a7.5 7.5 0 0 0 7.5-7.5v-10c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v10a7.5 7.5 0 0 0 7.5 7.5zM145 265a7.5 7.5 0 0 0 7.5-7.5v-10c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v10a7.5 7.5 0 0 0 7.5 7.5zM145 185a7.5 7.5 0 0 0 7.5-7.5v-10c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v10a7.5 7.5 0 0 0 7.5 7.5zM145 225a7.5 7.5 0 0 0 7.5-7.5v-10c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v10a7.5 7.5 0 0 0 7.5 7.5zM235 350a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM235 310a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM235 270a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM235 230a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM235 190a7.5 7.5 0 0 0-7.5 7.5v10c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-10a7.5 7.5 0 0 0-7.5-7.5zM215 145h40c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5h-40c-4.143 0-7.5 3.358-7.5 7.5s3.357 7.5 7.5 7.5z'/%3E%3C/svg%3E"},function(e,t,n){var r=n(5),i=n(43);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react .emoji {\n  position: relative;\n}\n\n.emoji-picker-react .emoji.has-skin-variation button:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  right: -2px;\n  bottom: 0px;\n  position: absolute;\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid rgba(0, 0, 0, 0.1);\n  transform: rotate(135deg);\n  z-index: 1;\n}\n\n.emoji-picker-react .emoji.has-skin-variation button:hover:before,\n.emoji-picker-react .emoji.has-skin-variation button:focus-visible:before {\n  border-bottom: 4px solid rgba(0, 0, 0, 0.4);\n}\n\n.emoji-picker-react .emoji button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: inherit;\n  border-radius: 5px;\n  transition: 0.1s background;\n  padding: 0;\n  margin: 0;\n}\n\n.emoji-picker-react .emoji button:hover,\n.emoji-picker-react .emoji button:focus-visible {\n  background-color: currentColor;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(45);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react .emoji-group {\n  clear: both;\n  padding: 0 15px;\n  list-style: none;\n  margin: 0;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n}\n\n.emoji-picker-react .emoji-group:before {\n  content: attr(data-display-name);\n  color: #aaa;\n  font-size: 14px;\n  position: sticky;\n  background: rgba(255, 255, 255, 0.95);\n  width: 100%;\n  z-index: 1;\n  top: 0;\n  text-transform: uppercase;\n  line-height: 45px;\n  font-weight: 700;\n}\n\n.emoji-picker-react .emoji-group:after {\n  content: '';\n  flex: 1000;\n  order: 99999;\n  flex-basis: 25px;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(47);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,".emoji-picker-react input.emoji-search {\n  width: calc(100% - 30px);\n  margin-left: 15px;\n  outline: none;\n  box-shadow: none;\n  padding: 10px;\n  box-sizing: border-box;\n  border: 1px solid #efefef;\n  border-radius: 3px;\n  transition: border 0.1s;\n}\n\n.emoji-picker-react input.emoji-search:focus {\n  border: 1px solid #d6d6d6;\n}\n",""]),e.exports=t},function(e,t,n){var r=n(5),i=n(49);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(6)(!1)).push([e.i,"aside.emoji-picker-react {\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  height: 320px;\n  width: 280px;\n  font-family: sans-serif;\n  border: 1px solid #efefef;\n  border-radius: 5px;\n  box-sizing: border-box;\n  box-shadow: 0 5px 10px #efefef;\n  overflow: hidden;\n  position: relative;\n}\n\naside.emoji-picker-react .content-wrapper {\n  flex: 1;\n  overflow-y: hidden;\n  position: relative;\n}\n\n.emoji-picker-react .emoji-scroll-wrapper {\n  overflow-y: scroll;\n  position: relative;\n  height: 100%;\n  box-sizing: border-box;\n}\n\naside.emoji-picker-react .content-wrapper:before {\n  content: attr(data-name);\n  color: #aaa;\n  font-size: 11px;\n  display: block;\n  position: absolute;\n  right: 15px;\n  z-index: 10;\n  line-height: 45px;\n  max-height: 45px;\n  overflow: hidden;\n  max-width: 100px;\n  text-overflow: ellipsis;\n  text-align: right;\n}\n\naside.emoji-picker-react button {\n  border: none;\n  cursor: pointer;\n  outline: none;\n  background: none;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"SKIN_TONE_NEUTRAL",(function(){return F})),n.d(t,"SKIN_TONE_LIGHT",(function(){return W})),n.d(t,"SKIN_TONE_MEDIUM_LIGHT",(function(){return V})),n.d(t,"SKIN_TONE_MEDIUM",(function(){return B})),n.d(t,"SKIN_TONE_MEDIUM_DARK",(function(){return z})),n.d(t,"SKIN_TONE_DARK",(function(){return H}));var r,i=n(3),a=n.n(i),o=n(9),s=n.n(o),l=n(0),c=n.n(l),u=n(1),d=n.n(u),f=n(2),h=(r={},a()(r,f.GROUP_NAME_PEOPLE,"smileys & people"),a()(r,f.GROUP_NAME_NATURE,"animals & nature"),a()(r,f.GROUP_NAME_FOOD,"food & drink"),a()(r,f.GROUP_NAME_TRAVEL,"travel & places"),a()(r,f.GROUP_NAME_OBJECTS,f.GROUP_NAME_OBJECTS),a()(r,f.GROUP_NAME_ACTIVITIES,f.GROUP_NAME_ACTIVITIES),a()(r,f.GROUP_NAME_SYMBOLS,f.GROUP_NAME_SYMBOLS),a()(r,f.GROUP_NAME_FLAGS,f.GROUP_NAME_FLAGS),a()(r,f.GROUP_NAME_RECENTLY_USED,"Recently Used"),r),p=n(15),m=n.n(p);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,C=Object(l.createContext)({}),y="ACTIVE_CATEGORY_SET",S="VARIATION_MENU_SET",w="SKIN_TONES_SPREAD",T="ACTIVE_SKIN_TONE_SET",I="GROUP_SEEN_SET",O="EMOJI_NOT_LOADED_SET",E="FILTER_SET",R=function(e,t){var n=t.type,r=m()(t,["type"]);switch(n){case S:return e.variationMenu===r.emoji?e:g(g({},e),{},{variationMenu:r.emoji});case w:return g(g({},e),{},{skinTonesSpread:!!r.spread});case T:return e.activeSkinTone===r.skinTone?e:g(g({},e),{},{activeSkinTone:r.skinTone});case I:return e.seenGroups&&e.seenGroups[r.group]?e:g(g({},e),{},{seenGroups:g(g({},e.seenGroups),{},a()({},r.group,!0))});case O:return g(g({},e),{},{failedToLoad:g(g({},e.failedToLoad),{},a()({},r.unified,!0))});case E:return g(g({},e),{},{activeCategory:null},r);case y:return g(g({},e),r);default:return e}},k=n(4),M=n.n(k);try{b=window}catch(e){b={}}var _=b;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D="localStorage"in _,j=function(){if(!D)return[];var e=localStorage.getItem("epr_ru");return e?JSON.parse(e):[]},P=function(e){var t=e.unified,n=e.originalUnified;if(D){var r=t.split("-"),i="";t!==n&&r.length>1&&(i=r[1]);var o=[x(a()({},f.EMOJI_PROPERTY_UNIFIED,n),i&&a()({},f.EMOJI_PROPERTY_SKIN_VARIATIONS,i))].concat(M()(j().filter((function(e){return e[f.EMOJI_PROPERTY_UNIFIED]!==n})))).splice(0,14);localStorage.setItem("epr_ru",JSON.stringify(o))}},N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.assign({unified:e,emoji:e.split("-").map((function(e){return parseInt(e,16)})).map((function(e){return String.fromCodePoint(e)})).join(""),originalUnified:t[f.EMOJI_PROPERTY_UNIFIED],names:t[f.EMOJI_PROPERTY_NAME],activeSkinTone:n},r)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,r,i){var a=N(n,r,i);return P(a),e.current&&e.current(t,a)}},U=n(11),F="neutral",W="1f3fb",V="1f3fc",B="1f3fe",z="1f3ff",H="1f3fd",q=(n(25),function(){var e=Object(l.useContext)(C),t=e.state,n=t.skinTonesSpread,r=t.activeSkinTone,i=e.dispatch,a=function(){i({type:w,spread:!n})},o=function(e){var t=e.target.value;i({type:T,skinTone:t})};return c.a.createElement("ul",{className:"skin-tones-list"},U.map((function(e,t){var i=e===r;return c.a.createElement("li",{key:e,className:"t".concat(e),style:{transform:"translateX(-".concat(n?20*t:0,"px) scale(").concat(i?"1.5":1,")"),zIndex:i?2:1}},c.a.createElement("input",{type:"radio",onChange:o,name:"skin-tone",value:e,id:"tone_".concat(e)}),c.a.createElement("label",{htmlFor:"tone_".concat(e),"data-name":"tones",onClick:a}))})))}),G=n(7),J=n.n(G),Y=n(8),Z=n.n(Y),K=function(e){var t=Object(l.useContext)(C).state.emojiUrl;return e?"".concat(t,"/").concat(e,".png"):t},$=function(e){return{src:K(e)}},Q=(n(27),function(e){var t=e.unified,n=e.dispatch,r=e.shouldLoad,i=void 0===r||r,a=e.native;return void 0!==a&&a?c.a.createElement("div",{className:"native"},t.split("-").map((function(e){return parseInt(e,16)})).map((function(e){return String.fromCodePoint(e)})).join("")):c.a.createElement("img",Z()({className:"emoji-img",onError:function(){return function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function.prototype)({type:O,unified:e})}(t,n)}},i&&$(t)))}),X=Q;Q.propTypes={unified:d.a.string,shouldLoad:d.a.bool,dispatch:d.a.func,native:d.a.bool},n(29);var ee=function(e){var t=e.closeVariations,n=Object(l.useState)(!1),r=s()(n,2),i=r[0],a=r[1],o=Object(l.useContext)(C),u=o.state,d=u.variationMenu,h=u.activeSkinTone,p=u.native,m=o.onEmojiClick;if(Object(l.useEffect)((function(){return d&&!i&&a(!0),function(){a(!1)}}),[d]),!d)return null;var v=J()("variation-list",{visible:i});return c.a.createElement("div",{className:"variations-wrapper"},c.a.createElement("ul",{className:v},U.map((function(e){var n=d[f.EMOJI_PROPERTY_SKIN_VARIATIONS].find((function(t){return t.includes(e)}))||d[f.EMOJI_PROPERTY_UNIFIED];return c.a.createElement("li",{key:n},c.a.createElement("button",{onClick:function(e){return t(e),m(e,n,d,h)},onMouseDown:function(e){return e.stopPropagation()}},c.a.createElement(X,{native:p,unified:n})))}))))},te=ee;ee.propTypes={closeVariations:d.a.func};var ne=n(10),re=(n(31),function(e){var t=e.emojiListRef,n=Object(l.useRef)(null),r=Object(l.useContext)(C),i=r.state,a=i.activeCategory,o=i.filter,s=i.groupVisibility,u=r.dispatch,d=!1;o&&o.length&&(d=!0);var f,h=0,p=0,m="0";return n&&n.current&&((f=n.current.querySelector("[".concat("data-name",'="').concat(a,'"]')))?(h=f&&f.offsetLeft||n.current.firstChild.offsetLeft,m="0"):(h=n.current.firstChild.offsetLeft,m="0")),c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{onClick:function(e){var n=e.target;if(!d){var r=n.getAttribute("data-name");if(t&&t.current&&r){u({type:y,activeCategory:r}),u({type:I,group:r});var i=t.current,a=i.querySelector("[".concat("data-name",'="').concat(r,'"]'));i.scrollTop=a.offsetTop}}},className:J()("emoji-categories",{inactive:d}),ref:n},ne.map((function(e,t){if(!1===s[e])return null;var n=a===e;return n&&(p=t),c.a.createElement("button",{key:e,type:"button",className:J()("icn-".concat(e),{active:n}),"data-name":e})}))),c.a.createElement("div",{className:"active-category-indicator-wrapper"},c.a.createElement("div",{className:"active-category-indicator",style:{transform:"translateX(".concat(Math.max(h+p/2,h),"px)"),opacity:m}})))}),ie=re;re.propTypes={emojiListRef:d.a.shape({current:d.a.instanceOf(Element)})};var ae,oe=n(12),se=function(e){var t={groups:{},emojis:{}},n=function(n){e[n].reduce((function(e,t){var r=t[f.EMOJI_PROPERTY_UNIFIED];return t[f.EMOJI_PROPERTY_GROUP]=n,e.emojis[r]=t,e.groups[n]=e.groups[n]||[],e.groups[n].push(r),e}),t)};for(var r in e)n(r);return t}(oe),le=function(e,t,n,r){var i=Object(l.useRef)(null),a=Object(l.useContext)(C).dispatch;Object(l.useEffect)((function(){var o=t.current;if(void 0===_.IntersectionObserver||!e.current||n.current||r||(i.current=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target.getAttribute("data-name");0!==e.intersectionRatio&&(a({type:I,group:t}),o||a({type:y,activeCategory:t}))}))}),{root:e.current.parentElement})),i.current)return M()(e.current.querySelectorAll(".emoji-group")).forEach((function(e){i.current.observe(e,{threshold:1})})),function(){i.current.disconnect()}}),[e.current,r])},ce=function(e,t){var n=Object(l.useRef)();return Object(l.useEffect)((function(){t&&t.current&&(t.current.scrollTop=0),n.current=e}),[e]),n.current},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=".content-wrapper";(t&&t.current?t.current.closest("".concat(n)):document.querySelector(".emoji-picker-react ".concat(n))).setAttribute("data-name",e)},de=d.a.shape((ae={},a()(ae,f.EMOJI_PROPERTY_NAME,d.a.arrayOf(d.a.string)),a()(ae,f.EMOJI_PROPERTY_UNIFIED,d.a.string),a()(ae,f.EMOJI_PROPERTY_SKIN_VARIATIONS,d.a.arrayOf(d.a.string)),a()(ae,f.EMOJI_PROPERTY_GROUP,d.a.string),ae)),fe=d.a.shape({smileys_people:d.a.string,animals_nature:d.a.string,food_drink:d.a.string,travel_places:d.a.string,activities:d.a.string,objects:d.a.string,symbols:d.a.string,flags:d.a.string,recently_used:d.a.string});function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(42);var me=["#aeeff0","#ffe0e0","#d6f8b8","#c6cfff","#f1f0d1"],ve=null,ge=function(){return clearTimeout(ve)},be=function(e){var t,n,r=e.emoji,i=e.shouldLoad,a=e.hidden,o=e.activeSkinTone,s=e.openVariationMenu,l=e.variationMenuOpenRef,u=e.handleMouseEnter,d=e.handleMouseLeave,h=e.onEmojiClick,p=e.index,m=e.dispatch,v=e.native,g=void 0!==v&&v,b=r[f.EMOJI_PROPERTY_SKIN_VARIATIONS],C=pe(pe({},a&&{display:"none"}),{},{color:(n=p,me[n%me.length])});return b&&r[f.EMOJI_PROPERTY_SKIN_VARIATIONS]&&(t=r[f.EMOJI_PROPERTY_SKIN_VARIATIONS].find((function(e){return e.indexOf(o)>=0}))),t||(t=r[f.EMOJI_PROPERTY_UNIFIED]),c.a.createElement("li",{style:C,className:J()("emoji",{"has-skin-variation":b&&s})},c.a.createElement("button",{onMouseDown:function(){b&&s&&(ve=setTimeout((function(){s(r)}),500))},onMouseEnter:u,onMouseLeave:d,onMouseUp:ge,type:"button",onClick:function(e){l&&l.current||h(e,t,r,o)}},c.a.createElement(X,{unified:t,shouldLoad:i,dispatch:m,native:g})))},Ce=be;function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}be.propTypes={emoji:de,shouldLoad:d.a.bool,hidden:d.a.bool,activeSkinTone:d.a.string,openVariationMenu:d.a.func,variationMenuOpenRef:d.a.shape({current:d.a.bool}),handleMouseEnter:d.a.func,handleMouseLeave:d.a.func,onEmojiClick:d.a.func,index:d.a.number,dispatch:d.a.func,native:d.a.bool},n(44);var Se=function(e){var t=e.emojiListRef,n=Object(l.useContext)(C).state,r=n.filterResult,i=n.filter,a=n.groupNames,o=n.activeCategory,u=Object(l.useRef)(o),d=Object(l.useRef)(r),f=Object(l.useState)(!0),h=s()(f,2),p=h[0],m=h[1],v=i&&i.length?i[i.length-1].value:"";Object(l.useEffect)((function(){v||requestAnimationFrame((function(){m(!0)}))}),[v]),Object(l.useEffect)((function(){p&&requestAnimationFrame((function(){m(!1)}))}),[p]),le(t,u,d,p),ce(r,t);var g={emojiListRef:t,searchTerm:v,groupNames:a};return c.a.createElement(c.a.Fragment,null,c.a.createElement(we,Z()({name:ne[0]},g)),!p&&ne.slice(1).map((function(e){return c.a.createElement(we,Z()({key:e,name:e},g))})))},we=c.a.memo((function(e){var t=e.name,n=e.searchTerm,r=e.emojiListRef,i=e.groupNames;if(!1===Object(l.useContext)(C).state.groupVisibility[t])return null;var o=function(e,t){var n=t.emojiListRef,r=t.searchTerm,i=Object(l.useContext)(C),a=i.state,o=a.activeSkinTone,s=a.filterResult,u=a.seenGroups,d=void 0===u?{}:u,h=a.variationMenu,p=a.failedToLoad,m=void 0===p?null:p,v=a.preload,g=a.native,b=i.dispatch,y=i.onEmojiClick,w=Object(l.useRef)(!!h),T=Object(l.useCallback)((function(){return ue("",n)}));Object(l.useEffect)((function(){w.current=!!h}),[h]);var I=v||!(!d[e]&&!s&&"function"==typeof _.IntersectionObserver),O=function(e){return b({type:S,emoji:e})};return Object(l.useMemo)((function(){var t=s?Object.keys(s[e]||{}):se.groups[e];return t.reduce((function(e,r,i){if(m&&m[r])return e;var a=se.emojis[r],s=!t.length;return e.shown||s||(e.shown=!0),e.list.push(c.a.createElement(Ce,{emoji:a,dispatch:b,openVariationMenu:O,activeSkinTone:o,handleMouseLeave:T,variationMenuOpenRef:w,handleMouseEnter:function(){return ue(a[f.EMOJI_PROPERTY_NAME][0],n)},hidden:s,shouldLoad:I,onEmojiClick:y,index:i,key:a[f.EMOJI_PROPERTY_UNIFIED],native:g})),e}),{list:[],shown:!1})}),[o,r,I,m,g])}(t,{searchTerm:n,emojiListRef:r}),s=o.list,u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},!o.shown&&{display:"none"});return c.a.createElement("ul",{className:"emoji-group","data-name":t,"data-display-name":i[t],key:t,style:u},s)})),Te=Se;Se.propTypes={emojiListRef:d.a.shape({current:d.a.instanceOf(Element)}),unsetEmojiName:d.a.func},we.propTypes={name:d.a.string,searchTerm:d.a.string,emojiListRef:d.a.shape({current:d.a.instanceOf(Element)}),groupNames:fe};var Ie,Oe,Ee=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=n;return new Promise((function(n){var a=0;!function o(){for(var s=a;s<a+r&&s<e.length;s++)i=t(i,e[s],s,e);if(!((a+=r)<e.length))return n(i);setTimeout((function(){o()}))}()}))},Re=Array.prototype.concat.apply([],Object.values(oe));Ee(Re,(function(e,t){return t?t[f.EMOJI_PROPERTY_NAME].reduce((function(e,t){return[].concat(M()(e),M()((t||"").split(/[- _]/))).filter(Boolean)}),[]).reduce((function(e,n){var r=n.toLowerCase();return e[r]=e[r]||[],e[r].push(t[f.EMOJI_PROPERTY_UNIFIED]),e}),e):e}),{}).then((function(e){return Ee(Object.keys(e),(function(e,t){return t?(t.split("").filter(Boolean)||[]).reduce((function(e,n){return e[n]=e[n]||[],e[n].includes(t)||e[n].push(t),e}),e):e}),{}).then((function(t){return{searchTerms:e,mappedSearchTerms:t}}))})).then((function(e){Ie=e.searchTerms,Oe=e.mappedSearchTerms}));var ke=function(){var e=Object(l.useContext)(C),t=e.state.filter,n=void 0===t?[]:t,r=e.dispatch;return function(e){var t,i=e.target.value,a=n[n.length-1];if(i=i.trim().toLowerCase(),!a||a.value!==i){if(1===i.length)t=[{value:i,terms:Oe[i]||[]}];else if(a&&i.length>a.value.length&&i.includes(a.value))t=[].concat(M()(n),[{value:i,terms:a.terms.filter((function(e){return e.includes(i)}))}]);else if(a&&i.length<a.value.length&&a.value.includes(i)){for(var o=0,s=n.length;s>0;s--)if(i.includes(n[s-1].value)){o=s;break}n.length=o,t=M()(n)}else 0!==n.length&&i.includes(a.value)||(t=[{value:i,terms:(Oe[i[0]]||[]).filter((function(e){return e.includes(i)}))}]);var l=t&&t[t.length-1];l&&l.value?Ee(l&&l.terms||[],(function(e,t){return Ie[t]?(Ie[t]||[]).reduce((function(e,t){var n=se.emojis[t][f.EMOJI_PROPERTY_GROUP];return e[n]=e[n]||{},e[n][t]=!0,e}),e):e}),{}).then((function(e){r({type:E,filter:t,filterResult:e})})):r({type:E,filter:t,filterResult:null})}}},Me=(n(46),function(e){var t=e.disableAutoFocus;return c.a.createElement("input",{className:"emoji-search",onChange:ke(),autoFocus:!t})});Me.propTypes={disableAutoFocus:d.a.bool};var _e=Me,Ae=function(e){var t=e.emojiListRef,n=Object(l.useContext)(C),r=n.state,i=r.recentlyUsed,a=r.groupNames,o=r.filterResult,s=r.failedToLoad,u=void 0===s?{}:s,d=r.native,h=r.groupVisibility,p=n.dispatch,m=n.onEmojiClick,v=Object(l.useCallback)((function(){return ue("",t)}));return!i.length||o||!1===h[f.GROUP_NAME_RECENTLY_USED]?null:c.a.createElement("ul",{className:"emoji-group","data-display-name":a[f.GROUP_NAME_RECENTLY_USED]},i.map((function(e,n){var r=e[f.EMOJI_PROPERTY_UNIFIED],i=se.emojis[r];return u[r]||!i?null:c.a.createElement(Ce,Z()({key:n,emoji:i},e[f.EMOJI_PROPERTY_SKIN_VARIATIONS]&&{activeSkinTone:e[f.EMOJI_PROPERTY_SKIN_VARIATIONS]},{index:n,native:d,handleMouseLeave:v,onEmojiClick:m,handleMouseEnter:function(){return ue(i[f.EMOJI_PROPERTY_NAME][0],t)},dispatch:p,shouldLoad:!0}))})))},xe=Ae;Ae.propTypes={unsetEmojiName:d.a.func,emojiListRef:d.a.shape({current:d.a.instanceOf(Element)})},n(48);var De=function(e){var t=e.emojiUrl,n=void 0===t?"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@6.0.1/img/apple/64":t,r=e.onEmojiClick,i=e.preload,o=void 0!==i&&i,u=e.native,d=void 0!==u&&u,p=e.skinTone,m=void 0===p?F:p,v=e.disableAutoFocus,g=void 0!==v&&v,b=e.disableSearchBar,y=void 0!==b&&b,T=e.disableSkinTonePicker,I=void 0!==T&&T,O=e.groupNames,E=void 0===O?{}:O,k=e.pickerStyle,M=void 0===k?{}:k,_=e.groupVisibility,A=void 0===_?{}:_,x=Object(l.useRef)(null),D=Object(l.useRef)(!0),P=Object(l.useRef)(r);P.current=r,Object(l.useEffect)((function(){return function(){D.current=!1}}),[]);var N=Object(l.useReducer)(R,{activeSkinTone:m,emojiUrl:n,seenGroups:a()({},f.GROUP_NAME_PEOPLE,!0),recentlyUsed:j(),preload:o,native:d,filterResult:null,groupNames:Object.assign(h,E),groupVisibility:A}),U=s()(N,2),W=U[0],V=U[1],B=function(){if(D.current)return V.apply(void 0,arguments)},z=function(e){var t=e.target;W.variationMenu&&B({type:S}),W.skinTonesSpread&&"tones"!==t.getAttribute("data-name")&&B({type:w})};return c.a.createElement(C.Provider,{value:{state:W,dispatch:B,onEmojiClick:L(P)}},c.a.createElement("aside",{className:"emoji-picker-react",style:M,onScroll:z,onMouseDown:z},c.a.createElement(ie,{emojiListRef:x}),!y&&c.a.createElement("div",{style:{position:"relative"}},c.a.createElement(_e,{disableAutoFocus:g}),!I&&c.a.createElement(q,null)),c.a.createElement("div",{className:"content-wrapper","data-name":W.emojiName},c.a.createElement(te,{closeVariations:z}),c.a.createElement("section",{className:"emoji-scroll-wrapper",ref:x},c.a.createElement(xe,{emojiListRef:x}),c.a.createElement(Te,{emojiListRef:x,key:W.filterResult})))))};t.default=De,De.propTypes={emojiUrl:d.a.string,onEmojiClick:d.a.func,preload:d.a.bool,skinTone:d.a.string,disableAutoFocus:d.a.bool,disableSearchBar:d.a.bool,disableSkinTonePicker:d.a.bool,groupNames:fe,native:d.a.bool,pickerStyle:d.a.objectOf(d.a.string),groupVisibility:d.a.objectOf(d.a.bool)}}]))}).call(this,n(143))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(237),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var r=n(130),i=n(134),a=n(23);function o(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var s=n(125),l=n(124),c=n(65),u=n(24),d=n(86),f=n(18);function h(e,t,n){Object(f.a)(2,arguments);var r=n||{},i=r.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:Object(u.a)(o),l=null==r.weekStartsOn?s:Object(u.a)(r.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(a.a)(e),d=Object(u.a)(t),h=c.getUTCDay(),p=d%7,m=(p+7)%7,v=(m<l?7:0)+d-h;return c.setUTCDate(c.getUTCDate()+v),c}var p=n(136);var m=n(135);var v=n(64),g=n(60),b=/^(1[0-2]|0?\d)/,C=/^(3[0-1]|[0-2]?\d)/,y=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,S=/^(5[0-3]|[0-4]?\d)/,w=/^(2[0-3]|[0-1]?\d)/,T=/^(2[0-4]|[0-1]?\d)/,I=/^(1[0-1]|0?\d)/,O=/^(1[0-2]|0?\d)/,E=/^[0-5]?\d/,R=/^[0-5]?\d/,k=/^\d/,M=/^\d{1,2}/,_=/^\d{1,3}/,A=/^\d{1,4}/,x=/^-?\d+/,D=/^-?\d/,j=/^-?\d{1,2}/,P=/^-?\d{1,3}/,N=/^-?\d{1,4}/,L=/^([+-])(\d{2})(\d{2})?|Z/,U=/^([+-])(\d{2})(\d{2})|Z/,F=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,W=/^([+-])(\d{2}):(\d{2})|Z/,V=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function B(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function z(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function H(e,t){return B(x,e,t)}function q(e,t,n){switch(e){case 1:return B(k,t,n);case 2:return B(M,t,n);case 3:return B(_,t,n);case 4:return B(A,t,n);default:return B(new RegExp("^\\d{1,"+e+"}"),t,n)}}function G(e,t,n){switch(e){case 1:return B(D,t,n);case 2:return B(j,t,n);case 3:return B(P,t,n);case 4:return B(N,t,n);default:return B(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function J(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Y(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}var Z=[31,28,31,30,31,30,31,31,30,31,30,31],K=[31,29,31,30,31,30,31,31,30,31,30,31];function $(e){return e%400===0||e%4===0&&e%100!==0}var Q={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return q(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return q(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var a=Y(n.year,i);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return q(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return q(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=Object(d.a)(e,r);if(n.isTwoDigitYear){var a=Y(n.year,i);return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return G("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),Object(v.a)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return G("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return q(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return q(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return B(b,e,i);case"MM":return q(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return B(b,e,i);case"LL":return q(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return B(S,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(g.a)(function(e,t,n){Object(f.a)(2,arguments);var r=Object(a.a)(e),i=Object(u.a)(t),o=Object(m.a)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return B(S,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(v.a)(function(e,t){Object(f.a)(2,arguments);var n=Object(a.a)(e),r=Object(u.a)(t),i=Object(p.a)(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return B(C,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return q(t.length,e)}},validate:function(e,t,n){var r=$(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=K[i]:t>=1&&t<=Z[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return B(y,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return q(t.length,e)}},validate:function(e,t,n){return $(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=h(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return q(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=h(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return q(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=h(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return q(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){Object(f.a)(2,arguments);var n=Object(u.a)(t);n%7===0&&(n-=7);var r=1,i=Object(a.a)(e),o=i.getUTCDay(),s=((n%7+7)%7<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+s),i}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(J(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(J(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(J(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return B(O,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return B(w,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return B(I,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return B(T,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return B(E,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return B(R,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return q(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return q(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return z(L,e);case"XX":return z(U,e);case"XXXX":return z(F,e);case"XXXXX":return z(V,e);case"XXX":default:return z(W,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return z(L,e);case"xx":return z(U,e);case"xxxx":return z(F,e);case"xxxxx":return z(V,e);case"xxx":default:return z(W,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return H(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return H(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},X=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,te=/^'([^]*?)'?$/,ne=/''/g,re=/\S/,ie=/[a-zA-Z]/;function ae(e,t,n,d){Object(f.a)(3,arguments);var h=String(e),p=String(t),m=d||{},v=m.locale||r.a;if(!v.match)throw new RangeError("locale must contain match property");var g=v.options&&v.options.firstWeekContainsDate,b=null==g?1:Object(u.a)(g),C=null==m.firstWeekContainsDate?b:Object(u.a)(m.firstWeekContainsDate);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=v.options&&v.options.weekStartsOn,S=null==y?0:Object(u.a)(y),w=null==m.weekStartsOn?S:Object(u.a)(m.weekStartsOn);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===p)return""===h?Object(a.a)(n):new Date(NaN);var T,I={firstWeekContainsDate:C,weekStartsOn:w,locale:v},O=[{priority:10,subPriority:-1,set:oe,index:0}],E=p.match(ee).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.a[t])(e,v.formatLong,I):e})).join("").match(X),R=[];for(T=0;T<E.length;T++){var k=E[T];!m.useAdditionalWeekYearTokens&&Object(c.b)(k)&&Object(c.c)(k,p,e),!m.useAdditionalDayOfYearTokens&&Object(c.a)(k)&&Object(c.c)(k,p,e);var M=k[0],_=Q[M];if(_){var A=_.incompatibleTokens;if(Array.isArray(A)){for(var x=void 0,D=0;D<R.length;D++){var j=R[D].token;if(-1!==A.indexOf(j)||j===M){x=R[D];break}}if(x)throw new RangeError("The format string mustn't contain `".concat(x.fullToken,"` and `").concat(k,"` at the same time"))}else if("*"===_.incompatibleTokens&&R.length)throw new RangeError("The format string mustn't contain `".concat(k,"` and any other token at the same time"));R.push({token:M,fullToken:k});var P=_.parse(h,k,v.match,I);if(!P)return new Date(NaN);O.push({priority:_.priority,subPriority:_.subPriority||0,set:_.set,validate:_.validate,value:P.value,index:O.length}),h=P.rest}else{if(M.match(ie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if("''"===k?k="'":"'"===M&&(k=se(k)),0!==h.indexOf(k))return new Date(NaN);h=h.slice(k.length)}}if(h.length>0&&re.test(h))return new Date(NaN);var N=O.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return O.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),L=Object(a.a)(n);if(isNaN(L))return new Date(NaN);var U=Object(i.a)(L,Object(l.a)(L)),F={};for(T=0;T<N.length;T++){var W=N[T];if(W.validate&&!W.validate(U,W.value,I))return new Date(NaN);var V=W.set(U,F,W.value,I);V[0]?(U=V[0],o(F,V[1])):U=V}return U}function oe(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function se(e){return e.match(te)[1].replace(ne,"'")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(183),i=n(130),a=n(134),o=n(23);function s(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var l={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return s("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):s(n+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return s(Math.floor(r*Math.pow(10,n-3)),t.length)}},c=n(18),u=864e5;var d=n(136),f=n(126),h=n(135),p=n(86),m="midnight",v="noon",g="morning",b="afternoon",C="evening",y="night";function S(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+s(a,2)}function w(e,t){return e%60===0?(e>0?"-":"+")+s(Math.abs(e)/60,2):T(e,t)}function T(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+s(Math.floor(i/60),2)+n+s(i%60,2)}var I={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return l.y(e,t)},Y:function(e,t,n,r){var i=Object(p.a)(e,r),a=i>0?i:1-i;return"YY"===t?s(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):s(a,t.length)},R:function(e,t){return s(Object(f.a)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return s(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return s(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return l.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return s(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Object(h.a)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):s(i,t.length)},I:function(e,t,n){var r=Object(d.a)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):s(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):l.d(e,t)},D:function(e,t,n){var r=function(e){Object(c.a)(1,arguments);var t=Object(o.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/u)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):s(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return s(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return s(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return s(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?v:0===i?m:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?C:i>=12?b:i>=4?g:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return l.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):l.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):l.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):l.s(e,t)},S:function(e,t){return l.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return w(i);case"XXXX":case"XX":return T(i);case"XXXXX":case"XXX":default:return T(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return w(i);case"xxxx":case"xx":return T(i);case"xxxxx":case"xxx":default:return T(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+S(i,":");case"OOOO":default:return"GMT"+T(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+S(i,":");case"zzzz":default:return"GMT"+T(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return s(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return s((r._originalDate||e).getTime(),t.length)}},O=n(125),E=n(124),R=n(65),k=n(24),M=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,x=/''/g,D=/[a-zA-Z]/;function j(e,t,n){Object(c.a)(2,arguments);var s=String(t),l=n||{},u=l.locale||i.a,d=u.options&&u.options.firstWeekContainsDate,f=null==d?1:Object(k.a)(d),h=null==l.firstWeekContainsDate?f:Object(k.a)(l.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=u.options&&u.options.weekStartsOn,m=null==p?0:Object(k.a)(p),v=null==l.weekStartsOn?m:Object(k.a)(l.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var g=Object(o.a)(e);if(!Object(r.a)(g))throw new RangeError("Invalid time value");var b=Object(E.a)(g),C=Object(a.a)(g,b),y={firstWeekContainsDate:h,weekStartsOn:v,locale:u,_originalDate:g},S=s.match(_).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,O.a[t])(e,u.formatLong,y):e})).join("").match(M).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return P(n);var i=I[r];if(i)return!l.useAdditionalWeekYearTokens&&Object(R.b)(n)&&Object(R.c)(n,t,e),!l.useAdditionalDayOfYearTokens&&Object(R.a)(n)&&Object(R.c)(n,t,e),i(C,n,u.localize,y);if(r.match(D))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return S}function P(e){return e.match(A)[1].replace(x,"'")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(139);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function i(e,t){return r[t]||"".concat(e,"-").concat(t)}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(141),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var C=b.prototype=new g;C.constructor=b,r(C,v.prototype),C.isPureReactComponent=!0;var y={current:null},S=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:y.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+E(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),R(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+E(s=e[c],c);l+=R(s,t,n,u,o)}else if("function"===typeof(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),c=0;!(s=e.next()).done;)l+=R(s=s.value,t,n,u=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function A(){var e=_.current;if(null===e)throw Error(h(321));return e}var x={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=y.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!w.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(141),a=n(208);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(m,e)||!h.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,C);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,C);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,C);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,T=60106,I=60107,O=60108,E=60114,R=60109,k=60110,M=60112,_=60113,A=60120,x=60115,D=60116,j=60121,P=60128,N=60129,L=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),T=F("react.portal"),I=F("react.fragment"),O=F("react.strict_mode"),E=F("react.profiler"),R=F("react.provider"),k=F("react.context"),M=F("react.forward_ref"),_=F("react.suspense"),A=F("react.suspense_list"),x=F("react.memo"),D=F("react.lazy"),j=F("react.block"),F("react.scope"),P=F("react.opaque.id"),N=F("react.debug_trace_mode"),L=F("react.offscreen"),U=F("react.legacy_hidden")}var W,V="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var H=!1;function q(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case T:return"Portal";case E:return"Profiler";case O:return"StrictMode";case _:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case x:return J(e.type);case j:return J(e._render);case D:t=e._payload,e=e._init;try{return J(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ce={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function Se(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ce.hasOwnProperty(e)&&Ce[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Se(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ce).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ce[t]=Ce[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Re=null,ke=null,Me=null;function _e(e){if(e=ei(e)){if("function"!==typeof Re)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Re(e.stateNode,e.type,t))}}function Ae(e){ke?Me?Me.push(e):Me=[e]:ke=e}function xe(){if(ke){var e=ke,t=Me;if(Me=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function De(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Ne=De,Le=!1,Ue=!1;function Fe(){null===ke&&null===Me||(Pe(),xe())}function We(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){Ve=!1}function ze(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var He=!1,qe=null,Ge=!1,Je=null,Ye={onError:function(e){He=!0,qe=e}};function Ze(e,t,n,r,i,a,o,s,l){He=!1,qe=null,ze.apply(Ye,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ke(e)!==e)throw Error(o(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,lt=null,ct=null,ut=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function Ct(e,t,n){bt(e)&&n.delete(t)}function yt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&bt(st)&&(st=null),null!==lt&&bt(lt)&&(lt=null),null!==ct&&bt(ct)&&(ct=null),ut.forEach(Ct),dt.forEach(Ct)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yt)))}function wt(e){function t(t){return St(t,e)}if(0<ot.length){St(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&St(st,e),null!==lt&&St(lt,e),null!==ct&&St(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Ot={},Et={};function Rt(e){if(Ot[e])return Ot[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Ot[e]=n[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var kt=Rt("animationend"),Mt=Rt("animationiteration"),_t=Rt("animationstart"),At=Rt("transitionend"),xt=new Map,Dt=new Map,jt=["abort","abort",kt,"animationEnd",Mt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),xt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Nt=8;function Lt(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Nt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=Lt(l),i=Nt):0!==(s&=a)&&(r=Lt(s),i=Nt)}else 0!==(a=n&~o)?(r=Lt(a),i=Nt):0!==s&&(r=Lt(s),i=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Wt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Wt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Wt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Gt|0)|0},qt=Math.log,Gt=Math.LN2;var Jt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Zt=!0;function Kt(e,t,n,r){Le||Pe();var i=Qt,a=Le;Le=!0;try{je(i,e,t,n,r)}finally{(Le=a)||Fe()}}function $t(e,t,n,r){Yt(Jt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&mt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ut.set(a,vt(ut.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,vt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;mt(e,r)}xr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ee(r);if(null!==(i=Xr(i))){var a=Ke(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return xr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,un,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(fn),pn=i({},fn,{view:0,detail:0}),mn=ln(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,un=e.screenY-dn.screenY):un=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=ln(vn),bn=ln(i({},vn,{dataTransfer:0})),Cn=ln(i({},pn,{relatedTarget:0})),yn=ln(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=ln(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=ln(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function Rn(){return En}var kn=ln(i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Mn=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),An=ln(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=ln(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],jn=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var Nn=d&&"TextEvent"in window&&!Pn,Ln=d&&(!jn||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),Fn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ae(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Yn(e){Er(e,0)}function Zn(e){if($(ti(e)))return e}function Kn(e,t){if("change"===e)return t}var $n=!1;if(d){var Qn;if(d){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Jn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(qn(t,Jn,e,Ee(e)),e=Yn,Le)e(t);else{Le=!0;try{De(e,t)}finally{Le=!1,Fe()}}}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,br=null,Cr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=jr(gr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(jt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<Sr.length;wr++)Dt.set(Sr[wr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ze.apply(this,arguments),He){if(!He)throw Error(o(198));var u=qe;He=!1,qe=null,Ge||(Ge=!0,Je=u)}}(r,t,void 0,e),e.currentTarget=null}function Er(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,c),a=l}}}if(Ge)throw e=Je,Ge=!1,Je=null,e}function Rr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[kr]||(e[kr]=!0,s.forEach((function(t){Ir.has(t)||_r(t,!1,e,null),_r(t,!0,e,null)})))}function _r(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ar(a,e,i,t),o.add(s))}function Ar(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=$t;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Xr(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Ne(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=xt.get(e);if(void 0!==s){var l=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=Cn;break;case"focusout":c="blur",l=Cn;break;case"beforeblur":case"afterblur":l=Cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case kt:case Mt:case _t:l=yn;break;case At:l=An;break;case"scroll":l=mn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=We(p,f))&&u.push(Dr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Xr(c)&&!c[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xr(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ti(l),h=null==c?s:ti(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,Xr(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Pr(h))p++;for(h=0,m=f;m;m=Pr(m))h++;for(;0<p-h;)u=Pr(u),p--;for(;0<h-p;)f=Pr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Pr(u),f=Pr(f)}u=null}else u=null;null!==l&&Nr(o,s,l,u,!1),null!==c&&null!==d&&Nr(o,d,c,u,!0)}if("select"===(l=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Kn;else if(Hn(s))if($n)v=or;else{v=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?qn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ti(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,br=null);break;case"focusout":br=gr=vr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,yr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":yr(o,n,i)}var b;if(jn)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bn?Wn(e,n)&&(C="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(C="onCompositionStart");C&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==C?"onCompositionEnd"===C&&Bn&&(b=rn()):(tn="value"in(en=i)?en.value:en.textContent,Bn=!0)),0<(g=jr(r,C)).length&&(C=new wn(C,e,null,n,i),o.push({event:C,listeners:g}),b?C.data=b:null!==(b=Vn(n))&&(C.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&Wn(e,t)?(e=rn(),nn=tn=en=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=b))}Er(o,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=We(e,n))&&r.unshift(Dr(e,a,i)),null!=(a=We(e,t))&&r.push(Dr(e,a,i))),e=e.return}return r}function Pr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=We(n,a))&&o.unshift(Dr(n,l,s)):i||null!=(l=We(n,a))&&o.push(Dr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Lr(){}var Ur=null,Fr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,zr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Yr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Yr,Kr="__reactProps$"+Yr,$r="__reactContainer$"+Yr,Qr="__reactEvents$"+Yr;function Xr(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Zr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Zr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Kr]||null}function ri(e){var t=e[Qr];return void 0===t&&(t=e[Qr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function li(e,t){ai++,ii[ai]=e.current,e.current=t}var ci={},ui=oi(ci),di=oi(!1),fi=ci;function hi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){si(di),si(ui)}function vi(e,t,n){if(ui.current!==ci)throw Error(o(168));li(ui,t),li(di,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,J(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,fi=ui.current,li(ui,e),li(di,di.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,si(di),si(ui),li(ui,e)):si(di),li(di,n)}var yi=null,Si=null,wi=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Oi=a.unstable_shouldYield,Ei=a.unstable_requestPaint,Ri=a.unstable_now,ki=a.unstable_getCurrentPriorityLevel,Mi=a.unstable_ImmediatePriority,_i=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,xi=a.unstable_LowPriority,Di=a.unstable_IdlePriority,ji={},Pi=void 0!==Ei?Ei:function(){},Ni=null,Li=null,Ui=!1,Fi=Ri(),Wi=1e4>Fi?Ri:function(){return Ri()-Fi};function Vi(){switch(ki()){case Mi:return 99;case _i:return 98;case Ai:return 97;case xi:return 96;case Di:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Mi;case 98:return _i;case 97:return Ai;case 96:return xi;case 95:return Di;default:throw Error(o(332))}}function zi(e,t){return e=Bi(e),wi(e,t)}function Hi(e,t,n){return e=Bi(e),Ti(e,t,n)}function qi(){if(null!==Li){var e=Li;Li=null,Ii(e)}Gi()}function Gi(){if(!Ui&&null!==Ni){Ui=!0;var e=0;try{var t=Ni;zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ti(Mi,qi),n}finally{Ui=!1}}}var Ji=S.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=oi(null),Ki=null,$i=null,Qi=null;function Xi(){Qi=$i=Ki=null}function ea(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Ki=e,Qi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function ra(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Ki)throw Error(o(308));$i=t,Ki.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,d=u=c=null;;){l=o.lane;var h=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(h,f,l):p)||void 0===l)break e;f=i({},f,l);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=h,c=f):d=d.next=h,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,Us|=s,e.lanes=s,e.memoizedState=f}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var fa=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=ul(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=ul(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=ul(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),dl(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,a))}function va(e,t,n){var r=!1,i=ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?fi:ui.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?hi(e,i):ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?fi:ui.current,i.context=hi(e,a)),ua(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ca=Array.isArray;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=ql(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case T:return(t=Yl(t,e.mode,n)).return=e,t}if(Ca(t)||B(t))return(t=ql(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===I?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case T:return n.key===i?u(e,t,n,r):null}if(Ca(n)||B(n))return null!==i?null:d(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===I?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case T:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ca(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(i,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),c}function v(i,s,l,c){var u=B(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,v=s=0,g=null,b=l.next();null!==m&&!b.done;v++,b=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var C=h(i,m,b.value,c);if(null===C){null===m&&(m=g);break}e&&m&&null===C.alternate&&t(i,m),s=a(C,s,v),null===d?u=C:d.sibling=C,d=C,m=g}if(b.done)return n(i,m),u;if(null===m){for(;!b.done;v++,b=l.next())null!==(b=f(i,b.value,c))&&(s=a(b,s,v),null===d?u=b:d.sibling=b,d=b);return u}for(m=r(i,m);!b.done;v++,b=l.next())null!==(b=p(m,i,v,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,a,l){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case w:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}break;default:if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=ya(e,c,a),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=ql(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Hl(a.type,a.key,a.props,null,e.mode,l)).ref=ya(e,r,a),l.return=e,e=l)}return s(e);case T:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Jl(a,e.mode,l)).return=e,e=r),s(e);if(Ca(a))return m(e,r,a,l);if(B(a))return v(e,r,a,l);if(u&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,J(e.type)||"Component"))}return n(e,r)}}var Ta=wa(!0),Ia=wa(!1),Oa={},Ea=oi(Oa),Ra=oi(Oa),ka=oi(Oa);function Ma(e){if(e===Oa)throw Error(o(174));return e}function _a(e,t){switch(li(ka,t),li(Ra,e),li(Ea,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Ea),li(Ea,t)}function Aa(){si(Ea),si(Ra),si(ka)}function xa(e){Ma(ka.current);var t=Ma(Ea.current),n=pe(t,e.type);t!==n&&(li(Ra,e),li(Ea,n))}function Da(e){Ra.current===e&&(si(Ea),si(Ra))}var ja=oi(0);function Pa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,La=null,Ua=!1;function Fa(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Va(e){if(Ua){var t=La;if(t){var n=t;if(!Wa(e,t)){if(!(t=qr(n.nextSibling))||!Wa(e,t))return e.flags=-1025&e.flags|2,Ua=!1,void(Na=e);Fa(Na,n)}Na=e,La=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ua=!1,Na=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function za(e){if(e!==Na)return!1;if(!Ua)return Ba(e),Ua=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=La;t;)Fa(e,t),t=qr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){La=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}La=null}}else La=Na?qr(e.stateNode.nextSibling):null;return!0}function Ha(){La=Na=null,Ua=!1}var qa=[];function Ga(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var Ja=S.ReactCurrentDispatcher,Ya=S.ReactCurrentBatchConfig,Za=0,Ka=null,$a=null,Qa=null,Xa=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Za=a,Ka=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?_o:Ao,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Qa=$a=null,t.updateQueue=null,Ja.current=xo,e=n(r,i)}while(eo)}if(Ja.current=Mo,t=null!==$a&&null!==$a.next,Za=0,Qa=$a=Ka=null,Xa=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qa?Ka.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function ao(){if(null===$a){var e=Ka.alternate;e=null!==e?e.memoizedState:null}else e=$a.next;var t=null===Qa?Ka.memoizedState:Qa.next;if(null!==t)Qa=t,$a=e;else{if(null===e)throw Error(o(310));e={memoizedState:($a=e).memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},null===Qa?Ka.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=$a,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,c=i;do{var u=c.lane;if((Za&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,Ka.lanes|=u,Us|=u}c=c.next}while(null!==c&&c!==i);null===l?a=r:l.next=s,sr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,qa.push(t))),e)return n(t._source);throw qa.push(t),Error(o(350))}function uo(e,t,n,r){var i=_s;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Ja.current,c=l.useState((function(){return co(i,t,n)})),u=c[1],d=c[0];c=Qa;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,m=f.source;f=f.subscribe;var v=Ka;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=u;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(d,e)||(u(e),e=ul(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Ht(o),c=1<<l;r[l]|=e,o&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=ul(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(p,n)&&sr(m,t)&&sr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:d}).dispatch=u=ko.bind(null,Ka,e),c.queue=e,c.baseQueue=null,d=co(i,t,n),c.memoizedState=c.baseState=d),d}function fo(e,t,n){return uo(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=ko.bind(null,Ka,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ka.updateQueue)?(t={lastEffect:null},Ka.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function go(e,t,n,r){var i=io();Ka.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==$a){var o=$a.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}Ka.flags|=e,i.memoizedState=po(1|t,n,a,r)}function Co(e,t){return go(516,4,e,t)}function yo(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,wo.bind(null,t,e),n)}function Io(){}function Oo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=Vi();zi(98>n?98:n,(function(){e(!0)})),zi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function ko(e,t,n){var r=cl(),i=ul(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ka||null!==o&&o===Ka)eo=Xa=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,sr(l,s))return}catch(c){}dl(e,i,r)}}var Mo={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},_o={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:Co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ko.bind(null,Ka,e),[r.memoizedState,e]},useRef:mo,useState:ho,useDebugValue:Io,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return Co((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return mo(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},uo(r,e,t,n)},useOpaqueIdentifier:function(){if(Ua){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&Ka.mode)&&(Ka.flags|=516,po(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ao={readContext:ra,useCallback:Oo,useContext:ra,useEffect:yo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Eo,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:Io,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return yo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},xo={readContext:ra,useCallback:Oo,useContext:ra,useEffect:yo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Eo,useReducer:lo,useRef:vo,useState:function(){return lo(oo)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(oo),n=t[0],r=t[1];return yo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(oo)[0];return[vo().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return lo(oo)[0]},unstable_isNewReconciler:!1},Do=S.ReactCurrentOwner,jo=!1;function Po(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Po(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Lo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Uo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=zl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Uo(e,t,n,r,i,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Vo(e,t,n,r,a)}function Fo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Cl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Cl(t,e),null;t.memoizedState={baseLanes:0},Cl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Cl(t,r);return Po(e,t,i,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,i){var a=pi(n)?fi:ui.current;return a=hi(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Po(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Bo(e,t,n,r,i){if(pi(n)){var a=!0;bi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ra(c):c=hi(t,c=pi(n)?fi:ui.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ga(t,o,r,c),ia=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),l=t.memoizedState,s!==r||f!==l||di.current||ia?("function"===typeof u&&(ha(t,n,u,r),l=t.memoizedState),(s=ia||ma(t,n,s,r,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ra(l):l=hi(t,l=pi(n)?fi:ui.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&ga(t,o,r,l),ia=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||di.current||ia?("function"===typeof h&&(ha(t,n,h,r),p=t.memoizedState),(c=ia||ma(t,n,c,r,f,p,l))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ci(t,n,!1),ns(e,t,a);r=t.stateNode,Do.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Po(e,t,s,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),_a(e,t.containerInfo)}var qo,Go,Jo,Yo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(ja,1&a),null===e?(void 0!==i.fallback&&Va(t),e=i.children,a=i.fallback,o?(e=Ko(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ko(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Gl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Qo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=$o(e,t,i.children,n),t.memoizedState=null,n))}function Ko(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Gl(t,i,0,null),n=ql(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function $o(e,t,n,r){var i=e.child;return e=i.sibling,n=zl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Qo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zl(o,s),null!==e?r=zl(e,r):(r=ql(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Xo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Po(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xo(e,n);else if(19===e.tag)Xo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Pa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Pa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&mi(),null;case 3:return Aa(),si(di),si(ui),Ga(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(za(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Da(t);var a=Ma(ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Ea.current),za(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[Kr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Rr(Tr[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":le(r,s),Rr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ue(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[Kr]=r,qo(e,t),t.stateNode=e,c=Oe(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Rr(Tr[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Rr("invalid",e);break;default:a=r}Ie(n,a);var u=a;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"===typeof d&&be(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Rr("scroll",e):null!=d&&y(e,s,d,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Lr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(ka.current),Ma(Ea.current),za(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return si(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&za(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===_s||0===(134217727&Us)&&0===(134217727&Fs)||ml(_s,xs))),(r||n)&&(t.flags|=4),null);case 4:return Aa(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&mi(),null;case 19:if(si(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ps||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Pa(e))){for(t.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>zs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Pa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ua)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=ja.current,li(ja,s?1&t|2:1&t),n):null;case 23:case 24:return yl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Aa(),si(di),si(ui),Ga(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Da(e),null;case 13:return si(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(ja),null;case 4:return Aa(),null;case 10:return ea(e),null;case 23:case 24:return yl(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ma(Ea.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(d in Ie(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var c=a[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Rr("scroll",e),s||c===u||(s=[])):"object"===typeof u&&null!==u&&u.$$typeof===P?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Ys=r),ss(0,t)},n}function us(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ll(e,n)}else t.current=null}function hs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Se("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(yi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jl(t,n);else{r=t;try{i()}catch(a){Ll(r,a)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ll(t,a)}break;case 5:fs(t);break;case 4:ws(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function Cs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ys(e,n,t):Ss(e,n,t)}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ws(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Kr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Oe(e,i),t=Oe(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?be(n,l):y(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Bs=Wi(),ms(t.child,!0)),void Is(t);case 19:return void Is(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Fl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Es=Math.ceil,Rs=S.ReactCurrentDispatcher,ks=S.ReactCurrentOwner,Ms=0,_s=null,As=null,xs=0,Ds=0,js=oi(0),Ps=0,Ns=null,Ls=0,Us=0,Fs=0,Ws=0,Vs=null,Bs=0,zs=1/0;function Hs(){zs=Wi()+500}var qs,Gs=null,Js=!1,Ys=null,Zs=null,Ks=!1,$s=null,Qs=90,Xs=[],el=[],tl=null,nl=0,rl=null,il=-1,al=0,ol=0,sl=null,ll=!1;function cl(){return 0!==(48&Ms)?Wi():-1!==il?il:il=Wi()}function ul(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===al&&(al=Ls),0!==Ji.transition){0!==ol&&(ol=null!==Vs?Vs.pendingLanes:0),e=al;var t=4186112&~ol;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Ms)&&98===e?e=Wt(12,al):e=Wt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al),e}function dl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=fl(e,t)))return null;zt(e,t,n),e===_s&&(Fs|=t,4===Ps&&ml(e,xs));var r=Vi();1===t?0!==(8&Ms)&&0===(48&Ms)?vl(e):(hl(e,n),0===Ms&&(Hs(),qi())):(0===(4&Ms)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),hl(e,n)),Vs=e}function fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function hl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),c=1<<l,u=a[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Lt(c);var d=Nt;a[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===_s?xs:0),t=Nt,0===r)null!==n&&(n!==ji&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ii(n)}15===t?(n=vl.bind(null,e),null===Ni?(Ni=[n],Li=Ti(Mi,Gi)):Ni.push(n),n=ji):14===t?n=Hi(99,vl.bind(null,e)):n=Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=al=0,0!==(48&Ms))throw Error(o(327));var t=e.callbackNode;if(xl()&&e.callbackNode!==t)return null;var n=Ut(e,e===_s?xs:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var a=Tl();for(_s===e&&xs===r||(Hs(),Sl(e,r));;)try{El();break}catch(l){wl(e,l)}if(Xi(),Rs.current=a,Ms=i,null!==As?r=0:(_s=null,xs=0,r=Ps),0!==(Ls&Fs))Sl(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Il(e,n))),1===r)throw t=Ns,Sl(e,0),ml(e,n),hl(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ml(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Bs+500-Wi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Es(n/1960))-n)){e.timeoutHandle=Br(Ml.bind(null,e),n);break}Ml(e);break;case 5:Ml(e);break;default:throw Error(o(329))}}return hl(e,Wi()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~Ws,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!==(48&Ms))throw Error(o(327));if(xl(),e===_s&&0!==(e.expiredLanes&xs)){var t=xs,n=Il(e,t);0!==(Ls&Fs)&&(n=Il(e,t=Ut(e,t)))}else n=Il(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Il(e,t))),1===n)throw n=Ns,Sl(e,0),ml(e,t),hl(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),hl(e,Wi()),null}function gl(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Hs(),qi())}}function bl(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Hs(),qi())}}function Cl(e,t){li(js,Ds),Ds|=t,Ls|=t}function yl(){Ds=js.current,si(js)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,zr(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Aa(),si(di),si(ui),Ga();break;case 5:Da(r);break;case 4:Aa();break;case 13:case 19:si(ja);break;case 10:ea(r);break;case 23:case 24:yl()}n=n.return}_s=e,As=zl(e.current,null),xs=Ds=Ls=t,Ps=0,Ns=null,Ws=Fs=Us=0}function wl(e,t){for(;;){var n=As;try{if(Xi(),Ja.current=Mo,Xa){for(var r=Ka.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Xa=!1}if(Za=0,Qa=$a=Ka=null,eo=!1,ks.current=null,null===n||null===n.return){Ps=1,Ns=t,As=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=xs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&ja.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=f.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(h){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=sa(-1,1);b.tag=2,la(s,b)}s.lanes|=1;break e}l=void 0,s=t;var C=a.pingCache;if(null===C?(C=a.pingCache=new ls,l=new Set,C.set(c,l)):void 0===(l=C.get(c))&&(l=new Set,C.set(c,l)),!l.has(s)){l.add(s);var y=Ul.bind(null,a,c,s);c.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((J(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),l=os(l,s),f=o;do{switch(f.tag){case 3:a=l,f.flags|=4096,t&=-t,f.lanes|=t,ca(f,cs(0,a,t));break e;case 1:a=l;var S=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof S.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Zs||!Zs.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,ca(f,us(f,a,t));break e}}f=f.return}while(null!==f)}kl(n)}catch(T){t=T,As===n&&null!==n&&(As=n=n.return);continue}break}}function Tl(){var e=Rs.current;return Rs.current=Mo,null===e?Mo:e}function Il(e,t){var n=Ms;Ms|=16;var r=Tl();for(_s===e&&xs===t||Sl(e,t);;)try{Ol();break}catch(i){wl(e,i)}if(Xi(),Ms=n,Rs.current=r,null!==As)throw Error(o(261));return _s=null,xs=0,Ps}function Ol(){for(;null!==As;)Rl(As)}function El(){for(;null!==As&&!Oi();)Rl(As)}function Rl(e){var t=qs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?kl(e):As=t,ks.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ds)))return void(As=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ds)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(As=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function Ml(e){var t=Vi();return zi(99,_l.bind(null,e,t)),null}function _l(e,t){do{xl()}while(null!==$s);if(0!==(48&Ms))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-Ht(a),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,a&=~u}if(null!==tl&&0===(24&r)&&tl.has(e)&&tl.delete(e),e===_s&&(As=_s=null,xs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,ks.current=null,Ur=Zt,pr(s=hr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,a=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(E){l=null;break e}var d=0,f=-1,h=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var b;v!==l||0!==a&&3!==v.nodeType||(f=d+a),v!==c||0!==u&&3!==v.nodeType||(h=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===l&&++p===a&&(f=d),g===c&&++m===u&&(h=d),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}l=-1===f||-1===h?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:s,selectionRange:l},Zt=!1,sl=null,ll=!1,Gs=r;do{try{Al()}catch(E){if(null===Gs)throw Error(o(330));Ll(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);sl=null,Gs=r;do{try{for(s=e;null!==Gs;){var C=Gs.flags;if(16&C&&be(Gs.stateNode,""),128&C){var y=Gs.alternate;if(null!==y){var S=y.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&C){case 2:Cs(Gs),Gs.flags&=-3;break;case 6:Cs(Gs),Gs.flags&=-3,Ts(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,Ts(Gs.alternate,Gs);break;case 4:Ts(Gs.alternate,Gs);break;case 8:ws(s,l=Gs);var w=l.alternate;gs(l),null!==w&&gs(w)}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(o(330));Ll(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);if(S=Fr,y=hr(),C=S.focusedElem,s=S.selectionRange,y!==C&&C&&C.ownerDocument&&fr(C.ownerDocument.documentElement,C)){null!==s&&pr(C)&&(y=s.start,void 0===(S=s.end)&&(S=y),"selectionStart"in C?(C.selectionStart=y,C.selectionEnd=Math.min(S,C.value.length)):(S=(y=C.ownerDocument||document)&&y.defaultView||window).getSelection&&(S=S.getSelection(),l=C.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!S.extend&&w>s&&(l=s,s=w,w=l),l=dr(C,w),a=dr(C,s),l&&a&&(1!==S.rangeCount||S.anchorNode!==l.node||S.anchorOffset!==l.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&((y=y.createRange()).setStart(l.node,l.offset),S.removeAllRanges(),w>s?(S.addRange(y),S.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),S.addRange(y))))),y=[];for(S=C;S=S.parentNode;)1===S.nodeType&&y.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<y.length;C++)(S=y[C]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Zt=!!Ur,Fr=Ur=null,e.current=n,Gs=r;do{try{for(C=e;null!==Gs;){var T=Gs.flags;if(36&T&&ps(C,Gs.alternate,Gs),128&T){y=void 0;var I=Gs.ref;if(null!==I){var O=Gs.stateNode;switch(Gs.tag){case 5:y=O;break;default:y=O}"function"===typeof I?I(y):I.current=y}}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(o(330));Ll(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Pi(),Ms=i}else e.current=n;if(Ks)Ks=!1,$s=e,Qs=t;else for(Gs=r;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((T=Gs).sibling=null,T.stateNode=null),Gs=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(yi,n,void 0,64===(64&n.current.flags))}catch(E){}if(hl(e,Wi()),Js)throw Js=!1,e=Ys,Ys=null,e;return 0!==(8&Ms)||qi(),null}function Al(){for(;null!==Gs;){var e=Gs.alternate;ll||null===sl||(0!==(8&Gs.flags)?et(Gs,sl)&&(ll=!0):13===Gs.tag&&Os(e,Gs)&&et(Gs,sl)&&(ll=!0));var t=Gs.flags;0!==(256&t)&&hs(e,Gs),0===(512&t)||Ks||(Ks=!0,Hi(97,(function(){return xl(),null}))),Gs=Gs.nextEffect}}function xl(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,zi(e,Pl)}return!1}function Dl(e,t){Xs.push(t,e),Ks||(Ks=!0,Hi(97,(function(){return xl(),null})))}function jl(e,t){el.push(t,e),Ks||(Ks=!0,Hi(97,(function(){return xl(),null})))}function Pl(){if(null===$s)return!1;var e=$s;if($s=null,0!==(48&Ms))throw Error(o(331));var t=Ms;Ms|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Ll(a,c)}}for(n=Xs,Xs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===a)throw Error(o(330));Ll(a,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ms=t,qi(),!0}function Nl(e,t,n){la(e,t=cs(0,t=os(n,t),1)),t=cl(),null!==(e=fl(e,1))&&(zt(e,1,t),hl(e,t))}function Ll(e,t){if(3===e.tag)Nl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=us(n,e=os(t,e),1);if(la(n,i),i=cl(),null!==(n=fl(n,1)))zt(n,1,i),hl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(xs&n)===n&&(4===Ps||3===Ps&&(62914560&xs)===xs&&500>Wi()-Bs?Sl(e,0):Ws|=n),hl(e,t)}function Fl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===al&&(al=Ls),0===(t=Vt(62914560&~al))&&(t=4194304))),n=cl(),null!==(e=fl(e,t))&&(zt(e,t,n),hl(e,n))}function Wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Wl(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return ql(n.children,i,a,t);case N:s=8,i|=16;break;case O:s=8,i|=1;break;case E:return(e=Vl(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case _:return(e=Vl(13,n,t,i)).type=_,e.elementType=_,e.lanes=a,e;case A:return(e=Vl(19,n,t,i)).elementType=A,e.lanes=a,e;case L:return Gl(n,i,a,t);case U:return(e=Vl(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case k:s=9;break e;case M:s=11;break e;case x:s=14;break e;case D:s=16,r=null;break e;case j:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Vl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ql(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Gl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=L,e.lanes=n,e}function Jl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Kl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,r){var i=t.current,a=cl(),s=ul(i);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=gi(n,c,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),dl(i,s,a),s}function Ql(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Xl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Xl(e,t),(e=e.alternate)&&Xl(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[$r]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ql(o);s.call(e)}}$l(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Ql(o);l.call(e)}}bl((function(){$l(t,o,e,i)}))}return Ql(o)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(o(200));return Kl(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:xa(t);break;case 1:pi(t.type)&&bi(t);break;case 4:_a(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(li(ja,1&ja.current),null!==(t=ns(e,t,n))?t.sibling:null);li(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Fo(e,t,n)}return ns(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ui.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ha(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Po(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===x)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=No(null,t,i,e,n);break e;case 14:t=Lo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ua(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(La=qr(t.stateNode.containerInfo.firstChild),Na=t,a=Ua=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Po(e,t,r,n),Ha();t=t.child}return t;case 5:return xa(t),null===e&&Va(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==a&&Vr(r,a)&&(t.flags|=16),Wo(e,t),Po(e,t,s,n),t.child;case 6:return null===e&&Va(t),null;case 13:return Zo(e,t,n);case 4:return _a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Po(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(li(Zi,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=sr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!di.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&a)){1===l.tag&&((u=sa(-1,n&-n)).tag=2,la(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ta(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Po(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Po(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Lo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Uo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,bi(t)):e=!1,na(t,n),va(t,r,i),ba(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Fo(e,t,n)}throw Error(o(156,t.tag))},tc.prototype.render=function(e){$l(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[$r]=null}))},tt=function(e){13===e.tag&&(dl(e,4,cl()),ec(e,4))},nt=function(e){13===e.tag&&(dl(e,67108864,cl()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cl(),n=ul(e);dl(e,n,t),ec(e,n)}},it=function(e,t){return t()},Re=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=gl,je=function(e,t,n,r,i){var a=Ms;Ms|=4;try{return zi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=a)&&(Hs(),qi())}},Pe=function(){0===(49&Ms)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,hl(e,Wi())}))}qi()}(),xl())},Ne=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Hs(),qi())}};var ac={Events:[ei,ti,ni,Ae,xe,xl,{current:!1}]},oc={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{yi=lc.inject(sc),Si=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return zi(99,e.bind(null,t))}finally{Ms=n,qi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(o(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(o(40));return!!e._reactRootContainer&&(bl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(209)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,d=null,f=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(f,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,b=-1,C=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,w=S.port2;S.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+C;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,w.postMessage(null))},i=function(e,n){b=h((function(){e(t.unstable_now())}),n)},a=function(){p(b),b=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>E(o,n))void 0!==l&&0>E(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],k=[],M=1,_=null,A=3,x=!1,D=!1,j=!1;function P(e){for(var t=I(k);null!==t;){if(null===t.callback)O(k);else{if(!(t.startTime<=e))break;O(k),t.sortIndex=t.expirationTime,T(R,t)}t=I(k)}}function N(e){if(j=!1,P(e),!D)if(null!==I(R))D=!0,r(L);else{var t=I(k);null!==t&&i(N,t.startTime-e)}}function L(e,n){D=!1,j&&(j=!1,a()),x=!0;var r=A;try{for(P(n),_=I(R);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=_.callback;if("function"===typeof o){_.callback=null,A=_.priorityLevel;var s=o(_.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?_.callback=s:_===I(R)&&O(R),P(n)}else O(R);_=I(R)}if(null!==_)var l=!0;else{var c=I(k);null!==c&&i(N,c.startTime-n),l=!1}return l}finally{_=null,A=r,x=!1}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||x||(D=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(R)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:M++,callback:n,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,T(k,e),null===I(R)&&e===I(k)&&(j?a():j=!0,i(N,o-s))):(e.sortIndex=l,T(R,e),D||x||(D=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},,function(e,t,n){"use strict";n(141);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var r=n(213);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,C=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case g:case v:case c:return e;default:return t}}case a:return t}}}function T(e){return w(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||w(e)===d},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===l||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===C||e.$$typeof===y||e.$$typeof===S||e.$$typeof===b)},t.typeOf=w},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new k(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function v(){}function g(){}function b(){}var C={};C[a]=function(){return this};var y=Object.getPrototypeOf,S=y&&y(y(M([])));S&&S!==n&&r.call(S,a)&&(C=S);var w=b.prototype=v.prototype=Object.create(C);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function M(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:_}}function _(){return{value:t,done:!0}}return g.prototype=w.constructor=b,b.constructor=g,g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},T(I.prototype),I.prototype[o]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(w),l(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(51),i=n(160),a=n(217),o=n(167);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var l=s(n(142));l.Axios=a,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=n(168),l.CancelToken=n(231),l.isCancel=n(166),l.all=function(e){return Promise.all(e)},l.spread=n(232),l.isAxiosError=n(233),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var r=n(51),i=n(161),a=n(218),o=n(219),s=n(167),l=n(229),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var u=[o,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(a),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var d=e;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(p){h(p);break}}try{i=o(d)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(51);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(51),i=n(220),a=n(166),o=n(142);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(51),i=n(142);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},function(e,t,n){"use strict";var r=n(51);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(165);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(51);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(225),i=n(226);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(51),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(51);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(230),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={},o=r.version.split(".");function s(e,t){for(var n=t?t.split("."):o,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function o(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed in "+t));return i&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";var r=n(168);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,s=60114,l=60109,c=60110,u=60112,d=60113,f=60120,h=60115,p=60116,m=60121,v=60122,g=60117,b=60129,C=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;r=y("react.element"),i=y("react.portal"),a=y("react.fragment"),o=y("react.strict_mode"),s=y("react.profiler"),l=y("react.provider"),c=y("react.context"),u=y("react.forward_ref"),d=y("react.suspense"),f=y("react.suspense_list"),h=y("react.memo"),p=y("react.lazy"),m=y("react.block"),v=y("react.server.block"),g=y("react.fundamental"),b=y("react.debug_trace_mode"),C=y("react.legacy_hidden")}function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case p:case h:case l:return e;default:return t}}case i:return t}}}var w=l,T=r,I=u,O=a,E=p,R=h,k=i,M=s,_=o,A=d;t.ContextConsumer=c,t.ContextProvider=w,t.Element=T,t.ForwardRef=I,t.Fragment=O,t.Lazy=E,t.Memo=R,t.Portal=k,t.Profiler=M,t.StrictMode=_,t.Suspense=A,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===u},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===p},t.isMemo=function(e){return S(e)===h},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===o},t.isSuspense=function(e){return S(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===b||e===o||e===d||e===f||e===C||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===g||e.$$typeof===m||e[0]===v)},t.typeOf=S},function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",l="object",c="string",u="model",d="name",f="type",h="vendor",p="version",m="architecture",v="console",g="mobile",b="tablet",C="smarttv",y="wearable",S="embedded",w={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===c&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},T={rgx:function(e,t){for(var n,r,i,s,c,u,d=0;d<t.length&&!c;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!c;)if(c=f[n++].exec(e))for(i=0;i<h.length;i++)u=c[++r],typeof(s=h[i])===l&&s.length>0?2==s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3==s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):a:this[s[0]]=u?s[1].call(this,u,s[2]):a:4==s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):a):this[s]=u||a;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(w.has(t[n][r],e))return"?"===n?a:n}else if(w.has(t[n],e))return"?"===n?a:n;return e}},I={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},O={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/(?:edge|edgios|edga|edg)\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[d,p],[/opios[\/\s]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[d,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[d,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[d],[/;fbav\/([\w\.]+);/i],[p,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[d,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[p,T.str,I.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[u,[h,"Samsung"],[f,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[u,[h,"Samsung"],[f,g]],[/\((ip(?:hone|od)[\s\w]*);/i],[u,[h,"Apple"],[f,g]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,"Apple"],[f,b]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[u,[h,"Huawei"],[f,b]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[u,[h,"Huawei"],[f,g]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[u,/_/g," "],[h,"Xiaomi"],[f,g]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[u,/_/g," "],[h,"Xiaomi"],[f,b]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[u,[h,"OPPO"],[f,g]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[u,[h,"Vivo"],[f,g]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[u,[h,"Realme"],[f,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[u,[h,"Motorola"],[f,g]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[h,"Motorola"],[f,b]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[u,[h,"LG"],[f,b]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[u,[h,"LG"],[f,g]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[u,[h,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[u,/_/g," "],[h,"Nokia"],[f,g]],[/droid.+;\s(pixel\sc)[\s)]/i],[u,[h,"Google"],[f,b]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[u,[h,"Google"],[f,g]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,"Sony"],[f,g]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[u,"Xperia Tablet"],[h,"Sony"],[f,b]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[u,[h,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[u,[h,"Amazon"],[f,b]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[u,"Fire Phone"],[h,"Amazon"],[f,g]],[/\((playbook);[\w\s\),;-]+(rim)/i],[u,h,[f,b]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[u,[h,"BlackBerry"],[f,g]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[u,[h,"ASUS"],[f,b]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[u,[h,"ASUS"],[f,g]],[/(nexus\s9)/i],[u,[h,"HTC"],[f,b]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[u,/_/g," "],[f,g]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[h,"Acer"],[f,b]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[u,[h,"Meizu"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,u,[f,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,u,[f,b]],[/\s(surface\sduo)\s/i],[u,[h,"Microsoft"],[f,b]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[u,[h,"Fairphone"],[f,g]],[/\s(u304aa)\sbuild/i],[u,[h,"AT&T"],[f,g]],[/sie-(\w*)/i],[u,[h,"Siemens"],[f,g]],[/[;\/]\s?(rct\w+)\sbuild/i],[u,[h,"RCA"],[f,b]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[u,[h,"Dell"],[f,b]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[u,[h,"Verizon"],[f,b]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[u,[h,"Barnes & Noble"],[f,b]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[u,[h,"NuVision"],[f,b]],[/;\s(k88)\sbuild/i],[u,[h,"ZTE"],[f,b]],[/;\s(nx\d{3}j)\sbuild/i],[u,[h,"ZTE"],[f,g]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[u,[h,"Swiss"],[f,g]],[/[;\/]\s?(zur\d{3})\sbuild/i],[u,[h,"Swiss"],[f,b]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[u,[h,"Zeki"],[f,b]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],u,[f,b]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[u,[h,"Insignia"],[f,b]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[u,[h,"NextBook"],[f,b]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],u,[f,g]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],u,[f,g]],[/;\s(ph-1)\s/i],[u,[h,"Essential"],[f,g]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[u,[h,"Envizen"],[f,b]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[u,[h,"MachSpeed"],[f,b]],[/[;\/]\s?tu_(1491)\sbuild/i],[u,[h,"Rotor"],[f,b]],[/(shield[\w\s]+)\sbuild/i],[u,[h,"Nvidia"],[f,b]],[/(sprint)\s(\w+)/i],[h,u,[f,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,"Microsoft"],[f,g]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,"Zebra"],[f,b]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,"Zebra"],[f,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,u,[f,v]],[/droid.+;\s(shield)\sbuild/i],[u,[h,"Nvidia"],[f,v]],[/(playstation\s[345portablevi]+)/i],[u,[h,"Sony"],[f,v]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[u,[h,"Microsoft"],[f,v]],[/smart-tv.+(samsung)/i],[h,[f,C]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,"Samsung"],[f,C]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[f,C]],[/(apple)\s?tv/i],[h,[u,"Apple TV"],[f,C]],[/crkey/i],[[u,"Chromecast"],[h,"Google"],[f,C]],[/droid.+aft([\w])(\sbuild\/|\))/i],[u,[h,"Amazon"],[f,C]],[/\(dtv[\);].+(aquos)/i],[u,[h,"Sharp"],[f,C]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,w.trim],[u,w.trim],[f,C]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[f,C]],[/((pebble))app\/[\d\.]+\s/i],[h,u,[f,y]],[/droid.+;\s(glass)\s\d/i],[u,[h,"Google"],[f,y]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[u,[h,"Zebra"],[f,y]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[f,S]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[u,[f,g]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[u,[f,b]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[h,"Generic"]],[/(phone)/i],[[f,g]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[d,[p,T.str,I.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[p,T.str,I.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[d,p],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,p]]},E=function e(t,n){if("object"===typeof t&&(n=t,t=a),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==typeof i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),o=n?w.extend(O,n):O;return this.getBrowser=function(){var e={name:a,version:a};return T.rgx.call(e,r,o.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:a};return T.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:a,model:a,type:a};return T.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:a,version:a};return T.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:a,version:a};return T.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?w.trim(e,255):e,this},this.setUA(r),this};E.VERSION="0.7.28",E.BROWSER={NAME:d,MAJOR:"major",VERSION:p},E.CPU={ARCHITECTURE:m},E.DEVICE={MODEL:u,VENDOR:h,TYPE:f,CONSOLE:v,MOBILE:g,SMARTTV:C,TABLET:b,WEARABLE:y,EMBEDDED:S},E.ENGINE={NAME:d,VERSION:p},E.OS={NAME:d,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=E),t.UAParser=E):(r=function(){return E}.call(t,n,t,e))===a||(e.exports=r);var R="undefined"!==typeof i&&(i.jQuery||i.Zepto);if(R&&!R.ua){var k=new E;R.ua=k.getResult(),R.ua.get=function(){return k.getUA()},R.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var n in t)R.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=c(n(238)),o=c(n(239)),s=c(n(240)),l=c(n(248));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"parseString",value:function(e){var t=this;if(""===e)return e;var n=this.props.matchDecorator(e);if(!n)return e;var r=[],i=0;return n.forEach((function(n,a){n.index>i&&r.push(e.substring(i,n.index));var o=t.props.hrefDecorator(n.url),s=t.props.textDecorator(n.text),l=t.props.componentDecorator(o,s,a);r.push(l),i=n.lastIndex})),e.length>i&&r.push(e.substring(i)),1===r.length?r[0]:r}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"===typeof e?this.parseString(e):i.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?i.cloneElement(e,{key:n},this.parse(e.props.children)):Array.isArray(e)?e.map((function(e,n){return t.parse(e,n)})):e}},{key:"render",value:function(){return i.createElement(i.Fragment,null,this.parse(this.props.children))}}]),t}(i.Component);f.defaultProps={componentDecorator:a.default,hrefDecorator:o.default,matchDecorator:s.default,textDecorator:l.default},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.default=function(e,t,n){return r.createElement("a",{href:e,key:n},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(241)),i=a(n(247));function a(e){return e&&e.__esModule?e:{default:e}}var o=new r.default;o.tlds(i.default),t.default=function(e){return o.match(e)}},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===i(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function u(e){var t=e.re=n(242)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?a(n.validate)?r.validate=n.validate:c(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?c(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,a,o,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(243).source,t.src_Cc=n(244).source,t.src_Z=n(245).source,t.src_P=n(246).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e){e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","verm\xf6gensberater","verm\xf6gensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","\u03b5\u03bb","\u03b5\u03c5","\u0431\u0433","\u0431\u0435\u043b","\u0434\u0435\u0442\u0438","\u0435\u044e","\u043a\u0430\u0442\u043e\u043b\u0438\u043a","\u043a\u043e\u043c","\u043c\u043a\u0434","\u043c\u043e\u043d","\u043c\u043e\u0441\u043a\u0432\u0430","\u043e\u043d\u043b\u0430\u0439\u043d","\u043e\u0440\u0433","\u0440\u0443\u0441","\u0440\u0444","\u0441\u0430\u0439\u0442","\u0441\u0440\u0431","\u0443\u043a\u0440","\u049b\u0430\u0437","\u0570\u0561\u0575","\u05d9\u05e9\u05e8\u05d0\u05dc","\u05e7\u05d5\u05dd","\u0627\u0628\u0648\u0638\u0628\u064a","\u0627\u062a\u0635\u0627\u0644\u0627\u062a","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u0644\u0627\u0631\u062f\u0646","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","\u0627\u0644\u0639\u0644\u064a\u0627\u0646","\u0627\u0644\u0645\u063a\u0631\u0628","\u0627\u0645\u0627\u0631\u0627\u062a","\u0627\u06cc\u0631\u0627\u0646","\u0628\u0627\u0631\u062a","\u0628\u0627\u0632\u0627\u0631","\u0628\u064a\u062a\u0643","\u0628\u06be\u0627\u0631\u062a","\u062a\u0648\u0646\u0633","\u0633\u0648\u062f\u0627\u0646","\u0633\u0648\u0631\u064a\u0629","\u0634\u0628\u0643\u0629","\u0639\u0631\u0627\u0642","\u0639\u0631\u0628","\u0639\u0645\u0627\u0646","\u0641\u0644\u0633\u0637\u064a\u0646","\u0642\u0637\u0631","\u0643\u0627\u062b\u0648\u0644\u064a\u0643","\u0643\u0648\u0645","\u0645\u0635\u0631","\u0645\u0644\u064a\u0633\u064a\u0627","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","\u0645\u0648\u0642\u0639","\u0647\u0645\u0631\u0627\u0647","\u067e\u0627\u06a9\u0633\u062a\u0627\u0646","\u0680\u0627\u0631\u062a","\u0915\u0949\u092e","\u0928\u0947\u091f","\u092d\u093e\u0930\u0924","\u092d\u093e\u0930\u0924\u092e\u094d","\u092d\u093e\u0930\u094b\u0924","\u0938\u0902\u0917\u0920\u0928","\u09ac\u09be\u0982\u09b2\u09be","\u09ad\u09be\u09b0\u09a4","\u09ad\u09be\u09f0\u09a4","\u0a2d\u0a3e\u0a30\u0a24","\u0aad\u0abe\u0ab0\u0aa4","\u0b2d\u0b3e\u0b30\u0b24","\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe","\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8","\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd","\u0c2d\u0c3e\u0c30\u0c24\u0c4d","\u0cad\u0cbe\u0cb0\u0ca4","\u0d2d\u0d3e\u0d30\u0d24\u0d02","\u0dbd\u0d82\u0d9a\u0dcf","\u0e04\u0e2d\u0e21","\u0e44\u0e17\u0e22","\u0ea5\u0eb2\u0ea7","\u10d2\u10d4","\u307f\u3093\u306a","\u30a2\u30de\u30be\u30f3","\u30af\u30e9\u30a6\u30c9","\u30b0\u30fc\u30b0\u30eb","\u30b3\u30e0","\u30b9\u30c8\u30a2","\u30bb\u30fc\u30eb","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u30dd\u30a4\u30f3\u30c8","\u4e16\u754c","\u4e2d\u4fe1","\u4e2d\u56fd","\u4e2d\u570b","\u4e2d\u6587\u7f51","\u4e9a\u9a6c\u900a","\u4f01\u4e1a","\u4f5b\u5c71","\u4fe1\u606f","\u5065\u5eb7","\u516b\u5366","\u516c\u53f8","\u516c\u76ca","\u53f0\u6e7e","\u53f0\u7063","\u5546\u57ce","\u5546\u5e97","\u5546\u6807","\u5609\u91cc","\u5609\u91cc\u5927\u9152\u5e97","\u5728\u7ebf","\u5927\u4f17\u6c7d\u8f66","\u5927\u62ff","\u5929\u4e3b\u6559","\u5a31\u4e50","\u5bb6\u96fb","\u5e7f\u4e1c","\u5fae\u535a","\u6148\u5584","\u6211\u7231\u4f60","\u624b\u673a","\u62db\u8058","\u653f\u52a1","\u653f\u5e9c","\u65b0\u52a0\u5761","\u65b0\u95fb","\u65f6\u5c1a","\u66f8\u7c4d","\u673a\u6784","\u6de1\u9a6c\u9521","\u6e38\u620f","\u6fb3\u9580","\u70b9\u770b","\u79fb\u52a8","\u7ec4\u7ec7\u673a\u6784","\u7f51\u5740","\u7f51\u5e97","\u7f51\u7ad9","\u7f51\u7edc","\u8054\u901a","\u8bfa\u57fa\u4e9a","\u8c37\u6b4c","\u8d2d\u7269","\u901a\u8ca9","\u96c6\u56e2","\u96fb\u8a0a\u76c8\u79d1","\u98de\u5229\u6d66","\u98df\u54c1","\u9910\u5385","\u9999\u683c\u91cc\u62c9","\u9999\u6e2f","\ub2f7\ub137","\ub2f7\ucef4","\uc0bc\uc131","\ud55c\uad6d"]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},,function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(193);function i(e,t){var n={};return t.forEach((function(t){n[t]=Object(r.a)(e,t)})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n(7),a=n(93),o=["sx"];function s(e){var t=e.sx,n=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){a.b[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(Object(i.a)(e,o)),s=n.systemProps,l=n.otherProps;return Object(r.a)({},l,{sx:Object(r.a)({},s,t)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(148);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(139);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(r.a)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),o({type:c,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function u(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(31)),l=n(40),c=n(252),u=n(154),d=n(10),f=n(16),h=n(6),p=["component","direction","spacing","divider","children"];function m(e,t){var n=o.Children.toArray(e).filter(Boolean);return n.reduce((function(e,r,i){return e.push(r),i<n.length-1&&e.push(o.cloneElement(t,{key:"separator-".concat(i)})),e}),[])}var v=Object(d.a)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,i=Object(a.a)({display:"flex"},Object(s.b)({theme:n},t.direction,(function(e){return{flexDirection:e}})));if(t.spacing){var o=Object(l.a)(n),c=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),d=Object(s.d)({values:t.direction,base:c}),f=Object(s.d)({values:t.spacing,base:c});i=Object(u.a)(i,Object(s.b)({theme:n},f,(function(e,n){return{"& > :not(style) + :not(style)":Object(r.a)({margin:0},"margin".concat((i=n?d[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),Object(l.d)(o,e))};var i})))}return i})),g=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiStack"}),r=Object(c.a)(n),o=r.component,s=void 0===o?"div":o,l=r.direction,u=void 0===l?"column":l,d=r.spacing,g=void 0===d?0:d,b=r.divider,C=r.children,y=Object(i.a)(r,p),S={direction:u,spacing:g};return Object(h.jsx)(v,Object(a.a)({as:s,ownerState:S,ref:t},y,{children:b?m(C,b):C}))}));t.a=g},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(61),u=n(53),d=n(19),f=n(16),h=n(10),p=n(95),m=n(6),v=["children","className","color","component","disabled","error","filled","focused","required"],g=Object(h.a)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(a.a)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(a.a)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},Object(r.a)(t,"&.".concat(p.a.focused),{color:n.palette[i.color].main}),Object(r.a)(t,"&.".concat(p.a.disabled),{color:n.palette.text.disabled}),Object(r.a)(t,"&.".concat(p.a.error),{color:n.palette.error.main}),t))})),b=Object(h.a)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Object(r.a)({},"&.".concat(p.a.error),{color:t.palette.error.main})})),C=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiFormLabel"}),r=n.children,o=n.className,h=n.component,C=void 0===h?"label":h,y=Object(i.a)(n,v),S=Object(u.a)(),w=Object(c.a)({props:n,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),T=Object(a.a)({},n,{color:w.color||"primary",component:C,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),I=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required,c={root:["root","color".concat(Object(d.a)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return Object(l.a)(c,p.b,t)}(T);return Object(m.jsxs)(g,Object(a.a)({as:C,ownerState:T,className:Object(s.a)(I.root,o),ref:t},y,{children:[r,w.required&&Object(m.jsxs)(b,{ownerState:T,"aria-hidden":!0,className:I.asterisk,children:["\u2009","*"]})]}))}));t.a=C},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(173);function a(e){var t=r.useRef(e);return Object(i.a)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),i=n(24),a=n(18);function o(e,t){Object(a.a)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,l=null==s?0:Object(i.a)(s),c=null==n.weekStartsOn?l:Object(i.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(e),d=u.getDay(),f=(d<c?7:0)+d-c;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),i=n(24),a=n(18);function o(e,t){Object(a.a)(1,arguments);var n=t||{},o=n.locale,s=o&&o.options&&o.options.weekStartsOn,l=null==s?0:Object(i.a)(s),c=null==n.weekStartsOn?l:Object(i.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.a)(e),d=u.getDay(),f=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(150),i=n(18);function a(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(e),a=Object(r.a)(t);return n.getTime()===a.getTime()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ci})),n.d(t,"b",(function(){return si}));var r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,b,C,y,S,w,T,I,O,E,R,k,M,_,A,x,D,j,P,N,L,U,F,W,V,B,z,H,q,G,J,Y,Z,K,$,Q,X,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,fe,he,pe,me,ve,ge,be,Ce,ye,Se,we,Te,Ie,Oe,Ee,Re,ke,Me,_e,Ae,xe,De,je,Pe,Ne,Le,Ue,Fe,We,Ve,Be,ze,He,qe,Ge,Je,Ye,Ze,Ke,$e,Qe,Xe,et,tt,nt,rt,it,at,ot,st,lt,ct,ut,dt,ft,ht,pt,mt,vt,gt,bt,Ct,yt,St,wt,Tt,It,Ot,Et,Rt,kt,Mt,_t,At,xt,Dt,jt,Pt,Nt,Lt,Ut,Ft,Wt,Vt,Bt,zt,Ht,qt,Gt,Jt,Yt,Zt,Kt,$t,Qt,Xt,en,tn,nn,rn,an,on,sn,ln,cn,un,dn,fn,hn,pn,mn,vn,gn,bn,Cn,yn,Sn,wn,Tn,In,On,En,Rn,kn,Mn,_n,An,xn,Dn,jn,Pn,Nn,Ln,Un,Fn,Wn,Vn,Bn,zn,Hn,qn,Gn,Jn,Yn,Zn,Kn,$n,Qn,Xn,er,tr,nr,rr,ir,ar,or,sr,lr,cr,ur,dr,fr,hr,pr,mr,vr,gr,br,Cr,yr,Sr,wr,Tr,Ir,Or,Er,Rr,kr,Mr,_r,Ar,xr,Dr,jr,Pr,Nr,Lr,Ur,Fr,Wr,Vr,Br,zr,Hr,qr,Gr,Jr,Yr,Zr,Kr,$r,Qr,Xr,ei=n(2),ti=n(0),ni=n.n(ti),ri=n(1),ii=n(3),ai=n(5),oi=(ri.d.svg(r||(r=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(i||(i=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(a||(a=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(o||(o=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(s||(s=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(l||(l=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(c||(c=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(u||(u=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(d||(d=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(f||(f=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(h||(h=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(p||(p=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(m||(m=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(v||(v=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(g||(g=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"}))),si=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,u=void 0===c?"0 0 32 32":c,d=e.width,f=void 0===d?"20":d,h=function(e,t){return e.startsWith("url(#")?e:Object(ai.a)(e,t)};return ni.a.createElement(ii.b.Consumer,null,(function(e){return ni.a.createElement(ri.a,{theme:e.theme},ni.a.createElement(oi,{"aria-hidden":t,className:r,width:"".concat(f,"px"),height:"".concat(s,"px"),viewBox:u,xmlns:"http://www.w3.org/2000/svg"},ni.a.createElement("title",null,l||"Calendar"),ni.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.188 3H26.81c1.188 0 2.188 1 2.188 2.188v21.627c0 1.25-.938 2.187-2.188 2.187H5.188A2.174 2.174 0 0 1 3 26.815V5.187C3 4 4 3 5.188 3ZM24 6.571C24 5.714 23.357 5 22.5 5c-.786 0-1.429.714-1.5 1.571 0 .858.643 1.5 1.5 1.5s1.5-.642 1.5-1.5ZM9.465 5C10.302 5 11 5.698 11 6.535S10.302 8 9.465 8A1.474 1.474 0 0 1 8 6.535C8 5.698 8.698 5 9.465 5ZM26.63 26.997c.188 0 .375-.125.375-.438V10H5v16.56c0 .25.188.437.438.437h21.191ZM6 12h6v6H6v-6Zm6 7H6v6h6v-6Zm1-7h6v6h-6v-6Zm6 7h-6v6h6v-6Zm1-7h6v6h-6v-6Zm6 7h-6v6h6v-6Z",fill:h(a,e.theme)}),n))}))},li=(ri.d.svg(b||(b=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(C||(C=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(y||(y=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(S||(S=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(w||(w=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(T||(T=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(I||(I=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(O||(O=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(E||(E=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(R||(R=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(k||(k=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(M||(M=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(_||(_=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(A||(A=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(x||(x=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(D||(D=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(j||(j=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(P||(P=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(N||(N=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(L||(L=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(U||(U=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(F||(F=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(W||(W=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(V||(V=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(B||(B=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(z||(z=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(H||(H=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(q||(q=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(G||(G=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(J||(J=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Y||(Y=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Z||(Z=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(K||(K=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg($||($=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Q||(Q=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(X||(X=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ee||(ee=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(te||(te=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ne||(ne=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(re||(re=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ie||(ie=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ae||(ae=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(oe||(oe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(se||(se=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(le||(le=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ce||(ce=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ue||(ue=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(de||(de=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(fe||(fe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(he||(he=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(pe||(pe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(me||(me=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ve||(ve=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ge||(ge=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(be||(be=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ce||(Ce=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ye||(ye=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Se||(Se=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(we||(we=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Te||(Te=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ie||(Ie=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Oe||(Oe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ee||(Ee=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Re||(Re=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ke||(ke=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Me||(Me=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(_e||(_e=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ae||(Ae=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(xe||(xe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(De||(De=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(je||(je=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Pe||(Pe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ne||(Ne=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Le||(Le=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ue||(Ue=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Fe||(Fe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(We||(We=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ve||(Ve=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Be||(Be=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ze||(ze=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(He||(He=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(qe||(qe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ge||(Ge=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Je||(Je=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ye||(Ye=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ze||(Ze=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ke||(Ke=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg($e||($e=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Qe||(Qe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Xe||(Xe=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(et||(et=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(tt||(tt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(nt||(nt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(rt||(rt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(it||(it=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(at||(at=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ot||(ot=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(st||(st=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(lt||(lt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ct||(ct=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ut||(ut=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"}))),ci=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,u=void 0===c?"0 0 32 32":c,d=e.width,f=void 0===d?"20":d,h=function(e,t){return e.startsWith("url(#")?e:Object(ai.a)(e,t)};return ni.a.createElement(ii.b.Consumer,null,(function(e){return ni.a.createElement(ri.a,{theme:e.theme},ni.a.createElement(li,{"aria-hidden":t,className:r,width:"".concat(f,"px"),height:"".concat(s,"px"),viewBox:u,xmlns:"http://www.w3.org/2000/svg"},ni.a.createElement("title",null,l||"Home"),ni.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.063 3.25c-4.75 4.313-9.438 8.563-14.313 13.063h4.563V28.75h6.875v-8.188h5.687v8.25h7v-12.5h4.375c-4.875-4.5-9.5-8.75-14.188-13.062Z",fill:h(a,e.theme)}),n))}))};ri.d.svg(dt||(dt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ft||(ft=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ht||(ht=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(pt||(pt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(mt||(mt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(vt||(vt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(gt||(gt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(bt||(bt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ct||(Ct=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(yt||(yt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(St||(St=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(wt||(wt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Tt||(Tt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(It||(It=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ot||(Ot=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Et||(Et=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Rt||(Rt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(kt||(kt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Mt||(Mt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(_t||(_t=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(At||(At=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(xt||(xt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Dt||(Dt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(jt||(jt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Pt||(Pt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Nt||(Nt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Lt||(Lt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ut||(Ut=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ft||(Ft=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Wt||(Wt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Vt||(Vt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Bt||(Bt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(zt||(zt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ht||(Ht=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(qt||(qt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Gt||(Gt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Jt||(Jt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Yt||(Yt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Zt||(Zt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Kt||(Kt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg($t||($t=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Qt||(Qt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Xt||(Xt=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(en||(en=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(tn||(tn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(nn||(nn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(rn||(rn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(an||(an=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(on||(on=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(sn||(sn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ln||(ln=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(cn||(cn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(un||(un=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(dn||(dn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(fn||(fn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(hn||(hn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(pn||(pn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(mn||(mn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(vn||(vn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(gn||(gn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(bn||(bn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Cn||(Cn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(yn||(yn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Sn||(Sn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(wn||(wn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Tn||(Tn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(In||(In=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(On||(On=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(En||(En=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Rn||(Rn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(kn||(kn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Mn||(Mn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(_n||(_n=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(An||(An=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(xn||(xn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Dn||(Dn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(jn||(jn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Pn||(Pn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Nn||(Nn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ln||(Ln=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Un||(Un=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Fn||(Fn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Wn||(Wn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Vn||(Vn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Bn||(Bn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(zn||(zn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Hn||(Hn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(qn||(qn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Gn||(Gn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Jn||(Jn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Yn||(Yn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Zn||(Zn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Kn||(Kn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg($n||($n=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Qn||(Qn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Xn||(Xn=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(er||(er=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(tr||(tr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(nr||(nr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(rr||(rr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ir||(ir=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ar||(ar=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(or||(or=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(sr||(sr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(lr||(lr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(cr||(cr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(ur||(ur=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(dr||(dr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(fr||(fr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(hr||(hr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(pr||(pr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(mr||(mr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(vr||(vr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(gr||(gr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(br||(br=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Cr||(Cr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(yr||(yr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Sr||(Sr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(wr||(wr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Tr||(Tr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ir||(Ir=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Or||(Or=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Er||(Er=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Rr||(Rr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(kr||(kr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Mr||(Mr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(_r||(_r=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ar||(Ar=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(xr||(xr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Dr||(Dr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(jr||(jr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Pr||(Pr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Nr||(Nr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Lr||(Lr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Ur||(Ur=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Fr||(Fr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Wr||(Wr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Vr||(Vr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Br||(Br=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(zr||(zr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Hr||(Hr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(qr||(qr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Gr||(Gr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Jr||(Jr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Yr||(Yr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Zr||(Zr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Kr||(Kr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg($r||($r=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Qr||(Qr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri.d.svg(Xr||(Xr=Object(ei.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i=n(2),a=n(0),o=n.n(a),s=n(1),l=n(3),c=n(5),u=s.d.svg(r||(r=Object(i.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),d=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,d=e.height,f=void 0===d?"20":d,h=e.title,p=e.viewBox,m=void 0===p?"0 0 32 32":p,v=e.width,g=void 0===v?"20":v,b=function(e,t){return e.startsWith("url(#")?e:Object(c.a)(e,t)};return o.a.createElement(l.b.Consumer,null,(function(e){return o.a.createElement(s.a,{theme:e.theme},o.a.createElement(u,{"aria-hidden":t,className:r,width:"".concat(g,"px"),height:"".concat(f,"px"),viewBox:m,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("title",null,h||"ChatFull"),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4C9.384 4 4 8.235 4 13.497c0 3.53 2.4 6.674 6.292 8.343.065.834-.324 2.438-2.53 4.62L6.27 28l2.076-.578c.195-.064 5.384-1.668 8.627-4.492C23.135 22.546 28 18.44 28 13.497c0-1.09-.26-2.181-.778-3.208C25.535 6.503 20.995 4 16 4Z",fill:b(a,e.theme)}),n))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0),n(9);var r=n(76),i=n(6);function a(e){var t=e.styles,n=e.defaultTheme,a=void 0===n?{}:n,o="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?a:e);var n}:t;return Object(i.jsx)(r.a,{styles:o})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(8),i=n(15),a=n.n(i),o=n(21),s=n(0),l=n(45),c=n.n(l),u=function(e){return void 0!==e.username&&void 0!==e.password},d=function(e){return void 0!==e.token},f=function(e){return void 0!==e.apiKey},h=function(e,t){return Object(o.a)(void 0,void 0,void 0,a.a.mark((function n(){var r,i,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={cloudUrl:(null===t||void 0===t?void 0:t.cloudUrl)?t.cloudUrl:"https://cloud.apizee.com"},d(e)?r.uri="token:".concat(e.token):u(e)?(r.uri="apizee:".concat(e.username),r.password=e.password):f(e)&&(r.uri="apzkey:".concat(e.apiKey)),!(i=c.a.Session.getActiveSession())){n.next=6;break}return n.next=6,i.getUserAgent().unregister();case 6:return o=new c.a.UserAgent({uri:r.uri}),n.next=9,o.register(r);case 9:return i=n.sent,n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)})))},p={audioInput:[],videoInput:[],audioOutput:[]};function m(e){var t=this,n=Object(s.useState)(),i=Object(r.a)(n,2),l=i[0],u=i[1],d=Object(s.useState)(),f=Object(r.a)(d,2),m=f[0],v=f[1],g=Object(s.useState)(),b=Object(r.a)(g,2),C=b[0],y=b[1],S=Object(s.useState)(p),w=Object(r.a)(S,2),T=w[0],I=w[1];Object(s.useEffect)((function(){E(e)}),[e]),Object(s.useEffect)((function(){null===l||void 0===l||l.on("mediaDeviceChanged",(function(){var e=l.getUserMediaDevices();I({audioInput:Object.values(e.audioinput),videoInput:Object.values(e.videoinput),audioOutput:Object.values(e.audiooutput)})}))}),[l]);var O=function(e){v(e),y(null===e||void 0===e?void 0:e.getUserData()),u(null===e||void 0===e?void 0:e.getUserAgent())},E=function(e){return Object(o.a)(t,void 0,void 0,a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=c.a.Session.getActiveSession()||m)){t.next=4;break}return t.next=4,n.getUserAgent().unregister();case 4:return t.next=6,h({apiKey:e});case 6:n=t.sent,O(n);case 8:case"end":return t.stop()}}),t)})))};return{userAgent:l,devices:T,session:m,userData:C,cloudApi:c.a.CloudApi,createStream:function(e,n){return Object(o.a)(t,void 0,void 0,a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===l||void 0===l?void 0:l.createStream(Object.assign(Object.assign({},e),n));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))},createScreenSharing:function(){return Object(o.a)(t,void 0,void 0,a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.Stream.createScreensharingStream();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))},register:E,login:function(e,n,r){return Object(o.a)(t,void 0,void 0,a.a.mark((function t(){var i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={username:e,password:n},t.next=3,h(i,r);case 3:o=t.sent,O(o);case 5:case"end":return t.stop()}}),t)})))},logout:function(){return Object(o.a)(t,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return",m.getUserAgent().unregister().then((function(){return O()})));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})))},getConversation:function(e){return Object(o.a)(t,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m){t.next=4;break}return t.abrupt("return",m.getOrCreateConference(e));case 4:return t.abrupt("return",Promise.reject("No apiRTC session found"));case 5:case"end":return t.stop()}}),t)})))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Zl}));var r=n(15),i=n.n(r),a=n(28),o=n(8),s=n(21),l=n(0),c=n.n(l),u=n(174),d=n.n(u),f=n(289),h=n(290),p=n(2),m=n(4),v=n(7),g=n(175);function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(g.a)(e,t)}var C=n(9),y=n.n(C),S=n(74),w=n.n(S),T=function(){};function I(e,t){return void 0!==e[t]}function O(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function E(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function R(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function k(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}E.__suppressDeprecationWarning=!0,R.__suppressDeprecationWarning=!0,k.__suppressDeprecationWarning=!0;var M=n(13);function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var A=n(26),x=n.n(A),D="milliseconds",j="seconds",P="minutes",N="hours",L="day",U="week",F="month",W="year",V="decade",B="century",z={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},H={month:1,year:12,decade:120,century:1200};function q(e){return e%4===0&&e%100!==0||e%400===0?29:28}function G(e,t,n){switch(e=new Date(e),n){case D:case j:case P:case N:case L:case U:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*z.minutes)}(e,n)}(e,t*z[n]);case F:case W:case V:case B:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),a=12*n+r+t,o=Math.trunc(a/12),s=a%12,l=Math.min(i,function(e){return[31,q(e),31,30,31,30,31,31,30,31,30,31]}(o)[s]),c=new Date(e);return c.setFullYear(o),c.setDate(1),c.setMonth(s),c.setDate(l),c}(e,t*H[n])}throw new TypeError('Invalid units: "'+n+'"')}function J(e,t,n){return G(e,-t,n)}function Y(e,t,n){switch(e=new Date(e),t){case B:case V:case W:e=ue(e,0);case F:e=ce(e,1);case U:case L:e=se(e,0);case N:e=oe(e,0);case P:e=ae(e,0);case j:e=ie(e,0)}return t===V&&(e=J(e,de(e)%10,"year")),t===B&&(e=J(e,de(e)%100,"year")),t===U&&(e=function(e,t,n){var r=(le(e)+7-(n||0))%7;return void 0===t?r:G(e,t-r,L)}(e,0,n)),e}function Z(e,t,n){switch(e=Y(e=new Date(e),t,n),t){case B:case V:case W:case F:case U:(e=J(e=G(e,1,t),1,L)).setHours(23,59,59,999);break;case L:e.setHours(23,59,59,999);break;case N:case P:case j:e=J(e=G(e,1,t),1,D)}return e}var K=he((function(e,t){return e===t})),$=(he((function(e,t){return e!==t})),he((function(e,t){return e>t}))),Q=he((function(e,t){return e>=t})),X=he((function(e,t){return e<t})),ee=he((function(e,t){return e<=t}));function te(){return new Date(Math.min.apply(Math,arguments))}function ne(){return new Date(Math.max.apply(Math,arguments))}function re(e,t,n,r){return r=r||"day",(!t||Q(e,t,r))&&(!n||ee(e,n,r))}var ie=fe("Milliseconds"),ae=fe("Seconds"),oe=fe("Minutes"),se=fe("Hours"),le=fe("Day"),ce=fe("Date"),ue=fe("Month"),de=fe("FullYear");function fe(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&("Hours"===e||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function he(e){return function(t,n,r){return e(+Y(t,r),+Y(n,r))}}var pe=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var me=function(e,t){return e===t||e!==e&&t!==t},ve=n(52);var ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var be=function(e){if(!ge(e))return!1;var t=Object(ve.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Ce=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ye=function(e){return null!=e&&Ce(e.length)&&!be(e)},Se=/^(?:0|[1-9]\d*)$/;var we=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Se.test(e))&&e>-1&&e%1==0&&e<t};var Te=function(e,t,n){if(!ge(n))return!1;var r=typeof t;return!!("number"==r?ye(n)&&we(t,n.length):"string"==r&&t in n)&&me(n[t],e)},Ie=/\s/;var Oe=function(e){for(var t=e.length;t--&&Ie.test(e.charAt(t)););return t},Ee=/^\s+/;var Re=function(e){return e?e.slice(0,Oe(e)+1).replace(Ee,""):e},ke=n(38);var Me=function(e){return"symbol"==typeof e||Object(ke.a)(e)&&"[object Symbol]"==Object(ve.a)(e)},_e=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,De=parseInt;var je=function(e){if("number"==typeof e)return e;if(Me(e))return NaN;if(ge(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ge(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Re(e);var n=Ae.test(e);return n||xe.test(e)?De(e.slice(2),n?2:8):_e.test(e)?NaN:+e},Pe=1/0;var Ne=function(e){return e?(e=je(e))===Pe||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Le=function(e){var t=Ne(e),n=t%1;return t===t?n?t-n:t:0},Ue=Math.ceil,Fe=Math.max;var We=function(e,t,n){t=(n?Te(e,t,n):void 0===t)?1:Fe(Le(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,o=Array(Ue(r/t));i<r;)o[a++]=pe(e,i,i+=t);return o};function Ve(e){return e&&e.ownerDocument||document}function Be(e,t){return function(e){var t=Ve(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ze=/([A-Z])/g;var He=/^ms-/;function qe(e){return function(e){return e.replace(ze,"-$1").toLowerCase()}(e).replace(He,"-ms-")}var Ge=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Je=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(qe(t))||Be(e).getPropertyValue(qe(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ge.test(e))}(i)?n+=qe(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(qe(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Ye(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ze(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Ke(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var i=Ze(n);if(void 0===r)return i?i[e]:n[t];i?i.scrollTo(i[e],r):n[t]=r}}var $e=Ke("pageXOffset"),Qe=Ke("pageYOffset");function Xe(e){var t=Ve(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&Ye(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+Qe(r)-(r.clientTop||0),left:n.left+$e(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}function et(e,t){var n,r={top:0,left:0};if("fixed"===Je(e,"position"))n=e.getBoundingClientRect();else{var i=t||function(e){for(var t,n=Ve(e),r=e&&e.offsetParent;(t=r)&&"offsetParent"in t&&"HTML"!==r.nodeName&&"static"===Je(r,"position");)r=r.offsetParent;return r||n.documentElement}(e);n=Xe(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(i)&&(r=Xe(i));var a=String(Je(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-Qe(i)||0;var o=String(Je(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-$e(i)||0}var s=String(Je(e,"marginTop")||0),l=String(Je(e,"marginLeft")||0);return Object(m.a)({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}var tt=!("undefined"===typeof window||!window.document||!window.document.createElement),nt=(new Date).getTime();var rt="clearTimeout",it=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-nt)),r=setTimeout(e,n);return nt=t,r},at=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};tt&&["","webkit","moz","o","ms"].some((function(e){var t=at(e,"request");return t in window&&(rt=at(e,"cancel"),it=function(e){return window[t](e)}),!!it}));var ot=function(e){"function"===typeof window[rt]&&window[rt](e)},st=it;function lt(){return Object(l.useState)(null)}var ct=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ut=function(e,t){return Object(l.useMemo)((function(){return function(e,t){var n=ct(e),r=ct(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},dt=n(11);var ft=function(e){var t=function(){var e=Object(l.useRef)(!0),t=Object(l.useRef)((function(){return e.current}));return Object(l.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}();return[e[0],Object(l.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]},ht=n(122),pt=n(119),mt=n(120),vt=n(131),gt=n(112),bt=n(121),Ct=n(118),yt=n(137),St=n(146),wt=Object(St.a)({defaultModifiers:[gt.a,Ct.a,pt.a,mt.a,bt.a,vt.a,yt.a,ht.a]}),Tt=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},It={name:"applyStyles",enabled:!1},Ot={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?o+","+r.id:r.id)}}},Et=[];var Rt=function(e,t,n){var r=void 0===n?{}:n,i=r.enabled,a=void 0===i||i,o=r.placement,s=void 0===o?"bottom":o,c=r.strategy,u=void 0===c?"absolute":c,d=r.modifiers,f=void 0===d?Et:d,h=Object(v.a)(r,["enabled","placement","strategy","modifiers"]),p=Object(l.useRef)(),g=Object(l.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),b=Object(l.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),C=ft(Object(l.useState)({placement:s,update:g,forceUpdate:b,attributes:{},styles:{popper:Tt(u),arrow:{}}})),y=C[0],S=C[1],w=Object(l.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),S({state:t,styles:n,attributes:r,update:g,forceUpdate:b,placement:t.placement})}}}),[g,b,S]);return Object(l.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[w,It])})}),[u,s,w,a]),Object(l.useEffect)((function(){if(a&&null!=e&&null!=t)return p.current=wt(e,t,Object(m.a)({},h,{placement:s,strategy:u,modifiers:[].concat(f,[Ot,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,S((function(e){return Object(m.a)({},e,{attributes:{},styles:{popper:Tt(u)}})})))}}),[a,e,t]),y},kt=!1,Mt=!1;try{var _t={get passive(){return kt=!0},get once(){return Mt=kt=!0}};tt&&(window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,!0))}catch(Kl){}var At=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Mt){var i=r.once,a=r.capture,o=n;!Mt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,kt?r:a)}e.addEventListener(t,n,r)};var xt=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Dt=function(e,t,n,r){return At(e,t,n,r),function(){xt(e,t,n,r)}};var jt=function(e){var t=Object(l.useRef)(e);return Object(l.useEffect)((function(){t.current=e}),[e]),t};function Pt(e){var t=jt(e);return Object(l.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Nt=n(178),Lt=n.n(Nt);var Ut=function(e){return Ve(function(e){return e&&"setState"in e?x.a.findDOMNode(e):null!=e?e:null}(e))},Ft=function(){};var Wt=function(e){return e&&("current"in e?e.current:e)};var Vt=function(e,t,n){var r=void 0===n?{}:n,i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=Object(l.useRef)(!1),c=t||Ft,u=Object(l.useCallback)((function(t){var n,r=Wt(e);Lt()(!!r,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!r||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!Ye(r,t.target)}),[e]),d=Pt((function(e){s.current||c(e)})),f=Pt((function(e){27===e.keyCode&&c(e)}));Object(l.useEffect)((function(){if(!i&&null!=e){var t=window.event,n=Ut(Wt(e)),r=Dt(n,o,u,!0),a=Dt(n,o,(function(e){e!==t?d(e):t=void 0})),s=Dt(n,"keyup",(function(e){e!==t?f(e):t=void 0})),l=[];return"ontouchstart"in n.documentElement&&(l=[].slice.call(n.body.children).map((function(e){return Dt(e,"mousemove",Ft)}))),function(){r(),a(),s(),l.forEach((function(e){return e()}))}}}),[e,i,o,u,d,f])},Bt=function(e){var t;return"undefined"===typeof document?null:null==e?Ve().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function zt(e,t){var n=Object(l.useState)((function(){return Bt(e)})),r=n[0],i=n[1];if(!r){var a=Bt(e);a&&i(a)}return Object(l.useEffect)((function(){t&&r&&t(r)}),[t,r]),Object(l.useEffect)((function(){var t=Bt(e);t!==r&&i(t)}),[e,r]),r}function Ht(e){var t,n,r,i,a,o=e.enabled,s=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.containerPadding,f=e.arrowElement,h=e.popperConfig,p=void 0===h?{}:h,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object(m.a)({},p,{placement:l,enabled:o,modifiers:(a=Object(m.a)({},v,{eventListeners:{enabled:s},preventOverflow:Object(m.a)({},v.preventOverflow,{options:d?Object(m.a)({padding:d},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object(m.a)({offset:u},null==(r=v.offset)?void 0:r.options)},arrow:Object(m.a)({},v.arrow,{enabled:!!f,options:Object(m.a)({},null==(i=v.arrow)?void 0:i.options,{element:f})}),flip:Object(m.a)({enabled:!!c},v.flip)}),void 0===a&&(a={}),Array.isArray(a)?a:Object.keys(a).map((function(e){return a[e].name=e,a[e]})))})}var qt=c.a.forwardRef((function(e,t){var n=e.flip,r=e.offset,i=e.placement,a=e.containerPadding,o=void 0===a?5:a,s=e.popperConfig,u=void 0===s?{}:s,d=e.transition,f=lt(),h=f[0],p=f[1],g=lt(),b=g[0],C=g[1],y=ut(p,t),S=zt(e.container),w=zt(e.target),T=Object(l.useState)(!e.show),I=T[0],O=T[1],E=Rt(w,h,Ht({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:b,popperConfig:u})),R=E.styles,k=E.attributes,M=Object(v.a)(E,["styles","attributes"]);e.show?I&&O(!1):e.transition||I||O(!0);var _=e.show||d&&!I;if(Vt(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!_)return null;var A=e.children(Object(m.a)({},M,{show:!!e.show,props:Object(m.a)({},k.popper,{style:R.popper,ref:y}),arrowProps:Object(m.a)({},k.arrow,{style:R.arrow,ref:C})}));if(d){var D=e.onExit,j=e.onExiting,P=e.onEnter,N=e.onEntering,L=e.onEntered;A=c.a.createElement(d,{in:e.show,appear:!0,onExit:D,onExiting:j,onExited:function(){O(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:P,onEntering:N,onEntered:L},A)}return S?x.a.createPortal(A,S):null}));qt.displayName="Overlay",qt.propTypes={show:y.a.bool,placement:y.a.oneOf(dt.h),target:y.a.any,container:y.a.any,flip:y.a.bool,children:y.a.func.isRequired,containerPadding:y.a.number,popperConfig:y.a.object,rootClose:y.a.bool,rootCloseEvent:y.a.oneOf(["click","mousedown"]),rootCloseDisabled:y.a.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=y.a.func).isRequired.apply(i,[e].concat(n)):y.a.func.apply(y.a,[e].concat(n))},transition:y.a.elementType,onEnter:y.a.func,onEntering:y.a.func,onEntered:y.a.func,onExit:y.a.func,onExiting:y.a.func,onExited:y.a.func};var Gt=qt;function Jt(e,t){var n=Ze(e);return n?n.innerHeight:t?e.clientHeight:Xe(e).height}var Yt,Zt=Function.prototype.bind.call(Function.prototype.call,[].slice);function Kt(e,t){return Zt(e.querySelectorAll(t))}function $t(e,t){if(!Yt){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;Yt=function(e,t){return r.call(e,t)}}return Yt(e,t)}var Qt=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Xt=function(){this.__data__=[],this.size=0};var en=function(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1},tn=Array.prototype.splice;var nn=function(e){var t=this.__data__,n=en(t,e);return!(n<0)&&(n==t.length-1?t.pop():tn.call(t,n,1),--this.size,!0)};var rn=function(e){var t=this.__data__,n=en(t,e);return n<0?void 0:t[n][1]};var an=function(e){return en(this.__data__,e)>-1};var on=function(e,t){var n=this.__data__,r=en(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function sn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sn.prototype.clear=Xt,sn.prototype.delete=nn,sn.prototype.get=rn,sn.prototype.has=an,sn.prototype.set=on;var ln=sn;var cn=function(){this.__data__=new ln,this.size=0};var un=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var dn=function(e){return this.__data__.get(e)};var fn=function(e){return this.__data__.has(e)},hn=n(33),pn=hn.a["__core-js_shared__"],mn=function(){var e=/[^.]+$/.exec(pn&&pn.keys&&pn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var vn=function(e){return!!mn&&mn in e},gn=Function.prototype.toString;var bn=function(e){if(null!=e){try{return gn.call(e)}catch(Kl){}try{return e+""}catch(Kl){}}return""},Cn=/^\[object .+?Constructor\]$/,yn=Function.prototype,Sn=Object.prototype,wn=yn.toString,Tn=Sn.hasOwnProperty,In=RegExp("^"+wn.call(Tn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var On=function(e){return!(!ge(e)||vn(e))&&(be(e)?In:Cn).test(bn(e))};var En=function(e,t){return null==e?void 0:e[t]};var Rn=function(e,t){var n=En(e,t);return On(n)?n:void 0},kn=Rn(hn.a,"Map"),Mn=Rn(Object,"create");var _n=function(){this.__data__=Mn?Mn(null):{},this.size=0};var An=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xn=Object.prototype.hasOwnProperty;var Dn=function(e){var t=this.__data__;if(Mn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xn.call(t,e)?t[e]:void 0},jn=Object.prototype.hasOwnProperty;var Pn=function(e){var t=this.__data__;return Mn?void 0!==t[e]:jn.call(t,e)};var Nn=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mn&&void 0===t?"__lodash_hash_undefined__":t,this};function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ln.prototype.clear=_n,Ln.prototype.delete=An,Ln.prototype.get=Dn,Ln.prototype.has=Pn,Ln.prototype.set=Nn;var Un=Ln;var Fn=function(){this.size=0,this.__data__={hash:new Un,map:new(kn||ln),string:new Un}};var Wn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Vn=function(e,t){var n=e.__data__;return Wn(t)?n["string"==typeof t?"string":"hash"]:n.map};var Bn=function(e){var t=Vn(this,e).delete(e);return this.size-=t?1:0,t};var zn=function(e){return Vn(this,e).get(e)};var Hn=function(e){return Vn(this,e).has(e)};var qn=function(e,t){var n=Vn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gn.prototype.clear=Fn,Gn.prototype.delete=Bn,Gn.prototype.get=zn,Gn.prototype.has=Hn,Gn.prototype.set=qn;var Jn=Gn;var Yn=function(e,t){var n=this.__data__;if(n instanceof ln){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(e,t),this.size=n.size,this};function Zn(e){var t=this.__data__=new ln(e);this.size=t.size}Zn.prototype.clear=cn,Zn.prototype.delete=un,Zn.prototype.get=dn,Zn.prototype.has=fn,Zn.prototype.set=Yn;var Kn=Zn;var $n=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Qn=function(e){return this.__data__.has(e)};function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}Xn.prototype.add=Xn.prototype.push=$n,Xn.prototype.has=Qn;var er=Xn;var tr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var nr=function(e,t){return e.has(t)};var rr=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,h=2&n?new er:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var v=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!tr(t,(function(e,t){if(!nr(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f},ir=n(37),ar=hn.a.Uint8Array;var or=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var sr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},lr=ir.a?ir.a.prototype:void 0,cr=lr?lr.valueOf:void 0;var ur=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ar(e),new ar(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=or;case"[object Set]":var l=1&r;if(s||(s=sr),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=rr(s(e),s(t),r,i,a,o);return o.delete(e),u;case"[object Symbol]":if(cr)return cr.call(e)==cr.call(t)}return!1};var dr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},fr=Array.isArray;var hr=function(e,t,n){var r=t(e);return fr(e)?r:dr(r,n(e))};var pr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var mr=function(){return[]},vr=Object.prototype.propertyIsEnumerable,gr=Object.getOwnPropertySymbols,br=gr?function(e){return null==e?[]:(e=Object(e),pr(gr(e),(function(t){return vr.call(e,t)})))}:mr;var Cr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var yr=function(e){return Object(ke.a)(e)&&"[object Arguments]"==Object(ve.a)(e)},Sr=Object.prototype,wr=Sr.hasOwnProperty,Tr=Sr.propertyIsEnumerable,Ir=yr(function(){return arguments}())?yr:function(e){return Object(ke.a)(e)&&wr.call(e,"callee")&&!Tr.call(e,"callee")},Or=n(68),Er={};Er["[object Float32Array]"]=Er["[object Float64Array]"]=Er["[object Int8Array]"]=Er["[object Int16Array]"]=Er["[object Int32Array]"]=Er["[object Uint8Array]"]=Er["[object Uint8ClampedArray]"]=Er["[object Uint16Array]"]=Er["[object Uint32Array]"]=!0,Er["[object Arguments]"]=Er["[object Array]"]=Er["[object ArrayBuffer]"]=Er["[object Boolean]"]=Er["[object DataView]"]=Er["[object Date]"]=Er["[object Error]"]=Er["[object Function]"]=Er["[object Map]"]=Er["[object Number]"]=Er["[object Object]"]=Er["[object RegExp]"]=Er["[object Set]"]=Er["[object String]"]=Er["[object WeakMap]"]=!1;var Rr=function(e){return Object(ke.a)(e)&&Ce(e.length)&&!!Er[Object(ve.a)(e)]};var kr=function(e){return function(t){return e(t)}},Mr=n(70),_r=Mr.a&&Mr.a.isTypedArray,Ar=_r?kr(_r):Rr,xr=Object.prototype.hasOwnProperty;var Dr=function(e,t){var n=fr(e),r=!n&&Ir(e),i=!n&&!r&&Object(Or.a)(e),a=!n&&!r&&!i&&Ar(e),o=n||r||i||a,s=o?Cr(e.length,String):[],l=s.length;for(var c in e)!t&&!xr.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,l))||s.push(c);return s},jr=Object.prototype;var Pr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jr)},Nr=n(111),Lr=Object(Nr.a)(Object.keys,Object),Ur=Object.prototype.hasOwnProperty;var Fr=function(e){if(!Pr(e))return Lr(e);var t=[];for(var n in Object(e))Ur.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Wr=function(e){return ye(e)?Dr(e):Fr(e)};var Vr=function(e){return hr(e,Wr,br)},Br=Object.prototype.hasOwnProperty;var zr=function(e,t,n,r,i,a){var o=1&n,s=Vr(e),l=s.length;if(l!=Vr(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:Br.call(t,u)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<l;){var m=e[u=s[c]],v=t[u];if(r)var g=o?r(v,m,u,t,e,a):r(m,v,u,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var b=e.constructor,C=t.constructor;b==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof C&&C instanceof C||(h=!1)}return a.delete(e),a.delete(t),h},Hr=Rn(hn.a,"DataView"),qr=Rn(hn.a,"Promise"),Gr=Rn(hn.a,"Set"),Jr=Rn(hn.a,"WeakMap"),Yr="[object Map]",Zr="[object Promise]",Kr="[object Set]",$r="[object WeakMap]",Qr="[object DataView]",Xr=bn(Hr),ei=bn(kn),ti=bn(qr),ni=bn(Gr),ri=bn(Jr),ii=ve.a;(Hr&&ii(new Hr(new ArrayBuffer(1)))!=Qr||kn&&ii(new kn)!=Yr||qr&&ii(qr.resolve())!=Zr||Gr&&ii(new Gr)!=Kr||Jr&&ii(new Jr)!=$r)&&(ii=function(e){var t=Object(ve.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?bn(n):"";if(r)switch(r){case Xr:return Qr;case ei:return Yr;case ti:return Zr;case ni:return Kr;case ri:return $r}return t});var ai=ii,oi="[object Arguments]",si="[object Array]",li="[object Object]",ci=Object.prototype.hasOwnProperty;var ui=function(e,t,n,r,i,a){var o=fr(e),s=fr(t),l=o?si:ai(e),c=s?si:ai(t),u=(l=l==oi?li:l)==li,d=(c=c==oi?li:c)==li,f=l==c;if(f&&Object(Or.a)(e)){if(!Object(Or.a)(t))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new Kn),o||Ar(e)?rr(e,t,n,r,i,a):ur(e,t,l,n,r,i,a);if(!(1&n)){var h=u&&ci.call(e,"__wrapped__"),p=d&&ci.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,v=p?t.value():t;return a||(a=new Kn),i(m,v,n,r,a)}}return!!f&&(a||(a=new Kn),zr(e,t,n,r,i,a))};var di=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Object(ke.a)(t)&&!Object(ke.a)(n)?t!==t&&n!==n:ui(t,n,r,i,e,a))};var fi=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Kn;if(r)var f=r(c,u,l,e,t,d);if(!(void 0===f?di(u,c,3,r,d):f))return!1}}return!0};var hi=function(e){return e===e&&!ge(e)};var pi=function(e){for(var t=Wr(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,hi(i)]}return t};var mi=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var vi=function(e){var t=pi(e);return 1==t.length&&t[0][2]?mi(t[0][0],t[0][1]):function(n){return n===e||fi(n,e,t)}},gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bi=/^\w*$/;var Ci=function(e,t){if(fr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Me(e))||(bi.test(e)||!gi.test(e)||null!=t&&e in Object(t))};function yi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(yi.Cache||Jn),n}yi.Cache=Jn;var Si=yi;var wi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ti=/\\(\\)?/g,Ii=function(e){var t=Si(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(wi,(function(e,n,r,i){t.push(r?i.replace(Ti,"$1"):n||e)})),t}));var Oi=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ei=ir.a?ir.a.prototype:void 0,Ri=Ei?Ei.toString:void 0;var ki=function e(t){if("string"==typeof t)return t;if(fr(t))return Oi(t,e)+"";if(Me(t))return Ri?Ri.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Mi=function(e){return null==e?"":ki(e)};var _i=function(e,t){return fr(e)?e:Ci(e,t)?[e]:Ii(Mi(e))};var Ai=function(e){if("string"==typeof e||Me(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var xi=function(e,t){for(var n=0,r=(t=_i(t,e)).length;null!=e&&n<r;)e=e[Ai(t[n++])];return n&&n==r?e:void 0};var Di=function(e,t,n){var r=null==e?void 0:xi(e,t);return void 0===r?n:r};var ji=function(e,t){return null!=e&&t in Object(e)};var Pi=function(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,a=!1;++r<i;){var o=Ai(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ce(i)&&we(o,i)&&(fr(e)||Ir(e))};var Ni=function(e,t){return null!=e&&Pi(e,t,ji)};var Li=function(e,t){return Ci(e)&&hi(t)?mi(Ai(e),t):function(n){var r=Di(n,e);return void 0===r&&r===t?Ni(n,e):di(t,r,3)}};var Ui=function(e){return e};var Fi=function(e){return function(t){return null==t?void 0:t[e]}};var Wi=function(e){return function(t){return xi(t,e)}};var Vi=function(e){return Ci(e)?Fi(Ai(e)):Wi(e)};var Bi=function(e){return"function"==typeof e?e:null==e?Ui:"object"==typeof e?fr(e)?Li(e[0],e[1]):vi(e):Vi(e)},zi=Math.max;var Hi=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Le(n);return i<0&&(i=zi(r+i,0)),Qt(e,Bi(t,3),i)},qi=Math.ceil,Gi=Math.max;var Ji=function(e,t,n,r){for(var i=-1,a=Gi(qi((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o};var Yi=function(e){return function(t,n,r){return r&&"number"!=typeof r&&Te(t,n,r)&&(n=r=void 0),t=Ne(t),void 0===n?(n=t,t=0):n=Ne(n),r=void 0===r?t<n?1:-1:Ne(r),Ji(t,n,r,e)}}(),Zi=n(149),Ki=n(176),$i=ir.a?ir.a.isConcatSpreadable:void 0;var Qi=function(e){return fr(e)||Ir(e)||!!($i&&e&&e[$i])};var Xi=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=Qi),a||(a=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?e(l,n-1,r,i,a):dr(a,l):i||(a[a.length]=l)}return a};var ea=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}();var ta=function(e,t){return e&&ea(e,t,Wr)};var na=function(e,t){return function(n,r){if(null==n)return n;if(!ye(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}(ta);var ra=function(e,t){var n=-1,r=ye(e)?Array(e.length):[];return na(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var ia=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var aa=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=Me(e),o=void 0!==t,s=null===t,l=t===t,c=Me(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0};var oa=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=aa(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index};var sa=function(e,t,n){t=t.length?Oi(t,(function(e){return fr(e)?function(t){return xi(t,1===e.length?e[0]:e)}:e})):[Ui];var r=-1;t=Oi(t,kr(Bi));var i=ra(e,(function(e,n,i){return{criteria:Oi(t,(function(t){return t(e)})),index:++r,value:e}}));return ia(i,(function(e,t){return oa(e,t,n)}))};var la=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ca=Math.max;var ua=function(e,t,n){return t=ca(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=ca(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),la(e,this,s)}};var da=function(e){return function(){return e}},fa=function(){try{var e=Rn(Object,"defineProperty");return e({},"",{}),e}catch(Kl){}}(),ha=fa?function(e,t){return fa(e,"toString",{configurable:!0,enumerable:!1,value:da(t),writable:!0})}:Ui,pa=Date.now;var ma=function(e){var t=0,n=0;return function(){var r=pa(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ha);var va,ga=function(e,t){return ma(ua(e,t,Ui),e+"")},ba=ga((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Te(e,t[0],t[1])?t=[]:n>2&&Te(t[0],t[1],t[2])&&(t=[t[0]]),sa(e,Xi(t,1),[])}));function Ca(e,t){var n=Ze(e);return n?n.innerWidth:t?e.clientWidth:Xe(e).width}function ya(e){if((!va&&0!==va||e)&&tt){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),va=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return va}function Sa(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var wa=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Ta=function(e,t,n){"__proto__"==t&&fa?fa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ia=Object.prototype.hasOwnProperty;var Oa=function(e,t,n){var r=e[t];Ia.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||Ta(e,t,n)};var Ea=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Ta(n,s,l):Oa(n,s,l)}return n};var Ra=function(e,t){return e&&Ea(t,Wr(t),e)};var ka=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Ma=Object.prototype.hasOwnProperty;var _a=function(e){if(!ge(e))return ka(e);var t=Pr(e),n=[];for(var r in e)("constructor"!=r||!t&&Ma.call(e,r))&&n.push(r);return n};var Aa=function(e){return ye(e)?Dr(e,!0):_a(e)};var xa=function(e,t){return e&&Ea(t,Aa(t),e)},Da=n(179);var ja=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Pa=function(e,t){return Ea(e,br(e),t)},Na=n(72),La=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)dr(t,br(e)),e=Object(Na.a)(e);return t}:mr;var Ua=function(e,t){return Ea(e,La(e),t)};var Fa=function(e){return hr(e,Aa,La)},Wa=Object.prototype.hasOwnProperty;var Va=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Wa.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Ba=function(e){var t=new e.constructor(e.byteLength);return new ar(t).set(new ar(e)),t};var za=function(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Ha=/\w*$/;var qa=function(e){var t=new e.constructor(e.source,Ha.exec(e));return t.lastIndex=e.lastIndex,t},Ga=ir.a?ir.a.prototype:void 0,Ja=Ga?Ga.valueOf:void 0;var Ya=function(e){return Ja?Object(Ja.call(e)):{}};var Za=function(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ka=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ba(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return za(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Za(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return qa(e);case"[object Set]":return new r;case"[object Symbol]":return Ya(e)}},$a=Object.create,Qa=function(){function e(){}return function(t){if(!ge(t))return{};if($a)return $a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Xa=function(e){return"function"!=typeof e.constructor||Pr(e)?{}:Qa(Object(Na.a)(e))};var eo=function(e){return Object(ke.a)(e)&&"[object Map]"==ai(e)},to=Mr.a&&Mr.a.isMap,no=to?kr(to):eo;var ro=function(e){return Object(ke.a)(e)&&"[object Set]"==ai(e)},io=Mr.a&&Mr.a.isSet,ao=io?kr(io):ro,oo="[object Arguments]",so="[object Function]",lo="[object Object]",co={};co[oo]=co["[object Array]"]=co["[object ArrayBuffer]"]=co["[object DataView]"]=co["[object Boolean]"]=co["[object Date]"]=co["[object Float32Array]"]=co["[object Float64Array]"]=co["[object Int8Array]"]=co["[object Int16Array]"]=co["[object Int32Array]"]=co["[object Map]"]=co["[object Number]"]=co["[object Object]"]=co["[object RegExp]"]=co["[object Set]"]=co["[object String]"]=co["[object Symbol]"]=co["[object Uint8Array]"]=co["[object Uint8ClampedArray]"]=co["[object Uint16Array]"]=co["[object Uint32Array]"]=!0,co["[object Error]"]=co[so]=co["[object WeakMap]"]=!1;var uo=function e(t,n,r,i,a,o){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!ge(t))return t;var d=fr(t);if(d){if(s=Va(t),!l)return ja(t,s)}else{var f=ai(t),h=f==so||"[object GeneratorFunction]"==f;if(Object(Or.a)(t))return Object(Da.a)(t,l);if(f==lo||f==oo||h&&!a){if(s=c||h?{}:Xa(t),!l)return c?Ua(t,xa(s,t)):Pa(t,Ra(s,t))}else{if(!co[f])return a?t:{};s=Ka(t,f,l)}}o||(o=new Kn);var p=o.get(t);if(p)return p;o.set(t,s),ao(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):no(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=d?void 0:(u?c?Fa:Vr:c?Aa:Wr)(t);return wa(m||t,(function(i,a){m&&(i=t[a=i]),Oa(s,a,e(i,n,r,a,t,o))})),s};var fo=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var ho=function(e,t){return t.length<2?e:xi(e,pe(t,0,-1))};var po=function(e,t){return t=_i(t,e),null==(e=ho(e,t))||delete e[Ai(fo(t))]},mo=n(180);var vo=function(e){return Object(mo.a)(e)?void 0:e};var go=function(e){return(null==e?0:e.length)?Xi(e,1):[]};var bo=function(e){return ma(ua(e,void 0,go),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=Oi(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ea(e,Fa(e),n),r&&(n=uo(n,7,vo));for(var i=t.length;i--;)po(n,t[i]);return n})),Co=Object.prototype,yo=Co.hasOwnProperty,So=ga((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Te(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Aa(a),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(void 0===u||me(u,Co[c])&&!yo.call(e,c))&&(e[c]=a[c])}return e}));var wo=function(e,t,n){var r=fr(e),i=r||Object(Or.a)(e)||Ar(e);if(t=Bi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:ge(e)&&be(a)?Qa(Object(Na.a)(e)):{}}return(i?wa:ta)(e,(function(e,r,i){return t(n,e,r,i)})),n};var To=function(e,t){var n={};return t=Bi(t,3),ta(e,(function(e,r,i){Ta(n,r,t(e,r,i))})),n};function Io(e){return e.children}var Oo="PREV",Eo="NEXT",Ro="TODAY",ko="DATE",Mo={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},_o=Object.keys(Mo).map((function(e){return Mo[e]}));y.a.oneOfType([y.a.string,y.a.func]),y.a.any,y.a.func,y.a.oneOfType([y.a.arrayOf(y.a.oneOf(_o)),y.a.objectOf((function(e,t){var n=-1!==_o.indexOf(t)&&"boolean"===typeof e[t];if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return y.a.elementType.apply(y.a,[e,t].concat(i))}))]),y.a.oneOfType([y.a.oneOf(["overlap","no-overlap"]),y.a.func]);function Ao(e,t){e&&e.apply(null,[].concat(t))}var xo=y.a.oneOfType([y.a.string,y.a.func]);function Do(e,t,n,r,i){var a="function"===typeof r?r(n,i,e):t.call(e,n,r,i);return null!=a&&"string"!==typeof a&&w()(!1),a}var jo=function(e){var t=this;"function"!==typeof e.format&&w()(!1),"function"!==typeof e.firstOfWeek&&w()(!1),this.propType=e.propType||xo,this.startOfWeek=e.firstOfWeek,this.formats=e.formats,this.format=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Do.apply(void 0,[t,e.format].concat(r))}};function Po(e,t,n,r){var i=Object(m.a)({},e.formats,n);return Object(m.a)({},e,{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,i[r]||r,t)}})}var No={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+"+e+" more"}};var Lo={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function Uo(e,t){var n=Y(e,"month");return Y(n,"week",t.startOfWeek())}function Fo(e,t){var n=Z(e,"month");return Z(n,"week",t.startOfWeek())}function Wo(e,t){var n=Y(e,t);return K(n,e)?n:G(n,1,t)}function Vo(e,t,n){void 0===n&&(n="day");for(var r=e,i=[];ee(r,t,n);)i.push(r),r=G(r,1,n);return i}function Bo(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=Y(e,"day"),e=se(e,se(t)),e=oe(e,oe(t)),e=ae(e,ae(t)),ie(e,ie(t)))}function zo(e){return 0===se(e)&&0===oe(e)&&0===ae(e)&&0===ie(e)}function Ho(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+Y(e,n)/Lo[n]-+Y(t,n)/Lo[n])):Math.abs(+e-+t)}var qo=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.event,i=e.selected,a=e.isAllDay,o=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,d=e.continuesPrior,f=e.continuesAfter,h=e.accessors,p=e.getters,g=e.children,b=e.components,C=b.event,y=b.eventWrapper,S=e.slotStart,w=e.slotEnd,T=Object(v.a)(e,["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"]);delete T.resizable;var I=h.title(r),O=h.tooltip(r),E=h.end(r),R=h.start(r),k=h.allDay(r),_=a||k||Ho(R,Wo(E,"day"),"day")>1,A=p.eventProp(r,R,E,i),x=c.a.createElement("div",{className:"rbc-event-content",title:O||void 0},C?c.a.createElement(C,{event:r,continuesPrior:d,continuesAfter:f,title:I,isAllDay:k,localizer:u,slotStart:S,slotEnd:w}):I);return c.a.createElement(y,Object(m.a)({},this.props,{type:"date"}),c.a.createElement("div",Object(m.a)({},T,{tabIndex:0,style:Object(m.a)({},A.style,t),className:Object(M.a)("rbc-event",n,A.className,{"rbc-selected":i,"rbc-event-allday":_,"rbc-event-continues-prior":d,"rbc-event-continues-after":f}),onClick:function(e){return o&&o(r,e)},onDoubleClick:function(e){return s&&s(r,e)},onKeyPress:function(e){return l&&l(r,e)}}),"function"===typeof g?g(x):x))},t}(c.a.Component);function Go(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)}function Jo(e,t){return(e.right-e.left)/t}function Yo(e,t,n,r){var i=Jo(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}qo.propTypes={};var Zo=function(e){function t(){return e.apply(this,arguments)||this}b(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t,n=this.props,r=n.popupOffset,i=void 0===r?5:r,a=Xe(n.popperRef.current),o=a.top,s=a.left,l=a.width,c=a.height,u=window.innerHeight+Qe(window),d=window.innerWidth+$e(window),f=o+c,h=s+l;(f>u||h>d)&&(f>u&&(e=f-u+(i.y||+i||0)),h>d&&(t=h-d+(i.x||+i||0)),this.setState({topOffset:e,leftOffset:t}))},n.render=function(){var e=this,t=this.props,n=t.events,r=t.selected,i=t.getters,a=t.accessors,o=t.components,s=t.onSelect,l=t.onDoubleClick,u=t.onKeyPress,d=t.slotStart,f=t.slotEnd,h=t.localizer,p=t.popperRef,v=this.props.position.width,g={top:-((this.state||{}).topOffset||0),left:-((this.state||{}).leftOffset||0),minWidth:v+v/2};return c.a.createElement("div",{style:Object(m.a)({},this.props.style,g),className:"rbc-overlay",ref:p},c.a.createElement("div",{className:"rbc-overlay-header"},h.format(d,"dayHeaderFormat")),n.map((function(t,n){return c.a.createElement(qo,{key:n,type:"popup",event:t,getters:i,onSelect:s,accessors:a,components:o,onDoubleClick:l,onKeyPress:u,continuesPrior:X(a.end(t),d,"day"),continuesAfter:Q(a.start(t),f,"day"),slotStart:d,slotEnd:f,selected:Go(t,r),draggable:!0,onDragStart:function(){return e.props.handleDragStart(t)},onDragEnd:function(){return e.props.show()}})})))},t}(c.a.Component);Zo.propTypes={};var Ko=c.a.forwardRef((function(e,t){return c.a.createElement(Zo,Object(m.a)({popperRef:t},e))}));function $o(e,t,n){return void 0===n&&(n=document),Dt(n,e,t,{passive:!1})}function Qo(e,t){var n=t.clientX,r=t.clientY;return function(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if($t(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}(document.elementFromPoint(n,r),".rbc-event",e)}function Xo(e,t){return!!Qo(e,t)}function es(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var ts=function(){function e(e,t){var n=void 0===t?{}:t,r=n.global,i=void 0!==r&&r,a=n.longPressThreshold,o=void 0===a?250:a;this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=$o("touchmove",(function(){}),window),this._removeKeyDownListener=$o("keydown",this._keyListener),this._removeKeyUpListener=$o("keyup",this._keyListener),this._removeDropFromOutsideListener=$o("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=$o("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}var t=e.prototype;return t.on=function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},t.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a=this._listeners[e]||[];return a.forEach((function(e){void 0===i&&(i=e.apply(void 0,n))})),i},t.teardown=function(){this.isDetached=!0,this.listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()},t.isSelected=function(e){var t=this._selectRect;return!(!t||!this.selecting)&&ns(t,rs(e))},t.filter=function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]},t._addLongPressListener=function(e,t){var n=this,r=null,i=null,a=null,o=function(t){r=setTimeout((function(){l(),e(t)}),n.longPressThreshold),i=$o("touchmove",(function(){return l()})),a=$o("touchend",(function(){return l()}))},s=$o("touchstart",o),l=function(){r&&clearTimeout(r),i&&i(),a&&a(),r=null,i=null,a=null};return t&&o(t),function(){l(),s()}},t._addInitialEventListener=function(){var e=this,t=$o("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=$o("mousedown",e._handleInitialEvent)})),n=$o("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}},t._dropFromOutsideListener=function(e){var t=es(e),n=t.pageX,r=t.pageY,i=t.clientX,a=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:i,clientY:a}),e.preventDefault()},t._dragOverFromOutsideListener=function(e){var t=es(e),n=t.pageX,r=t.pageY,i=t.clientX,a=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:i,clientY:a}),e.preventDefault()},t._handleInitialEvent=function(e){if(!this.isDetached){var t,n=es(e),r=n.clientX,i=n.clientY,a=n.pageX,o=n.pageY,s=this.container();if(3!==e.which&&2!==e.button&&(c=r,u=i,!(l=s)||Ye(l,document.elementFromPoint(c,u)))){var l,c,u;if(!this.globalMouse&&s&&!Ye(s,e.target)){var d=function(e){void 0===e&&(e=0);"object"!==typeof e&&(e={top:e,left:e,right:e,bottom:e});return e}(0),f=d.top,h=d.left,p=d.bottom,m=d.right;if(!ns({top:(t=rs(s)).top-f,left:t.left-h,bottom:t.bottom+p,right:t.right+m},{top:o,left:a}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:a,y:o,clientX:r,clientY:i}))switch(e.type){case"mousedown":this._removeEndListener=$o("mouseup",this._handleTerminatingEvent),this._onEscListener=$o("keydown",this._handleTerminatingEvent),this._removeMoveListener=$o("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=$o("touchend",this._handleTerminatingEvent),this._removeMoveListener=$o("touchmove",this._handleMoveEvent)}}}},t._handleTerminatingEvent=function(e){var t=es(e),n=t.pageX,r=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var i=!this.container||Ye(this.container(),e.target),a=this._selectRect,o=this.isClick(n,r);return this._initialEventData=null,"Escape"===e.key?this.emit("reset"):i?o&&i?this._handleClickEvent(e):o?void 0:this.emit("select",a):this.emit("reset")}},t._handleClickEvent=function(e){var t=es(e),n=t.pageX,r=t.pageY,i=t.clientX,a=t.clientY,o=(new Date).getTime();return this._lastClickData&&o-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:i,clientY:a})):(this._lastClickData={timestamp:o},this.emit("click",{x:n,y:r,clientX:i,clientY:a}))},t._handleMoveEvent=function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,i=es(e),a=i.pageX,o=i.pageY,s=Math.abs(n-a),l=Math.abs(r-o),c=Math.min(a,n),u=Math.min(o,r),d=this.selecting;(!this.isClick(a,o)||d||s||l)&&(this.selecting=!0,this._selectRect={top:u,left:c,x:a,y:o,right:c+s,bottom:u+l},d||this.emit("selectStart",this._initialEventData),this.isClick(a,o)||this.emit("selecting",this._selectRect),e.preventDefault())}},t._keyListener=function(e){this.ctrl=e.metaKey||e.ctrlKey},t.isClick=function(e,t){var n=this._initialEventData,r=n.x,i=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-i)<=5},e}();function ns(e,t,n){void 0===n&&(n=0);var r=rs(e),i=r.top,a=r.left,o=r.right,s=void 0===o?a:o,l=r.bottom,c=void 0===l?i:l,u=rs(t),d=u.top,f=u.left,h=u.right,p=void 0===h?f:h,m=u.bottom;return!(c-n<d||i+n>(void 0===m?d:m)||s-n<f||a+n>p)}function rs(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+is("left"),r=t.top+is("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function is(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var as=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={selecting:!1},r}b(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.selectable&&this._selectable()},n.componentWillUnmount=function(){this._teardownSelectable()},n.UNSAFE_componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable()},n.render=function(){var e=this.props,t=e.range,n=e.getNow,r=e.getters,i=e.date,a=e.components.dateCellWrapper,o=this.state,s=o.selecting,l=o.startIdx,u=o.endIdx,d=n();return c.a.createElement("div",{className:"rbc-row-bg"},t.map((function(e,n){var o=s&&n>=l&&n<=u,f=r.dayProp(e),h=f.className,p=f.style;return c.a.createElement(a,{key:n,value:e,range:t},c.a.createElement("div",{style:p,className:Object(M.a)("rbc-day-bg",h,o&&"rbc-selected-cell",K(e,d,"day")&&"rbc-today",i&&ue(i)!==ue(e)&&"rbc-off-range-bg")}))})))},n._selectable=function(){var e=this,t=Object(A.findDOMNode)(this),n=this._selector=new ts(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!Xo(Object(A.findDOMNode)(e),n)){var i=rs(t),a=e.props,o=a.range,s=a.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(i,n)){var l=Yo(i,n.x,s,o.length);e._selectSlot({startIdx:l,endIdx:l,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",(function(r){var i=e.props,a=i.range,o=i.rtl,s=-1,l=-1;if(e.state.selecting||(Ao(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=rs(t),u=function(e,t,n,r,i){var a=-1,o=-1,s=r-1,l=Jo(t,r),c=Yo(t,n.x,i,r),u=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,h=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(a=0,o=s),u&&(h?(a=0,o=c):f&&(a=c,o=s)),d&&(a=o=i?s-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<a?a=c:o=c:e.y<n.y?o=s:a=0),{startIdx:a,endIdx:o}}(e._initial,c,r,a.length,o);s=u.startIdx,l=u.endIdx}e.setState({selecting:!0,startIdx:s,endIdx:l})})),n.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!Xo(Object(A.findDOMNode)(e),t)})),n.on("click",(function(e){return r(e,"click")})),n.on("doubleClick",(function(e){return r(e,"doubleClick")})),n.on("select",(function(t){e._selectSlot(Object(m.a)({},e.state,{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Ao(e.props.onSelectEnd,[e.state])}))},n._teardownSelectable=function(){this._selector&&(this._selector.teardown(),this._selector=null)},n._selectSlot=function(e){var t=e.endIdx,n=e.startIdx,r=e.action,i=e.bounds,a=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:i,box:a,resourceId:this.props.resourceId})},t}(c.a.Component);as.propTypes={};y.a.object.isRequired,y.a.object,y.a.bool,y.a.object.isRequired,y.a.object.isRequired,y.a.object.isRequired,y.a.object.isRequired,y.a.func,y.a.func,y.a.func;var os={segments:[],selected:{}},ss=function(e,t){var n=e.selected,r=(e.isAllDay,e.accessors),i=e.getters,a=e.onSelect,o=e.onDoubleClick,s=e.onKeyPress,l=e.localizer,u=e.slotMetrics,d=e.components,f=e.resizable,h=u.continuesPrior(t),p=u.continuesAfter(t);return c.a.createElement(qo,{event:t,getters:i,localizer:l,accessors:r,components:d,onSelect:a,onDoubleClick:o,onKeyPress:s,continuesPrior:h,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:Go(t,n),resizable:f})},ls=function(e,t,n,r){void 0===r&&(r=" ");var i=Math.abs(t)/e*100+"%";return c.a.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},r)},cs=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.segments,r=t.slotMetrics.slots,i=t.className,a=1;return c.a.createElement("div",{className:Object(M.a)(i,"rbc-row")},n.reduce((function(t,n,i){var o=n.event,s=n.left,l=n.right,c=n.span,u="_lvl_"+i,d=s-a,f=ss(e.props,o);return d&&t.push(ls(r,d,u+"_gap")),t.push(ls(r,c,u,f)),a=l+1,t}),[]))},t}(c.a.Component);function us(e,t){return void 0===t&&(t="day"),{first:e[0],last:G(e[e.length-1],1,t)}}function ds(e,t){void 0===t&&(t=1/0);var n,r,i,a=[],o=[];for(n=0;n<e.length;n++){for(i=e[n],r=0;r<a.length&&hs(i,a[r]);r++);r>=t?o.push(i):(a[r]||(a[r]=[])).push(i)}for(n=0;n<a.length;n++)a[n].sort((function(e,t){return e.left-t.left}));return{levels:a,extra:o}}function fs(e,t,n,r){var i=Y(r.start(e),"day"),a=r.end(e),o=ee(i,n,"day"),s=K(i,a,"minutes")?Q(a,t,"minutes"):$(a,t,"minutes");return o&&s}function hs(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function ps(e,t,n){var r=+Y(n.start(e),"day")-+Y(n.start(t),"day"),i=Ho(n.start(e),Wo(n.end(e),"day"),"day"),a=Ho(n.start(t),Wo(n.end(t),"day"),"day");return r||Math.max(a,1)-Math.max(i,1)||!!n.allDay(t)-!!n.allDay(e)||+n.start(e)-+n.start(t)}cs.propTypes={},cs.defaultProps=Object(m.a)({},os);var ms=function(e,t){return e.left<=t&&e.right>=t},vs=function(e,t){return e.filter((function(e){return ms(e,t)})).length},gs=function(e){function t(){return e.apply(this,arguments)||this}b(t,e);var n=t.prototype;return n.render=function(){for(var e=this.props,t=e.segments,n=e.slotMetrics.slots,r=ds(t).levels[0],i=1,a=1,o=[];i<=n;){var s="_lvl_"+i,l=r.filter((function(e){return ms(e,i)}))[0]||{},u=l.event,d=l.left,f=l.right,h=l.span;if(u){var p=Math.max(0,d-a);if(this.canRenderSlotEvent(d,h)){var m=ss(this.props,u);p&&o.push(ls(n,p,s+"_gap")),o.push(ls(n,h,s,m)),a=i=f+1}else p&&o.push(ls(n,p,s+"_gap")),o.push(ls(n,1,s,this.renderShowMore(t,i))),a=i+=1}else i++}return c.a.createElement("div",{className:"rbc-row"},o)},n.canRenderSlotEvent=function(e,t){var n=this.props.segments;return Yi(e,e+t).every((function(e){return 1===vs(n,e)}))},n.renderShowMore=function(e,t){var n=this,r=this.props.localizer,i=vs(e,t);return!!i&&c.a.createElement("a",{key:"sm_"+t,href:"#",className:"rbc-show-more",onClick:function(e){return n.showMore(t,e)}},r.messages.showMore(i))},n.showMore=function(e,t){t.preventDefault(),this.props.onShowMore(e,t.target)},t}(c.a.Component);gs.propTypes={},gs.defaultProps=Object(m.a)({},os);var bs=function(e){var t=e.children;return c.a.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Cs=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function ys(){return Object(Zi.a)((function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,a=e.accessors,o=us(t),s=o.first,l=o.last,c=n.map((function(e){return function(e,t,n){var r=us(t),i=r.first,a=r.last,o=Ho(i,a,"day"),s=ne(Y(n.start(e),"day"),i),l=te(Wo(n.end(e),"day"),a),c=Hi(t,(function(e){return K(e,s,"day")})),u=Ho(s,l,"day");return u=Math.min(u,o),{event:e,span:u=Math.max(u,1),left:c+1,right:Math.max(c+u,1)}}(e,t,a)})),u=ds(c,Math.max(r-1,1)),d=u.levels,f=u.extra;d.length<i;)d.push([]);return{first:s,last:l,levels:d,extra:f,range:t,slots:t.length,clone:function(t){return ys()(Object(m.a)({},e,t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return K(t,e,"day")}))},getEventsForSlot:function(e){return c.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return X(a.start(e),s,"day")},continuesAfter:function(e){var t=a.end(e);return K(a.start(e),t,"minutes")?Q(t,l,"minutes"):$(t,l,"minutes")}}}),Cs)}var Ss=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSelectSlot=function(e){var n=t.props,r=n.range;(0,n.onSelectSlot)(r.slice(e.start,e.end+1),e)},t.handleShowMore=function(e,n){var r,i=t.props,a=i.range,o=i.onShowMore,s=t.slotMetrics(t.props),l=Kt(Object(A.findDOMNode)(_(t)),".rbc-row-bg")[0];l&&(r=l.children[e-1]),o(s.getEventsForSlot(e),a[e-1],r,e,n)},t.createHeadingRef=function(e){t.headingRow=e},t.createEventRef=function(e){t.eventRow=e},t.getContainer=function(){var e=t.props.container;return e?e():Object(A.findDOMNode)(_(t))},t.renderHeadingCell=function(e,n){var r=t.props,i=r.renderHeader,a=r.getNow;return i({date:e,key:"header_"+n,className:Object(M.a)("rbc-date-cell",K(e,a(),"day")&&"rbc-now")})},t.renderDummy=function(){var e=t.props,n=e.className,r=e.range,i=e.renderHeader,a=e.showAllEvents;return c.a.createElement("div",{className:n},c.a.createElement("div",{className:Object(M.a)("rbc-row-content",a&&"rbc-row-content-scrollable")},i&&c.a.createElement("div",{className:"rbc-row",ref:t.createHeadingRef},r.map(t.renderHeadingCell)),c.a.createElement("div",{className:"rbc-row",ref:t.createEventRef},c.a.createElement("div",{className:"rbc-row-segment"},c.a.createElement("div",{className:"rbc-event"},c.a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},t.slotMetrics=ys(),t}b(t,e);var n=t.prototype;return n.getRowLimit=function(){var e=Jt(this.eventRow),t=this.headingRow?Jt(this.headingRow):0,n=Jt(Object(A.findDOMNode)(this))-t;return Math.max(Math.floor(n/e),1)},n.render=function(){var e=this.props,t=e.date,n=e.rtl,r=e.range,i=e.className,a=e.selected,o=e.selectable,s=e.renderForMeasure,l=e.accessors,u=e.getters,d=e.components,f=e.getNow,h=e.renderHeader,p=e.onSelect,v=e.localizer,g=e.onSelectStart,b=e.onSelectEnd,C=e.onDoubleClick,y=e.onKeyPress,S=e.resourceId,w=e.longPressThreshold,T=e.isAllDay,I=e.resizable,O=e.showAllEvents;if(s)return this.renderDummy();var E=this.slotMetrics(this.props),R=E.levels,k=E.extra,_=O?bs:Io,A=d.weekWrapper,x={selected:a,accessors:l,getters:u,localizer:v,components:d,onSelect:p,onDoubleClick:C,onKeyPress:y,resourceId:S,slotMetrics:E,resizable:I};return c.a.createElement("div",{className:i,role:"rowgroup"},c.a.createElement(as,{date:t,getNow:f,rtl:n,range:r,selectable:o,container:this.getContainer,getters:u,onSelectStart:g,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:w,resourceId:S}),c.a.createElement("div",{className:Object(M.a)("rbc-row-content",O&&"rbc-row-content-scrollable"),role:"row"},h&&c.a.createElement("div",{className:"rbc-row ",ref:this.createHeadingRef},r.map(this.renderHeadingCell)),c.a.createElement(_,null,c.a.createElement(A,Object(m.a)({isAllDay:T},x),R.map((function(e,t){return c.a.createElement(cs,Object(m.a)({key:t,segments:e},x))})),!!k.length&&c.a.createElement(gs,Object(m.a)({segments:k,onShowMore:this.handleShowMore},x))))))},t}(c.a.Component);Ss.propTypes={},Ss.defaultProps={minRows:0,maxRows:1/0};var ws=function(e){var t=e.label;return c.a.createElement("span",{role:"columnheader","aria-sort":"none"},t)};ws.propTypes={};var Ts=function(e){var t=e.label,n=e.drilldownView,r=e.onDrillDown;return n?c.a.createElement("a",{href:"#",onClick:r,role:"cell"},t):c.a.createElement("span",null,t)};Ts.propTypes={};var Is=function(e,t,n,r){return e.filter((function(e){return fs(e,t,n,r)}))},Os=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).getContainer=function(){return Object(A.findDOMNode)(_(t))},t.renderWeek=function(e,n){var r=t.props,i=r.events,a=r.components,o=r.selectable,s=r.getNow,l=r.selected,u=r.date,d=r.localizer,f=r.longPressThreshold,h=r.accessors,p=r.getters,m=r.showAllEvents,v=t.state,g=v.needLimitMeasure,b=v.rowLimit;return(i=Is(i,e[0],e[e.length-1],h)).sort((function(e,t){return ps(e,t,h)})),c.a.createElement(Ss,{key:n,ref:0===n?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:s,date:u,range:e,events:i,maxRows:m?1/0:b,selected:l,selectable:o,components:a,accessors:h,getters:p,localizer:d,renderHeader:t.readerDateHeading,renderForMeasure:g,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:f,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:m})},t.readerDateHeading=function(e){var n=e.date,r=e.className,i=Object(v.a)(e,["date","className"]),a=t.props,o=a.date,s=a.getDrilldownView,l=a.localizer,u=ue(n)!==ue(o),d=K(n,o,"day"),f=s(n),h=l.format(n,"dateFormat"),p=t.props.components.dateHeader||Ts;return c.a.createElement("div",Object(m.a)({},i,{className:Object(M.a)(r,u&&"rbc-off-range",d&&"rbc-current"),role:"cell"}),c.a.createElement(p,{label:h,date:n,drilldownView:f,isOffRange:u,onDrillDown:function(e){return t.handleHeadingClick(n,f,e)}}))},t.handleSelectSlot=function(e,n){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout((function(){return t.selectDates(n)}))},t.handleHeadingClick=function(e,n,r){r.preventDefault(),t.clearSelection(),Ao(t.props.onDrillDown,[e,n])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onKeyPressEvent,n)},t.handleShowMore=function(e,n,r,i,a){var o=t.props,s=o.popup,l=o.onDrillDown,c=o.onShowMore,u=o.getDrilldownView,d=o.doShowMoreDrillDown;if(t.clearSelection(),s){var f=et(r,Object(A.findDOMNode)(_(t)));t.setState({overlay:{date:n,events:e,position:f,target:a}})}else d&&Ao(l,[n,u(n)||Mo.DAY]);Ao(c,[e,n,i])},t.overlayDisplay=function(){t.setState({overlay:null})},t._bgRows=[],t._pendingSelection=[],t.slotRowRef=c.a.createRef(),t.state={rowLimit:5,needLimitMeasure:!0},t}b(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=e.date;this.setState({needLimitMeasure:!K(t,this.props.date,"month")})},n.componentDidMount=function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||st((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)},n.componentDidUpdate=function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)},n.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener,!1)},n.render=function(){var e=this.props,t=e.date,n=e.localizer,r=e.className,i=function(e,t){for(var n=Uo(e,t),r=Fo(e,t),i=[];ee(n,r,"day");)i.push(n),n=G(n,1,"day");return i}(t,n),a=We(i,7);return this._weekCount=a.length,c.a.createElement("div",{className:Object(M.a)("rbc-month-view",r),role:"table","aria-label":"Month View"},c.a.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(a[0])),a.map(this.renderWeek),this.props.popup&&this.renderOverlay())},n.renderHeaders=function(e){var t=this.props,n=t.localizer,r=t.components,i=e[0],a=e[e.length-1],o=r.header||ws;return Vo(i,a,"day").map((function(e,t){return c.a.createElement("div",{key:"header_"+t,className:"rbc-header"},c.a.createElement(o,{date:e,localizer:n,label:n.format(e,"weekdayFormat")}))}))},n.renderOverlay=function(){var e=this,t=this.state&&this.state.overlay||{},n=this.props,r=n.accessors,i=n.localizer,a=n.components,o=n.getters,s=n.selected,l=n.popupOffset;return c.a.createElement(Gt,{rootClose:!0,placement:"bottom",show:!!t.position,onHide:function(){return e.setState({overlay:null})},target:function(){return t.target}},(function(n){var u=n.props;return c.a.createElement(Ko,Object(m.a)({},u,{popupOffset:l,accessors:r,getters:o,selected:s,components:a,localizer:i,position:t.position,show:e.overlayDisplay,events:t.events,slotStart:t.date,slotEnd:t.end,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,handleDragStart:e.props.handleDragStart}))}))},n.measureRowLimit=function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})},n.selectDates=function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),Ao(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})},n.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},t}(c.a.Component);Os.propTypes={},Os.range=function(e,t){var n=t.localizer;return{start:Uo(e,n),end:Fo(e,n)}},Os.navigate=function(e,t){switch(t){case Oo:return G(e,-1,"month");case Eo:return G(e,1,"month");default:return e}},Os.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var Es=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},Rs=function(e,t,n,r){return+Y(e,"minutes")+(""+ +Y(t,"minutes"))+n+"-"+r};function ks(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,a=Rs(t,n,r,i),o=Y(t,"day"),s=Es(o,t),l=1+Ho(t,n,"minutes")+Es(t,n),c=Ho(o,t,"minutes")+s,u=Math.ceil((l-1)/(r*i)),d=u*i,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(i);for(var m=0;m<i;m++){var v=p*i+m,g=v*r;h[v]=f[p][m]=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,c+g,0,0)}}var b=h.length*r;function C(e){var n=Ho(t,e,"minutes")+Es(t,e);return Math.min(n,l)}return h.push(new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,c+b,0,0)),{groups:f,update:function(e){return Rs(e)!==a?ks(e):this},dateIsInGroup:function(e,t){var r=f[t+1];return re(e,f[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.indexOf(e)+1,h.length-1)];return t===e&&(t=G(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*d)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e,n){if(void 0===n&&(n=0),X(e,t,"minutes"))return h[0];var i=Ho(t,e,"minutes");return h[(i-i%r)/r+n]},startsBeforeDay:function(e){return X(e,t,"day")},startsAfterDay:function(e){return $(e,n,"day")},startsBefore:function(e){return X(Bo(t,e),t,"minutes")},startsAfter:function(e){return $(Bo(n,e),n,"minutes")},getRange:function(e,i,a,o){a||(e=te(n,ne(t,e))),o||(i=te(n,ne(t,i)));var s=C(e),l=C(i),c=l>r*d&&!K(n,i)?(s-r)/(r*d)*100:s/(r*d)*100;return{top:c,height:l/(r*d)*100-c,start:C(e),startDate:e,end:C(i),endDate:i}},getCurrentTimePosition:function(e){return C(e)/(r*d)*100}}}var Ms=function(){function e(e,t){var n=t.accessors,r=t.slotMetrics.getRange(n.start(e),n.end(e)),i=r.start,a=r.startDate,o=r.end,s=r.endDate,l=r.top,c=r.height;this.start=i,this.end=o,this.startMs=+a,this.endMs=+s,this.top=l,this.height=c,this.data=e}return Object(Ki.a)(e,[{key:"_width",get:function(){if(this.rows)return 100/(this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1);var e=100-this.container._width;return this.leaves?e/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}]),e}();function _s(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function As(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,a=function(e){for(var t=ba(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var a=t[i];if(!(r.endMs>a.startMs)){if(i>0){var o=t.splice(i,1)[0];n.push(o)}break}}}return n}(t.map((function(e){return new Ms(e,{slotMetrics:r,accessors:i})}))),o=[],s=function(e){var t=a[e],r=o.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!r)return t.rows=[],o.push(t),"continue";t.container=r;for(var i=null,s=r.rows.length-1;!i&&s>=0;s--)_s(r.rows[s],t,n)&&(i=r.rows[s]);i?(i.leaves.push(t),t.row=i):(t.leaves=[],r.rows.push(t))},l=0;l<a.length;l++)s(l);return a.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function xs(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=xs(e.friends[r],t,n);t=t>i?t:i}return t}var Ds={overlap:As,"no-overlap":function(e){var t=As({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.top+e.height<t.top+t.height?1:-1}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var i=t[r],a=i.style.top,o=i.style.top+i.style.height,s=r+1;s<t.length;++s){var l=t[s],c=l.style.top,u=l.style.top+l.style.height;(c<=a&&a<u||a<=c&&c<o)&&(i.friends.push(l),l.friends.push(i))}for(var d=0;d<t.length;++d){for(var f=t[d],h=[],p=0;p<100;++p)h.push(1);for(var m=0;m<f.friends.length;++m)void 0!==f.friends[m].idx&&(h[f.friends[m].idx]=0);f.idx=h.indexOf(1)}for(var v=0;v<t.length;++v){var g;if(!t[v].size){var b=[];g=100/(xs(t[v],0,b)+1),t[v].size=g;for(var C=0;C<b.length;++C)b[C].size=g}}for(var y=0;y<t.length;++y){var S=t[y];S.style.left=S.idx*S.size;for(var w=0,T=0;T<S.friends.length;++T){var I=S.friends[T];w=w>I?w:I}w<=S.idx&&(S.size=100-S.idx*S.size);var O=0===S.idx?0:3;S.style.width="calc("+S.size+"% - "+O+"px)",S.style.height="calc("+S.style.height+"% - 2px)",S.style.xOffset="calc("+S.style.left+"% + "+O+"px)"}return t}};function js(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ps(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in Ds&&(n=Ds[t]),js(n)?n.apply(this,arguments):[]}var Ns=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.renderSlot,n=e.resource,r=e.group,i=e.getters,a=e.components,o=(a=void 0===a?{}:a).timeSlotWrapper,s=void 0===o?Io:o,l=i?i.slotGroupProp():{};return c.a.createElement("div",Object(m.a)({className:"rbc-timeslot-group"},l),r.map((function(e,r){var a=i?i.slotProp(e,n):{};return c.a.createElement(s,{key:r,value:e,resource:n},c.a.createElement("div",Object(m.a)({},a,{className:Object(M.a)("rbc-time-slot",a.className)}),t&&t(e,r)))})))},t}(l.Component);function Ls(e){return"string"===typeof e?e:e+"%"}function Us(e){var t,n,r=e.style,i=e.className,a=e.event,o=e.accessors,s=e.rtl,l=e.selected,u=e.label,d=e.continuesEarlier,f=e.continuesLater,h=e.getters,p=e.onClick,v=e.onDoubleClick,g=e.isBackgroundEvent,b=e.onKeyPress,C=e.components,y=C.event,S=C.eventWrapper,w=o.title(a),T=o.tooltip(a),I=o.end(a),O=o.start(a),E=h.eventProp(a,O,I,l),R=r.height,k=r.top,_=r.width,A=r.xOffset,x=[c.a.createElement("div",{key:"1",className:"rbc-event-label"},u),c.a.createElement("div",{key:"2",className:"rbc-event-content"},y?c.a.createElement(y,{event:a,title:w}):w)],D=g?Object(m.a)({},E.style,((t={top:Ls(k),height:Ls(R),width:"calc("+_+" + 10px)"})[s?"right":"left"]=Ls(Math.max(0,A)),t)):Object(m.a)({},E.style,((n={top:Ls(k),width:Ls(_),height:Ls(R)})[s?"right":"left"]=Ls(A),n));return c.a.createElement(S,Object(m.a)({type:"time"},e),c.a.createElement("div",{onClick:p,onDoubleClick:v,style:D,onKeyPress:b,title:T?("string"===typeof u?u+": ":"")+T:void 0,className:Object(M.a)(g?"rbc-background-event":"rbc-event",i,E.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":f})},x))}Ns.propTypes={};var Fs=function(e){var t=e.children,n=e.className,r=e.style;return c.a.createElement("div",{className:n,style:r},t)},Ws=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(e){var n=e.events,r=e.isBackgroundEvent,i=t.props,a=i.rtl,o=i.selected,s=i.accessors,l=i.localizer,u=i.getters,d=i.components,f=i.step,h=i.timeslots,p=i.dayLayoutAlgorithm,m=i.resizable,v=_(t).slotMetrics,g=l.messages;return Ps({events:n,accessors:s,slotMetrics:v,minimumStartDifference:Math.ceil(f*h/2),dayLayoutAlgorithm:p}).map((function(e,n){var i,f=e.event,h=e.style,p=s.end(f),b=s.start(f),C="eventTimeRangeFormat",y=v.startsBeforeDay(b),S=v.startsAfterDay(p);y?C="eventTimeRangeEndFormat":S&&(C="eventTimeRangeStartFormat"),i=y&&S?g.allDay:l.format({start:b,end:p},C);var w=y||v.startsBefore(b),T=S||v.startsAfter(p);return c.a.createElement(Us,{style:h,event:f,label:i,key:"evt_"+n,getters:u,rtl:a,components:d,continuesEarlier:w,continuesLater:T,accessors:s,selected:Go(f,o),onClick:function(e){return t._select(f,e)},onDoubleClick:function(e){return t._doubleClick(f,e)},isBackgroundEvent:r,onKeyPress:function(e){return t._keyPress(f,e)},resizable:m})}))},t._selectable=function(){var e=Object(A.findDOMNode)(_(t)),n=t._selector=new ts((function(){return Object(A.findDOMNode)(_(t))}),{longPressThreshold:t.props.longPressThreshold}),r=function(e){var n=t.props.onSelecting,r=t.state||{},a=i(e),o=a.startDate,s=a.endDate;n&&(K(r.startDate,o,"minutes")&&K(r.endDate,s,"minutes")||!1===n({start:o,end:s,resourceId:t.props.resource}))||t.state.start===a.start&&t.state.end===a.end&&t.state.selecting===a.selecting||t.setState(a)},i=function(n){var r=t.slotMetrics.closestSlotFromPoint(n,rs(e));t.state.selecting||(t._initialSlot=r);var i=t._initialSlot;ee(i,r)?r=t.slotMetrics.nextSlot(r):$(i,r)&&(i=t.slotMetrics.nextSlot(i));var a=t.slotMetrics.getRange(te(i,r),ne(i,r));return Object(m.a)({},a,{selecting:!0,top:a.top+"%",height:a.height+"%"})},a=function(e,n){if(!Xo(Object(A.findDOMNode)(_(t)),e)){var r=i(e),a=r.startDate,o=r.endDate;t._selectSlot({startDate:a,endDate:o,action:n,box:e})}t.setState({selecting:!1})};n.on("selecting",r),n.on("selectStart",r),n.on("beforeSelect",(function(e){if("ignoreEvents"===t.props.selectable)return!Xo(Object(A.findDOMNode)(_(t)),e)})),n.on("click",(function(e){return a(e,"click")})),n.on("doubleClick",(function(e){return a(e,"doubleClick")})),n.on("select",(function(e){t.state.selecting&&(t._selectSlot(Object(m.a)({},t.state,{action:"select",bounds:e})),t.setState({selecting:!1}))})),n.on("reset",(function(){t.state.selecting&&t.setState({selecting:!1})}))},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var n=e.startDate,r=e.endDate,i=e.action,a=e.bounds,o=e.box,s=n,l=[];ee(s,r);)l.push(s),s=new Date(+s+60*t.props.step*1e3);Ao(t.props.onSelectSlot,{slots:l,start:n,end:r,resourceId:t.props.resource,action:i,bounds:a,box:o})},t._select=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onSelectEvent,n)},t._doubleClick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onDoubleClickEvent,n)},t._keyPress=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onKeyPressEvent,n)},t.slotMetrics=ks(t.props),t}b(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()},n.componentWillUnmount=function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()},n.UNSAFE_componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)},n.componentDidUpdate=function(e,t){var n=!K(e.getNow(),this.props.getNow(),"minutes");if(e.isNow!==this.props.isNow||n){if(this.clearTimeIndicatorInterval(),this.props.isNow){var r=!n&&K(e.date,this.props.date,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(r)}}else!this.props.isNow||K(e.min,this.props.min,"minutes")&&K(e.max,this.props.max,"minutes")||this.positionTimeIndicator()},n.setTimeIndicatorPositionUpdateInterval=function(e){var t=this;void 0===e&&(e=!1),this.intervalTriggered||e||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){t.intervalTriggered=!0,t.positionTimeIndicator(),t.setTimeIndicatorPositionUpdateInterval()}),6e4)},n.clearTimeIndicatorInterval=function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)},n.positionTimeIndicator=function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var i=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:i})}else this.clearTimeIndicatorInterval()},n.render=function(){var e=this.props,t=e.date,n=e.max,r=e.rtl,i=e.isNow,a=e.resource,o=e.accessors,s=e.localizer,l=e.getters,u=l.dayProp,d=Object(v.a)(l,["dayProp"]),f=e.components,h=f.eventContainerWrapper,p=Object(v.a)(f,["eventContainerWrapper"]),m=this.slotMetrics,g=this.state,b=g.selecting,C=g.top,y=g.height,S={start:g.startDate,end:g.endDate},w=u(n),T=w.className,I=w.style,O=p.dayColumnWrapper||Fs;return c.a.createElement(O,{date:t,style:I,className:Object(M.a)(T,"rbc-day-slot","rbc-time-column",i&&"rbc-now",i&&"rbc-today",b&&"rbc-slot-selecting")},m.groups.map((function(e,t){return c.a.createElement(Ns,{key:t,group:e,resource:a,getters:d,components:p})})),c.a.createElement(h,{localizer:s,resource:a,accessors:o,getters:d,components:p,slotMetrics:m},c.a.createElement("div",{className:Object(M.a)("rbc-events-container",r&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&c.a.createElement("div",{className:"rbc-slot-selection",style:{top:C,height:y}},c.a.createElement("span",null,s.format(S,"selectRangeFormat"))),i&&this.intervalTriggered&&c.a.createElement("div",{className:"rbc-current-time-indicator",style:{top:this.state.timeIndicatorPosition+"%"}}))},t}(c.a.Component);Ws.propTypes={},Ws.defaultProps={dragThroughEvents:!0,timeslots:2};var Vs=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).renderSlot=function(e,n){if(0!==n)return null;var r=t.props,i=r.localizer,a=r.getNow,o=t.slotMetrics.dateIsInGroup(a(),n);return c.a.createElement("span",{className:Object(M.a)("rbc-label",o&&"rbc-now")},i.format(e,"timeGutterFormat"))};var a=t.props,o=a.min,s=a.max,l=a.timeslots,u=a.step;return t.slotMetrics=ks({min:o,max:s,timeslots:l,step:u}),t}b(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=e.min,n=e.max,r=e.timeslots,i=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:n,timeslots:r,step:i})},n.render=function(){var e=this,t=this.props,n=t.resource,r=t.components,i=t.getters;return c.a.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map((function(t,a){return c.a.createElement(Ns,{key:a,group:t,resource:n,components:r,renderSlot:e.renderSlot,getters:i})})))},t}(l.Component);Vs.propTypes={};var Bs=function(e){var t=e.label;return c.a.createElement(c.a.Fragment,null,t)};Bs.propTypes={};var zs=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleHeaderClick=function(e,n,r){r.preventDefault(),Ao(t.props.onDrillDown,[e,n])},t.renderRow=function(e){var n=t.props,r=n.events,i=n.rtl,a=n.selectable,o=n.getNow,s=n.range,l=n.getters,u=n.localizer,d=n.accessors,f=n.components,h=n.resizable,p=d.resourceId(e),m=e?r.filter((function(e){return d.resource(e)===p})):r;return c.a.createElement(Ss,{isAllDay:!0,rtl:i,getNow:o,minRows:2,range:s,events:m,resourceId:p,className:"rbc-allday-cell",selectable:a,selected:t.props.selected,components:f,accessors:d,getters:l,localizer:u,onSelect:t.props.onSelectEvent,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:h})},t}b(t,e);var n=t.prototype;return n.renderHeaderCells=function(e){var t=this,n=this.props,r=n.localizer,i=n.getDrilldownView,a=n.getNow,o=n.getters.dayProp,s=n.components.header,l=void 0===s?ws:s,u=a();return e.map((function(e,n){var a=i(e),s=r.format(e,"dayFormat"),d=o(e),f=d.className,h=d.style,p=c.a.createElement(l,{date:e,label:s,localizer:r});return c.a.createElement("div",{key:n,style:h,className:Object(M.a)("rbc-header",f,K(e,u,"day")&&"rbc-today")},a?c.a.createElement("a",{href:"#",onClick:function(n){return t.handleHeaderClick(e,a,n)}},p):c.a.createElement("span",null,p))}))},n.render=function(){var e=this,t=this.props,n=t.width,r=t.rtl,i=t.resources,a=t.range,o=t.events,s=t.getNow,l=t.accessors,u=t.selectable,d=t.components,f=t.getters,h=t.scrollRef,p=t.localizer,m=t.isOverflowing,v=t.components,g=v.timeGutterHeader,b=v.resourceHeader,C=void 0===b?Bs:b,y=t.resizable,S={};m&&(S[r?"marginLeft":"marginRight"]=ya()+"px");var w=i.groupEvents(o);return c.a.createElement("div",{style:S,ref:h,className:Object(M.a)("rbc-time-header",m&&"rbc-overflowing")},c.a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},g&&c.a.createElement(g,null)),i.map((function(t,n){var i=t[0],o=t[1];return c.a.createElement("div",{className:"rbc-time-header-content",key:i||n},o&&c.a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_"+n},c.a.createElement("div",{className:"rbc-header"},c.a.createElement(C,{index:n,label:l.resourceTitle(o),resource:o}))),c.a.createElement("div",{className:"rbc-row rbc-time-header-cell"+(a.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(a)),c.a.createElement(Ss,{isAllDay:!0,rtl:r,getNow:s,minRows:2,range:a,events:w.get(i)||[],resourceId:o&&i,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:d,accessors:l,getters:f,localizer:p,onSelect:e.props.onSelectEvent,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:y}))})))},t}(c.a.Component);zs.propTypes={};var Hs={};var qs=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){ot(n.rafHandle),n.rafHandle=st(n.checkOverflow)},n.gutterRef=function(e){n.gutter=e&&Object(A.findDOMNode)(e)},n.handleSelectAlldayEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Ao(n.props.onSelectEvent,t)},n.handleSelectAllDaySlot=function(e,t){var r=n.props.onSelectSlot,i=new Date(e[0]),a=new Date(e[e.length-1]);a.setDate(e[e.length-1].getDate()+1),Ao(r,{slots:e,start:i,end:a,action:t.action,resourceId:t.resourceId})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current,t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},(function(){n._updatingOverflow=!1})))}},n.memoizedResources=Object(Zi.a)((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,r){return n([t.resourceId(e),e],r)})):[n([Hs,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||Hs,i=r.get(n)||[];i.push(e),r.set(n,i)})),r):(r.set(Hs,n),r)}}}(e,t)})),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=c.a.createRef(),n.contentRef=c.a.createRef(),n._scrollRatio=null,n}b(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this.calculateScroll()},n.componentDidMount=function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),ot(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)},n.componentDidUpdate=function(){null==this.props.width&&this.measureGutter(),this.applyScroll()},n.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.range,r=t.scrollToTime;K(e.range[0],n[0],"minute")&&K(e.scrollToTime,r,"minute")||this.calculateScroll(e)},n.renderEvents=function(e,t,n,r){var i=this,a=this.props,o=a.min,s=a.max,l=a.components,u=a.accessors,d=a.localizer,f=a.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,u),p=h.groupEvents(t),v=h.groupEvents(n);return h.map((function(t,n){var a=t[0],h=t[1];return e.map((function(e,t){var g=(p.get(a)||[]).filter((function(t){return re(e,u.start(t),u.end(t),"day")})),b=(v.get(a)||[]).filter((function(t){return re(e,u.start(t),u.end(t),"day")}));return c.a.createElement(Ws,Object(m.a)({},i.props,{localizer:d,min:Bo(e,o),max:Bo(e,s),resource:h&&a,components:l,isNow:K(e,r,"day"),key:n+"-"+t,date:e,events:g,backgroundEvents:b,dayLayoutAlgorithm:f}))}))}))},n.render=function(){var e=this.props,t=e.events,n=e.backgroundEvents,r=e.range,i=e.width,a=e.rtl,o=e.selected,s=e.getNow,l=e.resources,u=e.components,d=e.accessors,f=e.getters,h=e.localizer,p=e.min,m=e.max,v=e.showMultiDayTimes,g=e.longPressThreshold,b=e.resizable;i=i||this.state.gutterWidth;var C=r[0],y=r[r.length-1];this.slots=r.length;var S=[],w=[],T=[];return t.forEach((function(e){if(fs(e,C,y,d)){var t=d.start(e),n=d.end(e);d.allDay(e)||zo(t)&&zo(n)||!v&&!K(t,n,"day")?S.push(e):w.push(e)}})),n.forEach((function(e){fs(e,C,y,d)&&T.push(e)})),S.sort((function(e,t){return ps(e,t,d)})),c.a.createElement("div",{className:Object(M.a)("rbc-time-view",l&&"rbc-time-view-resources")},c.a.createElement(zs,{range:r,events:S,width:i,rtl:a,getNow:s,localizer:h,selected:o,resources:this.memoizedResources(l,d),selectable:this.props.selectable,accessors:d,getters:f,components:u,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b}),c.a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},c.a.createElement(Vs,{date:C,ref:this.gutterRef,localizer:h,min:Bo(C,p),max:Bo(C,m),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:u,className:"rbc-time-gutter",getters:f}),this.renderEvents(r,w,T,s())))},n.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},n.measureGutter=function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t=Ca(e.gutter);t&&e.state.gutterWidth!==t&&e.setState({gutterWidth:t})}))},n.applyScroll=function(){if(null!=this._scrollRatio){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}},n.calculateScroll=function(e){void 0===e&&(e=this.props);var t=e,n=t.min,r=t.max,i=t.scrollToTime,a=i-Y(i,"day"),o=Ho(r,n);this._scrollRatio=a/o},t}(l.Component);qs.propTypes={},qs.defaultProps={step:30,timeslots:2,min:Y(new Date,"day"),max:Z(new Date,"day"),scrollToTime:Y(new Date,"day")};var Gs=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,n=e.date,r=Object(v.a)(e,["date"]),i=t.range(n);return c.a.createElement(qs,Object(m.a)({},r,{range:i,eventOffset:10}))},t}(c.a.Component);Gs.propTypes={},Gs.range=function(e){return[Y(e,"day")]},Gs.navigate=function(e,t){switch(t){case Oo:return G(e,-1,"day");case Eo:return G(e,1,"day");default:return e}},Gs.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var Js=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,n=e.date,r=Object(v.a)(e,["date"]),i=t.range(n,this.props);return c.a.createElement(qs,Object(m.a)({},r,{range:i,eventOffset:15}))},t}(c.a.Component);function Ys(e,t){return Js.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}Js.propTypes={},Js.defaultProps=qs.defaultProps,Js.navigate=function(e,t){switch(t){case Oo:return G(e,-1,"week");case Eo:return G(e,1,"week");default:return e}},Js.range=function(e,t){var n=t.localizer.startOfWeek();return Vo(Y(e,"week",n),Z(e,"week",n))},Js.title=function(e,t){var n=t.localizer,r=Js.range(e,{localizer:n}),i=r[0],a=r.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")};var Zs,Ks=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=Object(v.a)(e,["date"]),r=Ys(t,this.props);return c.a.createElement(qs,Object(m.a)({},n,{range:r,eventOffset:15}))},t}(c.a.Component);function $s(e){var t=e.selected,n=e.getters,r=e.accessors,i=e.localizer,a=e.components,o=e.length,s=e.date,u=e.events,d=Object(l.useRef)(null),f=Object(l.useRef)(null),h=Object(l.useRef)(null),p=Object(l.useRef)(null),m=Object(l.useRef)(null);Object(l.useEffect)((function(){g()}));var v=function(e,t){var n="",o=a.time,s=i.messages.allDay,l=r.end(t),u=r.start(t);return r.allDay(t)||(K(u,l)?s=i.format(u,"agendaTimeFormat"):K(u,l,"day")?s=i.format({start:u,end:l},"agendaTimeRangeFormat"):K(e,u,"day")?s=i.format(u,"agendaTimeFormat"):K(e,l,"day")&&(s=i.format(l,"agendaTimeFormat"))),$(e,u,"day")&&(n="rbc-continues-prior"),X(e,l,"day")&&(n+=" rbc-continues-after"),c.a.createElement("span",{className:n.trim()},o?c.a.createElement(o,{event:t,day:e,label:s}):s)},g=function(){if(m.current){var e=d.current,t=m.current.firstChild;if(t){var n,r,i=p.current.scrollHeight>p.current.clientHeight,a=[],o=a;a=[Ca(t.children[0]),Ca(t.children[1])],o[0]===a[0]&&o[1]===a[1]||(f.current.style.width=a[0]+"px",h.current.style.width=a[1]+"px"),i?(r="rbc-header-overflowing",(n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),e.style.marginRight=ya()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Sa(e.className,t):e.setAttribute("class",Sa(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},b=i.messages,C=G(s,o,"day"),y=Vo(s,C,"day");return(u=u.filter((function(e){return fs(e,Y(s,"day"),Z(C,"day"),r)}))).sort((function(e,t){return+r.start(e)-+r.start(t)})),c.a.createElement("div",{className:"rbc-agenda-view"},0!==u.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("table",{ref:d,className:"rbc-agenda-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"rbc-header",ref:f},b.date),c.a.createElement("th",{className:"rbc-header",ref:h},b.time),c.a.createElement("th",{className:"rbc-header"},b.event)))),c.a.createElement("div",{className:"rbc-agenda-content",ref:p},c.a.createElement("table",{className:"rbc-agenda-table"},c.a.createElement("tbody",{ref:m},y.map((function(e,o){return function(e,o,s){var l=a.event,u=a.date;return(o=o.filter((function(t){return fs(t,Y(e,"day"),Z(e,"day"),r)}))).map((function(a,d){var f=r.title(a),h=r.end(a),p=r.start(a),m=n.eventProp(a,p,h,Go(a,t)),g=0===d&&i.format(e,"agendaDateFormat"),b=0===d&&c.a.createElement("td",{rowSpan:o.length,className:"rbc-agenda-date-cell"},u?c.a.createElement(u,{day:e,label:g}):g);return c.a.createElement("tr",{key:s+"_"+d,className:m.className,style:m.style},b,c.a.createElement("td",{className:"rbc-agenda-time-cell"},v(e,a)),c.a.createElement("td",{className:"rbc-agenda-event-cell"},l?c.a.createElement(l,{event:a,title:f}):f))}),[])}(e,u,o)})))))):c.a.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}Ks.propTypes={},Ks.defaultProps=qs.defaultProps,Ks.range=Ys,Ks.navigate=Js.navigate,Ks.title=function(e,t){var n=t.localizer,r=Ys(e,{localizer:n}),i=r[0],a=r.slice(1);return n.format({start:i,end:a.pop()},"dayRangeHeaderFormat")},$s.propTypes={},$s.defaultProps={length:30},$s.range=function(e,t){var n=t.length;return{start:e,end:G(e,void 0===n?$s.defaultProps.length:n,"day")}},$s.navigate=function(e,t,n){var r=n.length,i=void 0===r?$s.defaultProps.length:r;switch(t){case Oo:return G(e,-i,"day");case Eo:return G(e,i,"day");default:return e}},$s.title=function(e,t){var n=t.length,r=void 0===n?$s.defaultProps.length:n,i=t.localizer,a=G(e,r,"day");return i.format({start:e,end:a},"agendaHeaderFormat")};var Qs=((Zs={})[Mo.MONTH]=Os,Zs[Mo.WEEK]=Js,Zs[Mo.WORK_WEEK]=Ks,Zs[Mo.DAY]=Gs,Zs[Mo.AGENDA]=$s,Zs);function Xs(e,t){var n=t.action,r=t.date,i=t.today,a=Object(v.a)(t,["action","date","today"]);switch(e="string"===typeof e?Qs[e]:e,n){case Ro:r=i||new Date;break;case ko:break;default:e&&"function"===typeof e.navigate||w()(!1),r=e.navigate(r,n,a)}return r}var el=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}b(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.localizer.messages,n=e.label;return c.a.createElement("div",{className:"rbc-toolbar"},c.a.createElement("span",{className:"rbc-btn-group"},c.a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ro)},t.today),c.a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Oo)},t.previous),c.a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Eo)},t.next)),c.a.createElement("span",{className:"rbc-toolbar-label"},n),c.a.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))},n.viewNamesGroup=function(e){var t=this,n=this.props.views,r=this.props.view;if(n.length>1)return n.map((function(n){return c.a.createElement("button",{type:"button",key:n,className:Object(M.a)({"rbc-active":r===n}),onClick:t.view.bind(null,n)},e[n])}))},t}(c.a.Component);el.propTypes={};var tl=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===typeof e&&null!=e&&t in e&&(n=e[t]),n}(t,e)}};function nl(e){return Array.isArray(e)?e:Object.keys(e)}function rl(e,t){return-1!==nl(t.views).indexOf(e)}var il=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).getViews=function(){var e=t.props.views;return Array.isArray(e)?wo(e,(function(e,t){return e[t]=Qs[t]}),{}):"object"===typeof e?To(e,(function(e,t){return!0===e?Qs[t]:e})):Qs},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var n=t.props,r=n.view,i=n.drilldownView,a=n.getDrilldownView;return a?a(e,r,Object.keys(t.getViews())):i},t.handleRangeChange=function(e,n,r){var i=t.props,a=i.onRangeChange,o=i.localizer;a&&n.range&&a(n.range(e,{localizer:o}),r)},t.handleNavigate=function(e,n){var r=t.props,i=r.view,a=r.date,o=r.getNow,s=r.onNavigate,l=Object(v.a)(r,["view","date","getNow","onNavigate"]),c=t.getView(),u=o();s(a=Xs(c,Object(m.a)({},l,{action:e,date:n||a||u,today:u})),i,e),t.handleRangeChange(a,c)},t.handleViewChange=function(e){e!==t.props.view&&rl(e,t.props)&&t.props.onView(e);var n=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),n[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Ao(t.props.onKeyPressEvent,n)},t.handleSelectSlot=function(e){Ao(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,n){var r=t.props.onDrillDown;r?r(e,n,t.drilldownView):(n&&t.handleViewChange(n),t.handleNavigate(ko,e))},t.state={context:t.getContext(t.props)},t}b(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.setState({context:this.getContext(e)})},n.getContext=function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,i=e.tooltipAccessor,a=e.titleAccessor,o=e.resourceAccessor,s=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventPropGetter,u=e.backgroundEventPropGetter,d=e.slotPropGetter,f=e.slotGroupPropGetter,h=e.dayPropGetter,p=e.view,v=e.views,g=e.localizer,b=e.culture,C=e.messages,y=void 0===C?{}:C,S=e.components,w=void 0===S?{}:S,T=e.formats,I=void 0===T?{}:T,O=nl(v);return{viewNames:O,localizer:Po(g,b,I,function(e){return Object(m.a)({},No,e)}(y)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return d&&d.apply(void 0,arguments)||{}},slotGroupProp:function(){return f&&f.apply(void 0,arguments)||{}},dayProp:function(){return h&&h.apply(void 0,arguments)||{}}},components:So(w[p]||{},bo(w,O),{eventWrapper:Io,backgroundEventWrapper:Io,eventContainerWrapper:Io,dateCellWrapper:Io,weekWrapper:Io,timeSlotWrapper:Io}),accessors:{start:tl(t),end:tl(n),allDay:tl(r),tooltip:tl(i),title:tl(a),resource:tl(o),resourceId:tl(s),resourceTitle:tl(l)}}},n.render=function(){var e=this.props,t=e.view,n=e.toolbar,r=e.events,i=e.backgroundEvents,a=void 0===i?[]:i,o=e.style,s=e.className,l=e.elementProps,u=e.date,d=e.getNow,f=e.length,h=e.showMultiDayTimes,p=e.onShowMore,g=e.doShowMoreDrillDown,b=(e.components,e.formats,e.messages,e.culture,Object(v.a)(e,["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"]));u=u||d();var C=this.getView(),y=this.state.context,S=y.accessors,w=y.components,T=y.getters,I=y.localizer,O=y.viewNames,E=w.toolbar||el,R=C.title(u,{localizer:I,length:f});return c.a.createElement("div",Object(m.a)({},l,{className:Object(M.a)(s,"rbc-calendar",b.rtl&&"rbc-rtl"),style:o}),n&&c.a.createElement(E,{date:u,view:t,views:O,label:R,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:I}),c.a.createElement(C,Object(m.a)({},b,{events:r,backgroundEvents:a,date:u,getNow:d,length:f,localizer:I,getters:T,components:w,accessors:S,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:g})))},t}(c.a.Component);il.defaultProps={elementProps:{},popup:!1,toolbar:!0,view:Mo.MONTH,views:[Mo.MONTH,Mo.WEEK,Mo.DAY,Mo.AGENDA],step:30,length:30,doShowMoreDrillDown:!0,drilldownView:Mo.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"},il.propTypes={};var al=function e(t,n,r){void 0===r&&(r=[]);var i,a=t.displayName||t.name||"Component",o=!!(i=t)&&("function"!==typeof i||i.prototype&&i.prototype.isReactComponent),s=Object.keys(n),l=s.map(O);!o&&r.length&&w()(!1);var u=function(e){function i(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).handlers=Object.create(null),s.forEach((function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var i;t._notifying=!0;for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];(i=t.props)[r].apply(i,[n].concat(o)),t._notifying=!1}t.unmounted||t.setState((function(t){var r,i=t.values;return{values:Object(m.a)(Object.create(null),i,(r={},r[e]=n,r))}}))}})),r.length&&(t.attachRef=function(e){t.inner=e});var l=Object.create(null);return s.forEach((function(e){l[e]=t.props[O(e)]})),t.state={values:l,prevProps:{}},t}b(i,e);var a=i.prototype;return a.shouldComponentUpdate=function(){return!this._notifying},i.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,i={values:Object(m.a)(Object.create(null),n),prevProps:{}};return s.forEach((function(t){i.prevProps[t]=e[t],!I(e,t)&&I(r,t)&&(i.values[t]=e[O(t)])})),i},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var e=this,n=this.props,r=n.innerRef,i=Object(v.a)(n,["innerRef"]);l.forEach((function(e){delete i[e]}));var a={};return s.forEach((function(t){var n=e.props[t];a[t]=void 0!==n?n:e.state.values[t]})),c.a.createElement(t,Object(m.a)({},i,a,this.handlers,{ref:r||this.attachRef}))},i}(c.a.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var a=e.displayName||e.name,o="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+a+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=E,t.componentWillReceiveProps=R),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=k;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(u),u.displayName="Uncontrolled("+a+")",u.propTypes=Object(m.a)({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[O(e)]=T})),n}(n)),r.forEach((function(e){u.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var d=u;return c.a.forwardRef&&((d=c.a.forwardRef((function(e,t){return c.a.createElement(u,Object(m.a)({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=u.propTypes),d.ControlledComponent=t,d.deferControlTo=function(t,r,i){return void 0===r&&(r={}),e(t,Object(m.a)({},n,r),i)},d}(il,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});var ol,sl,ll,cl,ul,dl,fl,hl,pl,ml,vl,gl,bl=function(e,t,n){var r=e.start,i=e.end;return n.format(r,"p",t)+" \u2013 "+n.format(i,"p",t)},Cl={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"cccc",selectRangeFormat:bl,eventTimeRangeFormat:bl,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return n.format(r,"h:mma",t)+" \u2013 "},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 "+n.format(r,"h:mma",t)},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return n.format(r,"MMMM dd",t)+" \u2013 "+n.format(i,K(r,i,"month")?"dd":"MMMM dd",t)},agendaHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return n.format(r,"P",t)+" \u2013 "+n.format(i,"P",t)},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:bl},yl=n(291),Sl=n(191),wl=n(185),Tl=n(190),Il=(n(234),n(1)),Ol=n(29),El=n(22),Rl=n(3),kl=Il.d.input(ol||(ol=Object(p.a)(["\n\topacity: 0;\n\theight: 28px;\n\tmargin: 0;\n\twidth: 100%;\n\tdisplay: block;\n\tmargin-top: -28px;\n\tcursor: pointer;\n"]))),Ml=Il.d.div(sl||(sl=Object(p.a)(["\n\ttext-align: center;\n\tfont-size: 14px;\n\tfont-family: ",";\n\tcolor: ",";\n\tbackground: ",";\n\tborder-radius: ",";\n\tz-index: ",";\n\tcursor: pointer;\n\t&::before {\n\t\tcontent: ",";\n\t\tfont-size: 16px;\n\t\tmargin-left: -5px;\n\t\tfloat: left;\n\t\tz-index: 0;\n\t\tcolor: ",";\n\t}\n\t&:first-of-type {\n\t\tborder-top-left-radius: 15px;\n\t\tborder-bottom-left-radius: 15px;\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t}\n\t}\n\t&:last-of-type {\n\t\tborder-top-right-radius: 15px;\n\t\tborder-bottom-right-radius: 15px;\n\t}\n"])),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.selected?function(e){var t=e.theme;return t.inputScale[t.themeVariant].selectedTextColor}:function(e){var t=e.theme;return t.inputScale[t.themeVariant].textColor}}),(function(e){return e.selected?function(e){var t=e.theme;return t.inputScale[t.themeVariant].selectedBackgroundColor}:function(e){var t=e.theme;return t.inputScale[t.themeVariant].backgroundColor}}),(function(e){return e.selected?"15px":0}),(function(e){return e.selected?1:0}),(function(e){return e.selected?"":"'|'"}),(function(e){var t=e.theme;return t.inputScale[t.themeVariant].separator})),_l=Il.d.div(ll||(ll=Object(p.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\twidth: calc(100% - 4px);\n\tborder-radius: 16px;\n\tborder: 2px solid ",";\n\theight: 28px;\n\t"," {\n\t\twidth: ",";\n\t\theight: 28px;\n\t\tline-height: 28px;\n\t\tlabel {\n\t\t\tmargin: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 28px;\n\t\t}\n\t}\n"])),(function(e){var t=e.theme;return t.inputScale[t.themeVariant].borderColor}),Ml,(function(e){return 100/e.row+"%"})),Al=function(e){var t=e.value,n=e.values,r=e.id,i=e.name,a=e.ariaLabel,o=e.onChange,s=void 0===o?function(){return null}:o;return c.a.createElement(Rl.a,null,c.a.createElement(_l,{"aria-label":a,id:r,row:n.length},n.map((function(e,n){return c.a.createElement(Ml,{key:n,selected:e.value===t},c.a.createElement("label",null,e.label),c.a.createElement(kl,{type:"radio",name:i,checked:e.value===t,value:e.value,onChange:function(e){s(e)}}))}))))},xl=n(35),Dl=n(123),jl=n(5),Pl=Il.d.svg(cl||(cl=Object(p.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Nl=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(jl.a)(e,t)};return c.a.createElement(Rl.b.Consumer,null,(function(e){return c.a.createElement(Il.a,{theme:e.theme},c.a.createElement(Pl,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("title",null,l||"ChevronRight"),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m11.188 4 12 12-12 12-2.376-2.375L18.376 16 8.812 6.375 11.188 4Z",fill:p(a,e.theme)}),n))}))},Ll={today:"Today",previous:"Back",next:"Next",month:"Month",week:"Week",day:"Day",agenda:"Agenda"},Ul=Il.d.div(ul||(ul=Object(p.a)(["\n\tfont-family: ",";\n\twidth: ",";\n\n\tcolor: ",";\n\n\t.rbc-header {\n\t\theight: 62px;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\t.rbc-allday-cell {\n\t\theight: auto;\n\t}\n\t.rbc-today {\n\t\tbackground-color: ",";\n\t}\n\n\t.rbc-timeslot-group {\n\t\tborder: 0.5 px solid ",";\n\t}\n\t.rbc-time-slot {\n\t\tborder-bottom: 1px solid ",";\n\t\tborder-top: none;\n\t}\n\t.rbc-time-gutter {\n\t\t.rbc-time-slot {\n\t\t\tborder: none;\n\t\t}\n\t}\n\t.rbc-current-time-indicator {\n\t\tbackground-color: ",";\n\t}\n\t.rbc-agenda-table thead {\n\t\tdisplay: none;\n\t}\n"])),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.layout&&"fluid"===e.layout?"100%":"auto"}),(function(e){var t=e.theme;return t.calendar[t.themeVariant].color}),(function(e){var t=e.theme;return t.calendar[t.themeVariant].backgroundColorToday}),(function(e){var t=e.theme;return t.calendar[t.themeVariant].gridBorderDay}),(function(e){var t=e.theme;return t.calendar[t.themeVariant].gridBorderSlot}),(function(e){var t=e.theme;return t.calendar[t.themeVariant].backgroundColorCurrentTime})),Fl=Il.d.div(dl||(dl=Object(p.a)(["\n\tpadding: 10px 0 10px 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]))),Wl=Il.d.div(fl||(fl=Object(p.a)(["\n\tdisplay: flex;\n\tspan {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n"]))),Vl=Il.d.div(hl||(hl=Object(p.a)(["\n\twidth: 50%;\n\tdiv {\n\t\theight: 32px;\n\t}\n"]))),Bl=function(e,t,n,r,i){var a=Object.assign(Object.assign({},Ll),t),s=Object(l.useState)(n),u=Object(o.a)(s,2),d=u[0],p=u[1],m=[{label:"".concat(a.day),value:"day"},{label:"".concat(a.week),value:"week"},{label:"".concat(a.month),value:"month"},{label:"".concat(a.agenda),value:"agenda"}],v=function(e,t){var n=t||new Date,i=e.startOfWeek(r),a=Object(f.a)(n,{weekStartsOn:i});return new Date(a)},g=function(e,t){var n=t||new Date,i=e.startOfWeek(r),a=Object(h.a)(n,{weekStartsOn:i});return new Date(a)};return c.a.createElement(Fl,null,c.a.createElement(Wl,null,c.a.createElement(El.a,{onClick:function(){var t=new Date;e.date.setMonth(t.getMonth()),e.date.setYear(t.getFullYear()),e.onNavigate("current",t)},use:"infoPrimary",ariaLabel:"today",size:"medium"},t.today),c.a.createElement(El.a,{ariaLabel:"previous",onClick:function(){"day"===n?e.onNavigate("next",function(e){var t=e.getDate(),n=e.setDate(t-1);return new Date(n)}(e.date)):"week"===n?e.onNavigate("next",function(e,t){var n=t.getDate(),r=t.getDay(),i=t.setDate(n-(r-e+7));return new Date(i)}(i.startOfWeek(r),e.date)):e.onNavigate("next",function(e){var t=e.setMonth(e.getMonth()-1);return new Date(t)}(e.date))},use:"link",withIconStart:c.a.createElement(Dl.a,null)}),c.a.createElement(El.a,{ariaLabel:"next",onClick:function(){"day"===n?e.onNavigate("next",function(e){var t=e.getDate(),n=e.setDate(t+1);return new Date(n)}(e.date)):"week"===n?e.onNavigate("next",function(e,t){var n=t.getDate(),r=t.getDay(),i=t.setDate(n+(7-r+e));return new Date(i)}(i.startOfWeek(r),e.date)):e.onNavigate("next",function(e){var t=e.setMonth(e.getMonth()+1);return new Date(t)}(e.date))},use:"link",withIconStart:c.a.createElement(Nl,null)}),function(t,r){switch(n){case"week":return c.a.createElement("span",null,r.format(v(r,e.date),"dd MMMM yyyy",t)," ","-"," ",r.format(g(r,e.date),"dd MMMM yyyy",t));case"month":return c.a.createElement("span",null,r.format(e.date,"MMMM yyyy",t));default:case"day":return c.a.createElement("span",null,r.format(e.date,"eeee dd MMMM yyyy",t))}}(r,i)),c.a.createElement(Vl,null,c.a.createElement(Al,{value:d,onChange:function(t){var n=t.target.value;p(n),e.onView(n)},values:m})))},zl=Il.d.div(pl||(pl=Object(p.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n"]))),Hl=Il.d.div(ml||(ml=Object(p.a)(["\n\tfont-weight: 500;\n\tfont-size: ",";\n\tcolor: ",";\n"])),(function(e){return e.theme.fontSize.xs}),(function(e){return e.isToday&&e.theme.calendar[e.theme.themeVariant].colorToday})),ql=Il.d.div(vl||(vl=Object(p.a)(["\n\tfont-weight: 300;\n\theight: 36px;\n\twidth: 36px;\n\tline-height: 36px;\n\tfont-size: ",";\n\n\tbackground: ",";\n\tborder-radius: ",";\n\n\tcolor: ",";\n"])),(function(e){return e.theme.fontSize.xl}),(function(e){return e.isToday&&e.theme.calendar[e.theme.themeVariant].backgroundColorTodayBubble}),(function(e){return e.isToday&&"50%"}),(function(e){return e.isToday&&e.theme.calendar[e.theme.themeVariant].colorTodayNumber})),Gl=Il.d.span(gl||(gl=Object(p.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.theme;return t.calendar[t.themeVariant].textColor})),Jl=function(e){var t=e.event,n="".concat(t.title," ").concat(t.resource?": "+t.resource:"");return c.a.createElement(xl.a,{content:n},c.a.createElement(Gl,null,c.a.createElement(Ol.a,{isBold:!0,color:"white"},t.title),t.resource&&t.resource,t.desc&&":  "+t.desc))},Yl=function(e){var t=e.selectable,n=void 0!==t&&t,r=e.eventsList,i=e.handleSelectSlot,a=e.handleSelectEvent,s=e.handleView,u=e.handleNavigate,d=e.defaultView,h=void 0===d?"week":d,p=e.timeslots,m=void 0===p?2:p,v=e.step,g=void 0===v?30:v,b=e.culture,C=void 0===b?"en":b,y=e.locale,S=e.labels,w=void 0===S?Ll:S,T=e.styleCustom,I=Object.assign(Object.assign({},T),{height:500}),O=Object(l.useState)(h),E=Object(o.a)(O,2),R=E[0],k=E[1],M={dateFormat:"dd",weekdayFormat:function(e,t,n){return n.format(e,"eeee",t)},dayFormat:function(e,t,n){return function(e,t,n){var r=n.format(e,"eeee",t),i=n.format(e,"dd",t);return"".concat(r," ").concat(i)}(e,t,n)}},_={};_[C]=y;var A=function(e){var t=e.startOfWeek,n=e.getDay,r=e.format,i=e.locales;return new jo({formats:Cl,firstOfWeek:function(e){return n(t(new Date,{locale:i[e]}))},format:function(e,t,n){return r(new Date(e),t,{locale:i[n]})}})}({locales:_,format:Sl.a,parse:Tl.a,startOfWeek:f.a,getDay:wl.a});return c.a.createElement(Rl.a,null,c.a.createElement(Ul,null,c.a.createElement(al,{selectable:n,localizer:A,events:r,startAccessor:"start",endAccessor:"end",step:g,timeslots:m,style:I,tooltipAccessor:"",onSelectEvent:a,onSelectSlot:i,onView:function(e){return function(e){k(e),e&&s&&s(e)}(e)},onNavigate:function(e,t){return function(e,t){e&&t&&u&&u(e,t)}(e,t)},view:R,culture:C,messages:w,formats:M,min:new Date(0,0,0,8,0,0),max:new Date(0,0,0,22,0,0),components:{toolbar:function(e){return Bl(e,w,R,C,A)},week:{header:function(e){return function(e){var t=Object(yl.a)(new Date(e.date),new Date),n=e.label.split(" ")[0],r=e.label.split(" ")[1];return c.a.createElement(zl,null,c.a.createElement(Hl,{isToday:t},n),c.a.createElement(ql,{isToday:t},r))}(e)}},event:Jl}})))},Zl=function(e){var t,n=e.requestDomain,r=e.serviceKey,u=e.bearerToken,p=e.handleSelectEvent,m=e.handleSelectSlot,v=e.handleView,g=e.onFetchError,b=e.culture,C=void 0===b?"en":b,y=e.locale,S=e.defaultView,w=void 0===S?"month":S,T=e.startDayOfWeek,I=void 0===T?0:T,O=e.labels,E=e.styleCustom,R=e.layout,k=e.timeslots,M=e.userId,_=Object(l.useState)([]),A=Object(o.a)(_,2),x=A[0],D=A[1],j={Authorization:"Bearer "+u},P=function(e){return Object(s.a)(void 0,void 0,void 0,i.a.mark((function o(){var s,l,c,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=[],l={params:e,headers:j},"undefined"!==typeof M&&(l.params.user=M),"undefined"!==typeof r&&(l.params.service_key=r),c=function(e){return void 0!==e&&(l.params.offset=e),new Promise((function(e,t){d.a.get("".concat(n,"/api/conferences"),l).then((function(t){var n,r,i;if((null===(n=t.data)||void 0===n?void 0:n.total)>0){var o=t.data.data.map((function(e){return{id:e.id,title:e.name,start:new Date(e.start_time),end:new Date(e.end_time),resource:e.contacts?e.contacts:null}}));s=[].concat(Object(a.a)(s),Object(a.a)(o)),e({status:"success",total:null===(r=t.data)||void 0===r?void 0:r.total,offset:null===(i=t.data)||void 0===i?void 0:i.next_offset})}})).catch((function(e){g&&g(e),t({status:"Error: ".concat(e),total:0,offset:0})}))}))},u=function e(n){return c(n).then((function(n){return n.total?n.offset>0&&n.offset<n.total?e(n.offset):(t=setTimeout((function(){e(0)}),6e4),D(s),Promise.resolve(!0)):(t=setTimeout((function(){e(0)}),6e4),Promise.resolve(!1))}))},!t){i.next=10;break}return i.abrupt("return",Promise.resolve(!0));case 10:return i.abrupt("return",u());case 11:case"end":return i.stop()}}),o)})))},N=function(e,t){switch(e){case"week":var n=Object(f.a)(t||new Date,{weekStartsOn:I}).toISOString(),r=Object(h.a)(t||new Date).toISOString(),i={since:n.replace(/\.[0-9]{2,3}/,""),until:r.replace(/\.[0-9]{2,3}/,"")};return v&&v("week"),P(i);case"agenda":return v&&v("agenda");case"month":var a=function(e){return new Date(e.getFullYear(),e.getMonth(),1)}(t||new Date).toISOString(),o=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}(t||new Date).toISOString(),s={since:a.replace(/\.[0-9]{2,3}/,""),until:o.replace(/\.[0-9]{2,3}/,"")};return v&&v("month"),P(s);case"day":default:var l=function(e){return new Date(e.setHours(0,0,0,0))}(t||new Date).toISOString(),c=function(e){return new Date(e.setHours(23,59,59,999))}(t||new Date).toISOString(),u={since:l.replace(/\.[0-9]{2,3}/,""),until:c.replace(/\.[0-9]{2,3}/,"")};return v&&v("day"),P(u)}};return Object(l.useEffect)((function(){N(w)}),[]),c.a.createElement(Rl.a,null,c.a.createElement(Yl,{eventsList:x,labels:O,styleCustom:E,selectable:!0,defaultView:w,culture:C,locale:y,layout:R,timeslots:k,handleSelectEvent:p,handleSelectSlot:m,handleView:function(e){return N(e)},handleNavigate:function(e,t){return function(e,t){N(t,e),v&&v("week")}(e,t)}}))}},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(0),o=n.n(a),s=(n(9),n(13)),l=n(250),c=n(10),u=n(16),d=n(12),f=n(28),h=n(154),p=n(8),m=n(139);var v=function(e){return"string"===typeof e},g=n(61),b=n(80),C=n(53),y=n(66),S=n(19),w=n(27),T=n(173),I=T.a;var O=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r};function E(e){return e&&e.ownerDocument||document}function R(e){return E(e).defaultView||window}var k=R,M=n(6),_=["onChange","maxRows","minRows","style","value"];function A(e,t){return parseInt(e[t],10)||0}var x={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},D=a.forwardRef((function(e,t){var n=e.onChange,o=e.maxRows,s=e.minRows,l=void 0===s?1:s,c=e.style,u=e.value,d=Object(i.a)(e,_),f=a.useRef(null!=u).current,h=a.useRef(null),m=Object(w.a)(t,h),v=a.useRef(null),g=a.useRef(0),b=a.useState({}),C=Object(p.a)(b,2),y=C[0],S=C[1],T=a.useCallback((function(){var t=h.current,n=k(t).getComputedStyle(t);if("0px"!==n.width){var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=A(n,"padding-bottom")+A(n,"padding-top"),s=A(n,"border-bottom-width")+A(n,"border-top-width"),c=r.scrollHeight;r.value="x";var u=r.scrollHeight,d=c;l&&(d=Math.max(Number(l)*u,d)),o&&(d=Math.min(Number(o)*u,d));var f=(d=Math.max(d,u))+("border-box"===i?a+s:0),p=Math.abs(d-c)<=1;S((function(e){return g.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==p)?(g.current+=1,{overflow:p,outerHeightStyle:f}):e}))}}),[o,l,e.placeholder]);a.useEffect((function(){var e,t=O((function(){g.current=0,T()})),n=k(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[T]),I((function(){T()})),a.useEffect((function(){g.current=0}),[u]);return Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)("textarea",Object(r.a)({value:u,onChange:function(e){g.current=0,f||T(),n&&n(e)},ref:m,rows:l,style:Object(r.a)({height:y.outerHeightStyle,overflow:y.overflow?"hidden":null},c)},d)),Object(M.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:Object(r.a)({},x,c,{padding:0})})]})})),j=n(294),P=n(73);var N=function(e){return Object(M.jsx)(j.a,Object(r.a)({},e,{defaultTheme:P.a}))},L=n(77),U=n(193),F=n(251);function W(e){return Object(U.a)("MuiInputBase",e)}var V=Object(F.a)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),B=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],z=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Object(S.a)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},H=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},q=Object(c.a)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:z})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({},t.typography.body1,Object(d.a)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(V.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&Object(r.a)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),G=Object(c.a)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:H})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode,o={color:"currentColor",opacity:a?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},s={opacity:"0 !important"},l={opacity:a?.42:.5};return Object(r.a)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},Object(d.a)(t,"label[data-shrink=false] + .".concat(V.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),Object(d.a)(t,"&.".concat(V.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),Object(d.a)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield",WebkitAppearance:"textfield"})})),J=Object(M.jsx)(N,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Y=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiInputBase"}),o=n["aria-describedby"],c=n.autoComplete,d=n.autoFocus,f=n.className,h=n.components,T=void 0===h?{}:h,O=n.componentsProps,E=void 0===O?{}:O,R=n.defaultValue,k=n.disabled,_=n.endAdornment,A=n.fullWidth,x=void 0!==A&&A,j=n.id,P=n.inputComponent,N=void 0===P?"input":P,U=n.inputProps,F=void 0===U?{}:U,V=n.inputRef,z=n.maxRows,H=n.minRows,Y=n.multiline,Z=void 0!==Y&&Y,K=n.name,$=n.onBlur,Q=n.onChange,X=n.onClick,ee=n.onFocus,te=n.onKeyDown,ne=n.onKeyUp,re=n.placeholder,ie=n.readOnly,ae=n.renderSuffix,oe=n.rows,se=n.startAdornment,le=n.type,ce=void 0===le?"text":le,ue=n.value,de=Object(i.a)(n,B),fe=Object(y.a)(),he=null!=F.value?F.value:ue,pe=a.useRef(null!=he).current,me=a.useRef(),ve=a.useCallback((function(e){0}),[]),ge=Object(w.a)(F.ref,ve),be=Object(w.a)(V,ge),Ce=Object(w.a)(me,be),ye=a.useState(!1),Se=Object(p.a)(ye,2),we=Se[0],Te=Se[1],Ie=Object(C.a)();var Oe=Object(g.a)({props:n,muiFormControl:Ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=Ie?Ie.focused:we,a.useEffect((function(){!Ie&&k&&we&&(Te(!1),$&&$())}),[Ie,k,we,$]);var Ee=Ie&&Ie.onFilled,Re=Ie&&Ie.onEmpty,ke=a.useCallback((function(e){Object(L.b)(e)?Ee&&Ee():Re&&Re()}),[Ee,Re]);I((function(){pe&&ke({value:he})}),[he,ke,pe]);a.useEffect((function(){ke(me.current)}),[]);var Me=N,_e=F;Z&&"input"===Me&&(_e=oe?Object(r.a)({type:void 0,minRows:oe,maxRows:oe},_e):Object(r.a)({type:void 0,maxRows:z,minRows:H},_e),Me=D);a.useEffect((function(){Ie&&Ie.setAdornedStart(Boolean(se))}),[Ie,se]);var Ae=Object(r.a)({},n,{color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:_,error:Oe.error,focused:Oe.focused,formControl:Ie,fullWidth:x,hiddenLabel:Oe.hiddenLabel,multiline:Z,size:Oe.size,startAdornment:se,type:ce}),xe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,c=e.fullWidth,u=e.hiddenLabel,d=e.multiline,f=e.size,h=e.startAdornment,p=e.type,m={root:["root","color".concat(Object(S.a)(n)),r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",s&&"formControl","small"===f&&"sizeSmall",d&&"multiline",h&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",d&&"inputMultiline","small"===f&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]};return Object(l.a)(m,W,t)}(Ae),De=T.Root||q,je=E.root||{},Pe=T.Input||G;return _e=Object(r.a)({},_e,E.input),Object(M.jsxs)(a.Fragment,{children:[J,Object(M.jsxs)(De,Object(r.a)({},je,!v(De)&&{ownerState:Object(r.a)({},Ae,je.ownerState),theme:fe},{ref:t,onClick:function(e){me.current&&e.currentTarget===e.target&&me.current.focus(),X&&X(e)}},de,{className:Object(s.a)(xe.root,je.className,f),children:[se,Object(M.jsx)(b.a.Provider,{value:null,children:Object(M.jsx)(Pe,Object(r.a)({ownerState:Ae,"aria-invalid":Oe.error,"aria-describedby":o,autoComplete:c,autoFocus:d,defaultValue:R,disabled:Oe.disabled,id:j,onAnimationStart:function(e){ke("mui-auto-fill-cancel"===e.animationName?me.current:{value:"x"})},name:K,placeholder:re,readOnly:ie,required:Oe.required,rows:oe,value:he,onKeyDown:te,onKeyUp:ne,type:ce},_e,!v(Pe)&&{as:Me,ownerState:Object(r.a)({},Ae,_e.ownerState),theme:fe},{ref:Ce,className:Object(s.a)(xe.input,_e.className,F.className),onBlur:function(e){$&&$(e),F.onBlur&&F.onBlur(e),Ie&&Ie.onBlur?Ie.onBlur(e):Te(!1)},onChange:function(e){if(!pe){var t=e.target||me.current;if(null==t)throw new Error(Object(m.a)(1));ke({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];F.onChange&&F.onChange.apply(F,[e].concat(r)),Q&&Q.apply(void 0,[e].concat(r))},onFocus:function(e){Oe.disabled?e.stopPropagation():(ee&&ee(e),F.onFocus&&F.onFocus(e),Ie&&Ie.onFocus?Ie.onFocus(e):Te(!0))}}))}),_,ae?ae(Object(r.a)({},Oe,{startAdornment:se})):null]}))]})}));function Z(e){return Object(U.a)("MuiInput",e)}var K=Object(F.a)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),$=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Q=Object(c.a)(q,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(f.a)(z(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Object(r.a)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},Object(d.a)(t,"&.".concat(K.focused,":after"),{transform:"scaleX(1)"}),Object(d.a)(t,"&.".concat(K.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),Object(d.a)(t,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Object(d.a)(t,"&:hover:not(.".concat(K.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),Object(d.a)(t,"&.".concat(K.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),X=Object(c.a)(G,{name:"MuiInput",slot:"Input",overridesResolver:H})({}),ee=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiInput"}),a=n.disableUnderline,o=n.components,s=void 0===o?{}:o,c=n.componentsProps,d=n.fullWidth,f=void 0!==d&&d,p=n.inputComponent,m=void 0===p?"input":p,v=n.multiline,g=void 0!==v&&v,b=n.type,C=void 0===b?"text":b,y=Object(i.a)(n,$),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=Object(l.a)(n,Z,t);return Object(r.a)({},t,i)}(n),w={root:{ownerState:{disableUnderline:a}}},T=c?Object(h.a)(c,w):w;return Object(M.jsx)(Y,Object(r.a)({components:Object(r.a)({Root:Q,Input:X},s),componentsProps:T,fullWidth:f,inputComponent:m,multiline:g,ref:t,type:C},y,{classes:S}))}));ee.muiName="Input";var te=ee;function ne(e){return Object(U.a)("MuiFilledInput",e)}var re=Object(F.a)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),ie=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],ae=Object(c.a)(q,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(f.a)(z(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return Object(r.a)((t={position:"relative",backgroundColor:l,borderTopLeftRadius:i.shape.borderRadius,borderTopRightRadius:i.shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:l}}},Object(d.a)(t,"&.".concat(re.focused),{backgroundColor:l}),Object(d.a)(t,"&.".concat(re.disabled),{backgroundColor:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!a.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(i.palette[a.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},Object(d.a)(n,"&.".concat(re.focused,":after"),{transform:"scaleX(1)"}),Object(d.a)(n,"&.".concat(re.error,":after"),{borderBottomColor:i.palette.error.main,transform:"scaleX(1)"}),Object(d.a)(n,"&:before",{borderBottom:"1px solid ".concat(s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Object(d.a)(n,"&:hover:not(.".concat(re.disabled,"):before"),{borderBottom:"1px solid ".concat(i.palette.text.primary)}),Object(d.a)(n,"&.".concat(re.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&Object(r.a)({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),oe=Object(c.a)(G,{name:"MuiFilledInput",slot:"Input",overridesResolver:H})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),se=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiFilledInput"}),a=n.components,o=void 0===a?{}:a,s=n.componentsProps,c=n.fullWidth,d=void 0!==c&&c,f=n.inputComponent,p=void 0===f?"input":f,m=n.multiline,v=void 0!==m&&m,g=n.type,b=void 0===g?"text":g,C=Object(i.a)(n,ie),y=Object(r.a)({},n,{fullWidth:d,inputComponent:p,multiline:v,type:b}),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=Object(l.a)(n,ne,t);return Object(r.a)({},t,i)}(n),w={root:{ownerState:y},input:{ownerState:y}},T=s?Object(h.a)(s,w):w;return Object(M.jsx)(Y,Object(r.a)({components:Object(r.a)({Root:ae,Input:oe},o),componentsProps:T,fullWidth:d,inputComponent:p,multiline:v,ref:t,type:b},C,{classes:S}))}));se.muiName="Input";var le=se,ce=["children","classes","className","label","notched"],ue=Object(c.a)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),de=Object(c.a)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return Object(r.a)({},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&Object(r.a)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function fe(e){return Object(U.a)("MuiOutlinedInput",e)}var he=Object(F.a)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),pe=["components","fullWidth","inputComponent","label","multiline","notched","type"],me=Object(c.a)(q,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:z})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Object(r.a)((t={position:"relative",borderRadius:n.shape.borderRadius},Object(d.a)(t,"&:hover .".concat(he.notchedOutline),{borderColor:n.palette.text.primary}),Object(d.a)(t,"@media (hover: none)",Object(d.a)({},"&:hover .".concat(he.notchedOutline),{borderColor:a})),Object(d.a)(t,"&.".concat(he.focused," .").concat(he.notchedOutline),{borderColor:n.palette[i.color].main,borderWidth:2}),Object(d.a)(t,"&.".concat(he.error," .").concat(he.notchedOutline),{borderColor:n.palette.error.main}),Object(d.a)(t,"&.".concat(he.disabled," .").concat(he.notchedOutline),{borderColor:n.palette.action.disabled}),t),i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&Object(r.a)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),ve=Object(c.a)((function(e){var t=e.className,n=e.label,a=e.notched,o=Object(i.a)(e,ce),s=Object(r.a)({},e,{notched:a,label:n});return Object(M.jsx)(ue,Object(r.a)({"aria-hidden":!0,className:t,ownerState:s},o,{children:Object(M.jsx)(de,{ownerState:s,children:n?Object(M.jsx)("span",{children:n}):Object(M.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),ge=Object(c.a)(G,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:H})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),be=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiOutlinedInput"}),a=n.components,o=void 0===a?{}:a,s=n.fullWidth,c=void 0!==s&&s,d=n.inputComponent,f=void 0===d?"input":d,h=n.label,p=n.multiline,m=void 0!==p&&p,v=n.notched,g=n.type,b=void 0===g?"text":g,C=Object(i.a)(n,pe),y=function(e){var t=e.classes,n=Object(l.a)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fe,t);return Object(r.a)({},t,n)}(n);return Object(M.jsx)(Y,Object(r.a)({components:Object(r.a)({Root:me,Input:ge},o),renderSuffix:function(e){return Object(M.jsx)(ve,{className:y.notchedOutline,label:h,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:c,inputComponent:f,multiline:m,ref:t,type:b},C,{classes:Object(r.a)({},y,{notchedOutline:null})}))}));be.muiName="Input";var Ce=be,ye=n(286),Se=n(95);function we(e){return Object(U.a)("MuiInputLabel",e)}Object(F.a)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Te=["disableAnimation","margin","shrink","variant"],Ie=Object(c.a)(ye.a,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(d.a)({},"& .".concat(Se.a.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Object(r.a)({transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Oe=a.forwardRef((function(e,t){var n=Object(u.a)({name:"MuiInputLabel",props:e}),a=n.disableAnimation,o=void 0!==a&&a,s=n.shrink,c=Object(i.a)(n,Te),d=Object(C.a)(),f=s;"undefined"===typeof f&&d&&(f=d.filled||d.focused||d.adornedStart);var h=Object(g.a)({props:n,muiFormControl:d,states:["size","variant","required"]}),p=Object(r.a)({},n,{disableAnimation:o,formControl:d,shrink:f,size:h.size,variant:h.variant,required:h.required}),m=function(e){var t=e.classes,n=e.formControl,i=e.size,a=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===i&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},s=Object(l.a)(o,we,t);return Object(r.a)({},t,s)}(p);return Object(M.jsx)(Ie,Object(r.a)({"data-shrink":f,ownerState:p,ref:t},c,{classes:m}))})),Ee=n(305),Re=n(315),ke=(n(103),E);var Me=a.createContext({});function _e(e){return Object(U.a)("MuiList",e)}Object(F.a)("MuiList",["root","padding","dense","subheader"]);var Ae=["children","className","component","dense","disablePadding","subheader"],xe=Object(c.a)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Object(r.a)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),De=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiList"}),o=n.children,c=n.className,d=n.component,f=void 0===d?"ul":d,h=n.dense,p=void 0!==h&&h,m=n.disablePadding,v=void 0!==m&&m,g=n.subheader,b=Object(i.a)(n,Ae),C=a.useMemo((function(){return{dense:p}}),[p]),y=Object(r.a)({},n,{component:f,dense:p,disablePadding:v}),S=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return Object(l.a)(n,_e,t)}(y);return Object(M.jsx)(Me.Provider,{value:C,children:Object(M.jsxs)(xe,Object(r.a)({as:f,className:Object(s.a)(S.root,c),ref:t,ownerState:y},b,{children:[g,o]}))})}));function je(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Pe=je,Ne=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Le(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ue(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Fe(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function We(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Fe(s,a)&&!l)return s.focus(),!0;s=i(e,s,n)}return!1}var Ve=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,l=e.autoFocusItem,c=void 0!==l&&l,u=e.children,d=e.className,f=e.disabledItemsFocusable,h=void 0!==f&&f,p=e.disableListWrap,m=void 0!==p&&p,v=e.onKeyDown,g=e.variant,b=void 0===g?"selectedMenu":g,C=Object(i.a)(e,Ne),y=a.useRef(null),S=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});I((function(){s&&y.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(Pe(ke(e)),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var T=Object(w.a)(y,t),O=-1;a.Children.forEach(u,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===O)&&(O=t))}));var E=a.Children.map(u,(function(e,t){if(t===O){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return Object(M.jsx)(De,Object(r.a)({role:"menu",ref:T,className:d,onKeyDown:function(e){var t=y.current,n=e.key,r=ke(t).activeElement;if("ArrowDown"===n)e.preventDefault(),We(t,r,m,h,Le);else if("ArrowUp"===n)e.preventDefault(),We(t,r,m,h,Ue);else if("Home"===n)e.preventDefault(),We(t,null,m,h,Le);else if("End"===n)e.preventDefault(),We(t,null,m,h,Ue);else if(1===n.length){var i=S.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&Fe(r,i);i.previousKeyMatched&&(s||We(t,r,!1,h,Le,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:s?0:-1},C,{children:E}))})),Be=n(312),ze=n(109),He=n(138),qe=n(26),Ge=n.n(qe),Je=!1,Ye=n(91),Ze="unmounted",Ke="exited",$e="entering",Qe="entered",Xe="exiting",et=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ke,r.appearStatus=$e):i=Qe:i=t.unmountOnExit||t.mountOnEnter?Ze:Ke,r.state={status:i},r.nextCallback=null,r}Object(He.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ze?{status:Ke}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$e&&n!==Qe&&(t=$e):n!==$e&&n!==Qe||(t=Xe)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===$e?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ke&&this.setState({status:Ze})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ge.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Je?this.safeSetState({status:Qe},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:$e},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Qe},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ge.a.findDOMNode(this);t&&!Je?(this.props.onExit(r),this.safeSetState({status:Xe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ke},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ke},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ge.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ze)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(ze.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(Ye.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function tt(){}et.contextType=Ye.a,et.propTypes={},et.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tt,onEntering:tt,onEntered:tt,onExit:tt,onExiting:tt,onExited:tt},et.UNMOUNTED=Ze,et.EXITED=Ke,et.ENTERING=$e,et.ENTERED=Qe,et.EXITING=Xe;var nt=et,rt=function(e){return e.scrollTop};function it(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var at=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ot(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var st={entering:{opacity:1,transform:ot(1)},entered:{opacity:1,transform:"none"}},lt=a.forwardRef((function(e,t){var n=e.addEndListener,o=e.appear,s=void 0===o||o,l=e.children,c=e.easing,u=e.in,d=e.onEnter,f=e.onEntered,h=e.onEntering,p=e.onExit,m=e.onExited,v=e.onExiting,g=e.style,b=e.timeout,C=void 0===b?"auto":b,S=e.TransitionComponent,T=void 0===S?nt:S,I=Object(i.a)(e,at),O=a.useRef(),E=a.useRef(),R=Object(y.a)(),k=a.useRef(null),_=Object(w.a)(l.ref,t),A=Object(w.a)(k,_),x=function(e){return function(t){if(e){var n=k.current;void 0===t?e(n):e(n,t)}}},D=x(h),j=x((function(e,t){rt(e);var n,r=it({style:g,timeout:C,easing:c},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===C?(n=R.transitions.getAutoHeightDuration(e.clientHeight),E.current=n):n=i,e.style.transition=[R.transitions.create("opacity",{duration:n,delay:a}),R.transitions.create("transform",{duration:.666*n,delay:a,easing:o})].join(","),d&&d(e,t)})),P=x(f),N=x(v),L=x((function(e){var t,n=it({style:g,timeout:C,easing:c},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===C?(t=R.transitions.getAutoHeightDuration(e.clientHeight),E.current=t):t=r,e.style.transition=[R.transitions.create("opacity",{duration:t,delay:i}),R.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:a})].join(","),e.style.opacity="0",e.style.transform=ot(.75),p&&p(e)})),U=x(m);return a.useEffect((function(){return function(){clearTimeout(O.current)}}),[]),Object(M.jsx)(T,Object(r.a)({appear:s,in:u,nodeRef:k,onEnter:j,onEntered:P,onEntering:D,onExit:L,onExited:U,onExiting:N,addEndListener:function(e){"auto"===C&&(O.current=setTimeout(e,E.current||0)),n&&n(k.current,e)},timeout:"auto"===C?null:C},I,{children:function(e,t){return a.cloneElement(l,Object(r.a)({style:Object(r.a)({opacity:0,transform:ot(.75),visibility:"exited"!==e||u?void 0:"hidden"},st[e],g,l.props.style),ref:A},t))}}))}));lt.muiSupportAuto=!0;var ct=lt;function ut(e){return Object(U.a)("MuiModal",e)}Object(F.a)("MuiModal",["root","hidden"]);var dt=n(253),ft=n(287),ht=n(288),pt=n(148);var mt=a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,s=a.useState(null),l=Object(p.a)(s,2),c=l[0],u=l[1],d=Object(dt.a)(a.isValidElement(n)?n.ref:null,t);return Object(T.a)((function(){o||u(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Object(T.a)((function(){if(c&&!o)return Object(pt.a)(t,c),function(){Object(pt.a)(t,null)}}),[t,c,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:d}):n:c?qe.createPortal(n,c):c})),vt=n(42),gt=n(43);function bt(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ct(e){return parseInt(R(e).getComputedStyle(e).paddingRight,10)||0}function yt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(f.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&bt(e,i)}))}function St(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function wt(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=E(e);return t.body===e?R(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=je(E(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Ct(r)+i,"px");var a=E(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Ct(e)+i,"px")}))}var o=r.parentElement,s=R(r),l="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===s.getComputedStyle(o).overflowY?o:r;n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Tt=function(){function e(){Object(vt.a)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Object(gt.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&bt(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);yt(t,e.mount,e.modalRef,r,!0);var i=St(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=St(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=wt(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=St(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&bt(e.modalRef,!0),yt(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&bt(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),It=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ot(e){var t=[],n=[];return Array.from(e.querySelectorAll(It)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function Et(){return!0}var Rt=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,s=e.disableRestoreFocus,l=void 0!==s&&s,c=e.getTabbable,u=void 0===c?Ot:c,d=e.isEnabled,f=void 0===d?Et:d,h=e.open,p=a.useRef(),m=a.useRef(null),v=a.useRef(null),g=a.useRef(null),b=a.useRef(null),C=a.useRef(!1),y=a.useRef(null),S=Object(dt.a)(t.ref,y),w=a.useRef(null);a.useEffect((function(){h&&y.current&&(C.current=!r)}),[r,h]),a.useEffect((function(){if(h&&y.current){var e=E(y.current);return y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),C.current&&y.current.focus()),function(){l||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),a.useEffect((function(){if(h&&y.current){var e=E(y.current),t=function(t){var n=y.current;if(null!==n)if(e.hasFocus()&&!o&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&b.current!==t.target||e.activeElement!==b.current)b.current=null;else if(null!==b.current)return;if(!C.current)return;var r=[];if(e.activeElement!==m.current&&e.activeElement!==v.current||(r=u(y.current)),r.length>0){var i,a,s=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=w.current)?void 0:a.key)),l=r[0],c=r[r.length-1];s?c.focus():l.focus()}else n.focus()}}else p.current=!1},n=function(t){w.current=t,!o&&f()&&"Tab"===t.key&&e.activeElement===y.current&&t.shiftKey&&(p.current=!0,v.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,o,l,f,h,u]);var T=function(e){null===g.current&&(g.current=e.relatedTarget),C.current=!0};return Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)("div",{tabIndex:0,onFocus:T,ref:m,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:S,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),C.current=!0,b.current=e.target;var n=t.props.onFocus;n&&n(e)}}),Object(M.jsx)("div",{tabIndex:0,onFocus:T,ref:v,"data-test":"sentinelEnd"})]})},kt=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var Mt=new Tt,_t=a.forwardRef((function(e,t){var n=e.BackdropComponent,o=e.BackdropProps,c=e.children,u=e.classes,d=e.className,f=e.closeAfterTransition,h=void 0!==f&&f,m=e.component,g=void 0===m?"div":m,b=e.components,C=void 0===b?{}:b,y=e.componentsProps,S=void 0===y?{}:y,w=e.container,T=e.disableAutoFocus,I=void 0!==T&&T,O=e.disableEnforceFocus,R=void 0!==O&&O,k=e.disableEscapeKeyDown,_=void 0!==k&&k,A=e.disablePortal,x=void 0!==A&&A,D=e.disableRestoreFocus,j=void 0!==D&&D,P=e.disableScrollLock,N=void 0!==P&&P,L=e.hideBackdrop,U=void 0!==L&&L,F=e.keepMounted,W=void 0!==F&&F,V=e.manager,B=void 0===V?Mt:V,z=e.onBackdropClick,H=e.onClose,q=e.onKeyDown,G=e.open,J=e.theme,Y=e.onTransitionEnter,Z=e.onTransitionExited,K=Object(i.a)(e,kt),$=a.useState(!0),Q=Object(p.a)($,2),X=Q[0],ee=Q[1],te=a.useRef({}),ne=a.useRef(null),re=a.useRef(null),ie=Object(dt.a)(re,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),oe=function(){return te.current.modalRef=re.current,te.current.mountNode=ne.current,te.current},se=function(){B.mount(oe(),{disableScrollLock:N}),re.current.scrollTop=0},le=Object(ft.a)((function(){var e=function(e){return"function"===typeof e?e():e}(w)||E(ne.current).body;B.add(oe(),e),re.current&&se()})),ce=a.useCallback((function(){return B.isTopModal(oe())}),[B]),ue=Object(ft.a)((function(e){ne.current=e,e&&(G&&ce()?se():bt(re.current,!0))})),de=a.useCallback((function(){B.remove(oe())}),[B]);a.useEffect((function(){return function(){de()}}),[de]),a.useEffect((function(){G?le():ae&&h||de()}),[G,de,ae,h,le]);var fe=Object(r.a)({},e,{classes:u,closeAfterTransition:h,disableAutoFocus:I,disableEnforceFocus:R,disableEscapeKeyDown:_,disablePortal:x,disableRestoreFocus:j,disableScrollLock:N,exited:X,hideBackdrop:U,keepMounted:W}),he=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return Object(l.a)(i,ut,r)}(fe);if(!W&&!G&&(!ae||X))return null;var pe={};void 0===c.props.tabIndex&&(pe.tabIndex="-1"),ae&&(pe.onEnter=Object(ht.a)((function(){ee(!1),Y&&Y()}),c.props.onEnter),pe.onExited=Object(ht.a)((function(){ee(!0),Z&&Z(),h&&de()}),c.props.onExited));var me=C.Root||g,ve=S.root||{};return Object(M.jsx)(mt,{ref:ue,container:w,disablePortal:x,children:Object(M.jsxs)(me,Object(r.a)({role:"presentation"},ve,!v(me)&&{as:g,ownerState:Object(r.a)({},fe,ve.ownerState),theme:J},K,{ref:ie,onKeyDown:function(e){q&&q(e),"Escape"===e.key&&ce()&&(_||(e.stopPropagation(),H&&H(e,"escapeKeyDown")))},className:Object(s.a)(he.root,ve.className,d),children:[!U&&n?Object(M.jsx)(n,Object(r.a)({open:G,onClick:function(e){e.target===e.currentTarget&&(z&&z(e),H&&H(e,"backdropClick"))}},o)):null,Object(M.jsx)(Rt,{disableEnforceFocus:R,disableAutoFocus:I,disableRestoreFocus:j,isEnabled:ce,open:G,children:a.cloneElement(c,pe)})]}))})}));function At(e){return Object(U.a)("MuiBackdrop",e)}Object(F.a)("MuiBackdrop",["root","invisible"]);var xt=["classes","className","invisible","component","components","componentsProps","theme"],Dt=a.forwardRef((function(e,t){var n=e.classes,a=e.className,o=e.invisible,c=void 0!==o&&o,u=e.component,d=void 0===u?"div":u,f=e.components,h=void 0===f?{}:f,p=e.componentsProps,m=void 0===p?{}:p,g=e.theme,b=Object(i.a)(e,xt),C=Object(r.a)({},e,{classes:n,invisible:c}),y=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return Object(l.a)(n,At,t)}(C),S=h.Root||d,w=m.root||{};return Object(M.jsx)(S,Object(r.a)({"aria-hidden":!0},w,!v(S)&&{as:d,ownerState:Object(r.a)({},C,w.ownerState),theme:g},{ref:t},b,{className:Object(s.a)(y.root,w.className,a)}))})),jt=n(100),Pt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Nt={entering:{opacity:1},entered:{opacity:1}},Lt={enter:jt.b.enteringScreen,exit:jt.b.leavingScreen},Ut=a.forwardRef((function(e,t){var n=e.addEndListener,o=e.appear,s=void 0===o||o,l=e.children,c=e.easing,u=e.in,d=e.onEnter,f=e.onEntered,h=e.onEntering,p=e.onExit,m=e.onExited,v=e.onExiting,g=e.style,b=e.timeout,C=void 0===b?Lt:b,S=e.TransitionComponent,T=void 0===S?nt:S,I=Object(i.a)(e,Pt),O=Object(y.a)(),E=a.useRef(null),R=Object(w.a)(l.ref,t),k=Object(w.a)(E,R),_=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},A=_(h),x=_((function(e,t){rt(e);var n=it({style:g,timeout:C,easing:c},{mode:"enter"});e.style.webkitTransition=O.transitions.create("opacity",n),e.style.transition=O.transitions.create("opacity",n),d&&d(e,t)})),D=_(f),j=_(v),P=_((function(e){var t=it({style:g,timeout:C,easing:c},{mode:"exit"});e.style.webkitTransition=O.transitions.create("opacity",t),e.style.transition=O.transitions.create("opacity",t),p&&p(e)})),N=_(m);return Object(M.jsx)(T,Object(r.a)({appear:s,in:u,nodeRef:E,onEnter:x,onEntered:D,onEntering:A,onExit:P,onExited:N,onExiting:j,addEndListener:function(e){n&&n(E.current,e)},timeout:C},I,{children:function(e,t){return a.cloneElement(l,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},Nt[e],g,l.props.style),ref:k},t))}}))})),Ft=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Wt=Object(c.a)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return Object(r.a)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Vt=a.forwardRef((function(e,t){var n,a=Object(u.a)({props:e,name:"MuiBackdrop"}),o=a.children,s=a.components,l=void 0===s?{}:s,c=a.componentsProps,d=void 0===c?{}:c,f=a.className,h=a.invisible,p=void 0!==h&&h,m=a.open,g=a.transitionDuration,b=a.TransitionComponent,C=void 0===b?Ut:b,y=Object(i.a)(a,Ft),S=function(e){return e.classes}(Object(r.a)({},a,{invisible:p}));return Object(M.jsx)(C,Object(r.a)({in:m,timeout:g},y,{children:Object(M.jsx)(Dt,{className:f,invisible:p,components:Object(r.a)({Root:Wt},l),componentsProps:{root:Object(r.a)({},d.root,(!l.Root||!v(l.Root))&&{ownerState:Object(r.a)({},null==(n=d.root)?void 0:n.ownerState)})},classes:S,ref:t,children:o})}))})),Bt=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],zt=Object(c.a)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Ht=Object(c.a)(Vt,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),qt=a.forwardRef((function(e,t){var n,o=Object(u.a)({name:"MuiModal",props:e}),s=o.BackdropComponent,l=void 0===s?Ht:s,c=o.closeAfterTransition,d=void 0!==c&&c,f=o.children,h=o.components,m=void 0===h?{}:h,g=o.componentsProps,b=void 0===g?{}:g,C=o.disableAutoFocus,y=void 0!==C&&C,S=o.disableEnforceFocus,w=void 0!==S&&S,T=o.disableEscapeKeyDown,I=void 0!==T&&T,O=o.disablePortal,E=void 0!==O&&O,R=o.disableRestoreFocus,k=void 0!==R&&R,_=o.disableScrollLock,A=void 0!==_&&_,x=o.hideBackdrop,D=void 0!==x&&x,j=o.keepMounted,P=void 0!==j&&j,N=Object(i.a)(o,Bt),L=a.useState(!0),U=Object(p.a)(L,2),F=U[0],W=U[1],V={closeAfterTransition:d,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:I,disablePortal:E,disableRestoreFocus:k,disableScrollLock:A,hideBackdrop:D,keepMounted:P},B=function(e){return e.classes}(Object(r.a)({},o,V,{exited:F}));return Object(M.jsx)(_t,Object(r.a)({components:Object(r.a)({Root:zt},m),componentsProps:{root:Object(r.a)({},b.root,(!m.Root||!v(m.Root))&&{ownerState:Object(r.a)({},null==(n=b.root)?void 0:n.ownerState)})},BackdropComponent:l,onTransitionEnter:function(){return W(!1)},onTransitionExited:function(){return W(!0)},ref:t},N,{classes:B},V,{children:f}))}));function Gt(e){return Object(U.a)("MuiPopover",e)}Object(F.a)("MuiPopover",["root","paper"]);var Jt=["onEntering"],Yt=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Zt(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Kt(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function $t(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Qt(e){return"function"===typeof e?e():e}var Xt=Object(c.a)(qt,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),en=Object(c.a)(Be.a,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),tn=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiPopover"}),o=n.action,c=n.anchorEl,d=n.anchorOrigin,f=void 0===d?{vertical:"top",horizontal:"left"}:d,h=n.anchorPosition,p=n.anchorReference,m=void 0===p?"anchorEl":p,v=n.children,g=n.className,b=n.container,C=n.elevation,y=void 0===C?8:C,S=n.marginThreshold,T=void 0===S?16:S,I=n.open,E=n.PaperProps,R=void 0===E?{}:E,_=n.transformOrigin,A=void 0===_?{vertical:"top",horizontal:"left"}:_,x=n.TransitionComponent,D=void 0===x?ct:x,j=n.transitionDuration,P=void 0===j?"auto":j,N=n.TransitionProps,L=(N=void 0===N?{}:N).onEntering,U=Object(i.a)(n.TransitionProps,Jt),F=Object(i.a)(n,Yt),W=a.useRef(),V=Object(w.a)(W,R.ref),B=Object(r.a)({},n,{anchorOrigin:f,anchorReference:m,elevation:y,marginThreshold:T,PaperProps:R,transformOrigin:A,TransitionComponent:D,transitionDuration:P,TransitionProps:U}),z=function(e){var t=e.classes;return Object(l.a)({root:["root"],paper:["paper"]},Gt,t)}(B),H=a.useCallback((function(){if("anchorPosition"===m)return h;var e=Qt(c),t=(e&&1===e.nodeType?e:ke(W.current).body).getBoundingClientRect();return{top:t.top+Zt(t,f.vertical),left:t.left+Kt(t,f.horizontal)}}),[c,f.horizontal,f.vertical,h,m]),q=a.useCallback((function(e){return{vertical:Zt(e,A.vertical),horizontal:Kt(e,A.horizontal)}}),[A.horizontal,A.vertical]),G=a.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=q(t);if("none"===m)return{top:null,left:null,transformOrigin:$t(n)};var r=H(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+t.height,s=a+t.width,l=k(Qt(c)),u=l.innerHeight-T,d=l.innerWidth-T;if(i<T){var f=i-T;i-=f,n.vertical+=f}else if(o>u){var h=o-u;i-=h,n.vertical+=h}if(a<T){var p=a-T;a-=p,n.horizontal+=p}else if(s>d){var v=s-d;a-=v,n.horizontal+=v}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:$t(n)}}),[c,m,H,q,T]),J=a.useCallback((function(){var e=W.current;if(e){var t=G(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[G]);a.useEffect((function(){I&&J()})),a.useImperativeHandle(o,(function(){return I?{updatePosition:function(){J()}}:null}),[I,J]),a.useEffect((function(){if(I){var e=O((function(){J()})),t=k(c);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[c,I,J]);var Y=P;"auto"!==P||D.muiSupportAuto||(Y=void 0);var Z=b||(c?ke(Qt(c)).body:void 0);return Object(M.jsx)(Xt,Object(r.a)({BackdropProps:{invisible:!0},className:Object(s.a)(z.root,g),container:Z,open:I,ref:t,ownerState:B},F,{children:Object(M.jsx)(D,Object(r.a)({appear:!0,in:I,onEntering:function(e,t){L&&L(e,t),J()},timeout:Y},U,{children:Object(M.jsx)(en,Object(r.a)({elevation:y},R,{ref:V,className:Object(s.a)(z.paper,R.className),children:v}))}))}))}));function nn(e){return Object(U.a)("MuiMenu",e)}Object(F.a)("MuiMenu",["root","paper","list"]);var rn=["onEntering"],an=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],on={vertical:"top",horizontal:"right"},sn={vertical:"top",horizontal:"left"},ln=Object(c.a)(tn,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),cn=Object(c.a)(Be.a,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),un=Object(c.a)(Ve,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),dn=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiMenu"}),o=n.autoFocus,c=void 0===o||o,d=n.children,f=n.disableAutoFocusItem,h=void 0!==f&&f,p=n.MenuListProps,m=void 0===p?{}:p,v=n.onClose,g=n.open,b=n.PaperProps,C=void 0===b?{}:b,S=n.PopoverClasses,w=n.transitionDuration,T=void 0===w?"auto":w,I=n.TransitionProps,O=(I=void 0===I?{}:I).onEntering,E=n.variant,R=void 0===E?"selectedMenu":E,k=Object(i.a)(n.TransitionProps,rn),_=Object(i.a)(n,an),A=Object(y.a)(),x="rtl"===A.direction,D=Object(r.a)({},n,{autoFocus:c,disableAutoFocusItem:h,MenuListProps:m,onEntering:O,PaperProps:C,transitionDuration:T,TransitionProps:k,variant:R}),j=function(e){var t=e.classes;return Object(l.a)({root:["root"],paper:["paper"],list:["list"]},nn,t)}(D),P=c&&!h&&g,N=a.useRef(null),L=-1;return a.Children.map(d,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===R&&e.props.selected||-1===L)&&(L=t))})),Object(M.jsx)(ln,Object(r.a)({classes:S,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?on:sn,PaperProps:Object(r.a)({component:cn},C,{classes:Object(r.a)({},C.classes,{root:j.paper})}),className:j.root,open:g,ref:t,transitionDuration:T,TransitionProps:Object(r.a)({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,A),O&&O(e,t)}},k),ownerState:D},_,{children:Object(M.jsx)(un,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:N,autoFocus:c&&(-1===L||h),autoFocusItem:P,variant:R},m,{className:Object(s.a)(j.list,m.className),children:d}))}))}));function fn(e){return Object(U.a)("MuiNativeSelect",e)}var hn=Object(F.a)("MuiNativeSelect",["root","select","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),pn=["className","disabled","IconComponent","inputRef","variant"],mn=function(e){var t,n=e.ownerState,i=e.theme;return Object(r.a)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},Object(d.a)(t,"&.".concat(hn.disabled),{cursor:"default"}),Object(d.a)(t,"&[multiple]",{height:"auto"}),Object(d.a)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:i.palette.background.paper}),Object(d.a)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:i.shape.borderRadius,"&:focus":{borderRadius:i.shape.borderRadius},"&&&":{paddingRight:32}})},vn=Object(c.a)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:c.b,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant]]}})(mn),gn=function(e){var t=e.ownerState,n=e.theme;return Object(r.a)(Object(d.a)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(hn.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},bn=Object(c.a)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(S.a)(n.variant))],n.open&&t.iconOpen]}})(gn),Cn=a.forwardRef((function(e,t){var n=e.className,o=e.disabled,c=e.IconComponent,u=e.inputRef,d=e.variant,f=void 0===d?"standard":d,h=Object(i.a)(e,pn),p=Object(r.a)({},e,{disabled:o,variant:f}),m=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open,a={select:["select",n,r&&"disabled"],icon:["icon","icon".concat(Object(S.a)(n)),i&&"iconOpen",r&&"disabled"]};return Object(l.a)(a,fn,t)}(p);return Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)(vn,Object(r.a)({ownerState:p,className:Object(s.a)(m.select,n),disabled:o,ref:u||t},h)),e.multiple?null:Object(M.jsx)(bn,{as:c,ownerState:p,className:m.icon})]})})),yn=n(90);function Sn(e){return Object(U.a)("MuiSelect",e)}var wn=Object(F.a)("MuiSelect",["root","select","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Tn=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],In=Object(c.a)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Object(d.a)({},"&.".concat(wn.select),t.select),Object(d.a)({},"&.".concat(wn.select),t[n.variant])]}})(mn,Object(d.a)({},"&.".concat(wn.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),On=Object(c.a)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(S.a)(n.variant))],n.open&&t.iconOpen]}})(gn),En=Object(c.a)("input",{shouldForwardProp:function(e){return Object(c.c)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Rn(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function kn(e){return null==e||"string"===typeof e&&!e.trim()}var Mn,_n,An=a.forwardRef((function(e,t){var n=e["aria-describedby"],o=e["aria-label"],c=e.autoFocus,u=e.autoWidth,d=e.children,f=e.className,h=e.defaultValue,v=e.disabled,g=e.displayEmpty,b=e.IconComponent,C=e.inputRef,y=e.labelId,T=e.MenuProps,I=void 0===T?{}:T,O=e.multiple,E=e.name,R=e.onBlur,k=e.onChange,_=e.onClose,A=e.onFocus,x=e.onOpen,D=e.open,j=e.readOnly,P=e.renderValue,N=e.SelectDisplayProps,U=void 0===N?{}:N,F=e.tabIndex,W=e.value,V=e.variant,B=void 0===V?"standard":V,z=Object(i.a)(e,Tn),H=Object(yn.a)({controlled:W,default:h,name:"Select"}),q=Object(p.a)(H,2),G=q[0],J=q[1],Y=a.useRef(null),Z=a.useRef(null),K=a.useState(null),$=Object(p.a)(K,2),Q=$[0],X=$[1],ee=a.useRef(null!=D).current,te=a.useState(),ne=Object(p.a)(te,2),re=ne[0],ie=ne[1],ae=a.useState(!1),oe=Object(p.a)(ae,2),se=oe[0],le=oe[1],ce=Object(w.a)(t,C),ue=a.useCallback((function(e){Z.current=e,e&&X(e)}),[]);a.useImperativeHandle(ce,(function(){return{focus:function(){Z.current.focus()},node:Y.current,value:G}}),[G]),a.useEffect((function(){c&&Z.current.focus()}),[c]),a.useEffect((function(){var e=ke(Z.current).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&Z.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[y]);var de,fe,he=function(e,t){e?x&&x(t):_&&_(t),ee||(ie(u?null:Q.clientWidth),le(e))},pe=a.Children.toArray(d),me=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(O){n=Array.isArray(G)?G.slice():[];var r=G.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),G!==n&&(J(n),k)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:E}}),k(a,e)}O||he(!1,t)}}},ve=null!==Q&&(ee?D:se);delete z["aria-invalid"];var ge=[],be=!1;(Object(L.b)({value:G})||g)&&(P?de=P(G):be=!0);var Ce=pe.map((function(e){if(!a.isValidElement(e))return null;var t;if(O){if(!Array.isArray(G))throw new Error(Object(m.a)(2));(t=G.some((function(t){return Rn(t,e.props.value)})))&&be&&ge.push(e.props.children)}else(t=Rn(G,e.props.value))&&be&&(fe=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:me(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));be&&(de=O?ge.join(", "):fe);var ye,Se=re;!u&&ee&&Q&&(Se=Q.clientWidth),ye="undefined"!==typeof F?F:v?null:0;var we=U.id||(E?"mui-component-select-".concat(E):void 0),Te=Object(r.a)({},e,{variant:B,value:G,open:ve}),Ie=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open,a={select:["select",n,r&&"disabled"],icon:["icon","icon".concat(Object(S.a)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Object(l.a)(a,Sn,t)}(Te);return Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)(In,Object(r.a)({ref:ue,tabIndex:ye,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":ve?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,we].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!j){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),he(!0,e))}},onMouseDown:v||j?null:function(e){0===e.button&&(e.preventDefault(),Z.current.focus(),he(!0,e))},onBlur:function(e){!ve&&R&&(Object.defineProperty(e,"target",{writable:!0,value:{value:G,name:E}}),R(e))},onFocus:A},U,{ownerState:Te,className:Object(s.a)(Ie.select,f,U.className),id:we,children:kn(de)?Object(M.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):de})),Object(M.jsx)(En,Object(r.a)({value:Array.isArray(G)?G.join(","):G,name:E,ref:Y,"aria-hidden":!0,onChange:function(e){var t=pe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=pe[t];J(n.props.value),k&&k(e,n)}},tabIndex:-1,disabled:v,className:Ie.nativeInput,autoFocus:c,ownerState:Te},z)),Object(M.jsx)(On,{as:b,className:Ie.icon,ownerState:Te}),Object(M.jsx)(dn,Object(r.a)({id:"menu-".concat(E||""),anchorEl:Q,open:ve,onClose:function(e){he(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},I,{MenuListProps:Object(r.a)({"aria-labelledby":y,role:"listbox",disableListWrap:!0},I.MenuListProps),PaperProps:Object(r.a)({},I.PaperProps,{style:Object(r.a)({minWidth:Se},null!=I.PaperProps?I.PaperProps.style:null)}),children:Ce}))]})})),xn=n(89),Dn=Object(xn.a)(Object(M.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),jn=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Pn=["root"],Nn=a.forwardRef((function(e,t){var n=Object(u.a)({name:"MuiSelect",props:e}),o=n.autoWidth,c=void 0!==o&&o,d=n.children,f=n.classes,p=void 0===f?{}:f,m=n.className,v=n.displayEmpty,b=void 0!==v&&v,y=n.IconComponent,S=void 0===y?Dn:y,T=n.id,I=n.input,O=n.inputProps,E=n.label,R=n.labelId,k=n.MenuProps,_=n.multiple,A=void 0!==_&&_,x=n.native,D=void 0!==x&&x,j=n.onClose,P=n.onOpen,N=n.open,L=n.renderValue,U=n.SelectDisplayProps,F=n.variant,W=void 0===F?"outlined":F,V=Object(i.a)(n,jn),B=D?Cn:An,z=Object(C.a)(),H=Object(g.a)({props:n,muiFormControl:z,states:["variant"]}).variant||W,q=I||{standard:Mn||(Mn=Object(M.jsx)(te,{})),outlined:Object(M.jsx)(Ce,{label:E}),filled:_n||(_n=Object(M.jsx)(le,{}))}[H],G=function(e){var t=e.classes;return Object(l.a)({root:["root"]},Sn,t)}(Object(r.a)({},n,{classes:p})),J=Object(i.a)(p,Pn),Y=Object(w.a)(t,q.ref);return a.cloneElement(q,Object(r.a)({inputComponent:B,inputProps:Object(r.a)({children:d,IconComponent:S,variant:H,type:void 0,multiple:A},D?{id:T}:{autoWidth:c,displayEmpty:b,labelId:R,MenuProps:k,onClose:j,onOpen:P,open:N,renderValue:L,SelectDisplayProps:Object(r.a)({id:T},U)},O,{classes:O?Object(h.a)(J,O.classes):J},I?I.props.inputProps:{})},A&&D&&"outlined"===H?{notched:!0}:{},{ref:Y,className:Object(s.a)(G.root,q.props.className,m)},V))}));Nn.muiName="Select";var Ln=Nn;function Un(e){return Object(U.a)("MuiTextField",e)}Object(F.a)("MuiTextField",["root"]);var Fn=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Wn={standard:te,filled:le,outlined:Ce},Vn=Object(c.a)(Ee.a,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Bn=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiTextField"}),o=n.autoComplete,c=n.autoFocus,d=void 0!==c&&c,f=n.children,h=n.className,p=n.color,m=void 0===p?"primary":p,v=n.defaultValue,g=n.disabled,b=void 0!==g&&g,C=n.error,y=void 0!==C&&C,S=n.FormHelperTextProps,w=n.fullWidth,T=void 0!==w&&w,I=n.helperText,O=n.id,E=n.InputLabelProps,R=n.inputProps,k=n.InputProps,_=n.inputRef,A=n.label,x=n.maxRows,D=n.minRows,j=n.multiline,P=void 0!==j&&j,N=n.name,L=n.onBlur,U=n.onChange,F=n.onFocus,W=n.placeholder,V=n.required,B=void 0!==V&&V,z=n.rows,H=n.select,q=void 0!==H&&H,G=n.SelectProps,J=n.type,Y=n.value,Z=n.variant,K=void 0===Z?"outlined":Z,$=Object(i.a)(n,Fn),Q=Object(r.a)({},n,{autoFocus:d,color:m,disabled:b,error:y,fullWidth:T,multiline:P,required:B,select:q,variant:K}),X=function(e){var t=e.classes;return Object(l.a)({root:["root"]},Un,t)}(Q);var ee={};if("outlined"===K&&(E&&"undefined"!==typeof E.shrink&&(ee.notched=E.shrink),A)){var te,ne=null!=(te=null==E?void 0:E.required)?te:B;ee.label=Object(M.jsxs)(a.Fragment,{children:[A,ne&&"\xa0*"]})}q&&(G&&G.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=I&&O?"".concat(O,"-helper-text"):void 0,ie=A&&O?"".concat(O,"-label"):void 0,ae=Wn[K],oe=Object(M.jsx)(ae,Object(r.a)({"aria-describedby":re,autoComplete:o,autoFocus:d,defaultValue:v,fullWidth:T,multiline:P,name:N,rows:z,maxRows:x,minRows:D,type:J,value:Y,id:O,inputRef:_,onBlur:L,onChange:U,onFocus:F,placeholder:W,inputProps:R},ee,k));return Object(M.jsxs)(Vn,Object(r.a)({className:Object(s.a)(X.root,h),disabled:b,error:y,fullWidth:T,ref:t,required:B,color:m,variant:K,ownerState:Q},$,{children:[A&&Object(M.jsx)(Oe,Object(r.a)({htmlFor:O,id:ie},E,{children:A})),q?Object(M.jsx)(Ln,Object(r.a)({"aria-describedby":re,id:O,labelId:ie,value:Y,input:oe},G,{children:f})):oe,I&&Object(M.jsx)(Re.a,Object(r.a)({id:re},S,{children:I}))]}))}));t.a=Bn},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ho}));var r=n(15),i=n.n(r),a=n(2),o=n(8),s=n(0),l=n.n(s),c=(n(9),l.a.createContext(null));var u=function(e){e()},d={notify:function(){}};function f(){var e=u,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var h=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=d,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=f())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=d)},e}(),p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect;var m=function(e){var t=e.store,n=e.context,r=e.children,i=Object(s.useMemo)((function(){var e=new h(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=Object(s.useMemo)((function(){return t.getState()}),[t]);p((function(){var e=i.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var o=n||c;return l.a.createElement(o.Provider,{value:i},r)};n(4),n(7),n(67),n(79);var v=n(187);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var y="function"===typeof Symbol&&Symbol.observable||"@@observable",S=function(){return Math.random().toString(36).substring(7).split("").join(".")},w={INIT:"@@redux/INIT"+S(),REPLACE:"@@redux/REPLACE"+S(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+S()}};function T(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function I(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(C(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(C(1));return n(I)(e,t)}if("function"!==typeof e)throw new Error(C(2));var i=e,a=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(C(3));return a}function d(e){if("function"!==typeof e)throw new Error(C(4));if(l)throw new Error(C(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(C(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!T(e))throw new Error(C(7));if("undefined"===typeof e.type)throw new Error(C(8));if(l)throw new Error(C(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(C(10));i=e,f({type:w.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(C(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[y]=function(){return this},e}return f({type:w.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:h})[y]=p,r}function O(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:w.INIT}))throw new Error(C(12));if("undefined"===typeof n(void 0,{type:w.PROBE_UNKNOWN_ACTION()}))throw new Error(C(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(C(14))}i[l]=d,r=r||d!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(C(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=E.apply(void 0,a)(n.dispatch),b(b({},n),{},{dispatch:r})}}}function k(){return Object(s.useContext)(c)}function M(e){void 0===e&&(e=c);var t=e===c?k:function(){return Object(s.useContext)(e)};return function(){return t().store}}var _=M();function A(e){void 0===e&&(e=c);var t=e===c?_:M(e);return function(){return t().dispatch}}var x=A(),D=function(e,t){return e===t};function j(e){void 0===e&&(e=c);var t=e===c?k:function(){return Object(s.useContext)(e)};return function(e,n){void 0===n&&(n=D);var r=t(),i=function(e,t,n,r){var i,a=Object(s.useReducer)((function(e){return e+1}),0)[1],o=Object(s.useMemo)((function(){return new h(n,r)}),[n,r]),l=Object(s.useRef)(),c=Object(s.useRef)(),u=Object(s.useRef)(),d=Object(s.useRef)(),f=n.getState();try{if(e!==c.current||f!==u.current||l.current){var m=e(f);i=void 0!==d.current&&t(m,d.current)?d.current:m}else i=d.current}catch(v){throw l.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),v}return p((function(){c.current=e,u.current=f,d.current=i,l.current=void 0})),p((function(){function e(){try{var e=c.current(n.getState());if(t(e,d.current))return;d.current=e}catch(v){l.current=v}a()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}}),[n,o]),i}(e,n,r.store,r.subscription);return Object(s.useDebugValue)(i),i}}var P,N=j(),L=n(26);P=L.unstable_batchedUpdates,u=P;var U,F,W,V,B,z,H,q,G,J,Y,Z,K,$,Q,X,ee,te,ne=n(3),re=n(21),ie=n(1),ae=n(22),oe=n(102),se=n(49),le=n(29),ce=n(123),ue=n(5),de=ie.d.svg(U||(U=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),fe=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(de,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Close"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.625 8.25 23.75 6.375 16 14.063 8.25 6.375 6.375 8.25 14.063 16l-7.688 7.75 1.875 1.875L16 17.937l7.75 7.688 1.875-1.875L17.937 16l7.688-7.75Z",fill:p(a,e.theme)}),n))}))},he=ie.d.div(F||(F=Object(a.a)(["\n\tcolor: ",";\n\twidth: ",";\n\tmax-height: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 14px;\n\tborder: solid 1px ",";\n\tbackground-color: ",";\n\tposition: relative;\n\t","\n"])),(function(e){return e.theme.dialog[e.theme.themeVariant].textColor}),(function(e){return e.size&&function(e){switch(e){case"small":return"375px";case"medium":return"600px";default:return"375px"}}(e.size)}),(function(e){return e.theme.dialog[e.theme.themeVariant].borderColor}),(function(e){return e.theme.dialog[e.theme.themeVariant].backgroundColor}),(function(e){return e.isFullscreenMobile&&Object(ie.c)(W||(W=Object(a.a)(["\n\t\t\t@media "," {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t"])),Object(oe.a)(e.theme,"mobileL"))}));he.displayName="DialogComponent";var pe=function(e){var t=e.children,n=e.className,r=e.isFullscreenMobile,i=e.size,a=void 0===i?"small":i;return s.createElement(ne.a,null,s.createElement(he,{className:n,isFullscreenMobile:r,size:a},t))},me=ie.d.div(V||(V=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: ",";\n\tflex-wrap: wrap;\n\talign-items: center;\n\twidth: 100%;\n\tjustify-content: space-around;\n\n\t","\n\n\t","\n"])),(function(e){return e.direction}),(function(e){var t=e.direction;return("column"===t||"column-reverse"===t)&&Object(ie.c)(B||(B=Object(a.a)(["\n\t\t\t> *:not(:last-child) {\n\t\t\t\tmargin-bottom: ",";\n\t\t\t}\n\t\t"])),(function(e){return e.theme.spacing[8]}))}),(function(e){var t=e.theme;return Object(ie.c)(z||(z=Object(a.a)(["\n\t\t@media only screen and "," {\n\t\t\tflex-direction: column;\n\n\t\t\t> *:not(:last-child) {\n\t\t\t\tmargin-bottom: ",";\n\t\t\t}\n\t\t}\n\t"])),Object(oe.a)(t,"mobileM"),(function(e){return e.theme.spacing[8]}))})),ve=function(e){var t=e.children,n=e.className,r=e.direction,i=e.inset,a=void 0===i?"8":i;return l.a.createElement(ne.a,null,l.a.createElement(se.a,{all:a},l.a.createElement(me,{className:n,direction:r||"row"},t)))},ge=ie.d.div(H||(H=Object(a.a)(["\n\toverflow: auto;\n"]))),be=s.forwardRef((function(e,t){var n=e.children,r=e.className;return s.createElement(ne.a,null,s.createElement(ge,{className:r,ref:t},n))})),Ce=ie.d.div(q||(q=Object(a.a)(["\n\tz-index: ",";\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n"])),(function(e){return e.withOverlay?9999:"auto"}),(function(e){return e.withOverlay?"#00000073":"transparent"})),ye=function(e){var t=e.children,n=e.className,r=e.withOverlay;return Object(s.useEffect)((function(){return document.body.style.overflow=r?"hidden":"initial",function(){document.body.style.overflow="initial"}})),l.a.createElement(Ce,{className:n,withOverlay:r},t)},Se=ie.d.div(G||(G=Object(a.a)(["\n\tborder-top: solid 1px ",";\n"])),(function(e){return e.theme.dialog[e.theme.themeVariant].borderColor})),we=function(e){var t=e.children;return s.createElement(ne.a,null,s.createElement(Se,null,t))},Te=ie.d.div(J||(J=Object(a.a)(["\n\ttext-align: center;\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 15px 20px;\n\tborder-bottom: ",";\n\tborder-radius: 14px 14px 0 0;\n"])),(function(e){return e.bordered?"1px solid ".concat(e.theme.dialog[e.theme.themeVariant].borderColor):"none"})),Ie=ie.d.div(Y||(Y=Object(a.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n"]))),Oe=Object(ie.d)(le.a)(Z||(Z=Object(a.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.theme;return t.text[t.themeVariant].header})),Ee=ie.d.div(K||(K=Object(a.a)(["\n\tposition: absolute;\n\tpadding: 10px;\n\tcursor: pointer;\n"]))),Re=Object(ie.d)(Ee)($||($=Object(a.a)(["\n\ttop: 5px;\n\tleft: 0px;\n"])));Re.displayName="BackButtonContainer";var ke=Object(ie.d)(Ee)(Q||(Q=Object(a.a)(["\n\ttop: 5px;\n\tright: 0px;\n"])));ke.displayName="CloseButtonContainer";var Me,_e,Ae,xe,De,je=function(e){var t=e.children,n=e.labels,r=void 0===n?{}:n,i=e.bordered,a=void 0===i||i,o=e.onBack,l=e.onClose;return s.createElement(ne.a,null,s.createElement(Te,{bordered:a},o&&s.createElement(Re,null,s.createElement(ae.a,{ariaLabel:r.back||"Back",title:r.back||"Back",onClick:function(){return o()},use:"link",withIcon:s.createElement(ce.a,null)})),s.createElement(se.a,{all:"1"},s.createElement(Ie,null,s.createElement(Oe,{size:"xs",isUppercase:!0,isBold:!0},t))),l&&s.createElement(ke,null,s.createElement(ae.a,{ariaLabel:r.close||"Close",title:r.close||"Close",onClick:function(){return l()},use:"link",withIcon:s.createElement(fe,null)}))))},Pe=(ie.d.div(X||(X=Object(a.a)(["\n\ttext-align: center;\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 15px 20px;\n\tborder-radius: 14px 14px 0 0;\n\n\t& img {\n\t\tposition: absolute;\n\t\ttop: -80px;\n\t\tleft: 120px;\n\t}\n"]))),ie.d.img(ee||(ee=Object(a.a)(["\n\tobject-fit: contain;\n"]))),ie.d.div(te||(te=Object(a.a)(["\n\twidth: 100%;\n\tpadding: ",";\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-bottom: solid 1px ",";\n\n\t&:last-child {\n\t\tborder-bottom: none;\n\t}\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.dialog[e.theme.themeVariant].borderColor}))),Ne=function(e){var t=e.children,n=e.className;return s.createElement(ne.a,null,s.createElement(Pe,{className:n},t))},Le=ie.d.svg(Me||(Me=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Ue=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Le,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Loader"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.25 9.5c.625 0 1.125-.5 1.125-1.125s-.5-1.125-1.125-1.125-1.125.5-1.125 1.125.5 1.125 1.125 1.125Zm3.938.125c.062 0 .187-.125.187-.25s-.125-.188-.188-.188c-.125 0-.25.063-.25.188s.125.25.25.25Zm3.062 2.563c0 .124-.125.25-.25.25-.188 0-.25-.126-.25-.25 0-.188.063-.313.25-.313.125 0 .25.125.25.313Zm.938 4.25a.403.403 0 0 0 .375-.375.403.403 0 0 0-.375-.375c-.25 0-.375.187-.375.374 0 .188.125.375.375.375Zm-.5 3.5c0 .25-.25.5-.5.5s-.438-.25-.438-.5.188-.5.438-.5.5.25.5.5Zm-3.125 3.5c.312 0 .562-.313.562-.625a.56.56 0 0 0-.563-.563c-.375 0-.625.25-.625.563 0 .312.25.625.625.625Zm-3.625.687c0 .313-.25.625-.625.625a.626.626 0 0 1-.625-.625c0-.375.25-.688.624-.688.375 0 .625.313.625.688Zm-4.5-.313a.76.76 0 0 0 .75-.75c0-.375-.376-.687-.75-.687-.438 0-.75.313-.75.688 0 .437.312.75.75.75Zm-2-3.5c0 .5-.376.875-.813.875a.854.854 0 0 1-.875-.875c0-.437.375-.875.875-.875.438 0 .813.438.813.875Zm-2-3.25c.5 0 .937-.437.937-.937 0-.563-.438-1-.938-1-.562 0-1 .438-1 1 0 .5.438.938 1 .938ZM10.5 12.25c0 .563-.438 1-1 1-.563 0-1-.438-1-1 0-.563.438-1 1-1 .563 0 1 .438 1 1Zm1.813-1.688c.624 0 1.124-.5 1.124-1.124 0-.626-.5-1.126-1.124-1.126-.626 0-1.126.5-1.126 1.126 0 .624.5 1.124 1.126 1.124Z",fill:p(a,e.theme)}),n))}))},Fe=ie.d.svg(_e||(_e=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),We=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Fe,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ValidateSimple"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.313 21.875c-.25 0-.563-.125-.75-.313l-4.25-4.312c-.188-.188-.313-.438-.313-.688 0-.312.125-.562.313-.75.25-.25.5-.374.75-.374s.562.124.75.374l3.5 3.5 8.874-8.875c.188-.187.5-.312.75-.312s.5.125.75.313c.188.25.313.5.313.75s-.125.562-.313.75l-9.625 9.624c-.124.188-.437.313-.75.313Z",fill:p(a,e.theme)}),n))}))},Ve={loading:"Loading",done:"Done",error:"Error"},Be=ie.d.div(Ae||(Ae=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tfont-family: ",";\n\n\t","\n"])),(function(e){return e.theme.fontFamily.sans}),(function(e){return"loading"===e.status&&Object(ie.c)(xe||(xe=Object(a.a)(["\n\t\t\t& > svg {\n\t\t\t\tanimation: spin 2s linear infinite;\n\n\t\t\t\t@-moz-keyframes spin {\n\t\t\t\t\t100% {\n\t\t\t\t\t\t-moz-transform: rotate(360deg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@-webkit-keyframes spin {\n\t\t\t\t\t100% {\n\t\t\t\t\t\t-webkit-transform: rotate(360deg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@keyframes spin {\n\t\t\t\t\t100% {\n\t\t\t\t\t\t-webkit-transform: rotate(360deg);\n\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"])))})),ze=function(e){var t=e.status,n=e.labels,r={done:l.a.createElement(We,{width:"60",height:"60",color:"success"}),error:l.a.createElement(fe,{width:"60",height:"60",color:"danger"}),loading:l.a.createElement(Ue,{width:"60",height:"60",color:"info"})},i=Object.assign(Object.assign({},Ve),n);return l.a.createElement(ne.a,null,l.a.createElement(Be,{status:t},r[t],l.a.createElement(le.a,{align:"center"},i[t])))},He=function(e,t){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},qe=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=n.apply(null,i);o&&e.push(o)}else if("object"===a)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(De={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&De.path)}},De.exports),De.exports);function Ge(e,t,n){var r,i,a,o,s;function l(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}Ge.debounce=Ge;var Je=Ge;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var Ye,Ze=(Ye="indiana-scroll-container",function(e,t){if(!e)return Ye;var n;"string"==typeof e?n=e:t=e;var r=Ye;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")}),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var r=e.touches[0];n.processClick(e,r.clientX,r.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var r=e.touches[0];r&&n.processMove(e,r.clientX,r.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=l.a.createRef(),n.onEndScroll=Je(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}He(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,a=r.vertical,o=r.activationDistance,s=r.onScroll,l=this.container.current;this.started?(i&&(l.scrollLeft-=t-this.clientX),a&&(l.scrollTop-=n-this.clientY),s&&s({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop):(i&&Math.abs(t-this.clientX)>o||a&&Math.abs(n-this.clientY)>o)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,r=e.className,i=e.style,a=e.hideScrollbars,o=e.component;return l.a.createElement(o,{className:qe(r,this.pressed&&n,Ze({dragging:this.pressed,"hide-scrollbars":a,"native-scroll":this.isMobile})),style:i,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(s.PureComponent);function $e(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qe(e){return!!e&&!!e[Vt]}function Xe(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&Function.toString.call(n)===Bt}(e)||Array.isArray(e)||!!e[Wt]||!!e.constructor[Wt]||ot(e)||st(e))}function et(e,t,n){void 0===n&&(n=!1),0===tt(e)?(n?Object.keys:zt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function tt(e){var t=e[Vt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ot(e)?2:st(e)?3:0}function nt(e,t){return 2===tt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rt(e,t){return 2===tt(e)?e.get(t):e[t]}function it(e,t,n){var r=tt(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function at(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ot(e){return Nt&&e instanceof Map}function st(e){return Lt&&e instanceof Set}function lt(e){return e.o||e.t}function ct(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ht(e);delete t[Vt];for(var n=zt(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ut(e,t){return void 0===t&&(t=!1),ft(e)||Qe(e)||!Xe(e)||(tt(e)>1&&(e.set=e.add=e.clear=e.delete=dt),Object.freeze(e),t&&et(e,(function(e,t){return ut(t,!0)}),!0)),e}function dt(){$e(2)}function ft(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ht(e){var t=qt[e];return t||$e(18,e),t}function pt(e,t){qt[e]||(qt[e]=t)}function mt(){return jt}function vt(e,t){t&&(ht("Patches"),e.u=[],e.s=[],e.v=t)}function gt(e){bt(e),e.p.forEach(yt),e.p=null}function bt(e){e===jt&&(jt=e.l)}function Ct(e){return jt={p:[],l:jt,h:e,m:!0,_:0}}function yt(e){var t=e[Vt];0===t.i||1===t.i?t.j():t.g=!0}function St(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||ht("ES5").S(t,e,r),r?(n[Vt].P&&(gt(t),$e(4)),Xe(e)&&(e=wt(t,e),t.l||It(t,e)),t.u&&ht("Patches").M(n[Vt],e,t.u,t.s)):e=wt(t,n,[]),gt(t),t.u&&t.v(t.u,t.s),e!==Ft?e:void 0}function wt(e,t,n){if(ft(t))return t;var r=t[Vt];if(!r)return et(t,(function(i,a){return Tt(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return It(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ct(r.k):r.o;et(3===r.i?new Set(i):i,(function(t,a){return Tt(e,r,i,t,a,n)})),It(e,i,!1),n&&e.u&&ht("Patches").R(r,n,e.u,e.s)}return r.o}function Tt(e,t,n,r,i,a){if(Qe(i)){var o=wt(e,i,a&&t&&3!==t.i&&!nt(t.D,r)?a.concat(r):void 0);if(it(n,r,o),!Qe(o))return;e.m=!1}if(Xe(i)&&!ft(i)){if(!e.h.F&&e._<1)return;wt(e,i),t&&t.A.l||It(e,i)}}function It(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&ut(t,n)}function Ot(e,t){var n=e[Vt];return(n?lt(n):e)[t]}function Et(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Rt(e){e.P||(e.P=!0,e.l&&Rt(e.l))}function kt(e){e.o||(e.o=ct(e.t))}function Mt(e,t,n){var r=ot(t)?ht("MapSet").N(t,n):st(t)?ht("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:mt(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Gt;n&&(i=[r],a=Jt);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):ht("ES5").J(t,n);return(n?n.A:mt()).p.push(r),r}function _t(e){return Qe(e)||$e(22,e),function e(t){if(!Xe(t))return t;var n,r=t[Vt],i=tt(t);if(r){if(!r.P&&(r.i<4||!ht("ES5").K(r)))return r.t;r.I=!0,n=At(t,i),r.I=!1}else n=At(t,i);return et(n,(function(t,i){r&&rt(r.t,t)===i||it(n,t,e(i))})),3===i?new Set(n):n}(e)}function At(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ct(e)}function xt(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Vt];return Gt.get(t,e)},set:function(t){var n=this[Vt];Gt.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Vt];if(!i.P)switch(i.i){case 5:r(i)&&Rt(i);break;case 4:n(i)&&Rt(i)}}}function n(e){for(var t=e.t,n=e.k,r=zt(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Vt){var o=t[a];if(void 0===o&&!nt(t,a))return!0;var s=n[a],l=s&&s[Vt];if(l?l.t!==o:!at(s,o))return!0}}var c=!!t[Vt];return r.length!==zt(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};pt("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Ht(n);delete a[Vt];for(var o=zt(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:mt(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Vt,{value:a,writable:!0}),i},S:function(e,n,i){i?Qe(n)&&n[Vt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Vt];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)et(a,(function(t){t!==Vt&&(void 0!==i[t]||nt(i,t)?o[t]||e(a[t]):(o[t]=!0,Rt(n)))})),et(i,(function(e){void 0!==a[e]||nt(a,e)||(o[e]=!1,Rt(n))}));else if(5===s){if(r(n)&&(Rt(n),o.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)o[l]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var u=Math.min(a.length,i.length),d=0;d<u;d++)void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Dt,jt,Pt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Nt="undefined"!=typeof Map,Lt="undefined"!=typeof Set,Ut="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ft=Pt?Symbol.for("immer-nothing"):((Dt={})["immer-nothing"]=!0,Dt),Wt=Pt?Symbol.for("immer-draftable"):"__$immer_draftable",Vt=Pt?Symbol.for("immer-state"):"__$immer_state",Bt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),zt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ht=Object.getOwnPropertyDescriptors||function(e){var t={};return zt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},qt={},Gt={get:function(e,t){if(t===Vt)return e;var n=lt(e);if(!nt(n,t))return function(e,t,n){var r,i=Et(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Xe(r)?r:r===Ot(e.t,t)?(kt(e),e.o[t]=Mt(e.A.h,r,e)):r},has:function(e,t){return t in lt(e)},ownKeys:function(e){return Reflect.ownKeys(lt(e))},set:function(e,t,n){var r=Et(lt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ot(lt(e),t),a=null==i?void 0:i[Vt];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(at(n,i)&&(void 0!==n||nt(e.t,t)))return!0;kt(e),Rt(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Ot(e.t,t)||t in e.t?(e.D[t]=!1,kt(e),Rt(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=lt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){$e(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$e(12)}},Jt={};et(Gt,(function(e,t){Jt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Jt.deleteProperty=function(e,t){return Gt.deleteProperty.call(this,e[0],t)},Jt.set=function(e,t,n){return Gt.set.call(this,e[0],t,n,e[0])};var Yt=new(function(){function e(e){var t=this;this.O=Ut,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&$e(6),void 0!==r&&"function"!=typeof r&&$e(7),Xe(e)){var s=Ct(t),l=Mt(t,e,void 0),c=!0;try{o=n(l),c=!1}finally{c?gt(s):bt(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return vt(s,r),St(e,s)}),(function(e){throw gt(s),e})):(vt(s,r),St(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===Ft)return;return void 0===o&&(o=e),t.F&&ut(o,!0),o}$e(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Xe(e)||$e(8),Qe(e)&&(e=_t(e));var t=Ct(this),n=Mt(this,e,void 0);return n[Vt].C=!0,bt(t),n},t.finishDraft=function(e,t){var n=(e&&e[Vt]).A;return vt(n,t),St(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Ut&&$e(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=ht("Patches").$;return Qe(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),Zt=Yt.produce,Kt=(Yt.produceWithPatches.bind(Yt),Yt.setAutoFreeze.bind(Yt),Yt.setUseProxies.bind(Yt),Yt.applyPatches.bind(Yt),Yt.createDraft.bind(Yt),Yt.finishDraft.bind(Yt),Zt);function $t(e,t){return e===t}function Qt(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function Xt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t,n=null,r=null;return function(){return Qt(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));function en(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var tn=en();tn.withExtraArgument=en;var nn=tn;function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ln(e,t,n){return(ln=sn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&on(i,n.prototype),i}).apply(null,arguments)}function cn(e){var t="function"===typeof Map?new Map:void 0;return(cn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ln(e,arguments,an(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),on(n,e)})(e)}var un="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?E:E.apply(null,arguments)};function dn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var fn=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.concat=function(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return ln(r,(t=e.prototype.concat).call.apply(t,[this].concat(i)))},i.prepend=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?ln(r,t[0].concat(this)):ln(r,t.concat(this))},r}(cn(Array));function hn(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,new fn);return r&&(!function(e){return"boolean"===typeof e}(r)?i.push(nn.withExtraArgument(r.extraArgument)):i.push(nn)),i}function pn(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return rn({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function mn(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function vn(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},i="undefined"===typeof e.extraReducers?[]:"function"===typeof e.extraReducers?mn(e.extraReducers):[e.extraReducers],a=i[0],o=void 0===a?{}:a,s=i[1],l=void 0===s?[]:s,c=i[2],u=void 0===c?void 0:c,d=Object.keys(r),f={},h={},p={};d.forEach((function(e){var n,i,a=r[e],o=t+"/"+e;"reducer"in a?(n=a.reducer,i=a.prepare):n=a,f[e]=n,h[o]=n,p[e]=i?pn(o,i):pn(o)}));var m=function(e,t,n,r){void 0===n&&(n=[]);var i="function"===typeof t?mn(t):[t,n,r],a=i[0],o=i[1],s=i[2],l=Kt(e,(function(){}));return function(e,t){void 0===e&&(e=l);var n=[a[t.type]].concat(o.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){if(Qe(e)){var r=n(e,t);return"undefined"===typeof r?e:r}if(Xe(e))return Kt(e,(function(e){return n(e,t)}));var i=n(e,t);if("undefined"===typeof i){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),e)}}(n,rn({},o,{},h),l,u);return{name:t,reducer:m,actions:p,caseReducers:f}}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));xt();var gn,bn,Cn,yn,Sn,wn,Tn,In,On,En,Rn,kn,Mn,_n,An,xn,Dn,jn,Pn,Nn,Ln,Un,Fn,Wn,Vn,Bn,zn,Hn,qn,Gn,Jn,Yn,Zn,Kn,$n,Qn,Xn,er,tr,nr,rr,ir,ar,or,sr,lr,cr,ur,dr,fr,hr=n(87),pr=n(45),mr=n.n(pr),vr=n(32),gr=ie.d.svg(gn||(gn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),br=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(gr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ArrowTool"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m16.725 17.063 3.324 8.092L29 3 6.897 11.972l8.058 3.325L3 27.23 4.766 29l11.959-11.937Z",fill:p(a,e.theme)}),n))}))},Cr=ie.d.svg(bn||(bn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),yr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Cr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Eraser"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.13 7h-5.115c-.853 0-1.705.016-2.558.031-.852.016-1.705.032-2.557.032-.67-.063-1.096.252-1.522.692-3.958 4.72-7.916 9.44-11.934 14.098-.488.63-.548 1.322-.305 2.014.244.755.913 1.133 1.705 1.133 1.119 0 2.237-.007 3.353-.014 2.226-.014 4.443-.028 6.633.014.791 0 1.34-.315 1.826-.881a883.15 883.15 0 0 1 3.593-4.248c1.202-1.416 2.405-2.832 3.592-4.249a373.86 373.86 0 0 1 4.688-5.475c.488-.63.61-1.322.305-2.077C28.53 7.315 27.86 7 27.129 7ZM19.2 17.852c.075.017.157.036.257.036-.913 1.07-1.765 2.14-2.557 3.147-.266.306-.533.597-.792.88-.274.3-.54.591-.791.882-.183.189-.366.315-.548.315h-9.56s-.06-.063-.243-.063c.046-.072.084-.126.116-.172a1.39 1.39 0 0 0 .127-.206l3.836-4.531c.183-.189.366-.315.731-.315h9.255a.76.76 0 0 1 .17.027Z",fill:p(a,e.theme)}),n))}))},Sr=ie.d.svg(Cn||(Cn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),wr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Sr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"FreehandOn"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.172 10c.5 0 .928.187 1.288.563.36.374.54.812.54 1.311v7.032c0 .72-.079 1.407-.235 2.063L25.5 26.266c-.093.5-.351.913-.772 1.242-.423.328-.883.492-1.383.492h-9.282c-.343 0-.68-.078-1.008-.234a2.096 2.096 0 0 1-.82-.703L6.375 19a1.893 1.893 0 0 1-.35-1.43c.077-.515.327-.92.75-1.218.422-.298.89-.406 1.406-.328.516.077.914.32 1.195.726l1.5 2.063V7.75c0-.5.179-.937.539-1.313.36-.374.796-.563 1.313-.563.515 0 .96.189 1.335.563.376.376.563.828.563 1.36V16h.374V5.874c0-.499.18-.937.54-1.311A1.746 1.746 0 0 1 16.851 4c.516 0 .961.187 1.337.563.374.374.561.828.561 1.36V16h.376V7.703c0-.5.179-.937.539-1.313.36-.374.796-.562 1.313-.562.515 0 .96.188 1.335.562.376.376.563.828.563 1.36V16h.374v-4.078c0-.531.189-.985.563-1.36.376-.375.83-.562 1.36-.562Z",fill:p(a,e.theme)}),n))}))},Tr=ie.d.svg(yn||(yn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Ir=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Tr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"GalleryPictures"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.313 20.938V6.188c0-1.313-1.125-2.438-2.438-2.438H11.062c-1.312 0-2.437 1.125-2.437 2.438v14.75c0 1.375 1.125 2.5 2.438 2.5h14.812c1.313-.063 2.438-1.125 2.438-2.5ZM14.75 16l2.5 3.313 3.688-4.563 4.875 6.125h-14.75L14.75 16ZM3.687 25.875V8.625h2.5v17.25h17.188v2.438H6.125c-1.313 0-2.438-1.125-2.438-2.438Z",fill:p(a,e.theme)}),n))}))},Or=ie.d.svg(Sn||(Sn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Er=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Or,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"MenuDotsHorizontal"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.313 16a2.64 2.64 0 0 1-2.626 2.625A2.64 2.64 0 0 1 5.063 16a2.64 2.64 0 0 1 2.625-2.625A2.64 2.64 0 0 1 10.313 16Zm8.312 0A2.64 2.64 0 0 1 16 18.625 2.64 2.64 0 0 1 13.375 16 2.64 2.64 0 0 1 16 13.375 2.64 2.64 0 0 1 18.625 16Zm5.688 2.625A2.64 2.64 0 0 0 26.938 16a2.64 2.64 0 0 0-2.625-2.625A2.64 2.64 0 0 0 21.688 16a2.64 2.64 0 0 0 2.625 2.625Z",fill:p(a,e.theme)}),n))}))},Rr=ie.d.svg(wn||(wn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),kr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Rr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Pen"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.19 3.148c.72-1.53 2.9-1.53 3.62 0l1.463 3.11c.076.137.14.273.192.408L25 18.428V29.65h-2v-9.264L19.662 21.5h-6.809L9 20.344v9.307H7V18.428l5.535-11.762c.051-.135.116-.271.192-.408l1.463-3.11ZM9.255 18.333l3.892 1.167h6.19l3.42-1.14-4.174-8.872C18.067 9.812 17.26 10 16 10c-1.26 0-2.067-.188-2.583-.512l-4.162 8.845Z",fill:p(a,e.theme)}),n))}))},Mr=ie.d.svg(Tn||(Tn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),_r=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Mr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Redo"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 11.979 18.199 4v4.021l-5.026.064C8.02 8.468 4 12.808 4 17.98 4 23.532 8.524 28 14.052 28c.252 0 .44-.255.44-.447a.433.433 0 0 0-.44-.447c-3.204 0-5.843-2.617-5.843-5.808 0-3 2.325-5.49 5.34-5.745h4.65v4.404L28 11.98Z",fill:p(a,e.theme)}),n))}))},Ar=ie.d.svg(In||(In=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),xr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Ar,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Refresh"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4c3.09 0 6.054 1.283 8.198 3.53.442.513.442 1.347-.063 1.925a1.34 1.34 0 0 1-1.829-.065C20.604 7.658 18.396 6.695 16 6.695c-4.54 0-8.261 3.53-8.703 8.022h2.586L5.91 20.94 2 14.717h2.649C5.153 8.749 10.009 4 16 4Zm6.117 13.348 3.973-6.225 3.91 6.16h-2.649C26.847 23.251 21.991 28 16 28c-3.09 0-6.054-1.283-8.198-3.53-.442-.449-.442-1.347.063-1.86a1.34 1.34 0 0 1 1.829.064c1.702 1.732 3.91 2.695 6.306 2.695 4.54 0 8.261-3.53 8.703-8.021h-2.586Z",fill:p(a,e.theme)}),n))}))},Dr=ie.d.svg(On||(On=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),jr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Dr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Save"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.688 4h-16A2.668 2.668 0 0 0 4 6.688v18.625C4 26.813 5.188 28 6.688 28h18.625c1.5 0 2.687-1.188 2.687-2.688v-16L22.687 4ZM16 25.313c-2.188 0-4-1.75-4-4s1.813-4 4-4c2.188 0 4 1.812 4 4 0 2.187-1.813 4-4 4ZM6.687 12H20V6.687H6.687V12Z",fill:p(a,e.theme)}),n))}))},Pr=ie.d.svg(En||(En=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Nr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Pr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ToolCircle"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.474 13.742h.671c.489 0 .855.427.855.915v2.686c0 .488-.366.915-.855.915h-.67c-.977 4.639-4.578 8.3-9.217 9.216v.671c0 .489-.366.855-.915.855h-2.686c-.488 0-.915-.366-.915-.855v-.67c-4.639-.977-8.3-4.578-9.216-9.217h-.672c-.488 0-.854-.366-.854-.915v-2.686c0-.488.366-.915.854-.915h.672a11.905 11.905 0 0 1 9.216-9.216v-.672c0-.488.366-.854.915-.854h2.686c.488 0 .915.366.915.854v.672a11.905 11.905 0 0 1 9.216 9.216Zm-.244 2.685v-.915h-.854v.915h.854ZM15.512 4.77h.915v.854h-.915V4.77ZM5.685 16.427v-.915H4.77v.915h.915ZM16.488 27.23h-.915v-.854h.915v.854Zm1.77-1.83v.243a10.286 10.286 0 0 0 7.385-7.385H25.4c-.427 0-.854-.366-.854-.915v-2.686c0-.488.366-.915.854-.915h.244c-.915-3.662-3.784-6.53-7.385-7.385V6.6c0 .427-.366.854-.915.854h-2.686c-.488 0-.915-.366-.915-.854v-.244c-3.662.915-6.53 3.784-7.385 7.385H6.6c.427 0 .854.366.854.915v2.686c0 .488-.366.915-.854.915h-.244c.915 3.662 3.784 6.53 7.385 7.385V25.4c0-.427.366-.854.915-.854h2.686c.488 0 .915.366.915.854Z",fill:p(a,e.theme)}),n))}))},Lr=ie.d.svg(Rn||(Rn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Ur=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Lr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ToolSquare"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.818 6.818c0 .546-.424.97-.97.97h-.302V24.15h.484c.546 0 .97.425.97.97v2.91c0 .545-.485.969-.97.969h-2.909c-.545 0-.97-.485-.97-.97v-.485H7.848v.485c0 .546-.484.97-.97.97H3.97c-.606 0-.97-.485-.97-.97v-2.909c0-.545.424-.97.97-.97h.485V7.848H3.97c-.606 0-.97-.484-.97-.97V3.97c0-.606.364-.97.97-.97h2.848c.546 0 .97.424.97.97v.485H23.97V3.97c0-.606.485-.97.97-.97h2.909c.605 0 .97.424.97.97v2.848Zm-1.879-1.94h-.97v.97h.97v-.97Zm-22.06 0h.97v.97h-.97v-.97Zm0 22.061h.97v-.97h-.97v.97Zm22.06 0h-.97v-.97h.97v.97ZM25 24.03H25.545V7.788h-.484c-.546 0-.97-.485-.97-.97v-.485H7.788v.485c0 .546-.485.97-.97.97h-.485V24.03h.485c.546 0 .97.485.97.97v.485H24.03V25c0-.546.485-.97.97-.97Z",fill:p(a,e.theme)}),n))}))},Fr=ie.d.svg(kn||(kn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Wr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Fr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Tools"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.849 7.788c.545 0 .97-.424.97-.97V3.97c0-.546-.364-.97-.97-.97h-2.91c-.485 0-.97.364-.97.97v.485H7.789V3.97a.957.957 0 0 0-.97-.97H3.97c-.606 0-.97.364-.97.97v2.909c0 .485.364.97.97.97h.485V24.15H3.97a.957.957 0 0 0-.97.97v2.91c0 .484.364.969.97.969h2.909c.485 0 .97-.424.97-.97v-.485H24.15v.485c0 .485.425.97.97.97h2.91c.484 0 .969-.424.969-.97v-2.909a.957.957 0 0 0-.97-.97h-.485V7.788h.303ZM13.667 22.212v-.606c.666 0 1.03-.06 1.151-.121.121-.06.182-.121.243-.303.06-.182.12-.849.12-2v-6.969h-2.605c-.116 0-.206.024-.273.041a.41.41 0 0 1-.09.019c0 .06 0 .12-.061.303-.061.363-.122.727-.122 1.212h-.666c0-.775-.03-1.274-.049-1.564a5.074 5.074 0 0 1-.012-.254c0-.182-.06-.485-.121-.728l.06-.12c.243.06.546.06.788.06h8.364c.16 0 .286-.017.405-.033.107-.014.208-.028.322-.028l.121.121a4.593 4.593 0 0 0-.058.426c-.016.152-.031.296-.063.423 0 .06 0 .606-.06 1.697h-.667c0-.212-.015-.41-.03-.606-.015-.197-.03-.394-.03-.606-.024-.07-.038-.13-.05-.182a1.096 1.096 0 0 0-.03-.109.228.228 0 0 1-.08-.002 1.247 1.247 0 0 0-.144-.01c-.424-.06-.909-.06-1.515-.06h-1.151V19.12c0 1.152.06 1.818.12 2.06 0 .183.061.243.243.304.122.06.485.121 1.152.182v.606c-1.03-.06-1.879-.06-2.606-.06a18.65 18.65 0 0 0-2.606 0ZM26.939 4.88h-.97v.97h.97v-.97Zm-22.06 0h.97v.97h-.97v-.97Zm0 22.06h.97v-.97h-.97v.97Zm22.06 0h-.97v-.97h.97v.97ZM25 24.03H25.545V7.788h-.484c-.546 0-.97-.485-.97-.97v-.485H7.788v.485c0 .546-.485.97-.97.97h-.485V24.03h.485c.546 0 .97.485.97.97v.485H24.03V25c0-.546.485-.97.97-.97Z",fill:p(a,e.theme)}),n))}))},Vr=ie.d.svg(Mn||(Mn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Br=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Vr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Undo"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11.979 13.801 4v4.021l5.026.064C23.98 8.468 28 12.808 28 17.98 28 23.532 23.476 28 17.948 28c-.252 0-.44-.255-.44-.447 0-.255.188-.447.44-.447 3.204 0 5.843-2.617 5.843-5.808 0-3-2.325-5.49-5.34-5.745H13.8v4.404L4 11.98Z",fill:p(a,e.theme)}),n))}))},zr=ie.d.svg(_n||(_n=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Hr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(zr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ZoomLess"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.688 19.438H20.5L20.062 19c1.5-1.75 2.375-4 2.375-6.438.063-5.5-4.437-9.874-9.875-9.874a9.856 9.856 0 0 0-9.874 9.874c0 5.5 4.374 9.938 9.874 9.938 2.5 0 4.688-.875 6.5-2.375l.375.438v1.187l7.625 7.563 2.25-2.25-7.625-7.625Zm-9.125 0c-3.75 0-6.876-3.063-6.876-6.875 0-3.876 3.063-6.938 6.875-6.938 3.876 0 6.876 3.063 6.876 6.938a6.855 6.855 0 0 1-6.875 6.874Zm3.812-7.625H8.75v1.5h7.625v-1.5Z",fill:p(a,e.theme)}),n))}))},qr=ie.d.svg(An||(An=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Gr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(qr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"ZoomPlus"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.688 19.438H20.5L20.062 19c1.5-1.75 2.375-4 2.375-6.438.063-5.5-4.437-9.874-9.875-9.874a9.856 9.856 0 0 0-9.874 9.874c0 5.5 4.374 9.938 9.874 9.938 2.5 0 4.688-.875 6.5-2.375l.375.438v1.187l7.625 7.563 2.25-2.25-7.625-7.625Zm-9.125 0c-3.75 0-6.876-3.063-6.876-6.875 0-3.876 3.063-6.938 6.875-6.938 3.876 0 6.876 3.063 6.876 6.938a6.855 6.855 0 0 1-6.875 6.874Zm.75-6.125h3.062v-1.5h-3.063V8.75h-1.5v3.063H8.75v1.5h3.063v3.062h1.5v-3.063Z",fill:p(a,e.theme)}),n))}))},Jr=n(128),Yr=ie.d.svg(xn||(xn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Zr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Yr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Delete"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.745 5.292h4.691c.906 0 1.564.705 1.564 1.674 0 .97-.658 1.675-1.564 1.675H7.564C6.74 8.64 6 7.936 6 6.966c0-.97.74-1.674 1.564-1.674h4.691C12.585 3.969 13.737 3 15.053 3h1.893c1.317 0 2.47.97 2.799 2.292ZM10.197 29c-1.152 0-2.057-1.058-2.057-2.291V9.786h15.802v16.922c0 1.234-.987 2.292-2.14 2.292H10.198Z",fill:p(a,e.theme)}),n))}))},Kr=n(35),$r=ie.d.svg(Dn||(Dn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),Qr=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement($r,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"FullscreenOff"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.438 2.688h3.75v9.5h-9.5V8.374h5.75V2.687Zm3.75 26.625H8.374v-5.75H2.687v-3.75h9.5v9.5Zm11.437-5.688h5.688v-3.813h-9.5v9.5h3.75v-5.687h.062Zm5.688-15.188v3.75h-9.5v-9.5h3.812v5.75h5.688Z",fill:p(a,e.theme)}),n))}))},Xr=ie.d.svg(jn||(jn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ei=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(Xr,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Fullscreen"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.438 12.188h-3.75v-9.5h9.5v3.75h-5.75v5.75Zm-3.75 7.624h3.75v5.75h5.75v3.75h-9.5v-9.5Zm22.875 5.75h-5.75v3.75h9.5v-9.5h-3.75v5.75Zm-5.75-19.125v-3.75h9.5v9.5H25.5v-5.75h-5.688Z",fill:p(a,e.theme)}),n))}))},ti=n(127),ni=ie.d.svg(Pn||(Pn=Object(a.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ri=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,c=e.title,u=e.viewBox,d=void 0===u?"0 0 32 32":u,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ue.a)(e,t)};return l.a.createElement(ne.b.Consumer,null,(function(e){return l.a.createElement(ie.a,{theme:e.theme},l.a.createElement(ni,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("title",null,c||"Edit"),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.588 7.015c.55.61.55 1.588 0 2.138l-3.054 3.053-5.74-5.74 3.053-3.054c.55-.55 1.527-.55 2.138 0l3.603 3.603Zm-10.26.977 5.68 5.68L8.74 29H3v-5.74L18.328 7.991Z",fill:p(a,e.theme)}),n))}))},ii=n(129),ai={loadingDialog:{header:"Loading",loading:"Please wait...",done:"Done",error:"Error",close:"Close"},savingDialog:{header:"Saving",loading:"Please wait...",done:"Saved",error:"Error",close:"Close"},confirmDialog:{descriptionFirst:"Are you sure?",descriptionSecond:"You work has not been saved!",confirm:"Yes",cancel:"Cancel"},confirmSaveAndCloseDialog:{descriptionFirst:"Save changes before exiting?",confirmSave:"Yes",confirmNoSave:"No",cancel:"Cancel"},textToolDialog:{header:"Add an annotation",inputPlaceholder:"Type your text",apply:"Add",cancel:"Cancel"},header:{undo:"Undo",redo:"Redo",zoomOut:"Zoom out",zoomIn:"Zoom in",openSecondaryMenu:"More options",setFullscreen:"Set fullscreen",closeWhiteboard:"Close"},secondaryMenu:{save:"Save",rotate:"Rotate",loadImage:"Open and draw on image",clear:"Erase drawings",delete:"Delete"},toolsBar:{settings:"Size & color",drawingTool:"Pencil",eraserTool:"Eraser",moveTool:"Move",shapesTools:"Shapes",arrowTool:"Arrow",circleTool:"Circle",rectangleTool:"Rectangle",textTool:"Text",brushSize:"Tool size",brushColor:"Color",textSize:"Text size"},getImageUrlErrors:{notAnImage:"File type is not an image",invalidUrl:"File url is not valid"}},oi=function(e){var t=e.labels,n=e.onApply,r=e.onClose,i=Object.assign(Object.assign({},ai.confirmDialog),t);return l.a.createElement(ye,{withOverlay:!0,"data-testid":"confirm-dialog"},l.a.createElement(pe,null,l.a.createElement(be,null,l.a.createElement(Ne,null,l.a.createElement(le.a,{align:"center"},i.descriptionFirst),l.a.createElement(le.a,{align:"center"},i.descriptionSecond))),l.a.createElement(we,null,l.a.createElement(ve,null,l.a.createElement(ae.a,{onClick:r,use:"secondary"},i.cancel),n&&l.a.createElement(ae.a,{onClick:n},i.confirm)))))},si=function(e){var t=e.labels,n=e.onSaveAndClose,r=e.onCancel,i=e.onClose,a=Object.assign(Object.assign({},ai.confirmSaveAndCloseDialog),t);return l.a.createElement(ye,{withOverlay:!0,"data-testid":"confirm-save-and-close-dialog"},l.a.createElement(pe,null,l.a.createElement(be,null,l.a.createElement(Ne,null,l.a.createElement(le.a,{align:"center"},a.descriptionFirst))),l.a.createElement(we,null,l.a.createElement(ve,null,l.a.createElement(ae.a,{onClick:r,use:"secondary"},a.cancel),l.a.createElement(ae.a,{use:"tertiary",onClick:i},a.confirmNoSave),l.a.createElement(ae.a,{onClick:n},a.confirmSave)))))},li=function(e){var t=e.errorMessage,n=e.labels,r=e.onClose,i=e.status,a=Object.assign(Object.assign({},ai.loadingDialog),n);return l.a.createElement(ye,{withOverlay:!0,"data-testid":"loading-dialog"},l.a.createElement(pe,null,l.a.createElement(je,null,a.header),l.a.createElement(be,null,l.a.createElement(Ne,null,i&&l.a.createElement(ze,{status:i,labels:a}),"error"===i&&t&&l.a.createElement(le.a,null,t))),"error"===i&&l.a.createElement(we,null,l.a.createElement(ve,null,l.a.createElement(ae.a,{onClick:r,use:"secondary"},a.close)))))},ci=function(e){var t=e.labels,n=e.onClose,r=e.status,i=Object.assign(Object.assign({},ai.savingDialog),t);return l.a.createElement(ye,{withOverlay:!0,"data-testid":"saving-dialog"},l.a.createElement(pe,null,l.a.createElement(je,null,i.header),l.a.createElement(be,null,l.a.createElement(Ne,null,r&&l.a.createElement(ze,{status:r,labels:i}))),"error"===r&&l.a.createElement(we,null,l.a.createElement(ve,null,l.a.createElement(ae.a,{onClick:n,use:"secondary"},i.close)))))},ui=function(e){var t=e.labels,n=e.onApply,r=e.onClose,i=Object.assign(Object.assign({},ai.textToolDialog),t),a=Object(s.useState)(""),c=Object(o.a)(a,2),u=c[0],d=c[1];return l.a.createElement(ye,{withOverlay:!0,"data-testid":"text-tool-dialog"},l.a.createElement(pe,null,l.a.createElement(je,{onClose:r},i.header),l.a.createElement(be,null,l.a.createElement(Ne,null,l.a.createElement(hr.a,{value:u,placeholder:i.inputPlaceholder,onChange:function(e){d(e.target.value)},autoFocus:!0,required:!0}))),l.a.createElement(we,null,l.a.createElement(ve,null,l.a.createElement(ae.a,{onClick:r,use:"secondary",type:"button"},i.cancel),l.a.createElement(ae.a,{use:"primary",type:"submit",onClick:function(){return n(u)}},i.apply)))))};function di(e){return e.height>e.width?"portrait":e.height<e.width?"landscape":"square"}function fi(e){return new Promise((function(t,n){var r=document.createElement("img");r.onload=function(e){var n=e.target,r={width:n.naturalWidth,height:n.naturalHeight};t(r)},r.onerror=function(e){r&&(r.onerror=function(){n(e)})},r.src=e}))}var hi=vn({name:"history",initialState:{actionsCount:0,undoneCount:0,saved:!0},reducers:{setSaved:function(e,t){e.saved=t.payload},incrementActionsCount:function(e){e.actionsCount+=1},decrementActionsCount:function(e){e.actionsCount&&(e.actionsCount-=1,e.undoneCount+=1)},resetActionsCount:function(e){e.actionsCount=0},decrementUndoneCount:function(e){e.undoneCount-=1},resetUndoneCount:function(e){e.undoneCount=0}}}),pi=hi.actions,mi=pi.setSaved,vi=pi.incrementActionsCount,gi=pi.decrementActionsCount,bi=pi.resetActionsCount,Ci=pi.decrementUndoneCount,yi=pi.resetUndoneCount,Si=hi.reducer;function wi(e){switch(e){case"pen":case"arrow":case"ellipse":case"rectangle":case"erase":return"crosshair";case"text":return"text";case"void":return"grab";default:return"default"}}function Ti(){return mr.a.userAgentInstance.getCurrentSession()}function Ii(e){return Ti().getOrCreateConversation(e)}function Oi(e){var t=Ii(e);return new Promise((function(e,n){t.stopNewWhiteboardSession().then((function(){e()})).catch((function(e){n(e)}))}))}function Ei(){return Ti().getWhiteboardClient()}function Ri(e){var t=Ei();t.setScale(e),t.redraw(),t.setFocusOnDrawing(!0)}function ki(e){Ei().setReadOnly(e)}function Mi(){var e=Ei();e.clearPaper(),e.redraw()}function _i(){var e=Ei();e.refreshCanvas(),setTimeout((function(){e.redraw()}),1)}function Ai(e){Ei().setBrushColor(e)}function xi(e){Ei().setBrushSize(e)}function Di(e){var t=Ei();"void"===e?t.deactivateTouchScreen():t.activateTouchScreen(),t.setDrawingTool(e)}var ji=Object(ie.d)(Ke)(Nn||(Nn=Object(a.a)(["\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: grid;\n"]))),Pi=ie.d.canvas(Ln||(Ln=Object(a.a)(["\n\talign-self: center;\n\tjustify-self: center;\n\tcursor: ",";\n\tcursor: ",";\n\tcursor: ",";\n\t/* Hide canvas before dimensions are set to prevent flashing */\n\topacity: ",";\n"])),(function(e){var t=e.cursor;return"".concat("grab"===t?"-moz-grab !important":t)}),(function(e){var t=e.cursor;return"".concat("grab"===t?"-webkit-grab !important":t)}),(function(e){var t=e.cursor;return"".concat("grab"===t?"grab !important":t)}),(function(e){return e.isDisplayed?100:0})),Ni=Object(ie.b)(Un||(Un=Object(a.a)(["\n  .indiana-dragging {\n    cursor: -webkit-grabbing !important;\n    cursor: -moz-grabbing !important;\n    cursor: grabbing !important;\n  }\n"]))),Li=Object(s.forwardRef)((function(e,t){var n=e.id,r=e.labels,i=N((function(e){return e.cursor})).cursor,a=N((function(e){return e.settings})),c=a.snapshotUrl,u=a.textSize,d=a.tool,f=N((function(e){return e.dimensions})),h=f.currentCanvasDimensions,p=f.scale,m=x(),v=Object(s.useState)({x:0,y:0}),g=Object(o.a)(v,2),b=g[0],C=g[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),w=S[0],T=S[1],I=Object(s.useState)(!1),O=Object(o.a)(I,2),E=O[0],R=O[1],k=Object(s.useState)("100% 100%"),M=Object(o.a)(k,2),_=M[0],A=M[1],D=function(e){C(function(e,t){var n=0,r=0;if(window.TouchEvent&&e.nativeEvent instanceof TouchEvent){var i=e.currentTarget,a=e.targetTouches[0],o=i.getBoundingClientRect();n=(a.clientX-o.left)/t,r=(a.clientY-o.top)/t}return e.nativeEvent instanceof MouseEvent&&(n=e.nativeEvent.offsetX/t,r=e.nativeEvent.offsetY/t),{x:n,y:r}}(e,p)),"text"===d?T(!0):"void"!==d&&(m(vi()),m(yi()),m(mi(!1)))};return Object(s.useEffect)((function(){var e=function(e){return"portrait"===e?"auto 100%":"square"===e?"100% 100%":"100% auto"}(di(h));A(e),R(!0)}),[n]),l.a.createElement(l.a.Fragment,null,w&&l.a.createElement(ui,{labels:null===r||void 0===r?void 0:r.textToolDialog,onClose:function(){return T(!1)},onApply:function(e){T(!1),function(e,t,n){var r="arial",i=0,a=t.x,o=t.y;Ei().printSharedText(a,o,e,n,r,i)}(e,b,u),m(vi()),m(yi()),m(mi(!1))}}),l.a.createElement(Ni,null),l.a.createElement(ji,{className:"scroll-container",vertical:"void"===d,horizontal:"void"===d,hideScrollbars:!1},l.a.createElement(Pi,{isDisplayed:E,ref:t,cursor:i,id:n,"data-testid":"wb-canvas",width:h.width,height:h.height,onClick:function(e){return D(e)},onTouchStart:function(e){return D(e)},snapshotUrl:c,style:{background:"url(".concat(c,") 0px 0px / ").concat(_," no-repeat white")}})))})),Ui=ie.d.input(Fn||(Fn=Object(a.a)(["\n\tdisplay: none;\n"]))),Fi=function(e){var t=e.labels,n=e.onClearWhiteboard,r=e.onLoadImage,i=e.onResetWhiteboard,a=e.onRotatePicture,o=e.onSave,c=N((function(e){return e.history})),u=c.actionsCount,d=c.saved,f=N((function(e){return e.settings})).snapshotUrl,h=Object(s.useRef)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ui,{name:"hiddenInput",ref:h,accept:"image/*",type:"file",onChange:function(e){return r(e)},onClick:function(e){e.target.value=""}}),l.a.createElement(vr.a,null,l.a.createElement(vr.b,{withIcon:l.a.createElement(Er,null),use:"link"}),l.a.createElement(vr.c,null,l.a.createElement(vr.d,{withIcon:l.a.createElement(jr,null),onClick:o,disabled:d},t.save),l.a.createElement(vr.d,{withIcon:l.a.createElement(Ir,null),onClick:function(){h.current.click()}},t.loadImage),l.a.createElement(vr.d,{withIcon:l.a.createElement(xr,null),onClick:a,disabled:""===f},t.rotate),l.a.createElement(vr.d,{withIcon:l.a.createElement(Jr.a,null),onClick:n,disabled:!u},t.clear),l.a.createElement(vr.d,{withIcon:l.a.createElement(Zr,null),onClick:i,disabled:0===u&&""===f},t.delete))))};function Wi(){return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var n={lat:0,lng:0};t.coords&&(n.lat=t.coords.latitude,n.lng=t.coords.longitude),e(n)}),(function(){e({lat:0,lng:0})}),{enableHighAccuracy:!1,maximumAge:1/0,timeout:5e3})}))}var Vi=new RegExp(/(www|http:|https:)+[^\s]+[\w]/i);function Bi(e,t){var n=e.lastIndexOf(t);return n>-1?e.substring(0,n):e}function zi(e,t,n){var r=t.charAt(0).toUpperCase()+t.slice(1),i=e.toLocaleString();return"".concat(r,"-").concat(i,".").concat(n).replace(/[/,:]|(\s)/g,"_").replace(/(_+)/g,"_")}function Hi(e,t){var n=function(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");if(r){r.fillStyle="#FFFFFF",r.fillRect(0,0,e.width,e.height);var i=e.style.backgroundImage;"undefined"!==(i=i.replace('url("',"").replace('")',""))&&""!==i?(t.setAttribute("crossOrigin","anonymous"),r.drawImage(t,0,0,e.width,e.height),r.drawImage(e,0,0)):r.drawImage(e,0,0)}return n}(e,t);return new Promise((function(e){n.toBlob(e)}))}function qi(e,t,n,r,a){return Object(re.a)(this,void 0,void 0,i.a.mark((function o(){var s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s={file:t,filetype:r,filename:n,metadata:a},i.abrupt("return",new Promise((function(t,n){e.pushData(s).then((function(e){t(e)})).catch((function(e){n(e)}))})));case 2:case"end":return i.stop()}}),o)})))}function Gi(){return Object(re.a)(this,void 0,void 0,i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi();case 2:return e.t0=e.sent,t={geoloc:e.t0},n=zi(new Date,"whiteboard","png"),"image/png",e.abrupt("return",{metadata:t,filename:n,filetype:"image/png"});case 7:case"end":return e.stop()}}),e)})))}function Ji(e,t,n,r){return e instanceof File?e.type.match(/image\/(.*)/gm)?qi(t,e,e.name,e.type,n):Promise.reject(r.notAnImage):Vi.test(e)?Promise.resolve({url:e}):Promise.reject(r.invalidUrl)}function Yi(e,t,n){return Object(re.a)(this,void 0,void 0,i.a.mark((function r(){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=Bi(a=e.substring(e.lastIndexOf("/")+1),"?"),o={hash:a,enterpriseId:t,token:n},r.abrupt("return",new Promise((function(e,t){mr.a.CloudApi.post("/api/media/rotatePicture",o).then((function(t){e(t)})).catch((function(e){t(e)}))})));case 4:case"end":return r.stop()}}),r)})))}function Zi(e){var t=e.filename,n=e.id,r=e.url;return{from:0,content:t,time:Date.now()/1e3,type:"0",photoUrl:"",author:"",metadata:{partialMediaDescription:{id:n,type:0,url:r,filename:t,title:t}}}}var Ki=.1,$i=99,Qi=.1,Xi=1,ea=800,ta=600,na=[4,20],ra=[16,60],ia=vn({name:"dimensions",initialState:{originalSnapshotDimensions:{width:ea,height:ta},currentCanvasDimensions:{width:ea,height:ta},containerDimensions:{width:ea,height:ta},scale:1,zoom:Xi,layout:"contain"},reducers:{setCanvasDimensions:function(e,t){e.currentCanvasDimensions=t.payload},setOriginalSnapshotDimensions:function(e,t){e.originalSnapshotDimensions=t.payload},setContainerDimensions:function(e,t){e.containerDimensions=t.payload},zoomOut:function(e){var t=Qi,n=Math.max(e.zoom-t,Ki);e.zoom=n;var r=e.originalSnapshotDimensions,i={width:r.width*n,height:r.height*n};e.currentCanvasDimensions=i},zoomIn:function(e){var t=Qi,n=Math.min(e.zoom+t,$i);e.zoom=n;var r=e.originalSnapshotDimensions,i={width:r.width*n,height:r.height*n};e.currentCanvasDimensions=i},resetZoom:function(e){var t=e.originalSnapshotDimensions,n={width:t.width,height:t.height};e.currentCanvasDimensions=n,e.zoom=Xi},setZoom:function(e,t){var n=t.payload;e.zoom=n},scaleOut:function(e){var t=Qi,n=Math.max(e.scale-t,Ki);e.scale=n,Ri(n)},scaleIn:function(e){var t=Qi,n=Math.min(e.scale+t,$i);e.scale=n,Ri(n)},setScale:function(e,t){var n=t.payload;e.scale=n,Ri(n)},setLayout:function(e,t){e.layout=t.payload}}}),aa=ia.actions,oa=aa.setCanvasDimensions,sa=aa.setOriginalSnapshotDimensions,la=aa.setContainerDimensions,ca=aa.zoomOut,ua=aa.zoomIn,da=aa.resetZoom,fa=aa.setZoom,ha=aa.scaleIn,pa=aa.scaleOut,ma=aa.setScale,va=aa.setLayout;var ga=function(){return function(e,t){e(da());var n=t().dimensions.zoom;e(ma(n))}},ba=function(e){return function(t,n){var r=n().dimensions,i=r.layout,a=r.zoom,o=r.containerDimensions,s=function(e,t,n){var r=e.height/t.height,i=e.width/t.width;return"contain"===n?r>1||i>1?r>i?{height:t.height,width:e.width/r}:{height:e.height/i,width:t.width}:Object.assign({},e):"landscape"===di(e)?{width:e.width/r,height:t.height}:{width:t.width,height:e.height/i}}({width:e.width*a,height:e.height*a},o,i),l=s.height/e.height;t(ma(l)),t(fa(l)),t(oa(s))}},Ca=ia.reducer;function ya(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(n){throw new Error(n.message)}}var Sa={colors:["#00EEEF","#F78918","#00E200","#F06D65","#fff","#EBA8D6","#F60001","#F9F304","#1A7AF8","#000"],brushSizeRange:na,brushSizeDefault:na[0],eraserBrushSize:na[0],textSizeRange:ra,keyStorage:"apz-wb-settings",defaultTool:"pen",tool:"pen",brushColor:"",brushSize:na[0],textSize:ra[0],snapshotUrl:"",zoom:Xi,roomId:"",enterpriseId:"",userToken:""};function wa(e){try{var t=function(e){var t={};try{var n=sessionStorage.getItem(e);if(null!=n&&n.length>0){var r=JSON.parse(n);r.snapshotUrl="undefined"===r.snapshotUrl?"":r.snapshotUrl,t=r}}catch(i){throw new Error(i.message)}return t}(e);return Object.assign(Object.assign({},Sa),t)}catch(n){return Sa}}var Ta=vn({name:"cursor",initialState:{cursor:wi(Sa.tool)},reducers:{setCursor:function(e,t){e.cursor=t.payload}}}),Ia=Ta.actions.setCursor,Oa=Ta.reducer,Ea=vn({name:"settings",initialState:Sa,reducers:{setSettings:function(e,t){var n,r=t.payload;(""===r.brushColor&&r.colors||r.brushColor&&-1===(null===(n=r.colors)||void 0===n?void 0:n.indexOf(r.brushColor)))&&(r.brushColor=r.colors[0]);var i=Object.assign(Object.assign({},e),r);return ya(i.keyStorage,i),i},setTool:function(e,t){var n=t.payload;e.tool=n,ya(e.keyStorage,e),Di("text"===n?"void":n),Ei().redraw()},setBrushColor:function(e,t){var n=t.payload;e.brushColor=n,ya(e.keyStorage,e),Ai(n)},setBrushSize:function(e,t){var n=t.payload;e.brushSize=n,ya(e.keyStorage,e),xi(n)},setTextSize:function(e,t){var n=t.payload;e.textSize=n,ya(e.keyStorage,e)},setSnapshotUrl:function(e,t){e.snapshotUrl=t.payload,ya(e.keyStorage,e)}}}),Ra=Ea.actions,ka=Ra.setSettings,Ma=Ra.setTool,_a=Ra.setBrushColor,Aa=Ra.setBrushSize,xa=Ra.setTextSize,Da=Ra.setSnapshotUrl,ja=Ea.reducer,Pa=function(){return function(e){var t={width:ea,height:ta};e(Da("")),e(ba(t)),e(ga()),Mi()}},Na=function(e){return function(t){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(Da(e||"")),!e){n.next=7;break}return n.next=4,fi(e);case 4:r=n.sent,n.next=8;break;case 7:r={width:ea,height:ta};case 8:t(sa(r)),t(ba(r)),Ei().redraw();case 12:case"end":return n.stop()}}),n)})))}},La=function(e,t,n){return function(r){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e&&"moderator"===n&&(Oi(t).catch((function(e){console.error("Unable to close whiteboard session: ".concat(e))})),r(to(t)));case 1:case"end":return i.stop()}}),a)})))}},Ua=vn({name:"dialog",initialState:{loadingDialogStatus:null},reducers:{setLoadingDialogStatus:function(e,t){e.loadingDialogStatus=t.payload}}}),Fa=Ua.actions.setLoadingDialogStatus,Wa=Ua.reducer,Va="wb_get_canvas_background",Ba="wb_reset",za="wb_canvas_background",Ha="wb_set_origin",qa="conv_progress_media",Ga="conv_end_media",Ja="conv_error_media",Ya="wb_stop",Za=function(e){return function(t){var n=e.content,r=n.event,i=n.media;switch(r){case za:i.url&&"undefined"!==i.url&&t(Na(i.url))}}},Ka=function(e,t,n){return function(r,i){var a=e.content.event,o=e.content.command,s=e.sender,l=e.content.media,c=i();switch(o){case Va:var u=c.settings.snapshotUrl,d=Ti();s&&d.sendRawData(s,{event:za,media:{url:u}}).catch((function(e){return alert(e.message)}))}switch(a){case Ha:if(l){var f=l.url;r(ga()),r(Na(f))}break;case Ba:r(Pa());break;case qa:r(Fa("loading"));break;case Ga:r(Fa("done")),setTimeout((function(){r(Fa(null))}),1e3);break;case Ja:r(Fa("error")),setTimeout((function(){r(Fa(null))}),1e3);break;case Ya:Oi(t).catch((function(e){console.error(e)})),n&&n(),r(Pa())}}},$a=function(e,t){return function(){var n=Ii(e),r={event:Ha,media:t};n.sendData(r)}},Qa=function(e){return function(){var t=Ii(e),n={event:qa};t.sendData(n)}},Xa=function(e){return function(){var t=Ii(e),n={event:Ja};t.sendData(n)}},eo=function(e){return function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ii(e),r={event:Ga},n.sendData(r);case 3:case"end":return t.stop()}}),t)})))}},to=function(e){return function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ii(e),r={event:Ya},n.sendData(r);case 3:case"end":return t.stop()}}),t)})))}},no=function(e){return function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ii(e),r={command:Va},n.sendData(r);case 3:case"end":return t.stop()}}),t)})))}},ro=ie.d.div(Wn||(Wn=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\t> * {\n\t\tmargin-right: 15px;\n\t}\n"]))),io=ie.d.div(Vn||(Vn=Object(a.a)(["\n\tbackground-color: ",";\n\twidth: 1px;\n\theight: 30px;\n"])),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].actionsSeparatorColor})),ao=function(e){var t=e.labels,n=e.metadata,r=e.onSave,a=e.role,c=Object.assign(Object.assign({},ai.header),t.header),u=Object.assign(Object.assign({},ai.secondaryMenu),t.secondaryMenu),d=Object.assign(Object.assign({},ai.getImageUrlErrors),t.getImageUrlErrors),f=N((function(e){return e.settings.snapshotUrl})),h=N((function(e){return e.history})),p=h.actionsCount,m=h.undoneCount,v=h.saved,g=x(),b=Object(s.useState)(null),C=Object(o.a)(b,2),y=C[0],S=C[1],w=Object(s.useState)(null),T=Object(o.a)(w,2),I=T[0],O=T[1],E=Object(s.useState)(""),R=Object(o.a)(E,2),k=R[0],M=R[1],_=Object(s.useState)(!1),A=Object(o.a)(_,2),D=A[0],j=A[1],P=Object(s.useState)(!1),L=Object(o.a)(P,2),U=L[0],F=L[1],W=Object(s.useState)(!1),V=Object(o.a)(W,2),B=V[0],z=V[1],H=Object(s.useState)(!1),q=Object(o.a)(H,2),G=q[0],J=q[1],Y=Object(s.useState)(null),Z=Object(o.a)(Y,2),K=Z[0],$=Z[1],Q=n.roomId,X=n.userToken,ee=n.enterpriseId,te=Ii(Q),ne=function(){p>0&&Ei().undo(),g(gi())},ie=function(){Ei().redo(),g(vi()),g(Ci())},oe=function(){setTimeout((function(){O(null),g(eo(Q))}),1e3)},se=function(e){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z(!1),O("loading"),g(Qa(Q)),!((n=e.target.files)&&n.length>0)){t.next=12;break}return t.next=7,Wi();case 7:t.t0=t.sent,r={geoloc:t.t0},Ji(n[0],te,r,d).then((function(e){var t=e.url;console.log(e),g(ga()),g(Na(t)),g($a(Q,{type:"picture",url:t})),Mi()})).then((function(){O("done"),oe()})).catch((function(e){M(e),O("error"),g(Xa(Q))})),t.next=14;break;case 12:M("No file found"),O("error");case 14:case"end":return t.stop()}}),t)})))},le=function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!1),O("loading"),g(Qa(Q)),e.prev=3,e.next=6,Yi(f,ee,X);case 6:t=e.sent,n=t.src,g(Na(n)),g($a(Q,{type:"picture",url:n})),g(mi(!0)),Mi(),g(bi()),O("done"),oe(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),O("error"),oe();case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))},ce=function(){Mi(),g(bi()),!v&&F(!1)},ue=function(){g(Pa()),g(bi()),g(function(e){return function(){var t=Ii(e),n={event:Ba};t.sendData(n)}}(Q)),g(mi(!0)),!v&&j(!1)};return l.a.createElement(l.a.Fragment,null,G&&l.a.createElement(oi,{onApply:function(){return le()},onClose:function(){return J(!1)},labels:t.confirmDialog}),D&&l.a.createElement(oi,{onApply:function(){return ue()},onClose:function(){return j(!1)},labels:t.confirmDialog}),U&&l.a.createElement(oi,{onApply:function(){return ce()},onClose:function(){return F(!1)},labels:t.confirmDialog}),B&&K&&l.a.createElement(oi,{onApply:function(){return se(K)},onClose:function(){return z(!1)},labels:t.confirmDialog}),I&&l.a.createElement(li,{status:I,labels:t.loadingDialog,onClose:function(){return O(null)},errorMessage:k}),y&&l.a.createElement(ci,{status:y,labels:t.savingDialog,onClose:function(){return S(null)}}),l.a.createElement(ro,null,l.a.createElement(Kr.a,{content:c.undo},l.a.createElement(ae.a,{use:"link",size:"medium",ariaLabel:c.undo,withIcon:l.a.createElement(Br,null),onClick:function(){return ne()},disabled:0===p})),l.a.createElement(Kr.a,{content:c.redo},l.a.createElement(ae.a,{use:"link",ariaLabel:c.redo,withIcon:l.a.createElement(_r,null),onClick:function(){return ie()},disabled:0===m})),l.a.createElement(Kr.a,{content:c.zoomOut},l.a.createElement(ae.a,{use:"link",ariaLabel:c.zoomOut,withIcon:l.a.createElement(Hr,null),onClick:function(){g((function(e){e(ca()),e(pa())})),setTimeout((function(){_i()}),0)}})),l.a.createElement(Kr.a,{content:c.zoomIn},l.a.createElement(ae.a,{use:"link",ariaLabel:c.zoomIn,withIcon:l.a.createElement(Gr,null),onClick:function(){g((function(e){e(ua()),e(ha())})),setTimeout((function(){_i()}),0)}})),"guest"!==a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(io,null),l.a.createElement(Fi,{onSave:r,onLoadImage:function(e){e.persist(),v?se(e):($(e),z(!0))},onClearWhiteboard:function(){v?ce():F(!0)},onResetWhiteboard:function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v?ue():j(!0);case 1:case"end":return e.stop()}}),e)})))},onRotatePicture:function(){v?le():J(!0)},labels:u}))))};var oo=ie.d.div(Bn||(Bn=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t> button {\n\t\tmargin-left: 10px;\n\t}\n"]))),so=function(e){var t=e.fullscreenActivated,n=e.labels,r=e.onClose,i=e.onExitFullscreenMode,a=e.onFullscreenMode,o=e.role,c=e.showFullscreen,u=Object.assign(Object.assign({},ai.header),n.header);function d(e){if(e)if(i)i();else try{!function(e){var t=e;if(t.exitFullscreen)t.exitFullscreen();else if(t.webkitExitFullscreen)t.webkitExitFullscreen();else if(t.msExitFullscreen)t.msExitFullscreen();else{if(!t.mozCancelFullscreen)throw new Error("Exit fullscreen not supported");t.mozCancelFullscreen()}}(document)}catch(n){console.warn(n)}else if(a)a();else{var t=document.getElementById("wb-root");if(t)try{!function(e){var t=e;if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else{if(!t.mozRequestFullScreen)throw new Error("Fullscreen not supported");t.mozRequestFullScreen()}}(t)}catch(n){console.warn(n)}}}return Object(s.useEffect)((function(){t&&d(t)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(oo,null,"moderator"===o&&l.a.createElement(ae.a,{use:"primary",withIconStart:l.a.createElement(fe,{title:" "}),onClick:r,ariaLabel:u.closeWhiteboard},u.closeWhiteboard),c&&!t&&l.a.createElement(ae.a,{use:"primary",withIcon:l.a.createElement(ei,null),onClick:function(){return d(t)},ariaLabel:u.setFullscreen}),c&&t&&l.a.createElement(ae.a,{use:"primary",withIcon:l.a.createElement(Qr,null),onClick:function(){return d(t)},ariaLabel:u.setFullscreen})))},lo=ie.d.div(zn||(zn=Object(a.a)(["\n\tposition: absolute;\n\twidth: 280px;\n\ttop: 0;\n\tleft: 50px;\n\tflex-direction: column;\n\tbackground-color: ",";\n\tborder-radius: 5px;\n"])),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].backgroundColor})),co=ie.d.div(Hn||(Hn=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n"]))),uo=ie.d.label(qn||(qn=Object(a.a)(["\n\theight: 28px;\n\twidth: 28px;\n\tborder-radius: 50%;\n\tbackground-color: ",";\n\tflex-shrink: 0;\n\tborder: solid 1px #afafaf;\n\tmargin: 0 20px 20px 0;\n\t:nth-child(5n) {\n\t\tmargin: 0 0 20px 0;\n\t}\n\tborder: solid\n\t\t",";\n\tposition: relative;\n"])),(function(e){return e.color}),(function(e){var t=e.theme,n=e.color,r=e.currentBrushColor;return"2px ".concat(n===r?t.whiteboard[t.themeVariant].colorSelectedBorderColor:t.whiteboard[t.themeVariant].colorPreviewBorderColor)})),fo=ie.d.div(Gn||(Gn=Object(a.a)(["\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]))),ho=ie.d.input(Jn||(Jn=Object(a.a)(["\n\topacity: 0;\n"]))),po=ie.d.label(Yn||(Yn=Object(a.a)(["\n\ttext-align: left;\n\tfont-family: ",";\n\tcolor: ",";\n\tfont-size: ",";\n\tmargin-bottom: ",";\n"])),(function(e){return e.theme.fontFamily.sans}),(function(e){var t=e.theme;return t.tooltip[t.themeVariant].textColor}),(function(e){return e.theme.fontSize.sm}),(function(e){return e.theme.spacing[3]})),mo=ie.d.div(Zn||(Zn=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 20px;\n\t:first-child {\n\t\tpadding-bottom: 0;\n\t}\n\t:not(:last-child) {\n\t\tborder-bottom: solid 1px\n\t\t\t",";\n\t}\n"])),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].settingsSectionsSeparatorColor})),vo=ie.d.div(Kn||(Kn=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t:first-child {\n\t\tmargin-left: ",";\n\t}\n"])),(function(e){return e.theme.spacing[1]})),go=ie.d.div($n||($n=Object(a.a)(["\n\twidth: 38px;\n\theight: ",";\n\tbackground-color: ",";\n\tborder-radius: 50px;\n\tborder: solid 1px ",";\n"])),(function(e){var t=e.size;return"".concat(t,"px")}),(function(e){return e.color}),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].colorPreviewBorderColor})),bo=ie.d.div(Qn||(Qn=Object(a.a)(["\n\tcolor: ",";\n\twidth: 40px;\n\tfont-size: ",";\n\ttext-shadow: ",";\n"])),(function(e){return e.color}),(function(e){var t=e.size;return"".concat(t,"px")}),(function(e){var t=e.theme;return"-1px -1px 0  ".concat(t.whiteboard[t.themeVariant].colorPreviewBorderColor,",  \n      1px -1px 0  ").concat(t.whiteboard[t.themeVariant].colorPreviewBorderColor,",\n      -1px 1px 0  ").concat(t.whiteboard[t.themeVariant].colorPreviewBorderColor,",\n       1px 1px 0  ").concat(t.whiteboard[t.themeVariant].colorPreviewBorderColor)})),Co=ie.d.div(Xn||(Xn=Object(a.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 22px;\n\tinput {\n\t\tflex-grow: 1;\n\t\tmargin-right: 20px;\n\t}\n"])));var yo=function(e){var t,n,r=e.labels,i=e.onClickOutside,a=N((function(e){return e.settings})),o=a.brushSize,c=a.brushSizeRange,u=a.brushColor,d=a.colors,f=a.textSize,h=a.textSizeRange,p=x(),m=Object(s.useRef)();t=m,n=i,Object(s.useEffect)((function(){function e(e){t.current&&null!==t.current&&!t.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]);var v=function(e,t){return e.map((function(e){return l.a.createElement(uo,{"aria-label":r.brushColor+" "+e,color:e,key:"radio-".concat(e),htmlFor:"radio-".concat(e),currentBrushColor:u},u===e&&l.a.createElement(fo,{color:e},l.a.createElement(ti.a,{color:t.whiteboard[t.themeVariant].colorSelectedBorderColor})),l.a.createElement(ho,{id:"radio-".concat(e),type:"radio",value:e,onChange:function(){return function(e){p(_a(e))}(e)},checked:u===e}))}))};return l.a.createElement(ne.b.Consumer,null,(function(e){var t=e.theme;return l.a.createElement(lo,{id:"popup",ref:m},l.a.createElement(mo,null,l.a.createElement(po,{htmlFor:"brush-color"},r.brushColor),l.a.createElement(co,{"data-testid":"colors-grid"},v(d,t))),l.a.createElement(mo,null,l.a.createElement(po,{htmlFor:"brush-size"},r.brushSize),l.a.createElement(Co,null,l.a.createElement("input",{type:"range",id:"brush-size",name:"brush-size",min:c[0],step:"1",max:c[1],value:o,onChange:function(e){var t;t=parseInt(e.target.value),p(Aa(t))}}),l.a.createElement(vo,null,l.a.createElement(kr,{color:t.tooltip[t.themeVariant].textColor}),l.a.createElement(go,{color:u,size:o})))),l.a.createElement(mo,null,l.a.createElement(po,{htmlFor:"text-size"},r.textSize),l.a.createElement(Co,null,l.a.createElement("input",{type:"range",id:"text-size",name:"text-size",min:h[0],step:"1",max:h[1],value:f,onChange:function(e){var t;t=parseInt(e.target.value),p(xa(t))}}),l.a.createElement(vo,null,l.a.createElement(Wr,{color:t.tooltip[t.themeVariant].textColor}),l.a.createElement(bo,{color:u,size:f},"A")))))}))};yo.displayName="Settings";var So={arrow:l.a.createElement(br,null),ellipse:l.a.createElement(Nr,null),rectangle:l.a.createElement(Ur,null)},wo=function(e){var t=e.labels,n=e.isActive,r=void 0!==n&&n,i=e.onSetTool,a=e.tool;return l.a.createElement(l.a.Fragment,null,l.a.createElement(vr.a,{placement:"right"},l.a.createElement(vr.b,{withIcon:So[a],use:"secondary",ariaLabel:t.shapesTools,onClick:function(){return i(a)},pressed:r}),l.a.createElement(vr.c,{"data-testid":"shapes-tools"},l.a.createElement(vr.d,{withIcon:l.a.createElement(br,null),onClick:function(){return i("arrow")}},t.arrowTool),l.a.createElement(vr.d,{withIcon:l.a.createElement(Nr,null),onClick:function(){return i("ellipse")}},t.circleTool),l.a.createElement(vr.d,{withIcon:l.a.createElement(Ur,null),onClick:function(){return i("rectangle")}},t.rectangleTool))))},To=ie.d.div(er||(er=Object(a.a)(["\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tmargin-left: 10px;\n\tpadding: 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: start;\n\tbackground-color: ",";\n\tborder-radius: 50px;\n\tz-index: 10;\n"])),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].toolBarBackgroundColor})),Io=ie.d.div(tr||(tr=Object(a.a)(["\n\tmargin-bottom: ",";\n"])),(function(e){return e.theme.spacing[3]})),Oo=ie.d.div(nr||(nr=Object(a.a)(["\n\theight: 1px;\n\twidth: 100%;\n\tmargin-bottom: ",";\n\tbackground-color: ",";\n"])),(function(e){return e.theme.spacing[3]}),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].toolBarSeparatorColor})),Eo=Object(ie.d)(ae.a)(rr||(rr=Object(a.a)(["\n\theight: 40px;\n\twidth: 40px;\n\tposition: relative;\n"]))),Ro=ie.d.div(ir||(ir=Object(a.a)(["\n\tborder-radius: 50%;\n\twidth: ",";\n\theight: ",";\n\tbackground-color: ",";\n\tborder: solid 1px #cacaca;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translateY(-50%) translateX(-50%);\n"])),(function(e){var t=e.size;return"".concat(t,"px")}),(function(e){var t=e.size;return"".concat(t,"px")}),(function(e){return e.color})),ko=ie.d.div(ar||(ar=Object(a.a)(["\n\tposition: relative;\n"]))),Mo=["arrow","ellipse","rectangle"],_o=["pen","text"].concat(Mo);function Ao(e){return Mo.includes(e)}function xo(e){return _o.includes(e)}var Do=function(e){var t=e.labels,n=N((function(e){return e.settings})),r=n.brushColor,i=n.brushSize,a=n.textSize,c=n.tool,u=x(),d=Ao(c)?c:Mo[0],f=Object(s.useState)(d),h=Object(o.a)(f,2),p=h[0],m=h[1],v=xo(c)?c:_o[0],g=Object(s.useState)(v),b=Object(o.a)(g,2),C=b[0],y=b[1],S=Object(s.useState)(!1),w=Object(o.a)(S,2),T=w[0],I=w[1],O=function(e){Ao(e)&&m(e),xo(e)&&y(e),u(Ma(e)),u(Ia(wi(e)))};return Object(s.useEffect)((function(){Ao(c)?m(c):m(Mo[0])}),[c]),l.a.createElement(l.a.Fragment,null,l.a.createElement(To,null,l.a.createElement(Io,null,l.a.createElement(ko,null,T&&l.a.createElement(yo,{onClickOutside:function(){I(!1)},labels:t}),l.a.createElement(Kr.a,{content:t.settings,placement:"right"},l.a.createElement(Eo,{ariaLabel:t.settings,use:"secondary",onClick:function(){return I(!T)}},l.a.createElement(Ro,{color:r,size:function(e){return"text"===e?a/2.5:i}(C)}))))),l.a.createElement(Oo,null),l.a.createElement(Io,null,l.a.createElement(Kr.a,{content:t.drawingTool,placement:"right"},l.a.createElement(ae.a,{ariaLabel:t.drawingTool,withIcon:l.a.createElement(kr,null),onClick:function(){return O("pen")},use:"secondary",pressed:"pen"===c}))),l.a.createElement(Io,null,l.a.createElement(wo,{tool:p,onSetTool:O,labels:t,isActive:Ao(c)})),l.a.createElement(Io,null,l.a.createElement(Kr.a,{content:t.textTool,placement:"right"},l.a.createElement(ae.a,{ariaLabel:t.textTool,withIcon:l.a.createElement(Wr,null),onClick:function(){return O("text")},use:"secondary",pressed:"text"===c}))),l.a.createElement(Oo,null),l.a.createElement(Io,null,l.a.createElement(Kr.a,{content:t.eraserTool,placement:"right"},l.a.createElement(ae.a,{ariaLabel:t.eraserTool,withIcon:l.a.createElement(yr,null),use:"secondary",onClick:function(){return O("erase")},pressed:"erase"===c}))),l.a.createElement(Io,null,l.a.createElement(Kr.a,{content:t.moveTool,placement:"right"},l.a.createElement(ae.a,{ariaLabel:t.moveTool,withIcon:l.a.createElement(wr,null),use:"secondary",onClick:function(){return O("void")},pressed:"void"===c})))))},jo=ie.d.div(or||(or=Object(a.a)(["\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n"]))),Po=ie.d.div(sr||(sr=Object(a.a)(["\n\tbackground-color: ",";\n\tborder-radius: ",";\n"])),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].headerBackgroundColor}),(function(e){var t=e.theme;return"".concat(t.whiteboard.headerBorderRadius," ").concat(t.whiteboard.headerBorderRadius,"  0 0 }")})),No=ie.d.div(lr||(lr=Object(a.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n"]))),Lo=ie.d.div(cr||(cr=Object(a.a)(["\n\tposition: relative;\n\theight: ",";\n\twidth: 100%;\n"])),(function(e){var t=e.height;return"calc(100% - ".concat(t,"px)")})),Uo=ie.d.div(ur||(ur=Object(a.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\toverflow: hidden;\n\theight: 100%;\n\twidth: 100%;\n\tbackground-color: ",";\n"])),(function(e){var t=e.theme;return t.whiteboard[t.themeVariant].whiteboardBackgroundColor})),Fo=ie.d.div(dr||(dr=Object(a.a)(["\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n\tpadding: 40px;\n"]))),Wo=function(e){var t=e.canvasId,n=e.closeWhiteboardFromOutsideCallback,r=e.cursorColor,a=e.fullscreenActivated,c=e.imageFitAtLoad,u=e.isOpen,d=e.isReadOnly,f=e.labels,h=e.metadata,p=e.onClose,m=e.onEdit,v=e.onExitFullscreenMode,g=e.onFullscreenMode,b=e.onSave,C=e.role,y=e.setSnapshotUrlCallback,S=e.showFullscreen,w=e.snapshotUrl,T=Object.assign(Object.assign({},ai),f),I=Object.assign(Object.assign({},ai.confirmSaveAndCloseDialog),null===f||void 0===f?void 0:f.confirmSaveAndCloseDialog),O=Object(s.useRef)(null),E=Object(s.useRef)(),R=Object(s.useRef)(null),k=Object(s.useRef)(!0),M=Object(s.useState)(0),_=Object(o.a)(M,2),A=_[0],D=_[1],j=Object(s.useState)(!1),P=Object(o.a)(j,2),L=P[0],U=P[1],F=Object(s.useState)(!1),W=Object(o.a)(F,2),V=W[0],B=W[1],z=Object(s.useState)(!1),H=Object(o.a)(z,2),q=H[0],G=H[1],J=Object(s.useState)(null),Y=Object(o.a)(J,2),Z=Y[0],K=Y[1],$=N((function(e){return e.history})).saved,Q=N((function(e){return e.dimensions})).originalSnapshotDimensions,X=N((function(e){return e.dialog})).loadingDialogStatus,ee=N((function(e){return e.settings.snapshotUrl})),te=x(),ne=h.roomId;window.onresize=function(){if(O.current){var e={width:O.current.offsetWidth,height:O.current.offsetHeight};te(la(e)),te(ba(Q)),Ei().redraw()}};var ie=function(e){te(Ka(e,ne,p))},oe=function(e){te(Za(e))},le=function(){te(no(ne))};Object(s.useEffect)((function(){var e;te(va(c));var n=h.keyStorage&&wa(h.keyStorage),a=Object.assign(Object.assign(Object.assign({},n),h),{snapshotUrl:w});te(ka(a));var o=Ii(ne),s=Ti();o.on("data",ie),o.on("contactJoined",le),s.on("rawData",oe);var l={canvasId:t,currentContainerRef:O.current,cursorColor:r||"#FF0000",isReadOnly:d,roomId:ne,snapshotUrl:a.snapshotUrl};te(function(e){var t=e.canvasId,n=e.currentContainerRef,r=e.cursorColor,a=e.isReadOnly,o=e.roomId,s=e.snapshotUrl;return function(e,l){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function c(){var u,d,f,h,p,m,v;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:u=l(),d=u.settings,f=d.brushColor,h=d.brushSize,p=d.tool,m=Ii(o),Object.values(m.getContacts()).length>0&&e(no(o)),v=Ei(),m.startNewWhiteboardSession(t,r).catch((function(e){console.error("@whiteboard: could not start whiteboard session.",e)})).finally((function(){try{v.setFocusOnDrawing(!0),v.setCanvas(t),Ai(f),xi(h),Di("text"===p?"void":p),e(Ia(wi(p)))}catch(n){console.error("@whiteboard: setting canvas failure.",n)}})),n&&setTimeout((function(){var t={width:n.offsetWidth||0,height:n.offsetHeight||0};e(la(t)),e(Na(s))}),0),ki(a);case 10:case"end":return i.stop()}}),c)})))}}(l));var u=null===(e=R.current)||void 0===e?void 0:e.offsetHeight;return u&&D(u),function(){window.onresize=null,o.removeListener("data",Ka),o.removeListener("contactJoined",le),s.removeListener("rawData",Za)}}),[]);var ce=function(){O.current&&setTimeout((function(){var e,t,n={width:(null===(e=null===O||void 0===O?void 0:O.current)||void 0===e?void 0:e.offsetWidth)||0,height:(null===(t=null===O||void 0===O?void 0:O.current)||void 0===t?void 0:t.offsetHeight)||0};(te(la(n)),te(Na(w)),Mi(),te(mi(!0)),te(bi()),te(yi()),w)&&te($a(ne,{type:"picture",url:w}))}),0)};Object(s.useEffect)((function(){if(!k.current)return w!==ee&&($?ce():G(!0)),function(){k.current&&(k.current=!0)};k.current=!1}),[w]);var ue=function(){setTimeout((function(){K(null),te(eo(ne))}),1e3)},de=function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function e(){var t,n,r,a,o,s,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K("loading"),te(Qa(ne)),e.next=4,Gi();case 4:return t=e.sent,n=t.filename,r=t.filetype,a=t.metadata,(o=document.createElement("img")).setAttribute("crossOrigin","anonymous"),s=E.current,l=function(e){return new Promise((function(t,n){s?Hi(s,e).then((function(e){e?t(e):n()})):n()}))},c=function(e){return new Promise((function(t,i){l(e).then((function(e){var t=Ii(ne),i=new File([e],n);return console.log(i),qi(t,i,n,r,a)})).then((function(e){var r=e.url,i=e.id;te(Na(r)),te($a(ne,{type:"picture",url:r})),Mi(),K("done"),te(mi(!0));var a=Zi({filename:n,id:i,url:r});b&&b(a),ue(),t()})).catch((function(e){K("error"),ue(),i(e)}))}))},e.abrupt("return",new Promise((function(e){ee?(o.onload=function(){c(o).then((function(){e()}))},o.onerror=function(){o&&(o.onerror=function(){K("error"),ue()})},o.src=ee):c(o).then((function(){e()}))})));case 12:case"end":return e.stop()}}),e)})))},fe=function(e){"moderator"===C&&e&&te(La(!0,ne,C)),n&&n(e)},he=function(){te(mi(!0)),te(bi()),te(da()),te(Na(""))};return Object(s.useEffect)((function(){u||($||"guest"===C?fe(!0):U(!0))}),[u]),l.a.createElement(l.a.Fragment,null,q&&l.a.createElement(oi,{onApply:function(){return ce(),void G(!1)},onClose:function(){return y&&y(ee),void G(!1)},labels:null===f||void 0===f?void 0:f.confirmDialog}),X&&l.a.createElement(li,{labels:null===f||void 0===f?void 0:f.loadingDialog,status:X,onClose:function(){return te(Fa(null))}}),L&&l.a.createElement(si,{onClose:function(){he(),U(!1),fe(!0)},onSaveAndClose:function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de().then((function(){he(),fe(!0)}));case 1:case"end":return e.stop()}}),e)})))},onCancel:function(){U(!1),fe(!1)},labels:I}),V&&l.a.createElement(si,{onClose:function(){te(La(!0,ne,C)),he(),p&&p()},onSaveAndClose:function(){return Object(re.a)(void 0,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de().then((function(){te(La(!0,ne,C)),he(),p&&p()}));case 1:case"end":return e.stop()}}),e)})))},onCancel:function(){B(!1)},labels:I}),Z&&l.a.createElement(ci,{status:Z,labels:null===f||void 0===f?void 0:f.savingDialog,onClose:function(){return K(null)}}),l.a.createElement(jo,{id:"wb-root"},!d&&l.a.createElement(Po,{ref:R},l.a.createElement(se.a,{horizontal:"8",vertical:"5"},l.a.createElement(No,null,l.a.createElement(ao,{labels:T,onSave:de,metadata:h,canvasElement:E.current,role:C}),l.a.createElement(so,{fullscreenActivated:a,labels:T,metadata:h,onClose:function(){$?(te(La(!0,ne,C)),he(),p&&p()):B(!0)},onExitFullscreenMode:v,onFullscreenMode:g,showFullscreen:S,role:C})))),l.a.createElement(Lo,{height:A},!d&&l.a.createElement(Do,{labels:T.toolsBar}),l.a.createElement(Uo,{ref:O},l.a.createElement(Li,{id:t,ref:E,labels:f})),d&&m&&l.a.createElement(Fo,null,l.a.createElement(ae.a,{withIcon:l.a.createElement(ri,null),onClick:m})))))},Vo=ie.d.div(fr||(fr=Object(a.a)(["\n\tbackground: #3a99d8; // TODO: put in theme\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100%;\n"]))),Bo=function(){return l.a.createElement(Vo,null,l.a.createElement(ii.a,{height:100,width:100,color:"white"}))},zo=function(e){var t,n=function(e){return hn(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!dn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=O(a)}var p=R.apply(void 0,"function"===typeof s?s(n):s),m=E;c&&(m=un(rn({trace:!1},"object"===typeof c&&c)));var v=[p];return Array.isArray(h)?v=[p].concat(h):"function"===typeof h&&(v=h(v)),I(t,d,m.apply(void 0,v))}({reducer:{cursor:Oa,dialog:Wa,dimensions:Ca,history:Si,settings:ja},middleware:hn()}),Ho=function(e){var t=e.canvasId,n=e.closeWhiteboardFromOutsideCallback,r=e.fullscreenActivated,i=void 0!==r&&r,a=e.isMinimized,o=void 0!==a&&a,s=e.isReadOnly,c=void 0!==s&&s,u=e.imageFitAtLoad,d=void 0===u?"contain":u,f=e.isOpen,h=void 0===f||f,p=e.labels,v=e.metadata,g=e.onClose,b=e.onEdit,C=e.onExitFullscreenMode,y=e.onFullscreenMode,S=e.onSave,w=e.role,T=void 0===w?"guest":w,I=e.setSnapshotUrlCallback,O=e.showFullscreen,E=void 0===O||O,R=e.snapshotUrl;return l.a.createElement(ne.a,null,l.a.createElement(m,{store:zo},o?l.a.createElement(Bo,null):l.a.createElement(Wo,{canvasId:t,closeWhiteboardFromOutsideCallback:n,fullscreenActivated:i,imageFitAtLoad:d,isOpen:h,isReadOnly:c,labels:p,metadata:v,onSave:S,onEdit:b,onExitFullscreenMode:C,onFullscreenMode:y,onClose:g,role:T,setSnapshotUrlCallback:I,showFullscreen:E,snapshotUrl:R})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Nn}));var r=n(15),i=n.n(r),a=n(28),o=n(8),s=n(2),l=n(21),c=n(0),u=n.n(c),d=n(45),f=n.n(d),h=function(e){return void 0!==e.username&&void 0!==e.password},p=function(e){return void 0!==e.token},m=function(e){return void 0!==e.apiKey},v=function(e,t){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function n(){var r,a,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={cloudUrl:(null===t||void 0===t?void 0:t.cloudUrl)?t.cloudUrl:"https://cloud.apizee.com"},p(e)?r.uri="token:".concat(e.token):h(e)?(r.uri="apizee:".concat(e.username),r.password=e.password):m(e)&&(r.uri="apzkey:".concat(e.apiKey)),!(a=f.a.Session.getActiveSession())){n.next=6;break}return n.next=6,a.getUserAgent().unregister();case 6:return o=new f.a.UserAgent({uri:r.uri}),n.next=9,o.register(r);case 9:return a=n.sent,n.abrupt("return",a);case 11:case"end":return n.stop()}}),n)})))},g={audioInput:[],videoInput:[],audioOutput:[]},b=u.a.createContext({cloudApi:f.a.CloudApi,devices:g}),C=function(e){var t=e.children,n=u.a.useState(),r=Object(o.a)(n,2),a=r[0],s=r[1],d=u.a.useState(),h=Object(o.a)(d,2),p=h[0],m=h[1],C=u.a.useState(),y=Object(o.a)(C,2),S=y[0],w=y[1],T=u.a.useState(g),I=Object(o.a)(T,2),O=I[0],E=I[1];u.a.useEffect((function(){var e=f.a.Session.getActiveSession();e&&R(e)}),[]),Object(c.useEffect)((function(){null===a||void 0===a||a.on("mediaDeviceChanged",(function(){var e=a.getUserMediaDevices();E({audioInput:Object.values(e.audioinput),videoInput:Object.values(e.videoinput),audioOutput:Object.values(e.audiooutput)})}))}),[a]);var R=function(e){m(e),w(null===e||void 0===e?void 0:e.getUserData()),s(null===e||void 0===e?void 0:e.getUserAgent())};return u.a.createElement(b.Provider,{value:{userAgent:a,devices:O,session:p,userData:S,cloudApi:f.a.CloudApi,createStream:function(e,t){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===a||void 0===a?void 0:a.createStream(Object.assign(Object.assign({},e),t));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))},register:function(e){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.a.Session.getActiveSession()||void 0){t.next=11;break}return t.prev=2,t.next=5,v({apiKey:e});case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.error("Register apiRTC failed (apiKey may not be defined).",t.t0);case 11:R(n);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))},login:function(e,t,n){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function r(){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={username:e,password:t},r.next=3,v(a,n);case 3:o=r.sent,R(o);case 5:case"end":return r.stop()}}),r)})))},logout:function(){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return",p.getUserAgent().unregister().then((function(){return R()})));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})))},getConversation:function(e){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=4;break}return t.abrupt("return",p.getOrCreateConference(e));case 4:return t.abrupt("return",Promise.reject(new Error("No apiRTC session found")));case 5:case"end":return t.stop()}}),t)})))}}},t)},y=function(e){var t=e.displayName||e.name||"Component",n=function(t){return u.a.createElement(C,null,u.a.createElement(b.Consumer,null,(function(n){return u.a.createElement(e,Object.assign({},t,{apirtc:n}))})))};return n.displayName="withApirtc(".concat(t,")"),n};y.displayName="withApirtc";var S,w=n(1),T=n(188),I=n.n(T),O=n(88),E=n(151),R=n(32),k=n(22),M=n(132),_=n(3);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x="undefined"!==typeof document?c.useLayoutEffect:c.useEffect,D=function(e,t){"function"!==typeof e?e.current=t:e(t)},j={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},P=function(e){Object.keys(j).forEach((function(t){e.style.setProperty(t,j[t],"important")}))},N=null;var L=function(){},U=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],F="undefined"!==typeof document&&!!document.documentElement.currentStyle,W=function(e){var t=function(e){var t=Object(c.useRef)(e);return x((function(){t.current=e})),t}(e);Object(c.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},V=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,i=e.minRows,a=e.onChange,o=void 0===a?L:a,s=e.onHeightChange,l=void 0===s?L:s,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var d=void 0!==u.value,f=Object(c.useRef)(null),h=function(e,t){var n=Object(c.useRef)();return Object(c.useCallback)((function(r){e.current=r,n.current&&D(n.current,null),n.current=t,t&&D(t,r)}),[t])}(f,t),p=Object(c.useRef)(0),m=Object(c.useRef)(),v=function(){var e=f.current,t=n&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,U.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(F&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var a=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),N||((N=document.createElement("textarea")).setAttribute("tabindex","-1"),N.setAttribute("aria-hidden","true"),P(N)),null===N.parentNode&&document.body.appendChild(N);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;N.style[t]=o[t]})),P(N),N.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(N,e);N.value="x";var c=N.scrollHeight-i,u=c*n;"border-box"===s&&(u=u+i+a),l=Math.max(u,l);var d=c*r;return"border-box"===s&&(d=d+i+a),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",i,r),o=a[0],s=a[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),l(o,{rowHeight:s}))}};return"undefined"!==typeof document&&(Object(c.useLayoutEffect)(v),W(v)),Object(c.createElement)("textarea",A({},u,{onChange:function(e){d||v(),o(e)},ref:h}))},B=Object(c.forwardRef)(V),z=Object(w.d)(M.a)(S||(S=Object(s.a)(["\n\theight: auto;\n\n\ttextarea {\n\t\theight: auto;\n\t\tline-height: 23px;\n\t\tresize: ",";\n\t}\n\n\tlabel {\n\t\ttop: 0;\n\t\ttransform: translateY(100%);\n\t}\n"])),(function(e){return e.resize||"auto"})),H=function(e,t){var n=e.autoSize,r=void 0!==n&&n,i=e.label,a=e.placeholder,o=Object(l.b)(e,["autoSize","label","placeholder"]),s=Object.assign(Object.assign({},o),{"aria-label":e["aria-label"]||"Text area",label:i,placeholder:a||i,ref:t});return u.a.createElement(_.a,null,u.a.createElement(z,Object.assign({},s,{forwardAs:r?B:"textarea"})))};H.displayName="TextArea";var q=Object(c.forwardRef)(H);var G,J,Y,Z,K,$,Q,X,ee=n(5),te=w.d.svg(G||(G=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ne=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(te,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"AppApizeeFull"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.438 2.375a8.318 8.318 0 0 0-5.313 1.25c-.75.563-1.5 1.188-2 1.938-.056.084-.113.165-.168.245-.191.277-.374.54-.52.88-.124.187-.25.375-.25.625l-.057.117c-.054.113-.083.175-.132.204-.06.036-.149.023-.345-.005l-.028-.004c-3.688-.687-7.5 1.063-9.375 4.25-1.875 3.188-1.563 7.375.812 10.25.625.813 1.438 1.5 2.313 2.063.219.125.453.234.687.343.235.11.47.219.688.344.03.03.1.045.166.06.076.016.146.032.146.065.101.076.151.09.175.097.01.003.015.005.017.008.004.005.003.013.001.032a1.066 1.066 0 0 0-.005.113c0 .094-.047.219-.094.344-.047.125-.094.25-.094.343-.5 1.438-1.187 2.813-1.875 4.125 2.625-1.062 5.25-2.25 7.563-3.75 1.188 2.125 3.688 3.125 6 2.625 1.063-.187 2.063-.75 2.813-1.5.285-.285.498-.643.721-1.018a18.605 18.605 0 0 1 .307-.498c.044-.068.06-.095.084-.106a.178.178 0 0 1 .06-.012A1.35 1.35 0 0 0 23 25.75c.25-.063.563-.063.875-.063 4.563-.562 7.938-4.75 7.563-9.375-.313-2.687-1.813-5.187-4.125-6.624-.375-4.125-3.25-6.813-6.875-7.313Zm-5.063 14.188h-8.75c.312 3.187 3.312 4.25 5.625 3.187.084-.037.165-.078.244-.116.45-.222.821-.406 1.194.178.5.688-.25 1.125-.813 1.438-1.375.625-2.938.688-4.313.125-2.75-1.063-4.187-4.25-3.125-7.063 1-2.687 3.813-4.062 6.625-3.374 1.313.374 2.563 1.062 3.25 2.25.376.687 1.563 3.374.063 3.374ZM22 21.75c1.625.125 3.188-.5 4.375-1.563 2.375-2.437 2-6.625-.938-8.562-2.187-1.438-5.25-1.188-7.062.75-.875.875-1.438 2.063-1.438 3.375 0 .813.313.813 1.063.813h8.375c-.063 1.562-1 2.625-2.125 3.187-.625.313-1.375.625-2.063.563-.5-.063-.937-.125-1.312-.313-.11-.044-.23-.112-.35-.181-.22-.126-.448-.256-.65-.256-.813 0-.875 1-.375 1.375.688.5 1.688.75 2.5.812Zm2.313-9.125c-2.375-1.188-5.375-.375-5.875 2.813h7.937c-.125-1.563-.875-2.188-2.063-2.813ZM6.625 15.438C7 13.312 9.5 11.624 11.813 12.374c1.437.438 2.5 1.5 2.75 3.063H6.625Z",fill:p(a,e.theme)}),n))}))},re=w.d.svg(J||(J=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ie=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(re,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"DocAttach"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.09 8.348v14.67A5.063 5.063 0 0 1 16 28.096a5.063 5.063 0 0 1-5.09-5.078V7.078c0-1.693 1.413-3.174 3.18-3.174 1.769 0 3.183 1.481 3.183 3.174v13.4c0 .706-.566 1.27-1.273 1.27a1.266 1.266 0 0 1-1.273-1.27V8.349h-1.909v12.13A3.165 3.165 0 0 0 16 23.653a3.165 3.165 0 0 0 3.182-3.173v-13.4C19.182 4.326 16.919 2 14.09 2A5.063 5.063 0 0 0 9 7.078v15.94A6.962 6.962 0 0 0 16 30c3.889 0 7-3.103 7-6.982V8.348h-1.91Z",fill:p(a,e.theme)}),n))}))},ae=w.d.svg(Y||(Y=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),oe=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(ae,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"Laptop"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 7v12H7V7h18Zm.75-3H6.25A2.25 2.25 0 0 0 4 6.25v13.5A2.25 2.25 0 0 0 6.25 22h19.5A2.25 2.25 0 0 0 28 19.75V6.25A2.25 2.25 0 0 0 25.75 4Zm4.688 19.5h-11.18a.274.274 0 0 0-.277.24A1.499 1.499 0 0 1 17.5 25h-3c-.75 0-1.369-.548-1.481-1.26a.285.285 0 0 0-.277-.24H1.562a.564.564 0 0 0-.562.563v1.687A2.25 2.25 0 0 0 3.25 28h25.5A2.25 2.25 0 0 0 31 25.75v-1.688a.564.564 0 0 0-.563-.562Z",fill:p(a,e.theme)}),n))}))},se=w.d.svg(Z||(Z=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),le=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(se,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"Smile"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 .422C5.819.422 0 6.275 0 13.5s5.819 13.078 13 13.078S26 20.725 26 13.5 20.181.422 13 .422Zm0 23.625c-5.782 0-10.484-4.73-10.484-10.547S7.218 2.953 13 2.953 23.484 7.683 23.484 13.5 18.782 24.047 13 24.047Zm-4.194-11.39a1.68 1.68 0 0 0 1.678-1.688A1.68 1.68 0 0 0 8.806 9.28 1.68 1.68 0 0 0 7.13 10.97c0 .933.75 1.687 1.677 1.687Zm8.388 0a1.68 1.68 0 0 0 1.677-1.688 1.68 1.68 0 0 0-1.677-1.688 1.68 1.68 0 0 0-1.678 1.688c0 .933.75 1.687 1.678 1.687Zm.21 3.828a5.707 5.707 0 0 1-8.807 0 1.257 1.257 0 0 0-1.772-.164 1.274 1.274 0 0 0-.163 1.783A8.209 8.209 0 0 0 13 21.089a8.209 8.209 0 0 0 6.337-2.985 1.27 1.27 0 0 0-.162-1.783 1.257 1.257 0 0 0-1.772.164Z",fill:p(a,e.theme)}),n))}))},ce=w.d.svg(K||(K=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ue=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(ce,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"PaperPlane"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.568 2.158c.317.264.475.58.422.95l-3.848 23.15c-.053.316-.211.527-.527.685-.106.106-.264.106-.422.106-.158 0-.264 0-.369-.053l-6.853-2.795-3.637 4.43c-.158.264-.422.369-.738.369-.106 0-.211 0-.317-.053-.21-.052-.369-.21-.474-.369a.89.89 0 0 1-.158-.527v-5.274L25.667 6.8 9.537 20.773 3.58 18.295c-.37-.106-.527-.37-.58-.791 0-.422.158-.738.474-.897L28.567 2.158c.105-.105.263-.158.474-.158a.89.89 0 0 1 .527.158Z",fill:p(a,e.theme)}),n))}))},de=n(29),fe=w.d.svg($||($=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),he=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(fe,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"IdentityUserNocircle"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.872 9.263A5.247 5.247 0 0 0 15.608 4a5.247 5.247 0 0 0-5.263 5.263c0 2.878 2.385 5.263 5.263 5.263a5.247 5.247 0 0 0 5.264-5.263ZM5 23.326C7.303 26.78 11.168 29 15.609 29c4.44 0 8.306-2.22 10.608-5.674-.082-3.537-7.072-5.428-10.608-5.428-3.537 0-10.527 1.892-10.609 5.428Z",fill:p(a,e.theme)}),n))}))},pe=w.d.div(Q||(Q=Object(s.a)(["\n\theight: ",";\n\twidth: ",";\n\tborder-radius: 50%;\n\tbox-sizing: border-box;\n\tborder: ",";\n\tsvg * {\n\t\tfill: ",";\n\t}\n"])),(function(e){return e.size+"px"}),(function(e){return e.size+"px"}),(function(e){var t=e.hasCircle,n=e.theme;return t?"".concat(2,"px solid ").concat(n.avatar[n.themeVariant].borderColor):"none"}),(function(e){var t=e.theme;return t.avatar[t.themeVariant].avatarColor})),me=w.d.img(X||(X=Object(s.a)(["\n\theight: ","px;\n\twidth: ","px;\n\tborder-radius: 50%;\n\tborder: ",";\n"])),(function(e){var t=e.hasCircle,n=e.size;return t?n-6:n}),(function(e){var t=e.hasCircle,n=e.size;return t?n-6:n}),(function(e){return e.hasCircle?"1px solid transparent":"none"})),ve=function(e){var t=e.ariaLabel,n=e.icon,r=e.size,i=void 0===r?30:r,a=e.url,o=e.hasCircle,s=void 0===o||o,l=e.name,c=s||!a,d=c?i-4:i;return u.a.createElement(_.a,null,u.a.createElement(pe,{size:i,"aria-label":t,hasCircle:c,url:a},a&&u.a.createElement(me,{alt:l,size:i,src:a,hasCircle:c}),!a&&(n?u.a.cloneElement(n,{height:d,width:d}):u.a.createElement(he,{height:d,width:d}))))},ge=n(49),be=n(189),Ce=n.n(be),ye=n(102),Se="Your iOS version is not compatible to download this file, please upgrade to iOS 13";var we,Te,Ie,Oe,Ee,Re,ke,Me,_e,Ae,xe,De,je,Pe,Ne,Le,Ue,Fe,We,Ve,Be,ze,He,qe,Ge,Je,Ye,Ze,Ke,$e,Qe,Xe,et,tt,nt,rt,it,at,ot=n(128),st=n(35),lt=w.d.svg(we||(we=Object(s.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),ct=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,d=void 0===c?"0 0 32 32":c,f=e.width,h=void 0===f?"20":f,p=function(e,t){return e.startsWith("url(#")?e:Object(ee.a)(e,t)};return u.a.createElement(_.b.Consumer,null,(function(e){return u.a.createElement(w.a,{theme:e.theme},u.a.createElement(lt,{"aria-hidden":t,className:r,width:"".concat(h,"px"),height:"".concat(s,"px"),viewBox:d,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"Download"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.563 12.188h6.125L16 22.812 5.312 12.188h6.125V3.063h9.126v9.124Zm-15.25 16.75v-3h21.375v3H5.313Z",fill:p(a,e.theme)}),n))}))},ut=n(129),dt=w.d.div(Te||(Te=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\theight: 10px;\n\twidth: 100%;\n\tborder-radius: 15px;\n\tbackground-color: ",";\n\toverflow-x: hidden;\n\tbottom: -1px;\n"])),(function(e){var t=e.theme;return t.progressBar[t.themeVariant].backgroundColor})),ft=w.d.div(Ie||(Ie=Object(s.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),ht=w.d.div(Oe||(Oe=Object(s.a)(["\n\tposition: absolute;\n\tborder-radius: ",";\n\theight: ",";\n\tbackground-color: ",";\n\twidth: ",";\n\t",";\n"])),(function(e){return e.theme.progressBar.borderRadius}),(function(e){return e.theme.progressBar.height}),(function(e){var t=e.theme;return t.progressBar[t.themeVariant].progressColor}),(function(e){var t=e.percent;return t?"".concat(t,"%"):"auto"}),(function(e){var t=e.direction,n=e.timer,r=e.percent;return"increase"===t?Object(w.c)(Ee||(Ee=Object(s.a)(["\n\t\t\t\t\t","\n\t\t\t\t\t@keyframes increase {\n\t\t\t\t\t\tfrom {\n\t\t\t\t\t\t\tleft: -5%;\n\t\t\t\t\t\t\twidth: 5%;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tto {\n\t\t\t\t\t\t\tleft: 130%;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t@keyframes progressAnimation {\n\t\t\t\t\t\tfrom {\n\t\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tto {\n\t\t\t\t\t\t\twidth: ","%;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t  "])),n?Object(w.c)(Re||(Re=Object(s.a)(["\n\t\t\t\t\t\t\t\tanimation: progressAnimation ",";\n\t\t\t\t\t\t  "])),n+"ms"):Object(w.c)(ke||(ke=Object(s.a)(["\n\t\t\t\t\t\t\t\tanimation: increase 2s infinite;\n\t\t\t\t\t\t  "]))),r||100):Object(w.c)(Me||(Me=Object(s.a)(["\n\t\t\t\t\tanimation: decrease 2s 0.5s infinite;\n\t\t\t\t\t@keyframes decrease {\n\t\t\t\t\t\tfrom {\n\t\t\t\t\t\t\tleft: -80%;\n\t\t\t\t\t\t\twidth: 80%;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tto {\n\t\t\t\t\t\t\tleft: 110%;\n\t\t\t\t\t\t\twidth: 10%;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t  "])))}));function pt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}function mt(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function vt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bt(l,(function(e){return e.test(s)})):gt(l,(function(e){return e.test(s)}));o=e.valueCallback?e.valueCallback(c):c,o=n.valueCallback?n.valueCallback(o):o;var u=t.slice(s.length);return{value:o,rest:u}}}function gt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function bt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Ct(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function yt(e){Ct(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}var St,wt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tt=function(e,t,n){var r,i=wt[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},It={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ot=function(e,t,n,r){return It[e]},Et={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:mt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:mt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:mt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:mt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:mt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},Rt={ordinalNumber:(St={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(St.matchPattern);if(!n)return null;var r=n[0],i=e.match(St.parsePattern);if(!i)return null;var a=St.valueCallback?St.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(r.length);return{value:a,rest:o}}),era:vt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:vt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:vt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:vt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:vt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},kt={code:"en-US",formatDistance:Tt,formatLong:{date:pt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:pt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:pt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:Ot,localize:Et,match:Rt,options:{weekStartsOn:0,firstWeekContainsDate:1}},Mt={shareFromComputerFile:"From your computer",shareFromOtherSource:"From Apizee Files",textAreaAriaLabel:"",sendButtonAriaLabel:"Send",emojiPickerButton:"Emojis"},_t=w.d.form(_e||(_e=Object(s.a)(["\n\tposition: relative;\n\tdisplay: inline-flex;\n\tflex-direction: 'row';\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding: 10px;\n\twidth: 100%;\n\tbackground-color: ",";\n\tborder-top: 1px solid ",";\n\t& > * {\n\t\t&:first-child {\n\t\t\tmargin-left: 0px;\n\t\t}\n\t\tmargin-left: 8px;\n\t}\n\t& li {\n\t\tmargin-left: 0px;\n\t}\n\n\t& textArea {\n\t\toverflow: visible;\n\t\twhite-space: pre-wrap;\n\t\tpadding-right: ",";\n\t\t::-webkit-scrollbar {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"])),(function(e){var t=e.theme;return t.chat.composer[t.themeVariant].backgroundColor}),(function(e){var t=e.theme;return t.chat.composer[t.themeVariant].borderColor}),(function(e){var t=e.theme;return e.withEmojis?t.spacing[16]:t.spacing[8]})),At=w.d.div(Ae||(Ae=Object(s.a)(["\n\tposition: absolute;\n\tright: 70px;\n\tbottom: ",";\n"])),(function(e){return e.theme.spacing[8]})),xt=w.d.div(xe||(xe=Object(s.a)(["\n\tz-index: 3;\n\tposition: absolute;\n\tright: 70px;\n\tbottom: ",";\n\n\t.emoji-picker-react {\n\t\tbox-shadow: none;\n\t\tfilter: ",";\n\t\tli {\n\t\t\tfilter: ",";\n\t\t}\n\t}\n"])),(function(e){return e.theme.spacing[20]}),(function(e){return"dark"===e.theme.themeVariant?"invert(1)":"none"}),(function(e){return"dark"===e.theme.themeVariant?"invert(1)":"none"})),Dt=function(e){var t=e.labels,n=void 0===t?Mt:t,r=e.value,i=void 0===r?"":r,a=e.placeholder,s=void 0===a?"My message":a,l=e.maxCharacters,d=void 0===l?1e3:l,f=e.rows,h=void 0===f?1:f,p=e.maxRows,m=void 0===p?4:p,v=e.onTyping,g=e.onStopTyping,b=e.onSubmit,C=e.disabled,y=void 0!==C&&C,S=e.canInputFile,w=void 0!==S&&S,T=e.canShareOtherFile,M=void 0!==T&&T,A=e.onChangeInputFile,x=e.onShareOtherFile,D=e.shareIcon,j=void 0===D?u.a.createElement(ne,null):D,P=e.withEmojis,N=void 0!==P&&P,L=e.emojisCategories,U=Object(c.useState)(i.trim().slice(0,d)),F=Object(o.a)(U,2),W=F[0],V=F[1],B=Object(c.useState)(!0),z=Object(o.a)(B,2),H=z[0],G=z[1],J=Object(c.useState)(!1),Y=Object(o.a)(J,2),Z=Y[0],K=Y[1],$=Object(c.useState)({start:0,end:0}),Q=Object(o.a)($,2),X=Q[0],ee=Q[1],te=Object(c.useState)(!1),re=Object(o.a)(te,2),ae=re[0],se=re[1],ce=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var n=function(n){t.current&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("click",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("click",n),document.removeEventListener("touchstart",n)}}),[t,e]),t}((function(){return K(!1)})),de=Object(c.useRef)(null),fe=v&&Object(c.useCallback)(O.a.debounce(v,1e3,{leading:!0}),[W]);Object(c.useEffect)((function(){if(g){var e=setTimeout((function(){return g()}),2e3);return W&&fe&&fe(W),function(){return clearTimeout(e)}}}),[W]),Object(c.useEffect)((function(){ae&&de.current&&(de.current.setSelectionRange(X.start,X.end),de.current.focus(),se(!1))}),[ae]);var he=function(){K(!1),W.trim().length>0&&(b(W),pe(""),fe&&fe.cancel(),g&&g())},pe=function(e){e&&e.trim().length>0?G(!1):G(!0),V(e)},me=Object(c.useRef)(null),ve=function(){me&&me.current&&me.current.click()},ge=function(e){K(!1),A?A(e):console.error("Props onChangeInputFile missing")},be=function(){K(!1),x?x():console.error("Props onShareOtherFile missing")};return u.a.createElement(_.a,null,u.a.createElement(_t,{ref:ce,withEmojis:N,onSubmit:function(e){e.preventDefault(),he()},name:"Composer form"},w&&M&&u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement(R.a,{placement:"top-start"},u.a.createElement(R.b,{type:"button",use:"link",withIcon:u.a.createElement(ie,null),disabled:y}),u.a.createElement(R.c,null,u.a.createElement(R.d,{onClick:be,withIcon:j},null===n||void 0===n?void 0:n.shareFromOtherSource),u.a.createElement(R.d,{onClick:ve,withIcon:u.a.createElement(oe,null)},null===n||void 0===n?void 0:n.shareFromComputerFile)))),u.a.createElement("input",{type:"file",id:"file",ref:me,style:{display:"none"},onChange:ge})),w&&!M&&u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,{type:"button",use:"link",withIcon:u.a.createElement(ie,null),onClick:ve,disabled:y}),u.a.createElement("input",{type:"file",id:"file",ref:me,style:{display:"none"},onChange:ge})),!w&&M&&u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,{type:"button",use:"link",withIcon:u.a.createElement(ie,null),onClick:be,disabled:y})),u.a.createElement(q,{ref:de,"aria-label":n.textAreaAriaLabel,autoSize:!0,value:W,rows:h,layout:"fluid",maxRows:m,placeholder:s,maxLength:d,onChange:function(e){var t=e.target.value.slice(0,d);pe(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),he())},disabled:y,resize:"none",onSelect:function(e){K(!1),e.target.selectionStart&&e.target.selectionEnd&&ee({start:e.target.selectionStart,end:e.target.selectionEnd})}}),N&&!E.isMobile&&u.a.createElement(At,null,u.a.createElement(k.a,{type:"button",use:"link",ariaLabel:n.emojiPickerButton,withIcon:u.a.createElement(le,null),onClick:function(){return K(!Z)}})),N&&!E.isMobile&&Z&&u.a.createElement(xt,{"data-testid":"emoji-picker-container"},u.a.createElement(I.a,{onEmojiClick:function(e,t){if(K(!1),de.current){var n=X.start+t.emoji.length,r=(i=W,a=X.start,o=X.end,s=t.emoji,[i.substring(0,a),s,i.substring(o)].join(""));ee({start:n,end:n}),pe(r),se(!0)}var i,a,o,s},disableSkinTonePicker:!0,native:!0,groupNames:L})),u.a.createElement(k.a,{type:"submit",ariaLabel:n.sendButtonAriaLabel,withIcon:u.a.createElement(ue,null),disabled:y||H})))},jt=function(){return u.a.createElement("svg",{width:"256",height:"173",viewBox:"0 0 256 173",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M256 103.018C256 87.1425 249.272 73.1208 238.995 64.6895C239.136 63.0854 239.208 61.4586 239.21 59.8092C239.21 34.0329 221.479 13.1371 199.606 13.1371C192.629 13.1371 186.075 15.266 180.382 18.9984C164.898 7.16351 144.685 0 122.571 0C86.5898 0 55.6402 18.9654 41.9092 46.162C41.1461 46.1104 40.3779 46.0813 39.6039 46.0813C17.7313 46.0813 0 66.9771 0 92.7534C0 102.23 2.39904 111.045 6.51709 118.407V118.407C6.51709 141.598 25.3568 160.398 48.5966 160.398H217.117C225.879 160.398 234.283 156.925 240.479 150.742C246.675 144.558 250.156 136.172 250.156 127.428V127.428C253.861 120.326 256 111.967 256 103.018Z",fill:"#7ABFEB"}),u.a.createElement("path",{d:"M145.794 148.417C145.794 148.417 143.044 146.606 140.318 147.894C140.318 147.894 141.158 149.508 144.608 149.355L145.794 148.417Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M146.132 148.514C146.132 148.514 146.968 151.694 144.871 153.858C144.871 153.858 143.609 152.546 144.861 149.335L146.132 148.514Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.562 145.461C149.562 145.461 149.359 142.756 143.239 143.653C143.239 143.653 143.21 145.398 145.359 146.225C147.508 147.052 148.49 146.355 149.562 145.461Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.938 145.442C149.938 145.442 152.526 146.273 150.219 152C150.219 152 148.512 151.619 148.21 149.341C147.907 147.063 148.816 146.273 149.938 145.442Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M153.403 141.606C153.403 141.606 153.753 137.155 147.5 137.612C147.5 137.612 147.055 141.64 152.299 142.676L153.403 141.606Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M157.536 136.581C157.536 136.581 156.679 131.539 150.427 133.042C150.427 133.042 150.404 137.402 156.515 137.784L157.536 136.581Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M160.556 131.387C160.556 131.387 159.121 126.464 152.927 127.945C152.927 127.945 154.4 132.364 160.145 132.295L160.556 131.387Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M163.425 126.315C163.425 126.315 162.022 121.216 156.043 122.747C156.043 122.747 158.039 127.591 163.032 127.183L163.425 126.315Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M165.275 121.496C165.275 121.496 164.196 115.261 158.619 116.641C158.619 116.641 160.239 122.313 164.864 122.404L165.275 121.496Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M167.008 115.674C167.008 115.674 165.714 109.389 160.077 111.217C160.077 111.217 162.29 117.156 166.615 116.542L167.008 115.674Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M168.082 110.255C168.082 110.255 166.026 103.971 161.664 104.141C161.664 104.141 163.767 110.779 167.718 111.516L168.082 110.255Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M168.764 104.969C168.764 104.969 166.526 97.4024 162.976 97.9864C162.976 97.9864 164.525 103.769 168.638 106.147L168.764 104.969Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M169.151 98.653C169.151 98.653 167.054 92.3485 163.549 92.0977C163.549 92.0977 164.977 98.3003 169.074 100.291L169.151 98.653Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M169.575 92.7734C169.575 92.7734 166.96 86.4621 164.643 86.3198C164.643 86.3198 165.78 92.5338 169.344 93.8093L169.575 92.7734Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M169.866 87.2982C169.866 87.2982 168.258 80.4438 165.944 79.8752C165.944 79.8752 166.261 85.4818 169.634 87.811L169.866 87.2982Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M170.736 80.1332C170.736 80.1332 169.044 74.6708 167.171 73.8374C167.171 73.8374 167.542 80.2783 170.301 81.4694L170.736 80.1332Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M171.459 75.4267L171.8 65.7934C171.8 65.7934 168.305 73.0635 171.202 77.126L171.459 75.4267Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M174.163 65.8533C174.163 65.8533 176.684 58.8185 177.29 58.4268C177.29 58.4268 172.345 62.99 172.828 68.8616L174.163 65.8533Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M153.573 141.573C153.573 141.573 158.009 140.994 157.876 147.25C157.876 147.25 153.868 147.901 152.56 142.728L153.573 141.573Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M157.746 136.413C157.746 136.413 162.871 136.396 162.454 142.799C162.454 142.799 158.152 143.566 156.733 137.622L157.746 136.413Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M160.606 131.802C160.606 131.802 165.258 129.625 168.235 135.244C168.235 135.244 163.938 137.058 160.195 132.709L160.606 131.802Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M163.529 126.362C163.529 126.362 168.292 124.045 171.089 129.536C171.089 129.536 166.127 131.24 163.136 127.23L163.529 126.362Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M165.214 121.631C165.214 121.631 169.799 117.26 173.458 121.681C173.458 121.681 168.774 125.277 165.003 122.605L165.214 121.631Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M166.748 115.524C166.748 115.524 171.362 111.055 174.991 115.73C174.991 115.73 169.814 119.399 166.584 116.463L166.748 115.524Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M167.611 110.077C167.611 110.077 171.165 104.498 175.348 105.742C175.348 105.742 171.661 111.652 167.651 111.389L167.611 110.077Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M168.658 104.933C168.658 104.933 172.242 97.9019 175.625 99.1226C175.625 99.1226 173.045 104.526 168.567 106.115L168.658 104.933Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M168.905 98.2944C168.905 98.2944 172.587 92.7601 176.035 93.4359C176.035 93.4359 173.026 99.0474 168.549 99.8956L168.905 98.2944Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M169.186 92.6497C169.186 92.6497 172.038 86.4413 174.358 86.3864C174.358 86.3864 172.988 92.5532 169.378 93.6936L169.186 92.6497Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M169.752 87.1632C169.752 87.1632 172.923 80.8747 175.305 80.8621C175.305 80.8621 173.683 86.2391 169.857 87.716L169.752 87.1632Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M170.229 80.519C170.229 80.519 172.601 75.3149 174.564 74.7253C174.564 74.7253 173.378 81.0673 170.489 81.8994L170.229 80.519Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M171.742 75.2451L177.042 67.1869C177.042 67.1869 175.684 75.1359 170.967 76.7805L171.742 75.2451Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M175.38 66.5015C175.38 66.5015 181.541 62.2571 181.764 61.5718C181.764 61.5718 178.621 67.516 172.812 68.565L175.38 66.5015Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M175.748 64.5932C175.748 64.5932 182.822 57.8073 184.628 57.8144C184.628 57.8144 178.795 58.0807 175.579 64.2317L175.748 64.5932Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M170.297 81.5262L170.555 81.5591C171.884 71.1762 173.822 65.04 176.012 64.281L175.927 64.0357C173.605 64.8402 171.659 70.8883 170.297 81.5262Z",fill:"#444053"}),u.a.createElement("path",{d:"M168.343 106.352L168.732 106.385C168.814 105.415 168.877 104.423 168.919 103.435C169.29 94.8408 169.866 86.9502 170.623 81.0341L170.398 80.7559C169.639 86.6828 168.901 94.8132 168.529 103.418C168.487 104.401 168.424 105.388 168.343 106.352Z",fill:"#444053"}),u.a.createElement("path",{d:"M138.53 153.36C138.599 153.33 145.453 150.276 152.566 142.99C156.733 138.727 160.196 133.831 162.827 128.485C166.115 121.802 168.12 113.588 168.793 105.61L168.387 105.8C166.877 123.708 158.707 135.952 152.21 142.611C145.165 149.832 138.388 152.854 138.321 152.884L138.53 153.36Z",fill:"#444053"}),u.a.createElement("path",{d:"M140.906 67.4662V151.828C140.906 154.337 138.481 156.377 135.487 156.377H20.787C17.7927 156.377 15.3678 154.337 15.3678 151.828V67.4662C15.3678 64.9527 17.7927 62.3911 20.787 62.3911H135.487C138.481 62.3911 140.906 64.9527 140.906 67.4662Z",fill:"white"}),u.a.createElement("path",{opacity:"0.2",d:"M140.906 67.799V81.061H15.3678V67.799C15.3676 67.0888 15.5076 66.3855 15.7799 65.7292C16.0521 65.073 16.4513 64.4768 16.9545 63.9745C17.4578 63.4723 18.0553 63.074 18.7129 62.8023C19.3705 62.5306 20.0753 62.3909 20.787 62.3911H135.487C136.199 62.3909 136.904 62.5306 137.561 62.8023C138.219 63.074 138.816 63.4723 139.32 63.9745C139.823 64.4768 140.222 65.073 140.494 65.7292C140.767 66.3855 140.907 67.0888 140.906 67.799Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M22.2525 75.3423C24.2539 75.3423 25.8764 73.7232 25.8764 71.726C25.8764 69.7288 24.2539 68.1098 22.2525 68.1098C20.2512 68.1098 18.6287 69.7288 18.6287 71.726C18.6287 73.7232 20.2512 75.3423 22.2525 75.3423Z",fill:"white"}),u.a.createElement("path",{d:"M32.7958 75.3423C34.7972 75.3423 36.4196 73.7232 36.4196 71.726C36.4196 69.7288 34.7972 68.1098 32.7958 68.1098C30.7944 68.1098 29.172 69.7288 29.172 71.726C29.172 73.7232 30.7944 75.3423 32.7958 75.3423Z",fill:"white"}),u.a.createElement("path",{d:"M43.3391 75.3423C45.3404 75.3423 46.9629 73.7232 46.9629 71.726C46.9629 69.7288 45.3404 68.1098 43.3391 68.1098C41.3377 68.1098 39.7152 69.7288 39.7152 71.726C39.7152 73.7232 41.3377 75.3423 43.3391 75.3423Z",fill:"white"}),u.a.createElement("path",{d:"M45.8257 156.223C45.8257 156.223 42.3217 157.069 40.9347 158.651C40.4156 159.187 39.7763 159.592 39.0695 159.834V157.442C39.8706 156.098 40.6792 154.604 40.6792 154.604C40.7157 154.531 41.0077 153.501 41.0077 153.501C41.6647 152.986 40.9712 151.183 40.9712 151.183C40.9712 151.183 41.3727 150.043 41.1537 149.822C40.9347 149.602 41.1172 149.013 41.2997 148.756C41.4326 148.508 41.4838 148.225 41.4457 147.946C41.4457 147.726 41.1537 147.395 40.6792 147.211C40.2047 147.027 40.7157 146.732 41.0077 146.659C41.2997 146.585 41.3727 145.886 41.0442 145.519C40.7157 145.151 41.0807 144.93 41.2632 144.525C41.4457 144.121 40.6792 144.194 40.6792 144.194V140.48L40.6796 140.479C40.6796 140.479 40.4606 139.265 40.2416 137.131C40.0226 134.998 39.1827 134.777 39.1827 134.777C38.7326 134.638 38.2934 134.466 37.8687 134.262C37.4212 134.053 36.9572 133.881 36.4814 133.748C35.8772 133.741 35.2764 133.658 34.6933 133.5C34.2977 133.366 33.888 133.278 33.4723 133.237C33.4274 133.216 33.3847 133.194 33.3409 133.172C32.3528 132.671 31.5697 131.843 31.1258 130.83C31.1033 130.779 31.0826 130.729 31.0623 130.68C31.2805 130.441 31.4758 130.182 31.6459 129.907L31.6496 129.901C31.65 129.939 31.6513 129.976 31.6513 130.014C31.6513 130.029 31.6507 130.045 31.6507 130.061C31.6504 130.152 31.6495 130.242 31.647 130.333L31.6475 130.332L31.6474 130.34C32.2301 129.313 33.9186 129.079 34.0794 127.908C34.0864 127.854 34.09 127.801 34.09 127.747L34.0902 127.74C34.0902 127.7 34.0883 127.661 34.0854 127.621C34.0636 127.294 33.9514 126.968 33.9296 126.638C33.9241 126.543 33.9257 126.448 33.9342 126.354L33.9348 126.359C34.0103 125.449 34.698 124.658 35.0129 123.774C35.0968 123.536 35.152 123.289 35.1772 123.039L35.178 123.032C35.1857 122.956 35.1909 122.88 35.1935 122.804C35.1941 122.785 35.1942 122.766 35.1945 122.747C35.1954 122.694 35.1951 122.641 35.1935 122.588C35.1838 122.118 35.0777 121.655 34.8817 121.227C34.6858 120.8 34.4042 120.417 34.0542 120.102C33.4723 119.597 32.7033 119.28 32.3005 118.622C32.1126 118.314 32.0201 117.953 31.8153 117.657C31.4296 117.099 30.72 116.872 30.05 116.791C29.3801 116.71 28.6893 116.737 28.0477 116.527C27.5931 116.378 27.1804 116.115 26.7209 115.982C26.2202 115.848 25.6905 115.87 25.203 116.046C24.7154 116.221 24.2933 116.541 23.9934 116.963C23.7512 117.316 23.5926 117.738 23.2663 118.013C22.5975 118.577 21.4627 118.332 20.8766 118.983C20.5548 119.34 20.5178 119.827 20.5569 120.325L20.5583 120.343C20.5614 120.382 20.565 120.42 20.5689 120.459C20.5707 120.477 20.5725 120.495 20.5745 120.513C20.5766 120.532 20.5788 120.551 20.5811 120.57C20.6017 120.749 20.6276 120.926 20.6501 121.097C20.6535 121.124 20.6561 121.15 20.6592 121.176C20.6656 121.229 20.6718 121.282 20.677 121.335C20.6809 121.374 20.6841 121.413 20.6873 121.452C20.6913 121.5 20.6948 121.549 20.6979 121.597C20.7003 121.635 20.7029 121.673 20.7047 121.71C20.7708 123.068 20.4823 124.42 19.8676 125.634C19.3154 126.716 18.4941 127.711 18.3511 128.92C18.3288 129.117 18.3236 129.317 18.3354 129.516C18.3366 129.539 18.3371 129.562 18.3387 129.586C18.3412 129.621 18.3451 129.657 18.3485 129.693C18.3524 129.734 18.3561 129.775 18.3611 129.816C18.364 129.839 18.3676 129.863 18.3709 129.886C18.3784 129.94 18.3863 129.995 18.3955 130.049C18.3975 130.061 18.3997 130.072 18.4018 130.084C18.5468 130.907 18.8752 131.72 19.0502 132.546C19.1151 132.853 19.1587 133.164 19.1807 133.476L19.181 133.483C19.188 133.582 19.1927 133.682 19.1953 133.781C19.1988 133.916 19.197 134.051 19.1925 134.186C18.9154 134.292 18.6311 134.379 18.3417 134.446C17.8304 134.52 16.3335 135.844 16.443 136.175C16.5514 136.502 15.7729 138.827 15.751 138.896L15.7499 138.897L15.7501 138.897L15.7499 138.897L14.5185 147.358C14.5185 147.358 13.8683 147.983 14.0715 148.388C14.2747 148.792 14.0321 149.491 14.0321 149.491C14.0321 149.491 12.9336 149.97 13.1774 150.264C13.4212 150.558 13.31 151.11 13.1421 151.478C12.9742 151.846 12.7004 152.508 13.1421 152.618C13.5838 152.728 13.218 154.163 13.218 154.163C13.218 154.163 14.7586 153.987 14.6454 154.899C14.6093 155.19 15.7229 155.989 16.1879 156.308V160.703C15.5656 160.541 14.9557 160.335 14.3629 160.085C13.4139 159.644 8.08494 158.798 6.91695 161.336C5.74896 163.874 8.52294 167.259 9.21643 167.626C9.21643 167.626 9.87344 168.141 10.0194 168.399C10.1654 168.656 11.0049 168.73 11.0049 168.73C11.0049 168.73 11.8809 169.135 12.0999 169.355C12.2615 169.518 13.5954 169.941 15.1778 170.27L15.1775 170.27C15.1775 170.27 13.9 173.205 15.984 172.963C18.0681 172.721 19.0834 171.697 20.5529 171.697C21.1402 171.697 22.2308 171.616 23.3288 171.517C23.6043 171.566 23.8767 171.63 24.1448 171.71C24.7635 171.903 25.3989 172.038 26.0428 172.114C26.0428 172.114 27.6853 172.997 28.5613 172.776C28.634 172.754 28.7017 172.718 28.7603 172.67C28.7669 172.669 28.7738 172.668 28.7803 172.666C28.9979 172.572 29.1818 172.415 29.3079 172.215C30.4042 172.326 31.6524 172.486 32.1222 172.667C33.0306 173.017 39.5233 172.532 39.5233 172.532C39.5233 172.532 43.7182 172.614 44.9205 172.977C46.1229 173.34 45.6954 169.274 43.4777 168.816C42.8831 168.703 42.2787 168.649 41.6734 168.657C41.8271 168.499 41.9673 168.329 42.0925 168.148C42.8918 168.076 43.4167 168.031 43.4167 168.031C43.4167 168.031 45.5337 167.001 46.7382 166.376C47.5082 165.958 48.1998 165.411 48.7822 164.757C48.7822 164.757 49.8406 164.095 50.2786 163.838C50.7166 163.58 50.9356 162.734 50.9356 162.734C54.2571 155.23 45.8257 156.223 45.8257 156.223ZM36.3206 146.81C36.321 146.686 36.3214 146.562 36.3219 146.439C36.4385 146.523 36.4214 146.654 36.3206 146.81ZM36.3553 149.411C36.4436 149.527 36.5295 149.633 36.5912 149.712C36.8271 150.014 36.4001 150.161 36.4311 150.667C36.438 150.781 36.4477 150.938 36.4586 151.113H36.4585C36.4136 150.388 36.377 149.786 36.3553 149.411H36.3553Z",fill:"url(#paint0_linear)"}),u.a.createElement("path",{d:"M17.3559 161.02C17.3559 161.02 15.3119 160.547 14.3629 160.11C13.4139 159.673 8.08494 158.835 6.91695 161.348C5.74896 163.861 8.52294 167.212 9.21643 167.577C9.90993 167.941 16.6624 162.951 16.6624 162.951L21.9913 165.191L23.0133 161.712L17.3559 161.02Z",fill:"#65617D"}),u.a.createElement("path",{d:"M39.0841 161.712H23.3215C21.2714 161.712 19.6094 163.371 19.6094 165.417V166.058C19.6094 168.104 21.2714 169.762 23.3215 169.762H39.0841C41.1342 169.762 42.7962 168.104 42.7962 166.058V165.417C42.7962 163.371 41.1342 161.712 39.0841 161.712Z",fill:"#65617D"}),u.a.createElement("path",{opacity:"0.1",d:"M42.7962 165.737C42.7962 166.804 42.3714 167.828 41.6151 168.583C40.8588 169.338 39.833 169.762 38.7633 169.762H23.6426C22.5729 169.762 21.547 169.338 20.7905 168.583C20.0341 167.829 19.6092 166.805 19.6092 165.737C19.6092 164.67 20.0341 163.646 20.7905 162.891C21.547 162.136 22.5729 161.712 23.6426 161.712H38.7633C39.8329 161.713 40.8586 162.137 41.6149 162.891C42.3712 163.646 42.7961 164.67 42.7962 165.737Z",fill:"black"}),u.a.createElement("path",{d:"M30.1717 165.972C30.1717 165.972 27.8472 166.568 25.9501 166.541C24.0531 166.515 15.1775 170.194 15.1775 170.194C15.1775 170.194 13.8999 173.101 15.984 172.861C18.0681 172.621 19.0834 171.607 20.5529 171.607C22.0225 171.607 26.6448 171.101 26.6448 171.101L31.0933 167.821L30.1717 165.972Z",fill:"#FBBEBE"}),u.a.createElement("path",{d:"M31.6273 138.547L27.4565 139.368L27.186 139.421C27.186 139.421 23.889 138.547 23.7795 138.474C23.67 138.402 20.6774 134.376 20.6774 134.376C20.6774 134.376 22.1906 134.393 23.3798 133.709C23.4225 133.684 23.4641 133.658 23.5057 133.632C24.0303 133.319 24.4291 132.832 24.6336 132.257C24.6544 132.197 24.673 132.135 24.6905 132.071C24.8265 131.479 24.8144 130.864 24.6555 130.279C24.2525 128.58 25.1865 128.113 26.4315 128.153C28.2295 128.212 30.6779 129.332 30.6779 129.332C30.7093 129.904 30.8393 130.466 31.0623 130.993C31.082 131.042 31.1039 131.091 31.1258 131.142C31.5721 132.148 32.3553 132.968 33.3409 133.46C33.3847 133.482 33.4274 133.504 33.4723 133.525C33.6048 133.588 33.745 133.648 33.8906 133.703C37.0661 134.905 31.6273 138.547 31.6273 138.547Z",fill:"#FBBEBE"}),u.a.createElement("path",{opacity:"0.1",d:"M31.1258 131.142C30.333 132.038 29.2572 132.637 28.0765 132.84C26.8958 133.043 25.6811 132.837 24.6336 132.257C24.83 131.613 24.8376 130.927 24.6555 130.279C23.67 126.126 30.6779 129.332 30.6779 129.332C30.7132 129.958 30.865 130.572 31.1258 131.142Z",fill:"black"}),u.a.createElement("path",{d:"M32.4419 127.453C32.4435 128.434 32.1676 129.396 31.6459 130.228C31.4756 130.501 31.2803 130.757 31.0623 130.993C30.143 132 28.8659 132.608 27.5035 132.688C27.3984 132.694 27.2922 132.698 27.186 132.698C26.1465 132.698 25.1303 132.39 24.2659 131.814C23.4016 131.237 22.7279 130.418 22.3301 129.46C21.9323 128.502 21.8282 127.447 22.031 126.43C22.2338 125.412 22.7344 124.478 23.4695 123.744C24.2045 123.01 25.141 122.511 26.1606 122.309C27.1802 122.106 28.237 122.21 29.1974 122.607C30.1578 123.004 30.9786 123.676 31.5562 124.539C32.1337 125.401 32.4419 126.415 32.4419 127.453Z",fill:"#FBBEBE"}),u.a.createElement("path",{opacity:"0.1",d:"M31.6273 138.547L27.4565 139.368L27.186 139.421C27.186 139.421 23.889 138.547 23.7795 138.474C23.67 138.402 20.6774 134.376 20.6774 134.376C20.6774 134.376 22.1906 134.393 23.3798 133.709C23.4225 133.684 23.4641 133.658 23.5057 133.632C23.9612 134.119 24.5118 134.509 25.1236 134.776C25.7355 135.043 26.3956 135.182 27.0634 135.185C27.312 135.183 27.5601 135.164 27.8058 135.126C28.3927 135.036 28.984 134.978 29.5742 134.917C30.7042 134.799 32.4332 134.457 33.341 133.46C33.3848 133.482 33.4275 133.504 33.4724 133.525C33.6049 133.588 33.745 133.648 33.8906 133.703C37.0661 134.905 31.6273 138.547 31.6273 138.547Z",fill:"black"}),u.a.createElement("path",{d:"M36.3357 149.182C36.3719 149.984 36.9566 159.017 36.9566 159.017H18.7425L18.8662 153.33L18.9659 148.781L18.9987 147.289L19.1444 142.117L18.6177 141.654L15.7499 139.129L15.751 139.128C15.7729 139.061 16.5514 136.758 16.443 136.435C16.3335 136.107 17.8304 134.796 18.3417 134.723C18.6328 134.656 18.919 134.569 19.198 134.462C20.0587 134.161 21.2073 133.717 21.3343 133.786C21.5128 133.882 23.3042 133.716 23.3798 133.709H23.382C23.8382 134.238 24.403 134.663 25.0381 134.955C25.6732 135.248 26.3639 135.4 27.0633 135.403C27.3119 135.402 27.5601 135.382 27.8057 135.344C28.3927 135.255 28.984 135.197 29.5742 135.136C30.7611 135.012 32.6073 134.641 33.4723 133.525C33.8879 133.566 34.2975 133.653 34.6933 133.786C35.2766 133.942 35.8774 134.025 36.4814 134.031C36.957 134.163 37.421 134.333 37.8687 134.54C38.2936 134.742 38.7328 134.913 39.1827 135.05C39.1827 135.05 40.0226 135.269 40.2416 137.381C40.4606 139.494 40.6796 140.696 40.6796 140.696L36.3357 144.448C36.3357 144.448 36.2996 148.381 36.3357 149.182Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M15.7498 155.484L16.388 156.504L18.7793 157.345L20.4218 154.355L18.9075 153.335L16.4798 152.388L15.0928 153.189L15.7498 155.484Z",fill:"#FBBEBE"}),u.a.createElement("path",{d:"M36.1532 160.51C36.1532 160.51 39.5477 160.255 40.9347 158.689C42.3217 157.123 45.8257 156.285 45.8257 156.285C45.8257 156.285 54.2571 155.302 50.9356 162.732C50.9356 162.732 50.7166 163.57 50.2786 163.825C49.8406 164.08 48.7822 164.736 48.7822 164.736L35.8271 163.606L36.1532 160.51Z",fill:"#65617D"}),u.a.createElement("path",{opacity:"0.1",d:"M42.7962 165.737C42.7972 166.528 42.5637 167.302 42.1249 167.962C39.9459 168.155 35.1192 168.607 34.1096 168.888C32.869 169.231 30.3582 168.634 30.0833 168.566C30.0669 168.563 30.0581 168.56 30.0581 168.56C30.0581 168.56 29.5741 167.095 29.3431 166.158C29.2391 165.731 29.1865 165.414 29.2544 165.392C29.4734 165.318 31.4816 164.772 31.4444 165.081C31.4083 165.392 37.4668 162.732 37.4668 162.732L37.653 165.063C38.2706 165.77 42.7962 164.725 42.7962 165.737Z",fill:"black"}),u.a.createElement("path",{d:"M49.0376 163.789L48.7821 164.736C48.1987 165.384 47.5071 165.926 46.7382 166.338C45.5337 166.957 43.4167 167.977 43.4167 167.977C43.4167 167.977 35.6422 168.633 34.3282 168.997C33.0142 169.361 30.2768 168.669 30.2768 168.669C30.2768 168.669 29.2548 165.573 29.4738 165.5C29.6928 165.428 31.7003 164.881 31.6638 165.191C31.6273 165.5 37.6862 162.842 37.6862 162.842L49.0376 163.789Z",fill:"#65617D"}),u.a.createElement("path",{d:"M27.3929 171.954C27.3929 171.954 31.2137 172.221 32.1222 172.567C33.0306 172.914 39.5233 172.434 39.5233 172.434C39.5233 172.434 43.7182 172.515 44.9205 172.875C46.1229 173.234 45.6954 169.208 43.4777 168.754C41.26 168.301 38.1339 168.968 38.1339 168.968C38.1339 168.968 34.607 168.515 34.1795 168.461C33.752 168.408 30.9337 168.487 30.9337 168.487L27.3929 171.954Z",fill:"#FBBEBE"}),u.a.createElement("path",{opacity:"0.1",d:"M12.377 161.902C12.377 161.902 17.4268 162.355 18.8162 163.182L12.377 161.902Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M43.8785 158.596C43.8785 158.596 39.9241 159.556 38.3744 160.969L43.8785 158.596Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M12.6709 160.756C12.751 160.782 14.9954 161.076 14.942 161.289C14.8885 161.502 12.6709 160.756 12.6709 160.756Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M9.14343 166.375L9.43543 167.467C9.73226 167.69 10.0018 167.947 10.2384 168.232C10.3844 168.487 11.2239 168.56 11.2239 168.56C11.2239 168.56 12.0999 168.961 12.3189 169.179C12.5379 169.398 14.9104 170.09 17.1369 170.381C19.3634 170.673 23.4878 171.219 24.3638 171.51C24.9828 171.702 25.6181 171.836 26.2618 171.911C26.2618 171.911 27.9043 172.785 28.7803 172.567C29.6563 172.348 31.1528 168.378 31.1528 168.378C31.1528 168.378 25.3858 167.03 25.2033 166.593C25.0208 166.156 19.4728 164.118 19.4728 164.118L16.1879 164.195L9.14343 166.375Z",fill:"black"}),u.a.createElement("path",{d:"M8.92441 166.484L9.21641 167.577C9.51323 167.799 9.78276 168.056 10.0194 168.341C10.1654 168.596 11.0049 168.669 11.0049 168.669C11.0049 168.669 11.8809 169.07 12.0999 169.289C12.3189 169.507 14.6914 170.199 16.9179 170.49C19.1443 170.782 23.2688 171.328 24.1448 171.62C24.7638 171.811 25.3991 171.945 26.0428 172.02C26.0428 172.02 27.6853 172.894 28.5613 172.676C29.4373 172.457 30.9337 168.487 30.9337 168.487C30.9337 168.487 25.1668 167.14 24.9843 166.702C24.8018 166.265 16.6624 162.951 16.6624 162.951L14.1074 162.368L8.92441 166.484Z",fill:"#65617D"}),u.a.createElement("path",{d:"M16.3879 138.766L15.7499 139.13L14.5185 147.507C14.5185 147.507 13.8683 148.126 14.0715 148.527C14.2747 148.928 14.0321 149.62 14.0321 149.62C14.0321 149.62 12.9335 150.093 13.1774 150.385C13.4212 150.676 13.3099 151.222 13.1421 151.587C12.9742 151.951 12.7003 152.607 13.1421 152.716C13.5838 152.825 13.218 154.246 13.218 154.246C13.218 154.246 14.7586 154.071 14.6454 154.974C14.5998 155.338 16.3879 156.504 16.3879 156.504C16.3879 156.504 14.3559 152.825 18.9076 153.335L19.2989 151.261C19.2989 151.261 19.6903 150.093 19.2989 149.729C18.9076 149.365 19.3869 147.635 19.3869 147.635L19.4728 140.113L16.3879 138.766Z",fill:"#39A0E2"}),u.a.createElement("path",{opacity:"0.1",d:"M15.3962 149.584C15.4763 149.717 17.9345 149.989 18.0948 150.426C18.2551 150.864 15.3962 149.584 15.3962 149.584Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M14.6213 151.663C14.6213 151.663 14.9546 150.624 15.7499 150.81C16.5451 150.997 14.6213 151.663 14.6213 151.663Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M14.1938 153.183C14.1938 153.183 14.7817 151.797 15.5832 151.903C16.3848 152.01 14.1938 153.183 14.1938 153.183Z",fill:"black"}),u.a.createElement("path",{d:"M40.9347 153.153L40.6792 154.683C40.6792 154.683 38.0512 159.491 37.5767 159.563C37.1022 159.636 34.5108 156.358 34.5108 156.358L33.8173 153.153L36.5475 152.636L37.7592 151.441C37.7592 151.441 40.8252 151.732 40.9347 153.153Z",fill:"#FBBEBE"}),u.a.createElement("path",{d:"M39.6937 140.004L40.6792 140.696V144.375C40.6792 144.375 41.4457 144.302 41.2632 144.703C41.0807 145.103 40.7157 145.322 41.0442 145.686C41.3727 146.05 41.2997 146.742 41.0077 146.815C40.7157 146.888 40.2047 147.179 40.6792 147.362C41.1537 147.544 41.4457 147.871 41.4457 148.09C41.4837 148.366 41.4326 148.647 41.2997 148.891C41.1172 149.146 40.9347 149.729 41.1537 149.948C41.3727 150.166 40.9712 151.295 40.9712 151.295C40.9712 151.295 41.6647 153.08 41.0077 153.59C41.0077 153.59 40.7157 154.61 40.6792 154.683C40.6792 154.683 41.1391 151.137 36.5474 152.636C36.5474 152.636 36.462 151.285 36.431 150.784C36.4001 150.283 36.8271 150.137 36.5912 149.838C36.3553 149.539 35.7649 148.855 36.0437 148.673C36.3225 148.491 36.2262 148.163 36.1167 147.908C36.0072 147.653 35.6206 147.653 35.9705 147.343C36.3203 147.034 36.5267 146.743 36.3217 146.597C36.1167 146.451 35.7601 145.977 36.0437 145.759C36.3273 145.541 36.3357 142.372 36.3357 142.372C36.3357 142.372 37.5037 137.709 39.6937 140.004Z",fill:"#39A0E2"}),u.a.createElement("path",{opacity:"0.1",d:"M39.2294 146.271C39.2294 146.271 40.6327 145.891 40.6792 146.271C40.7257 146.651 39.2294 146.271 39.2294 146.271Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M37.653 147.317C37.653 147.317 39.5768 146.837 39.8172 147.211C40.0577 147.584 37.653 147.317 37.653 147.317Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M37.2255 148.331C37.2255 148.331 40.1111 147.931 40.2982 148.517C40.4852 149.104 37.2255 148.331 37.2255 148.331Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M37.653 149.584C37.7599 149.61 40.4318 149.797 40.4852 150.304C40.5386 150.81 37.653 149.584 37.653 149.584Z",fill:"black"}),u.a.createElement("path",{d:"M36.7272 151.226H18.5301C17.2365 151.226 16.1879 152.272 16.1879 153.563V161.858C16.1879 163.149 17.2365 164.195 18.5301 164.195H36.7272C38.0208 164.195 39.0695 163.149 39.0695 161.858V153.563C39.0695 152.272 38.0208 151.226 36.7272 151.226Z",fill:"#3F3D56"}),u.a.createElement("path",{d:"M27.6287 158.553C28.0948 158.553 28.4727 158.176 28.4727 157.71C28.4727 157.245 28.0948 156.868 27.6287 156.868C27.1626 156.868 26.7847 157.245 26.7847 157.71C26.7847 158.176 27.1626 158.553 27.6287 158.553Z",fill:"#E7EFFD"}),u.a.createElement("path",{opacity:"0.1",d:"M20.0204 143.277C20.0204 143.277 22.2133 144.95 23.9091 143.675C23.9091 143.675 21.0424 143.935 20.0204 143.277Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M31.1258 143.726C31.1258 143.726 33.3187 145.399 35.0145 144.124C35.0145 144.124 32.1478 144.385 31.1258 143.726Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M32.4419 127.453C32.4435 128.434 32.1675 129.396 31.6459 130.228C31.6021 128.767 31.2571 127.306 30.4611 126.087C29.7318 124.969 27.5156 123.01 25.9913 123.555C25.8319 123.614 25.6886 123.709 25.5729 123.833C25.4573 123.957 25.3725 124.107 25.3256 124.27C25.1745 124.842 25.6168 125.081 25.9005 125.536C26.3823 126.318 26.5705 127.246 26.4315 128.153C26.4121 128.275 26.3865 128.396 26.3549 128.516C26.1151 129.414 25.5654 130.442 26.1326 131.18C26.5279 131.694 27.3776 131.871 27.4926 132.508C27.5032 132.567 27.5069 132.628 27.5035 132.688C27.4772 133.116 27.1104 133.494 26.9506 133.916C26.7622 134.412 26.8684 134.905 27.0633 135.403C27.3174 136.053 27.7214 136.711 27.8189 137.397C27.9152 138.074 27.7061 138.721 27.4564 139.368C27.1877 139.962 26.9857 140.584 26.8542 141.222C26.6779 142.433 27.1225 143.832 26.3593 144.79C26.2817 144.905 26.1618 144.986 26.0253 145.015C25.5358 145.066 25.619 144.189 25.2259 143.894C25.2675 144.404 25.307 144.935 25.1219 145.412C24.9358 145.89 24.454 146.294 23.947 146.215C23.889 145.833 23.8309 145.451 23.7729 145.069C23.4282 145.408 23.0133 145.667 22.5574 145.829C22.7363 144.611 23.1682 143.443 23.8254 142.401C22.5399 143.018 21.791 144.356 21.1219 145.612C20.7047 146.398 20.2733 147.257 20.4189 148.134C20.4781 148.492 20.6325 148.832 20.6664 149.192C20.7003 149.553 20.5689 149.972 20.2328 150.11C20.0817 150.157 19.9199 150.157 19.7688 150.11C19.6178 150.063 19.4844 149.972 19.3864 149.848C19.3743 149.834 19.3623 149.819 19.3502 149.804C19.3293 149.778 19.3099 149.751 19.2922 149.722C19.2552 149.667 19.2227 149.609 19.1947 149.549C19.1028 149.334 19.0338 149.109 18.9889 148.88L18.9659 148.781C18.6264 147.292 18.3198 145.757 18.5684 144.251C18.6604 143.696 18.8279 143.146 18.8082 142.583C18.7932 142.266 18.7289 141.952 18.6177 141.654C18.3198 140.821 17.7461 140.055 17.4187 139.216C17.4156 139.21 17.4131 139.204 17.411 139.197C17.2391 138.752 17.1548 138.197 17.4723 137.841C17.6563 137.677 17.8614 137.539 18.0822 137.429C18.7173 137.016 19.002 136.233 19.1181 135.485C19.1715 135.147 19.1982 134.805 19.198 134.462C20.0587 134.161 21.2073 133.717 21.3343 133.786C21.5128 133.882 23.3042 133.716 23.3798 133.709C23.9632 133.396 24.4098 132.879 24.6335 132.257C24.6544 132.197 24.673 132.135 24.6905 132.071C23.8726 131.63 23.1863 130.982 22.7014 130.191C22.2165 129.4 21.9503 128.495 21.93 127.568C21.9097 126.641 22.136 125.725 22.5859 124.914C23.0357 124.102 23.6931 123.425 24.4909 122.949C25.2887 122.474 26.1985 122.218 27.1276 122.208C28.0568 122.198 28.972 122.434 29.7801 122.891C30.5882 123.349 31.2602 124.012 31.7278 124.814C32.1954 125.615 32.4418 126.526 32.4419 127.453Z",fill:"black"}),u.a.createElement("path",{d:"M26.3547 128.297C26.1146 129.196 25.5655 130.224 26.133 130.961C26.5284 131.475 27.3779 131.652 27.4921 132.29C27.5824 132.794 27.1322 133.218 26.9505 133.698C26.5169 134.842 27.6468 135.967 27.8185 137.179C28.0048 138.493 27.0453 139.69 26.8541 141.004C26.6779 142.214 27.1225 143.614 26.359 144.571C26.2818 144.687 26.1618 144.768 26.0251 144.796C25.5358 144.848 25.6187 143.971 25.2254 143.676C25.2677 144.186 25.3072 144.717 25.1217 145.194C24.9361 145.672 24.454 146.076 23.9471 145.996L23.7729 144.851C23.428 145.189 23.0131 145.448 22.5573 145.61C22.7363 144.392 23.1682 143.225 23.8254 142.183C22.5404 142.8 21.7912 144.137 21.1224 145.394C20.7047 146.179 20.2737 147.038 20.4192 147.915C20.4786 148.273 20.6327 148.613 20.6666 148.974C20.7006 149.335 20.569 149.754 20.2328 149.891C20.0722 149.94 19.9005 149.936 19.7421 149.881C19.5836 149.826 19.4466 149.723 19.3504 149.586C19.1641 149.308 19.0408 148.992 18.9892 148.661C18.6405 147.141 18.3141 145.571 18.5689 144.032C18.6608 143.477 18.8282 142.927 18.808 142.365C18.7638 141.135 17.8545 140.127 17.4105 138.979C17.2385 138.534 17.1548 137.979 17.4719 137.622C17.6563 137.459 17.8616 137.32 18.0825 137.211C18.7173 136.797 19.0023 136.014 19.1186 135.267C19.2439 134.459 19.2206 133.634 19.0498 132.834C18.7934 131.636 18.2057 130.467 18.3511 129.25C18.4941 128.054 19.3154 127.068 19.8675 125.997C20.5779 124.61 20.8506 123.042 20.6496 121.498C20.5545 120.779 20.3885 119.948 20.8766 119.411C21.4627 118.767 22.5974 119.009 23.2662 118.451C23.5926 118.179 23.7511 117.76 23.9934 117.411C24.2958 116.993 24.7186 116.676 25.2056 116.502C25.6927 116.329 26.2211 116.307 26.7208 116.44C27.1804 116.571 27.5931 116.832 28.0477 116.98C28.6893 117.188 29.3801 117.161 30.05 117.241C30.7199 117.321 31.4295 117.546 31.8152 118.098C32.02 118.392 32.1125 118.749 32.3005 119.054C32.7032 119.706 33.4723 120.02 34.0542 120.52C34.5534 120.964 34.9105 121.545 35.0809 122.19C35.2513 122.835 35.2275 123.516 35.0124 124.148C34.665 125.114 33.8611 125.967 33.9295 126.991C33.9576 127.411 34.1368 127.824 34.0789 128.241C33.9181 129.401 32.2297 129.633 31.6469 130.65C31.6933 128.983 31.3729 127.266 30.4612 125.868C29.7317 124.75 27.5153 122.791 25.9916 123.336C25.8322 123.395 25.6888 123.49 25.5731 123.614C25.4574 123.739 25.3726 123.888 25.3256 124.051C25.1748 124.624 25.6167 124.862 25.9002 125.318C26.1728 125.758 26.3535 126.249 26.4316 126.761C26.5097 127.273 26.4836 127.796 26.3547 128.297Z",fill:"#3F3D56"}),u.a.createElement("g",{opacity:"0.2"},u.a.createElement("path",{opacity:"0.2",d:"M19.1957 134.073C19.2082 133.549 19.1593 133.026 19.0502 132.513C18.8322 131.495 18.3764 130.497 18.3335 129.473C18.275 130.613 18.809 131.714 19.0502 132.841C19.1366 133.246 19.1853 133.659 19.1957 134.073Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M23.5457 142.342C23.6345 142.18 23.7268 142.019 23.8258 141.862C22.5409 142.48 21.7916 143.816 21.1228 145.073C20.736 145.801 20.3387 146.591 20.3975 147.401C20.4463 146.706 20.7884 146.03 21.1228 145.401C21.7413 144.239 22.4296 143.009 23.5457 142.342Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M20.6605 148.931C20.6513 149.066 20.607 149.196 20.5321 149.308C20.4571 149.42 20.3541 149.51 20.2332 149.571C20.0727 149.619 19.9009 149.615 19.7425 149.56C19.5841 149.506 19.447 149.402 19.3508 149.265C19.1645 148.987 19.0412 148.671 18.9897 148.34C18.7082 147.258 18.5379 146.15 18.4814 145.033C18.4569 146.249 18.7158 147.474 18.9897 148.668C19.0412 148.999 19.1645 149.315 19.3508 149.593C19.447 149.73 19.5841 149.833 19.7425 149.888C19.9009 149.943 20.0727 149.947 20.2332 149.898C20.5694 149.761 20.701 149.342 20.6671 148.981C20.6655 148.964 20.6626 148.948 20.6605 148.931Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M26.4735 127.202C26.462 127.464 26.4224 127.723 26.3551 127.976C26.1771 128.643 25.8297 129.38 25.8929 130.017C25.9414 129.463 26.2069 128.859 26.3551 128.304C26.4499 127.945 26.4898 127.573 26.4735 127.202Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M20.7129 122.34C20.7219 121.951 20.7009 121.562 20.6501 121.177C20.6125 120.893 20.5644 120.592 20.5494 120.298C20.5457 120.703 20.5794 121.107 20.6501 121.505C20.6865 121.782 20.7075 122.06 20.7129 122.34Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M27.4925 132.297C27.4909 132.288 27.4877 132.28 27.4858 132.271C27.4082 132.65 27.0953 132.996 26.9509 133.377C26.866 133.605 26.8353 133.849 26.8613 134.09C26.8741 133.958 26.9042 133.829 26.9509 133.705C27.1326 133.225 27.5829 132.801 27.4925 132.297Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M18.8084 142.044C18.7642 140.814 17.8549 139.806 17.4109 138.658C17.3397 138.478 17.2917 138.29 17.2682 138.098C17.2434 138.401 17.2924 138.706 17.4109 138.986C17.8475 140.115 18.7321 141.109 18.8036 142.311C18.8088 142.222 18.8116 142.133 18.8084 142.044Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M30.4617 125.548C29.7321 124.43 27.5158 122.47 25.9921 123.016C25.8326 123.074 25.6892 123.169 25.5735 123.294C25.4578 123.418 25.373 123.567 25.326 123.73C25.2901 123.855 25.2861 123.987 25.3145 124.113C25.3183 124.095 25.321 124.077 25.326 124.058C25.373 123.895 25.4578 123.746 25.5735 123.621C25.6892 123.497 25.8326 123.402 25.9921 123.343C27.5158 122.798 29.7321 124.757 30.4617 125.875C31.2873 127.141 31.6269 128.669 31.6494 130.184C31.6736 128.563 31.347 126.904 30.4617 125.548Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M34.0793 127.92C33.9189 129.078 32.2377 129.312 31.6514 130.322C31.6516 130.434 31.6503 130.545 31.6474 130.657C32.2301 129.64 33.9185 129.408 34.0793 128.248C34.0936 128.134 34.094 128.019 34.0805 127.905C34.0798 127.91 34.0801 127.915 34.0793 127.92Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M35.0128 123.828C34.6654 124.793 33.8616 125.646 33.9299 126.67C33.931 126.685 33.9334 126.7 33.9348 126.715C34.0102 125.814 34.6979 125.031 35.0128 124.155C35.1544 123.755 35.2151 123.331 35.1915 122.908C35.1781 123.222 35.1179 123.532 35.0128 123.828Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M26.3594 144.25C26.2822 144.366 26.1622 144.447 26.0255 144.475C25.5362 144.527 25.6192 143.65 25.2258 143.355C25.2355 143.471 25.2446 143.588 25.2513 143.706C25.6144 144.02 25.5476 144.854 26.0255 144.803C26.1622 144.775 26.2822 144.694 26.3594 144.578C26.795 144.032 26.8373 143.342 26.8261 142.625C26.8148 143.223 26.7281 143.788 26.3594 144.25Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M25.1221 144.874C24.9366 145.351 24.4544 145.755 23.9475 145.675C23.8895 145.294 23.8314 144.912 23.7733 144.53C23.4439 144.853 23.0506 145.103 22.6186 145.266C22.5966 145.383 22.5749 145.5 22.5577 145.617C23.0135 145.456 23.4284 145.196 23.7733 144.858C23.8314 145.24 23.8895 145.621 23.9475 146.003C24.4544 146.083 24.9366 145.679 25.1221 145.201C25.2374 144.869 25.2833 144.516 25.257 144.165C25.2514 144.407 25.2058 144.646 25.1221 144.874Z",fill:"black"}),u.a.createElement("path",{opacity:"0.2",d:"M26.8545 140.683C26.8152 140.991 26.8003 141.301 26.8101 141.611C26.8123 141.41 26.8271 141.21 26.8545 141.011C27.0368 139.759 27.9162 138.612 27.837 137.37C27.7662 138.488 27.0207 139.542 26.8545 140.683Z",fill:"black"})),u.a.createElement("path",{d:"M165.37 45.9663V67.8916C165.37 69.0489 164.251 69.9897 162.87 69.9897H109.968C108.587 69.9897 107.469 69.0489 107.469 67.8916V45.9663C107.469 44.8071 108.587 43.6256 109.968 43.6256H162.87C164.251 43.6256 165.37 44.8071 165.37 45.9663Z",fill:"white"}),u.a.createElement("path",{opacity:"0.2",d:"M165.37 46.1198V52.2365H107.469V46.1198C107.469 45.7922 107.533 45.4679 107.659 45.1652C107.784 44.8625 107.969 44.5875 108.201 44.3559C108.433 44.1243 108.708 43.9405 109.012 43.8152C109.315 43.6899 109.64 43.6255 109.968 43.6256H162.87C163.198 43.6255 163.523 43.6899 163.827 43.8152C164.13 43.9405 164.406 44.1243 164.638 44.3559C164.87 44.5875 165.054 44.8625 165.18 45.1652C165.305 45.4679 165.37 45.7922 165.37 46.1198Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M110.644 49.5989C111.567 49.5989 112.316 48.8522 112.316 47.931C112.316 47.0099 111.567 46.2632 110.644 46.2632C109.721 46.2632 108.973 47.0099 108.973 47.931C108.973 48.8522 109.721 49.5989 110.644 49.5989Z",fill:"white"}),u.a.createElement("path",{d:"M115.507 49.5989C116.43 49.5989 117.178 48.8522 117.178 47.931C117.178 47.0099 116.43 46.2632 115.507 46.2632C114.584 46.2632 113.836 47.0099 113.836 47.931C113.836 48.8522 114.584 49.5989 115.507 49.5989Z",fill:"white"}),u.a.createElement("path",{d:"M120.37 49.5989C121.293 49.5989 122.041 48.8522 122.041 47.931C122.041 47.0099 121.293 46.2632 120.37 46.2632C119.447 46.2632 118.698 47.0099 118.698 47.931C118.698 48.8522 119.447 49.5989 120.37 49.5989Z",fill:"white"}),u.a.createElement("path",{d:"M153.966 67.4925C157.575 67.4925 160.5 64.5732 160.5 60.972C160.5 57.3709 157.575 54.4515 153.966 54.4515C150.357 54.4515 147.432 57.3709 147.432 60.972C147.432 64.5732 150.357 67.4925 153.966 67.4925Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M112.471 57.555H140.026V56.5844H112.471V57.555Z",fill:"#39A0E2"}),u.a.createElement("path",{opacity:"0.2",d:"M112.471 59.9206H140.026V58.9501H112.471V59.9206Z",fill:"#39A0E2"}),u.a.createElement("path",{opacity:"0.2",d:"M112.471 62.2863H140.026V61.3157H112.471V62.2863Z",fill:"#39A0E2"}),u.a.createElement("path",{opacity:"0.2",d:"M112.471 64.6519H140.026V63.6814H112.471V64.6519Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M144.239 100.857C144.239 100.857 142.297 100.412 141.027 101.717C141.027 101.717 141.845 102.454 143.766 101.638L144.239 100.857Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M144.451 100.84C144.451 100.84 145.599 102.465 144.87 104.133C144.87 104.133 143.877 103.657 143.905 101.574L144.451 100.84Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M145.746 98.3872C145.746 98.3872 145.057 96.8984 141.782 98.6987C141.782 98.6987 142.136 99.6929 143.528 99.7075C144.92 99.7221 145.328 99.12 145.746 98.3872Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M145.955 98.2973C145.955 98.2973 147.597 98.2212 147.504 101.952C147.504 101.952 146.457 102.096 145.803 100.87C145.148 99.6437 145.496 99.0045 145.955 98.2973Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M147.104 95.3931C147.104 95.3931 146.358 92.7987 142.914 94.3779C142.914 94.3779 143.516 96.7528 146.706 96.2321L147.104 95.3931Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.379 91.6751C148.379 91.6751 146.824 89.0002 143.603 91.1714C143.603 91.1714 144.514 93.6457 148.056 92.5715L148.379 91.6751Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.988 88.096C148.988 88.096 147.131 85.6107 143.938 87.7576C143.938 87.7576 145.709 89.9485 148.948 88.6966L148.988 88.096Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.537 84.6179C149.537 84.6179 147.662 82.0264 144.601 84.1559C144.601 84.1559 146.757 86.4776 149.499 85.1923L149.537 84.6179Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.563 81.4981C149.563 81.4981 147.63 78.1946 144.765 80.1535C144.765 80.1535 146.885 83.0236 149.523 82.0987L149.563 81.4981Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.31 77.835C149.31 77.835 147.245 74.5488 144.44 76.7742C144.44 76.7742 146.953 79.6706 149.272 78.4095L149.31 77.835Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.77 74.5396C148.77 74.5396 146.273 71.4147 143.839 72.432C143.839 72.432 146.437 75.7474 148.831 75.3307L148.77 74.5396Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.035 71.4016C148.035 71.4016 145.163 67.5893 143.277 68.6695C143.277 68.6695 145.38 71.6172 148.213 72.0956L148.035 71.4016Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M146.915 67.7432C146.915 67.7432 144.391 64.6157 142.353 65.2136C142.353 65.2136 144.476 68.425 147.219 68.6874L146.915 67.7432Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M145.909 64.324C145.909 64.324 143.089 61.3021 141.747 61.7106C141.747 61.7106 143.708 64.9897 145.997 64.9595L145.909 64.324Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M144.912 61.162C144.912 61.162 142.548 57.6197 141.118 57.7862C141.118 57.7862 142.486 60.8944 144.889 61.5014L144.912 61.162Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.886 56.9207C143.886 56.9207 141.77 54.1844 140.532 54.1078C140.532 54.1078 142.108 57.6772 143.923 57.7691L143.886 56.9207Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.298 54.1025L141.448 48.575C141.448 48.575 141.01 53.4302 143.512 55.1193L143.298 54.1025Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M142.799 48.11C142.799 48.11 142.735 43.594 142.995 43.2442C142.995 43.2442 141.162 46.8724 142.681 50.0956L142.799 48.11Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M147.193 95.3387C147.193 95.3387 149.583 94.074 150.833 97.6448C150.833 97.6448 148.702 98.8599 146.864 96.2069L147.193 95.3387Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.462 91.5356C148.462 91.5356 151.361 90.4437 152.482 94.1582C152.482 94.1582 150.209 95.5007 148.145 92.4341L148.462 91.5356Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.104 88.3202C149.104 88.3202 151.277 86.105 154.155 88.6586C154.155 88.6586 152.106 90.5936 149.064 88.9208L149.104 88.3202Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.606 84.6225C149.606 84.6225 151.812 82.3046 154.561 84.8233C154.561 84.8233 152.112 86.8364 149.567 85.1969L149.606 84.6225Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.557 81.5875C149.557 81.5875 151.227 78.1441 154.237 79.8748C154.237 79.8748 152.347 82.9006 149.644 82.1831L149.557 81.5875Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M149.131 77.8051C149.131 77.8051 150.796 74.2998 153.843 76.1813C153.843 76.1813 151.689 79.3519 149.237 78.3711L149.131 77.8051Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M148.465 74.5378C148.465 74.5378 149.295 70.6279 151.928 70.4493C151.928 70.4493 151.093 74.5749 148.766 75.2724L148.465 74.5378Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M147.968 71.404C147.968 71.404 148.506 66.6652 150.681 66.6422C150.681 66.6422 150.365 70.2471 148.166 72.0924L147.968 71.404Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M146.7 67.5921C146.7 67.5921 147.611 63.6807 149.707 63.3354C149.707 63.3354 149.193 67.1484 146.838 68.5741L146.7 67.5921Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M145.662 64.3362C145.662 64.3362 145.961 60.218 147.263 59.6971C147.263 59.6971 147.794 63.4788 145.992 64.8868L145.662 64.3362Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M144.819 61.1096C144.819 61.1096 145.281 56.8788 146.628 56.3687C146.628 56.3687 146.849 59.7563 144.996 61.4004L144.819 61.1096Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.68 57.2462C143.68 57.2462 143.92 53.7982 144.907 53.0497C144.907 53.0497 145.58 56.8917 144.121 57.9729L143.68 57.2462Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.419 53.9401L144.712 48.2574C144.712 48.2574 145.629 53.0458 143.306 54.973L143.419 53.9401Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.626 48.2202C143.626 48.2202 146.215 44.5157 146.196 44.0805C146.196 44.0805 145.676 48.1104 142.609 49.931L143.626 48.2202Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.43 47.0618C143.43 47.0618 145.997 41.7253 147.021 41.348C147.021 41.348 143.774 42.7305 143.257 46.8928L143.43 47.0618Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M143.933 57.8022L144.086 57.7663C142.637 51.6057 142.434 47.7215 143.513 46.8293L143.412 46.7084C142.268 47.6541 142.448 51.4903 143.933 57.8022Z",fill:"#444053"}),u.a.createElement("path",{d:"M148.09 72.2739L148.317 72.2103C148.158 71.644 147.983 71.0686 147.798 70.5002C146.186 65.555 144.839 60.9649 144.013 57.4545L143.826 57.3447C144.653 60.8613 145.959 65.6216 147.573 70.5731C147.758 71.1384 147.931 71.7107 148.09 72.2739Z",fill:"#444053"}),u.a.createElement("path",{d:"M141.173 105.19C141.206 105.158 144.44 101.982 146.923 96.3537C148.379 93.0594 149.302 89.5556 149.659 85.9728C150.104 81.494 149.498 76.4189 148.187 71.7585L147.998 71.952C150.939 82.4124 148.908 91.0713 146.641 96.2143C144.183 101.791 140.986 104.934 140.954 104.965L141.173 105.19Z",fill:"#444053"}),u.a.createElement("path",{d:"M238.282 159.966L232.09 151.007C232.09 151.007 231.974 148.789 231.569 148.271C231.164 147.752 231.482 146.6 231.482 146.6C231.482 146.6 231.916 145.966 231.54 145.909C231.164 145.851 231.482 144.44 231.482 144.44L231.453 142.193C231.453 142.193 231.801 140.032 231.511 139.514C231.427 139.374 231.384 139.212 231.39 139.049C231.395 138.885 231.447 138.726 231.54 138.592C231.54 138.592 231.888 137.353 231.54 137.036C231.193 136.72 231.28 134.79 231.367 133.263C231.454 131.736 230.759 130.872 230.759 130.641C230.759 130.411 228.473 128.164 228.473 127.962C228.473 127.761 227.026 126.925 226.158 126.695C225.29 126.465 224.856 126.292 224.885 126.176C224.914 126.061 223.525 125.6 223.525 125.6C223.525 125.6 222.31 125.514 221.847 124.909C221.39 124.313 219.968 124.129 219.928 124.124C219.919 124.083 219.909 124.043 219.901 124.003C219.892 123.96 219.883 123.916 219.875 123.873C219.984 123.69 220.086 123.502 220.177 123.308C220.205 123.25 220.231 123.192 220.257 123.132C220.766 123.136 221.263 122.982 221.681 122.692C221.885 122.521 222.053 122.311 222.172 122.073C222.291 121.835 222.36 121.576 222.374 121.31C222.399 120.778 222.282 120.248 222.036 119.775C221.782 119.256 221.41 118.719 221.539 118.156C221.594 117.913 221.74 117.7 221.815 117.462C221.927 116.998 221.852 116.508 221.607 116.098C221.388 115.679 221.083 115.312 220.839 114.906C220.528 114.389 220.321 113.817 220.228 113.221C220.209 112.905 220.133 112.594 220.002 112.304C219.872 112.1 219.699 111.925 219.495 111.793C218.59 111.147 217.497 110.816 216.385 110.852C215.597 110.879 214.812 111.091 214.03 110.995C213.562 110.913 213.102 110.793 212.655 110.636C211.684 110.349 210.565 110.231 209.72 110.786C208.859 111.35 208.538 112.43 207.965 113.283C207.459 114.037 206.717 114.669 206.331 115.468C206.336 115.453 206.34 115.437 206.344 115.422C206.25 115.607 206.177 115.802 206.129 116.004C205.981 116.631 206.104 117.288 206.257 117.914C206.336 118.237 206.443 118.588 206.724 118.767C207.011 118.951 207.402 118.906 207.736 118.965C207.723 119.02 207.709 119.075 207.697 119.13C207.352 120.753 207.632 122.446 208.482 123.872C209.333 125.298 210.69 126.352 212.285 126.823C212.286 126.882 212.287 126.941 212.286 126.998C212.285 127.164 212.275 127.329 212.256 127.493L212.256 127.494L212.256 127.493C212.256 127.493 209.347 126.897 208.565 127.3C207.784 127.703 206.25 128.02 206.019 128.25C205.787 128.481 205.209 128.308 204.688 129.662C204.167 131.016 204.109 132.399 203.444 133.032C202.778 133.666 202.431 134.098 202.402 134.559C202.373 135.02 202.489 135.135 202.228 135.279C201.968 135.423 201.592 136.028 201.708 136.259C201.708 136.259 201.852 136.835 201.389 137.123C201.252 137.219 201.143 137.35 201.072 137.501C201.001 137.653 200.971 137.82 200.984 137.987C200.984 137.987 200.811 138.621 200.405 138.765C200 138.909 199.74 139.859 199.74 139.859L198.427 141.365L195.827 138.495C195.632 138.28 195.36 138.151 195.069 138.136C194.779 138.121 194.495 138.221 194.279 138.415L193.003 139.561C192.51 139.68 192.065 139.945 191.725 140.32C191.447 140.606 191.222 140.939 191.062 141.304L190.363 141.932C190.143 142.204 190.008 142.535 189.976 142.883C189.944 143.232 190.017 143.582 190.184 143.889L191.85 145.728L191.86 145.743C191.269 145.794 190.707 146.023 190.249 146.398C187.761 148.587 187.731 150.604 188.108 151.526C188.484 152.448 191.638 155.991 191.638 155.991C191.638 155.991 193.469 158.367 196.115 159.631L196.111 159.635C196.104 159.642 196.098 159.648 196.091 159.655C196.039 159.711 195.987 159.771 195.936 159.836C195.922 159.854 195.908 159.872 195.894 159.891C195.88 159.909 195.867 159.928 195.853 159.947C195.837 159.97 195.822 159.992 195.806 160.016C195.794 160.035 195.781 160.054 195.769 160.073C195.752 160.1 195.736 160.127 195.719 160.155C195.709 160.174 195.698 160.192 195.688 160.211C195.667 160.247 195.648 160.284 195.629 160.323C195.622 160.335 195.616 160.347 195.609 160.359C195.585 160.41 195.561 160.463 195.538 160.517C195.53 160.536 195.522 160.556 195.514 160.575C195.499 160.613 195.484 160.65 195.469 160.69C195.46 160.714 195.452 160.739 195.443 160.764C195.43 160.801 195.418 160.838 195.406 160.877C195.397 160.904 195.389 160.93 195.381 160.958C195.369 160.999 195.358 161.042 195.347 161.084C195.34 161.11 195.333 161.136 195.326 161.162C195.31 161.229 195.295 161.298 195.281 161.369C195.276 161.396 195.271 161.424 195.266 161.451C195.258 161.5 195.249 161.549 195.241 161.6C195.236 161.634 195.231 161.669 195.227 161.704C195.22 161.751 195.215 161.799 195.209 161.847C195.205 161.884 195.201 161.92 195.198 161.957C195.193 162.011 195.189 162.066 195.185 162.121C195.183 162.155 195.18 162.188 195.178 162.222C195.173 162.313 195.17 162.405 195.168 162.501C195.11 165.871 195.308 166.361 195.308 166.361C195.308 166.361 195.717 167.434 196.843 167.511C197.009 167.523 197.175 167.514 197.338 167.484C198.843 167.225 202.373 166.62 203.617 166.851C204.365 166.989 205.75 166.784 206.736 166.599C206.826 166.582 206.913 166.565 206.996 166.549L207.176 167.122L207.749 166.965C207.934 167.072 208.098 167.167 208.234 167.245C208.364 167.32 208.469 167.38 208.541 167.421C209.112 169.353 211.43 168.694 211.43 168.694L211.98 169.011L217.564 169.155C217.564 169.155 218.763 169.876 219.541 170.102C219.633 170.13 219.726 170.151 219.821 170.163C220.339 170.205 220.859 170.214 221.378 170.193C221.806 170.182 222.136 170.163 222.136 170.163C222.136 170.163 222.08 168.651 221.999 166.957C224.133 166.868 226.025 166.735 227.171 166.534C230.153 166.011 231.397 163.305 231.856 161.859C231.993 162.45 232.091 163.049 232.148 163.653C232.27 164.181 232.424 164.7 232.611 165.209C232.774 165.618 232.988 166.005 233.248 166.361C235.447 165.612 234.116 164.489 233.653 163.999C233.19 163.509 233.971 163.106 233.971 163.106C233.971 163.106 234.579 162.703 234.521 162.328C234.463 161.954 234.434 161.55 236.402 161.579C238.369 161.608 238.282 159.966 238.282 159.966ZM207.728 141.573C207.753 141.737 208.028 143.512 208.276 143.979C208.345 144.29 208.367 144.61 208.341 144.928C207.176 144.835 205.961 144.785 205.961 144.785C205.996 144.827 206.018 144.879 206.023 144.933C205.964 144.92 205.903 144.907 205.84 144.892C205.754 144.872 205.664 144.85 205.574 144.827L207.722 141.567L207.728 141.573ZM203.473 148.328L205.491 148.647L205.66 148.674C205.603 148.988 205.568 149.306 205.556 149.625C205.562 149.654 205.602 149.691 205.666 149.732C205.639 149.89 205.626 150.049 205.627 150.209C205.659 150.368 206.603 150.713 207.685 150.998C207.67 151.056 207.656 151.112 207.641 151.164L207.641 151.164C206.685 150.661 205.18 150.427 205.006 150.055C204.832 149.682 199.711 147.896 199.711 147.896C199.711 147.896 199.523 147.797 199.201 147.642L200.55 147.896L200.921 147.859C201.76 148.07 202.613 148.226 203.473 148.328H203.473Z",fill:"url(#paint1_linear)"}),u.a.createElement("path",{d:"M231.696 161.219C231.696 161.219 230.893 166.055 226.821 166.771C222.749 167.486 209.156 167.343 209.156 167.343C209.156 167.343 201.384 166.227 198.574 159.673C195.763 153.12 193.956 150.516 196.365 150.401C198.774 150.287 211.765 154.78 212.511 154.837C213.257 154.894 232.413 144.878 231.696 161.219Z",fill:"#65617D"}),u.a.createElement("path",{opacity:"0.05",d:"M231.696 161.219C231.696 161.219 230.893 166.055 226.821 166.771C222.749 167.486 209.156 167.343 209.156 167.343C209.156 167.343 201.384 166.227 198.574 159.673C195.763 153.12 193.956 150.516 196.365 150.401C198.774 150.287 211.765 154.78 212.511 154.837C213.257 154.894 232.413 144.878 231.696 161.219Z",fill:"black"}),u.a.createElement("path",{d:"M195.242 166.599C195.242 166.599 195.647 167.665 196.764 167.742C196.928 167.753 197.093 167.744 197.254 167.715C198.745 167.458 202.244 166.857 203.477 167.086C204.219 167.223 205.591 167.02 206.568 166.835C207.218 166.713 207.693 166.599 207.693 166.599C207.693 166.599 206.546 162.793 206.402 162.678C206.259 162.564 201.24 159.559 201.24 159.559L197.266 159.274L197.254 159.273C196.72 159.353 196.237 159.636 195.907 160.063C195.487 160.57 195.128 161.401 195.104 162.764C195.046 166.112 195.242 166.599 195.242 166.599Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.05",d:"M195.242 166.599C195.242 166.599 195.647 167.665 196.764 167.742C196.374 167.239 196.013 166.714 195.684 166.17L195.706 163.394C195.625 162.633 195.724 161.864 195.995 161.149C196.266 160.433 196.701 159.791 197.266 159.274L197.254 159.273C197.254 159.273 195.161 159.416 195.104 162.764C195.046 166.112 195.242 166.599 195.242 166.599Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M212.482 160.532L216.182 157.642L222.004 151.918C222.004 151.918 221.375 151.888 220.426 151.847C220.19 151.997 219.528 152.469 219.504 153.043C219.476 153.742 217.931 153.092 217.128 153.492C216.325 153.893 212.396 158.91 211.708 158.877C211.02 158.844 210.475 158.529 210.188 159.016C210.182 159.027 210.174 159.037 210.167 159.047L212.482 160.532Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M195.907 160.063C196.039 160.127 196.172 160.187 196.308 160.246C199.119 161.448 202.588 163.966 202.847 164.424C203.004 164.702 205.015 165.922 206.568 166.835C207.218 166.713 207.693 166.599 207.693 166.599C207.693 166.599 206.546 162.793 206.402 162.678C206.259 162.564 201.24 159.559 201.24 159.559L197.266 159.274L197.254 159.273C196.72 159.353 196.237 159.636 195.907 160.063Z",fill:"black"}),u.a.createElement("path",{d:"M188.106 151.861C188.479 152.777 191.605 156.297 191.605 156.297C191.605 156.297 193.583 158.872 196.394 160.074C199.205 161.276 202.674 163.794 202.933 164.253C203.099 164.547 205.338 165.893 206.917 166.818C207.039 166.889 207.157 166.959 207.27 167.024C207.579 167.203 207.848 167.36 208.053 167.477C208.311 167.627 208.467 167.715 208.467 167.715C208.467 167.715 209.427 166.946 210.384 166.171C211.328 165.407 212.267 164.639 212.282 164.596C212.31 164.51 212.683 163.537 212.597 163.48C212.552 163.45 212.355 163.054 211.993 162.595C211.608 162.084 211.107 161.671 210.532 161.39C209.213 160.789 208.639 159.421 208.639 159.421C208.639 159.421 208.513 159.33 208.323 159.21C207.933 158.94 207.495 158.746 207.034 158.636C206.402 158.557 205.227 157.269 205.227 157.269C205.227 157.269 204.423 156.754 204.109 156.097C203.807 155.469 199.36 152.42 198.947 152.139L209.73 159.049L212.31 160.703L216.01 157.814L221.831 152.09C221.831 152.09 221.049 152.052 219.91 152.003C217.081 151.881 212.055 151.69 211.421 151.832C210.905 151.953 210.372 151.987 209.844 151.935C209.844 151.935 208.412 152 207.465 151.501C206.517 151.002 205.026 150.769 204.854 150.399C204.682 150.029 199.606 148.255 199.606 148.255C199.606 148.255 192.695 144.592 190.228 146.767C187.762 148.942 187.733 150.945 188.106 151.861Z",fill:"#65617D"}),u.a.createElement("path",{d:"M210.389 130.856L211.278 133.803L212.425 140.442L216.64 140.729L217.861 138.709L219.078 136.694C219.078 136.694 219.837 134.011 220.383 131.415C220.865 129.119 221.18 126.891 220.655 126.649C220.19 126.434 219.884 125.661 219.685 124.83C219.66 124.727 219.637 124.622 219.616 124.518C219.476 123.814 219.382 123.101 219.336 122.384C219.336 122.384 210.503 121.927 211.736 125.561C211.957 126.182 212.069 126.835 212.069 127.494C212.068 127.658 212.058 127.822 212.039 127.986C211.978 128.552 211.799 129.099 211.515 129.593C211.231 130.087 210.848 130.517 210.389 130.856Z",fill:"#EE8E9E"}),u.a.createElement("path",{d:"M208.553 130.369L208.869 135.377L209.585 139.641L210.389 141.616L211.106 152.419C211.106 152.419 218.02 153.217 219.702 152.405C219.823 152.354 219.928 152.273 220.007 152.168C222.038 149.107 221.372 140.242 221.372 140.242L222.146 134.518L221.63 131.548L220.383 131.415L219.423 131.313C219.423 131.313 219.206 131.579 218.893 131.992C218.043 133.113 216.478 135.316 216.583 136.235C216.726 137.495 216.411 138.782 215.924 138.983C215.436 139.183 215.035 139.527 214.949 139.183C214.863 138.84 214.777 138.754 214.863 138.267C214.949 137.781 214.489 136.293 214.489 136.293C214.489 136.293 213.715 134.547 213.773 133.803C213.83 133.059 213.687 132.2 213.457 132C213.228 131.8 212.912 131.599 213.17 130.684C213.429 129.768 212.039 127.986 212.039 127.986L208.553 130.369Z",fill:"#E3E8F4"}),u.a.createElement("path",{opacity:"0.1",d:"M217.687 142.876L217.974 151.433C217.974 151.433 218.626 151.793 219.63 152.349C219.751 152.299 219.856 152.217 219.935 152.112C221.966 149.052 221.3 140.186 221.3 140.186L222.075 134.463L221.558 131.492L220.311 131.36C220.794 129.063 221.108 126.835 220.584 126.593C220.118 126.379 219.812 125.605 219.613 124.774L218.719 130.828C218.719 130.828 218.794 131.374 218.821 131.937C218.857 132.294 218.833 132.654 218.749 133.003C218.547 133.518 218.691 134.434 218.691 134.434C218.174 135.343 217.916 137.027 217.789 138.653C217.622 140.816 217.687 142.876 217.687 142.876Z",fill:"black"}),u.a.createElement("path",{d:"M219.641 124.638C219.641 124.638 221.086 124.817 221.544 125.418C222.003 126.019 223.208 126.105 223.208 126.105C223.208 126.105 224.584 126.563 224.556 126.677C224.527 126.792 224.957 126.963 225.817 127.192C226.678 127.421 228.112 128.251 228.112 128.451C228.112 128.652 230.377 130.884 230.377 131.113C230.377 131.342 231.065 132.2 230.979 133.717C230.893 135.234 230.807 137.151 231.151 137.466C231.496 137.781 231.151 139.011 231.151 139.011C231.059 139.145 231.007 139.303 231.002 139.465C230.997 139.627 231.039 139.788 231.123 139.927C231.409 140.442 231.065 142.589 231.065 142.589L231.094 144.821C231.094 144.821 230.779 146.223 231.151 146.28C231.524 146.338 231.094 146.967 231.094 146.967C231.094 146.967 230.779 148.112 231.18 148.627C231.582 149.142 231.696 151.346 231.696 151.346L237.833 160.246C237.833 160.246 237.919 161.877 235.969 161.848C234.019 161.82 234.048 162.22 234.105 162.593C234.163 162.965 233.56 163.365 233.56 163.365C233.56 163.365 232.786 163.766 233.245 164.252C233.704 164.739 235.023 165.855 232.843 166.599C232.586 166.245 232.374 165.861 232.212 165.454C232.027 164.949 231.874 164.433 231.754 163.909C231.754 163.909 231.553 161.734 231.151 161.448C230.75 161.162 230.807 159.788 230.807 159.788C230.807 159.788 231.381 158.672 230.578 158.214C229.775 157.756 218.132 151.317 218.132 151.317L217.845 142.76C217.845 142.76 217.644 136.436 218.849 134.318C218.849 134.318 218.705 133.402 218.906 132.887C219.107 132.372 218.877 130.712 218.877 130.712L219.641 124.638Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M212.125 128.071C212.125 128.071 209.242 127.478 208.467 127.879C207.693 128.28 206.173 128.595 205.944 128.823C205.714 129.052 205.141 128.881 204.625 130.226C204.108 131.571 204.051 132.944 203.391 133.574C202.732 134.204 202.388 134.633 202.359 135.091C202.33 135.549 202.445 135.663 202.187 135.806C201.929 135.949 201.556 136.55 201.671 136.779C201.785 137.008 207.636 142.045 207.636 142.045C207.636 142.045 207.922 143.962 208.181 144.449C208.439 144.935 207.894 151.632 207.32 152.09C206.747 152.548 211.192 152.505 211.192 152.505C211.192 152.505 211.392 148.112 211.565 147.883C211.737 147.654 211.45 142.961 211.45 142.961C211.45 142.961 211.421 138.954 211.794 137.895C212.167 136.836 212.125 133.316 212.125 133.316C212.125 133.316 212.454 131.204 212.855 130.712C213.256 130.22 212.125 128.071 212.125 128.071Z",fill:"black"}),u.a.createElement("path",{d:"M212.039 127.985C212.039 127.985 209.156 127.393 208.381 127.793C207.607 128.194 206.087 128.509 205.858 128.738C205.628 128.967 205.055 128.795 204.539 130.14C204.022 131.485 203.965 132.859 203.305 133.488C202.646 134.118 202.302 134.547 202.273 135.005C202.244 135.463 202.359 135.577 202.101 135.72C201.843 135.863 201.47 136.464 201.585 136.693C201.699 136.922 207.55 141.959 207.55 141.959C207.55 141.959 207.836 143.876 208.095 144.363C208.353 144.849 207.808 151.546 207.234 152.004C206.661 152.462 211.106 152.42 211.106 152.42C211.106 152.42 211.306 148.026 211.479 147.797C211.651 147.568 211.364 142.875 211.364 142.875C211.364 142.875 211.335 138.868 211.708 137.809C212.081 136.751 212.039 133.231 212.039 133.231C212.039 133.231 212.368 131.118 212.769 130.626C213.17 130.135 212.039 127.985 212.039 127.985Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M211.736 125.561C211.957 126.182 212.069 126.835 212.069 127.494C213.479 127.911 214.989 127.845 216.357 127.306C217.725 126.766 218.873 125.785 219.616 124.518C219.476 123.814 219.382 123.101 219.336 122.384C219.336 122.384 210.503 121.927 211.736 125.561Z",fill:"black"}),u.a.createElement("path",{d:"M207.378 121.039C207.379 122.717 208.025 124.33 209.183 125.547C210.341 126.763 211.922 127.489 213.601 127.576C215.28 127.663 216.928 127.104 218.206 126.014C219.484 124.924 220.294 123.386 220.469 121.717C220.644 120.048 220.17 118.376 219.146 117.046C218.122 115.715 216.626 114.828 214.965 114.566C213.304 114.304 211.606 114.689 210.221 115.639C208.836 116.59 207.87 118.035 207.521 119.677C207.426 120.125 207.378 120.581 207.378 121.039Z",fill:"#EE8E9E"}),u.a.createElement("path",{d:"M203.162 136.207L201.585 136.693C201.585 136.693 201.728 137.266 201.269 137.552C201.133 137.648 201.025 137.778 200.955 137.928C200.884 138.079 200.854 138.245 200.868 138.41C200.868 138.41 200.696 139.04 200.294 139.183C199.893 139.326 199.635 140.271 199.635 140.271L198.315 141.787C198.315 141.787 197.828 142.188 197.914 142.388C198 142.589 197.398 142.646 197.398 142.646L197.713 147.74L200.438 148.255L202.13 148.083L203.506 147.568L204.711 146.853L205.255 145.45L207.664 141.787L203.162 136.207Z",fill:"#3F3D56"}),u.a.createElement("path",{d:"M197.799 143.047C197.799 143.047 194.301 138.01 191.691 140.728C189.081 143.447 192.752 147.854 193.612 147.711C194.473 147.568 198.574 147.339 198.574 147.339L197.799 143.047Z",fill:"#EE8E9E"}),u.a.createElement("path",{d:"M206.172 140.928L190.477 132.935C190.307 132.848 190.099 132.915 190.012 133.085L183.863 145.109C183.776 145.279 183.844 145.486 184.014 145.573L199.709 153.566C199.879 153.653 200.087 153.585 200.174 153.416L206.323 141.391C206.41 141.222 206.342 141.014 206.172 140.928Z",fill:"#3F3D56"}),u.a.createElement("path",{d:"M204.609 141.568L190.898 134.587L185.626 144.896L199.336 151.878L204.609 141.568Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M187.728 139.721C187.867 139.721 187.98 139.608 187.98 139.469C187.98 139.33 187.867 139.217 187.728 139.217C187.588 139.217 187.475 139.33 187.475 139.469C187.475 139.608 187.588 139.721 187.728 139.721Z",fill:"#E6E8EC"}),u.a.createElement("path",{d:"M202.568 147.472C202.798 147.472 202.984 147.286 202.984 147.057C202.984 146.828 202.798 146.642 202.568 146.642C202.338 146.642 202.152 146.828 202.152 147.057C202.152 147.286 202.338 147.472 202.568 147.472Z",fill:"#E6E8EC"}),u.a.createElement("path",{d:"M195.534 144.105C195.505 147.883 203.334 148.684 203.334 148.684L205.335 149.001L206.23 149.142L206.604 145.451C206.604 145.451 206.193 145.39 205.68 145.27C204.922 145.094 203.941 144.79 203.735 144.363C203.391 143.648 195.562 140.328 195.534 144.105Z",fill:"#EE8E9E"}),u.a.createElement("path",{opacity:"0.1",d:"M207.521 119.677C207.701 119.69 207.871 119.766 208.001 119.891C208.223 120.126 208.235 120.541 208.523 120.685C208.63 120.733 208.75 120.747 208.865 120.725C209.628 120.618 210.069 119.758 210.801 119.522C211.229 119.412 211.681 119.451 212.084 119.632C212.247 119.683 212.394 119.777 212.509 119.904C212.754 120.221 212.582 120.686 212.696 121.069C212.853 121.601 213.489 121.812 214.039 121.881C214.59 121.951 215.21 121.989 215.578 122.404C215.699 122.559 215.786 122.738 215.833 122.929C215.881 123.12 215.887 123.318 215.851 123.512C215.817 123.646 215.816 123.786 215.848 123.921C215.999 124.35 216.743 124.287 216.938 123.948C217.08 123.701 217.037 123.497 217.371 123.428C217.612 123.409 217.854 123.45 218.074 123.549C218.657 123.75 219.272 123.844 219.89 123.828C220.284 122.991 220.496 122.081 220.512 121.157C220.529 120.233 220.349 119.316 219.986 118.466C219.622 117.617 219.082 116.853 218.402 116.226C217.722 115.599 216.916 115.122 216.039 114.828C215.161 114.533 214.231 114.427 213.309 114.517C212.387 114.606 211.495 114.889 210.691 115.347C209.886 115.805 209.188 116.427 208.642 117.174C208.095 117.92 207.713 118.773 207.521 119.677Z",fill:"black"}),u.a.createElement("path",{d:"M215.848 123.75C215.816 123.615 215.818 123.474 215.851 123.34C215.886 123.147 215.88 122.948 215.833 122.757C215.786 122.566 215.699 122.388 215.578 122.233C215.21 121.817 214.59 121.779 214.039 121.709C213.488 121.64 212.853 121.429 212.696 120.898C212.582 120.515 212.754 120.049 212.509 119.733C212.395 119.605 212.248 119.511 212.084 119.461C211.682 119.28 211.229 119.241 210.801 119.35C210.069 119.586 209.627 120.446 208.865 120.553C208.75 120.575 208.631 120.561 208.523 120.514C208.235 120.369 208.223 119.954 208.001 119.72C207.653 119.352 206.992 119.59 206.566 119.316C206.287 119.138 206.181 118.79 206.102 118.469C205.951 117.847 205.829 117.194 205.975 116.571C206.225 115.506 207.178 114.777 207.787 113.868C208.354 113.02 208.673 111.948 209.525 111.387C210.363 110.836 211.472 110.953 212.434 111.238C212.878 111.394 213.333 111.513 213.797 111.595C214.572 111.69 215.35 111.48 216.131 111.452C217.233 111.417 218.317 111.746 219.213 112.387C219.415 112.519 219.587 112.692 219.716 112.896C219.846 113.183 219.921 113.492 219.94 113.807C220.032 114.398 220.238 114.967 220.545 115.481C220.787 115.883 221.089 116.248 221.307 116.664C221.55 117.072 221.624 117.558 221.513 118.02C221.439 118.256 221.294 118.468 221.239 118.71C221.111 119.268 221.48 119.802 221.732 120.318C221.976 120.788 222.091 121.314 222.067 121.843C222.053 122.106 221.985 122.364 221.867 122.6C221.748 122.836 221.583 123.046 221.38 123.215C220.954 123.511 220.445 123.664 219.926 123.655C219.297 123.676 218.669 123.582 218.074 123.377C217.854 123.279 217.612 123.237 217.372 123.256C217.037 123.325 217.08 123.529 216.938 123.776C216.743 124.115 216 124.179 215.848 123.75Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M212.31 160.703L216.01 157.814L221.831 152.09C221.831 152.09 221.049 152.052 219.91 152.003C219.685 152.206 219.54 152.484 219.504 152.785C219.476 153.485 217.931 152.834 217.128 153.234C216.325 153.635 212.396 158.652 211.708 158.62C211.02 158.586 210.475 158.271 210.188 158.758C210.182 158.769 210.174 158.779 210.167 158.79C210.053 158.92 209.9 159.011 209.73 159.049L212.31 160.703Z",fill:"black"}),u.a.createElement("path",{d:"M204.854 160.503L206.713 166.425L207.005 167.355L207.889 167.112L209.841 166.578L218.533 164.195C219.624 164.147 220.691 163.863 221.661 163.362C223.305 162.444 225.185 162.035 227.062 162.187C228.212 162.295 229.489 161.8 230.549 159.845C230.549 159.845 232.958 152.748 226.878 150.716C220.799 148.684 220.508 151.796 220.508 151.796C220.508 151.796 220.477 151.813 220.426 151.847C220.19 151.997 219.528 152.469 219.504 153.043C219.476 153.742 217.931 153.092 217.128 153.492C216.325 153.893 212.396 158.91 211.708 158.877C211.02 158.844 210.475 158.529 210.188 159.016C210.182 159.027 210.174 159.037 210.167 159.047C209.955 159.339 209.316 159.407 208.894 159.419C208.663 159.426 208.496 159.416 208.496 159.416L208.442 159.432L208.001 159.563L204.854 160.503Z",fill:"#65617D"}),u.a.createElement("path",{opacity:"0.1",d:"M205.335 149.001L206.23 149.142L206.604 145.451C206.604 145.451 206.193 145.39 205.68 145.27C205.816 145.786 205.508 147.776 205.335 149.001Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M228.784 131.751C228.784 131.751 231.451 130.978 230.792 138.533C230.132 146.088 225.2 150.867 225.2 150.867C225.2 150.867 219.521 153.357 216.969 152.956C214.417 152.556 212.553 152.47 212.553 152.47C211.749 152.065 210.87 151.831 209.972 151.783C208.538 151.726 205.527 150.839 205.469 150.552C205.412 150.266 206.215 146.059 205.871 145.745C205.871 145.745 209.886 145.909 210.287 146.199C210.689 146.489 211.262 146.281 211.692 146.199C212.123 146.117 213.442 144.972 216.051 145.974C216.051 145.974 216.94 146.059 217.285 145.831C217.629 145.602 218.181 145.773 218.181 145.773C218.403 145.698 218.612 145.592 218.804 145.458C218.89 145.344 219.579 145.458 219.579 145.458C219.62 145.478 219.664 145.489 219.71 145.489C219.756 145.49 219.801 145.48 219.842 145.461C219.883 145.442 219.919 145.414 219.948 145.378C219.977 145.343 219.998 145.302 220.009 145.258C220.099 145.024 220.236 144.809 220.41 144.629C220.41 144.629 221.185 140.279 222.647 138.647C222.647 138.647 223.077 138.275 222.963 137.818C222.848 137.36 225.343 130.835 228.784 131.751Z",fill:"black"}),u.a.createElement("path",{d:"M228.714 131.17C228.714 131.17 231.381 130.397 230.721 137.953C230.062 145.508 225.129 150.287 225.129 150.287C225.129 150.287 219.451 152.777 216.899 152.376C214.346 151.975 212.482 151.889 212.482 151.889C211.679 151.484 210.8 151.25 209.901 151.203C208.467 151.145 205.456 150.258 205.399 149.972C205.341 149.686 206.144 145.479 205.8 145.164C205.8 145.164 209.815 145.328 210.217 145.618C210.618 145.908 211.192 145.7 211.622 145.618C212.052 145.536 213.371 144.392 215.981 145.393C215.981 145.393 216.87 145.479 217.214 145.25C217.558 145.021 218.111 145.193 218.111 145.193C218.332 145.117 218.542 145.011 218.734 144.878C218.82 144.764 219.508 144.878 219.508 144.878C219.549 144.898 219.594 144.909 219.64 144.909C219.685 144.909 219.73 144.9 219.771 144.88C219.813 144.861 219.849 144.833 219.878 144.798C219.907 144.763 219.928 144.722 219.938 144.678C220.029 144.443 220.165 144.229 220.34 144.048C220.34 144.048 221.114 139.698 222.577 138.067C222.577 138.067 223.007 137.695 222.892 137.237C222.778 136.779 225.273 130.254 228.714 131.17Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M208.001 159.563L211.789 164.137C211.798 164.129 211.806 164.12 211.813 164.11C211.841 164.024 212.214 163.051 212.128 162.994C212.042 162.936 211.383 161.505 210.063 160.904C209.393 160.577 208.831 160.067 208.442 159.432L208.001 159.563Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M208.053 167.477C208.311 167.627 208.467 167.715 208.467 167.715C208.467 167.715 209.427 166.946 210.384 166.171C211.328 165.407 212.267 164.639 212.282 164.596C212.31 164.51 212.683 163.537 212.597 163.48C212.552 163.45 212.355 163.054 211.993 162.595C209.425 161.877 211.06 163.656 211.278 163.738C211.278 163.738 208.152 163.021 207.98 166.42C207.957 166.774 207.982 167.13 208.053 167.477Z",fill:"black"}),u.a.createElement("path",{d:"M211.22 168.917L211.766 169.232L217.3 169.375C217.921 169.751 218.577 170.066 219.259 170.316C219.35 170.343 219.443 170.364 219.537 170.377C220.05 170.418 220.565 170.427 221.079 170.406C221.504 170.395 221.831 170.377 221.831 170.377C221.831 170.377 221.57 163.411 221.372 162.678C221.277 162.328 220.814 162.405 220.356 162.58C220.012 162.72 219.681 162.887 219.365 163.081C219.365 163.081 217.014 163.308 216.64 163.51C216.268 163.712 215.207 163.394 214.547 163.51C213.887 163.626 212.712 162.736 212.712 162.736C209.499 161.677 211.306 163.652 211.536 163.738C211.536 163.738 208.41 163.022 208.238 166.42C208.066 169.817 211.22 168.917 211.22 168.917Z",fill:"#3F3D56"}),u.a.createElement("path",{d:"M219.221 166.227C219.281 167.669 220.408 169.459 221.079 170.406C221.504 170.395 221.831 170.377 221.831 170.377C221.831 170.377 221.57 163.411 221.372 162.678C221.277 162.328 220.814 162.405 220.356 162.58C219.8 163.619 219.173 165.065 219.221 166.227Z",fill:"#565387"}),u.a.createElement("path",{opacity:"0.1",d:"M219.221 166.227C219.281 167.669 220.408 169.459 221.079 170.406C221.504 170.395 221.831 170.377 221.831 170.377C221.831 170.377 221.57 163.411 221.372 162.678C221.277 162.328 220.814 162.405 220.356 162.58C219.8 163.619 219.173 165.065 219.221 166.227Z",fill:"black"}),u.a.createElement("path",{opacity:"0.05",d:"M218.275 166.419C218.656 167.81 218.652 169.371 219.259 170.316C219.35 170.343 219.443 170.364 219.537 170.377C220.05 170.418 220.565 170.427 221.08 170.406C221.504 170.395 221.831 170.377 221.831 170.377C221.831 170.377 221.57 163.411 221.372 162.678C221.277 162.328 220.814 162.405 220.356 162.58C220.012 162.72 219.681 162.887 219.365 163.081C219.365 163.081 217.788 164.636 218.275 166.419Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M199.181 152.299C199.181 152.299 201.93 153.19 204.259 156.353L199.181 152.299Z",fill:"black"}),u.a.createElement("g",{opacity:"0.1"},u.a.createElement("path",{opacity:"0.1",d:"M221.52 117.959C221.515 117.979 221.51 118 221.503 118.02C221.477 118.101 221.445 118.181 221.408 118.258C221.436 118.155 221.474 118.055 221.52 117.959Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M205.966 116.571C206.014 116.37 206.086 116.176 206.18 115.993C206.165 116.042 206.15 116.091 206.138 116.142C205.992 116.765 206.114 117.418 206.265 118.04C206.344 118.36 206.45 118.709 206.729 118.887C207.155 119.16 207.816 118.923 208.164 119.291C208.385 119.525 208.398 119.94 208.686 120.084C208.794 120.132 208.913 120.146 209.028 120.124C209.79 120.017 210.232 119.157 210.964 118.921C211.392 118.811 211.844 118.85 212.247 119.031C212.411 119.082 212.558 119.176 212.672 119.304C212.917 119.62 212.745 120.086 212.859 120.469C213.016 121 213.651 121.21 214.202 121.28C214.753 121.349 215.373 121.388 215.741 121.803C215.862 121.958 215.949 122.137 215.996 122.328C216.043 122.519 216.049 122.717 216.014 122.911C215.981 123.045 215.979 123.186 216.011 123.321C216.163 123.75 216.906 123.686 217.101 123.347C217.243 123.1 217.2 122.896 217.535 122.827C217.775 122.808 218.017 122.85 218.237 122.948C218.832 123.153 219.46 123.247 220.089 123.226C220.608 123.235 221.117 123.081 221.543 122.786C221.727 122.638 221.879 122.454 221.989 122.245C221.893 122.626 221.676 122.966 221.371 123.215C220.945 123.511 220.436 123.664 219.917 123.655C219.288 123.676 218.66 123.582 218.065 123.377C217.845 123.279 217.603 123.237 217.363 123.256C217.028 123.325 217.071 123.529 216.929 123.776C216.734 124.115 215.991 124.179 215.839 123.75C215.807 123.615 215.809 123.474 215.842 123.34C215.877 123.147 215.871 122.948 215.824 122.757C215.777 122.566 215.69 122.388 215.569 122.233C215.201 121.817 214.581 121.779 214.03 121.709C213.479 121.64 212.844 121.429 212.686 120.898C212.573 120.515 212.745 120.049 212.5 119.733C212.386 119.605 212.239 119.511 212.075 119.461C211.672 119.28 211.22 119.241 210.792 119.35C210.06 119.586 209.618 120.446 208.856 120.553C208.741 120.575 208.622 120.561 208.514 120.514C208.226 120.369 208.213 119.954 207.992 119.72C207.644 119.352 206.983 119.59 206.556 119.316C206.278 119.138 206.171 118.79 206.093 118.469C205.942 117.847 205.82 117.194 205.966 116.571Z",fill:"black"})),u.a.createElement("path",{opacity:"0.1",d:"M221.965 139.476C221.439 140.184 220.839 140.839 220.375 141.587C219.91 142.336 219.581 143.21 219.678 144.086C220.159 143.593 220.379 142.912 220.682 142.295C221.196 141.249 221.964 140.362 222.612 139.401C222.736 139.217 223.527 138.156 223.127 138.105C222.795 138.063 222.144 139.235 221.965 139.476Z",fill:"black"}),u.a.createElement("path",{d:"M69.7063 142.439C84.6605 142.439 96.7832 131.041 96.7832 116.982C96.7832 102.922 84.6605 91.5245 69.7063 91.5245C54.7521 91.5245 42.6294 102.922 42.6294 116.982C42.6294 131.041 54.7521 142.439 69.7063 142.439Z",fill:"#F1F1F1"}),u.a.createElement("path",{d:"M110.796 148.182L88.396 141.518C83.7524 143.748 78.6639 144.903 73.5105 144.895C55.989 144.895 41.7343 131.872 41.7343 115.865C41.7343 99.8579 55.989 86.835 73.5105 86.835C91.032 86.835 105.287 99.8579 105.287 115.865C105.287 123.946 101.569 131.701 95.077 137.186L110.796 148.182ZM88.3564 141.04L88.4402 141.065L108.281 146.968L94.3414 137.216L94.5669 137.03C101.095 131.62 104.839 123.905 104.839 115.865C104.839 100.104 90.7852 87.2816 73.5105 87.2816C56.2358 87.2816 42.1818 100.104 42.1818 115.865C42.1818 131.626 56.2358 144.449 73.5105 144.449C78.6253 144.456 83.6749 143.304 88.2779 141.078L88.3564 141.04Z",fill:"#2F2E41"}),u.a.createElement("path",{d:"M62.8811 119.996C64.2406 119.996 65.3427 118.897 65.3427 117.54C65.3427 116.183 64.2406 115.084 62.8811 115.084C61.5217 115.084 60.4196 116.183 60.4196 117.54C60.4196 118.897 61.5217 119.996 62.8811 119.996Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M70.042 119.996C71.4014 119.996 72.5035 118.897 72.5035 117.54C72.5035 116.183 71.4014 115.084 70.042 115.084C68.6825 115.084 67.5804 116.183 67.5804 117.54C67.5804 118.897 68.6825 119.996 70.042 119.996Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M77.2028 119.996C78.5623 119.996 79.6643 118.897 79.6643 117.54C79.6643 116.183 78.5623 115.084 77.2028 115.084C75.8433 115.084 74.7413 116.183 74.7413 117.54C74.7413 118.897 75.8433 119.996 77.2028 119.996Z",fill:"#39A0E2"}),u.a.createElement("path",{d:"M59.0167 90.1963C60.5584 91.227 62.8958 90.7362 62.8958 90.7362C62.8958 90.7362 66.4268 89.0674 67.4711 89.0674C68.5155 89.0674 71.0519 88.0366 71.0519 88.0366L70.9663 87.3416L70.7074 85.2479C72.3145 86.4978 74.1006 86.0666 74.9807 85.9752C75.9256 85.877 80.9724 82.883 81.4578 82.6867C81.6401 82.577 81.7922 82.4238 81.9004 82.241H81.9014C82.2265 81.7448 82.5122 81.2239 82.7558 80.6831L82.7552 80.6833C83.0717 80.4058 83.3023 80.1827 83.2859 80.1344C83.3535 79.8477 83.4574 79.5707 83.5951 79.3102C84.1374 79.2322 84.6583 79.045 85.126 78.7601C85.2042 78.6966 85.2752 78.6249 85.3379 78.5461C85.5301 78.2989 85.631 77.9931 85.6234 77.6803C85.6234 77.6803 90.5468 72.723 89.9003 70.6615C89.2538 68.6 91.4917 68.551 91.4917 68.551C91.4917 68.551 94.9233 67.0785 95.4007 66.195C95.6951 65.6512 98.2682 64.4585 100.206 63.6201C100.286 63.5853 100.366 63.5511 100.444 63.5176C101.197 65.1618 105.013 63.8967 105.765 63.201C106.561 62.4647 108.898 62.1212 108.898 62.1212C108.898 62.1212 108.997 52.501 109.743 51.274C110.098 50.6919 110.183 48.7924 110.174 46.9577C110.174 46.8924 110.173 46.8273 110.173 46.7623C111.218 46.559 113.702 46.0877 114.857 45.9731C115.589 45.9004 116.351 45.4455 116.935 45.0032C116.98 45.0585 117.004 45.0896 117.004 45.0896C117.206 45.1721 117.423 45.2078 117.641 45.194C117.833 45.2145 118.026 45.1782 118.198 45.0896C118.645 44.8442 120.287 44.3534 120.883 44.108C121.48 43.8626 120.784 42.0956 120.336 41.752C119.889 41.4084 119.59 40.9667 119.839 40.7704C120.088 40.574 119.242 40.0832 118.745 39.9851C118.248 39.8869 116.756 39.1997 116.756 39.1997C116.756 39.1997 116.209 38.0708 115.313 38.0708C114.418 38.0708 113.225 37.1874 113.225 37.1874C113.175 36.7947 112.23 36.7456 112.23 36.7456C112.23 36.7456 108.649 33.997 108.053 34.3406C107.456 34.6841 105.815 33.8007 105.815 33.8007C105.815 33.8007 103.802 34.0255 103.328 33.6557L103.328 33.6534C103.325 33.5324 103.283 33.4156 103.209 33.3202C103.101 32.9885 102.581 32.533 102.077 32.1538C102.115 31.9194 102.134 31.6822 102.134 31.4447C102.134 31.3416 102.13 31.2386 102.123 31.1375C102.122 31.1204 102.12 31.1037 102.119 31.0867C102.142 30.8563 102.166 30.6259 102.189 30.3955C102.194 30.1681 102.254 29.9452 102.363 29.7453C102.447 29.6162 102.57 29.5141 102.664 29.3909C102.686 29.3614 102.706 29.3308 102.725 29.2991C102.73 29.2905 102.735 29.2818 102.739 29.2732C102.753 29.2488 102.765 29.2241 102.777 29.199C102.781 29.1906 102.785 29.1822 102.788 29.1737C102.816 29.1062 102.838 29.0362 102.852 28.9645C102.854 28.9589 102.855 28.9533 102.856 28.9476C102.862 28.9152 102.867 28.8824 102.871 28.8494L102.872 28.8357C102.892 28.5501 102.854 28.2634 102.76 27.9929C102.611 27.5296 102.378 27.0809 102.353 26.5973C102.364 26.3573 102.356 26.1166 102.328 25.878C102.208 25.342 101.654 24.9997 101.123 24.7774C100.387 24.47 100.017 24.1339 99.426 23.6768C98.924 23.2883 98.0962 23.4833 97.4641 23.5238C96.0214 23.6162 94.5967 24.0495 93.2399 24.4982C92.7044 24.6422 92.2028 24.8907 91.7641 25.2293C91.4874 25.4638 91.2973 25.7839 91.224 26.1387L91.2239 26.1386L91.2238 26.1394C91.2093 26.2212 91.2038 26.3044 91.2074 26.3873C91.2077 26.3947 91.2084 26.4021 91.2089 26.4094C91.211 26.4412 91.2146 26.4729 91.2197 26.5044C91.2213 26.5148 91.2227 26.5251 91.2247 26.5354C91.2317 26.5733 91.2409 26.6109 91.2522 26.6478L91.253 26.6507C91.3101 26.8316 91.4166 26.9956 91.4781 27.1752C91.4916 27.215 91.5029 27.2554 91.5119 27.2964C91.5129 27.3008 91.5137 27.3052 91.5146 27.3096C91.523 27.3489 91.5298 27.3883 91.5346 27.4279L91.5347 27.4277C91.5895 27.8741 91.4247 28.3401 91.3514 28.7949C91.3411 28.8592 91.3343 28.9247 91.3291 28.9907L91.3291 28.9904L91.3289 28.9928C91.3074 29.256 91.3307 29.521 91.3977 29.7765L91.3999 29.7851C91.4085 29.8166 91.4186 29.8474 91.4287 29.8783C91.4331 29.8916 91.4371 29.9051 91.4418 29.9183C91.451 29.9446 91.4614 29.9702 91.4718 29.9959C91.4788 30.0131 91.4856 30.0303 91.493 30.0473C91.5031 30.0701 91.5141 30.0925 91.5251 30.1148C91.5344 30.1337 91.5439 30.1525 91.5539 30.1709C91.565 30.1913 91.5765 30.2112 91.5884 30.2309C91.6001 30.2504 91.6121 30.2695 91.6246 30.2883C91.6366 30.3065 91.649 30.3243 91.6618 30.3419C91.6758 30.3612 91.6905 30.38 91.7055 30.3986C91.7185 30.4147 91.7315 30.4306 91.7451 30.4461C91.7618 30.465 91.7795 30.4831 91.7972 30.5011C91.8109 30.515 91.8244 30.529 91.8387 30.5423C91.8586 30.5607 91.8797 30.578 91.9008 30.5952C91.9148 30.6067 91.9282 30.6185 91.9427 30.6294C91.9674 30.6479 91.9936 30.6648 92.02 30.6817C92.0325 30.6898 92.0443 30.6986 92.0573 30.7063C92.0978 30.7305 92.1397 30.7524 92.1826 30.7721C92.4681 30.9019 92.8279 30.9483 93.0007 31.1985C93.0409 31.2577 93.0693 31.3241 93.0845 31.394C93.0843 31.411 93.0832 31.4277 93.0832 31.4447V31.4879C93.0851 31.6332 93.0931 31.7765 93.108 31.9179C93.1068 31.9956 93.1111 32.0734 93.121 32.1505C93.1297 32.2087 93.1461 32.2654 93.1697 32.3194C93.3709 33.3082 93.9027 34.1995 94.678 34.8472C94.6924 34.9228 94.7095 35.0116 94.729 35.1112C94.2918 35.4414 93.8029 35.6971 93.2821 35.868C92.0885 36.2165 90.3976 37.8254 90.3976 37.8254C90.3976 37.8254 89.5572 43.8626 89.3562 44.5988C89.1543 45.335 89.0051 48.1818 89.0051 48.1818C89.0051 48.1818 88.8062 49.3598 88.5078 49.9488C88.2969 50.3642 88.3347 52.1476 88.9243 53.2313C88.8277 53.4443 88.7045 53.6442 88.5575 53.8263C87.364 55.2006 83.7833 55.1515 82.5897 55.1515C81.4901 55.1515 81.1511 55.8165 81.1044 55.9215C78.9195 56.5407 71.8418 58.5567 71.0021 58.923C70.0075 59.3569 69.4604 63.6427 69.4604 63.6427C69.4604 63.6427 67.3717 70.7597 67.4711 71.6962C67.5706 72.6326 66.7749 75.2262 66.7749 75.2262C66.7749 75.2262 66.7749 78.1623 66.4367 78.3615C66.4339 78.3642 66.4305 78.3662 66.4268 78.3674C66.0786 78.5147 66.1284 79.9381 66.1284 79.9381C66.1284 79.9381 66.3842 80.0119 66.7839 80.1129C66.6779 80.8328 66.2866 81.8389 65.9783 82.5531C65.8234 82.3577 65.6724 82.2755 65.5813 82.5041C65.3326 83.1284 61.6027 87.5458 60.6578 87.5458C60.2073 87.5458 59.4633 87.9139 58.9739 88.4107C58.4378 88.9565 58.21 89.6573 59.0167 90.1963ZM76.1245 64.6244C80.3517 65.017 84.8774 64.325 84.8774 64.325C84.8774 64.325 84.5292 65.5569 84.2309 66.0478C83.9325 66.5386 83.087 69.3363 83.087 69.9253C83.087 70.5143 81.7442 75.5697 81.3464 75.8151C81.1499 75.9818 81.0007 76.1971 80.9137 76.4395C80.809 76.6832 80.7209 76.9338 80.6501 77.1894C80.656 77.3177 80.6679 77.4382 80.6844 77.5529C80.3872 77.825 80.073 78.1093 79.7927 78.3617L79.7928 78.3615C79.7928 78.3615 78.0143 79.3491 77.4176 79.889C76.8208 80.4289 74.0358 81.0905 74.0358 81.0905C73.3472 81.3864 72.6788 81.7268 72.0346 82.1095C71.1717 82.629 70.3078 83.2881 70.0827 83.9396C70.1801 82.8427 70.3393 81.5214 70.4455 80.6809C70.4996 80.6796 70.5527 80.6775 70.6043 80.6743C71.9978 80.5879 71.7899 79.2607 71.7163 78.9319C71.7063 78.8848 71.6984 78.8583 71.6984 78.8583C72.693 77.7784 74.931 69.7289 74.6326 68.8455C74.3342 67.962 74.8812 67.1767 74.9996 67.1767C75.1179 67.1767 75.2791 66.195 75.0304 65.6551C74.7818 65.1152 76.1245 64.6244 76.1245 64.6244ZM110.309 42.9711C110.221 42.9922 110.133 43.0134 110.045 43.0361C110.043 42.999 110.042 42.9791 110.042 42.9791C110.042 42.9791 110.141 42.979 110.309 42.9711ZM95.8587 35.5648C95.8189 35.614 95.7782 35.6621 95.7359 35.708C95.7192 35.7261 95.7019 35.7433 95.685 35.7609C95.6837 35.6687 95.6837 35.5772 95.6847 35.4885C95.7421 35.5151 95.8001 35.5406 95.8587 35.5648V35.5648ZM90.8767 45.0872L90.8949 45.3635C90.8949 45.3635 90.8678 45.5317 90.8176 45.8206L90.8767 45.0872ZM113.732 42.3442L112.864 42.4934C112.987 42.4471 113.108 42.3966 113.225 42.341C113.312 42.3001 113.406 42.2747 113.502 42.266C113.612 42.2771 113.72 42.3003 113.825 42.3351C113.794 42.3359 113.763 42.339 113.732 42.3441V42.3442Z",fill:"url(#paint2_linear)"}),u.a.createElement("path",{d:"M84.3826 77.7809C84.3826 77.7809 83.3832 79.8446 83.432 79.9907C83.4808 80.1369 81.2843 81.8904 81.2843 81.8904L78.8925 80.1856L79.1366 79.0166C79.1366 79.0166 81.8212 76.6025 82.0165 76.3239C82.2117 76.0453 84.3826 77.7809 84.3826 77.7809Z",fill:"#BE6F72"}),u.a.createElement("path",{d:"M70.7411 84.7643C72.4006 86.3717 74.3531 85.8846 75.2805 85.7872C76.2079 85.6897 81.1613 82.7185 81.6377 82.5236C81.817 82.4144 81.9663 82.2624 82.0721 82.0814H82.0731C82.3924 81.5885 82.6728 81.0716 82.9117 80.5353C82.8785 80.5441 81.255 81.0068 80.845 80.5343C80.845 80.5343 80.1617 79.6985 80.0152 79.6985C79.8688 79.6985 80.0035 78.2314 80.0035 78.2314C80.0035 78.2314 78.258 79.2114 77.6723 79.7472C77.0865 80.283 74.3531 80.9396 74.3531 80.9396C73.6769 81.2335 73.0208 81.5713 72.3889 81.9508C71.0945 82.7389 69.7971 83.8505 70.7411 84.7643Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M70.7411 84.7643C72.4007 86.3717 74.3531 85.8846 75.2805 85.7872C76.2079 85.6897 81.1613 82.7185 81.6377 82.5236C81.817 82.4144 81.9663 82.2624 82.0722 82.0814C81.4942 81.7375 77.7211 84.131 76.6648 84.5694C75.6095 85.0078 72.9376 84.7643 71.4244 84.131C70.6688 83.8154 71.4342 82.8441 72.3889 81.9508C71.0945 82.7389 69.797 83.8505 70.7411 84.7643Z",fill:"black"}),u.a.createElement("path",{d:"M70.9363 79.6985C70.9363 79.6985 70.2411 84.9104 70.4179 85.5923C70.5946 86.2743 66.0552 83.2543 66.0552 83.2543C66.0552 83.2543 67.6437 79.9883 67.1778 79.238C66.712 78.4876 70.9363 79.6985 70.9363 79.6985Z",fill:"#BE6F72"}),u.a.createElement("path",{d:"M66.5921 79.7959C66.5921 79.7959 69.4231 80.624 70.9851 80.5266C72.3528 80.4408 72.1488 79.1237 72.0765 78.7974C72.0668 78.7506 72.0589 78.7243 72.0589 78.7243C73.0352 77.6527 75.2317 69.6643 74.9388 68.7876C74.646 67.9108 75.1829 67.1314 75.299 67.1314C75.4152 67.1314 75.5734 66.1573 75.3293 65.6214C75.0853 65.0856 76.4032 64.5985 76.4032 64.5985C80.5521 64.9882 84.994 64.3014 84.994 64.3014C84.994 64.3014 84.6523 65.524 84.3594 66.0111C84.0666 66.4982 83.2368 69.2747 83.2368 69.8592C83.2368 70.4437 81.9189 75.4608 81.5284 75.7043C81.3351 75.8703 81.1887 76.0839 81.1037 76.3239C81.0008 76.5659 80.9144 76.8146 80.845 77.0682C80.9915 80.3317 84.7011 79.0653 85.238 78.6269C85.3965 78.4977 85.5229 78.3339 85.6076 78.148C85.6923 77.9621 85.7328 77.7593 85.7262 77.5553C85.7262 77.5553 90.5585 72.6356 89.9239 70.5898C89.2894 68.544 91.4859 68.4953 91.4859 68.4953C91.4859 68.4953 94.8539 67.034 95.3225 66.1573C95.6114 65.6176 98.1369 64.4339 100.039 63.602C101.23 63.0808 102.176 62.6989 102.176 62.6989L101.384 59.866L100.76 57.6331L99.5857 57.1928L95.8301 55.7822L89.0873 54.8567L88.4694 54.9366L81.9189 55.7822C81.9189 55.7822 72.3518 58.5099 71.3756 58.9405C70.3994 59.3711 69.8624 63.6244 69.8624 63.6244C69.8624 63.6244 67.8124 70.6872 67.91 71.6166C68.0076 72.546 67.2266 75.1198 67.2266 75.1198C67.2266 75.1198 67.2266 78.0336 66.8947 78.2314C66.8919 78.234 66.8886 78.236 66.885 78.2372C66.5433 78.3833 66.5921 79.7959 66.5921 79.7959Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M76.4032 64.5985C80.5521 64.9882 84.994 64.3014 84.994 64.3014C85.2868 63.3808 89.3899 60.8479 89.3899 60.8479C86.0239 60.0199 76.4032 64.5985 76.4032 64.5985Z",fill:"black"}),u.a.createElement("path",{d:"M80.845 77.0682C80.9914 80.3317 84.7011 79.0653 85.238 78.6269C85.3149 78.5638 85.3846 78.4926 85.446 78.4145C84.1495 78.8909 81.8515 79.2591 81.1037 76.3239C81.0008 76.5659 80.9144 76.8146 80.845 77.0682Z",fill:"#444053"}),u.a.createElement("path",{d:"M66.5921 79.7959C66.5921 79.7959 69.4231 80.624 70.9851 80.5266C72.3528 80.4408 72.1488 79.1237 72.0765 78.7974C70.6434 78.7525 68.1755 78.6181 66.8947 78.2314C66.8919 78.234 66.8886 78.236 66.8849 78.2372C66.5433 78.3833 66.5921 79.7959 66.5921 79.7959Z",fill:"#444053"}),u.a.createElement("path",{opacity:"0.1",d:"M80.845 77.0682C80.9914 80.3317 84.7011 79.0653 85.238 78.6269C85.3149 78.5638 85.3846 78.4926 85.446 78.4145C84.1495 78.8909 81.8515 79.2591 81.1037 76.3239C81.0008 76.5659 80.9144 76.8146 80.845 77.0682Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M66.5921 79.7959C66.5921 79.7959 69.4231 80.624 70.9851 80.5266C72.3528 80.4408 72.1488 79.1237 72.0765 78.7974C70.6434 78.7525 68.1755 78.6181 66.8947 78.2314C66.8919 78.234 66.8886 78.236 66.8849 78.2372C66.5433 78.3833 66.5921 79.7959 66.5921 79.7959Z",fill:"black"}),u.a.createElement("path",{d:"M59.6121 89.9762C61.1252 90.9991 63.4194 90.512 63.4194 90.512C63.4194 90.512 66.885 88.8559 67.91 88.8559C68.935 88.8559 71.4244 87.833 71.4244 87.833L71.3405 87.1432L70.9363 83.8388C70.9363 83.8388 67.1349 83.7414 66.9826 83.4004C66.9826 83.4004 66.2992 81.7229 66.0552 82.3424C65.8111 82.962 62.1503 87.3459 61.2228 87.3459C60.7806 87.3459 60.0504 87.7112 59.5701 88.2041C59.0439 88.7458 58.8203 89.4414 59.6121 89.9762Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M72.7423 61.1889C72.7423 61.1889 75.9151 63.186 75.0365 63.6244C74.1579 64.0628 72.7423 61.1889 72.7423 61.1889Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M71.4244 65.0369C71.4244 65.0369 74.1578 67.6265 73.1328 67.6956C72.1078 67.7647 71.4244 65.0369 71.4244 65.0369Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M68.4957 73.2688C68.4957 73.2688 69.8834 75.8719 69.3604 76.3239C68.8374 76.7759 68.4957 73.2688 68.4957 73.2688Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M83.7737 75.8991C83.2856 76.3862 88.4108 74.2917 87.2393 74.1943C86.0678 74.0969 83.7737 75.8991 83.7737 75.8991Z",fill:"black"}),u.a.createElement("path",{d:"M94.0241 39.367C94.0241 39.367 94.0817 39.3583 94.1871 39.3427C94.7943 39.2501 96.9947 38.9053 98.9687 38.4776C99.45 38.3734 99.9166 38.2643 100.344 38.1522C101.856 37.7567 102.871 37.33 102.224 36.9803C101.368 36.5166 100.917 35.6739 100.679 34.9491C100.657 34.878 100.635 34.8088 100.616 34.7406C100.51 34.3749 100.444 33.999 100.418 33.6193C100.418 33.6193 94.9027 31.671 95.9765 33.6193C96.5037 34.575 96.1493 35.3553 95.6515 35.9019C95.3099 36.263 94.9078 36.562 94.4634 36.7854L94.0241 39.367Z",fill:"#BE6F72"}),u.a.createElement("path",{opacity:"0.1",d:"M99.9303 37.8571C99.9303 37.8571 97.9573 39.2696 95.9419 38.1006C93.9265 36.9316 91.2907 48.427 91.2907 48.427L88.5572 55.1489C88.5572 55.1489 86.7863 56.6102 88.9897 57.2434C91.193 57.8767 96.082 56.6102 97.3228 58.4612C98.5636 60.3121 100.914 60.6044 101.154 60.6044C101.395 60.6044 102.325 53.6389 102.325 53.6389L102.566 43.5561L99.9303 37.8571Z",fill:"black"}),u.a.createElement("path",{d:"M89.0873 56.8538C91.2907 57.487 96.1796 56.2205 97.4204 58.0715C97.9432 58.8235 98.6723 59.409 99.5203 59.7578C100.069 60.0036 100.654 60.1579 101.252 60.2147C101.284 60.2147 101.33 60.0871 101.384 59.8659C101.728 58.4563 102.423 53.2492 102.423 53.2492L102.664 43.1664L100.344 38.1522L100.028 37.4674C99.716 37.674 99.3778 37.8382 99.0224 37.9554C98.5374 38.1347 98.019 38.2057 97.5035 38.1634C96.9881 38.1212 96.4882 37.9667 96.039 37.7109C95.4474 37.368 94.8031 38.1152 94.1871 39.3427C92.7043 42.2984 91.3883 48.0373 91.3883 48.0373L88.6549 54.7592C88.5899 54.8149 88.528 54.8741 88.4694 54.9365C88.0808 55.3447 87.3535 56.3559 89.0873 56.8538Z",fill:"#F3F5F9"}),u.a.createElement("path",{opacity:"0.1",d:"M99.5857 57.1928C99.477 58.0434 99.4551 58.9028 99.5203 59.7578C99.5995 60.9736 99.7527 62.1835 99.9791 63.3808C99.9928 63.456 100.013 63.53 100.039 63.6019C101.23 63.0808 102.176 62.6989 102.176 62.6989L101.384 59.8659C101.728 58.4563 102.423 53.2493 102.423 53.2493L102.664 43.1664L100.344 38.1522C101.856 37.7567 102.871 37.33 102.224 36.9803C101.285 36.4718 100.833 35.5063 100.616 34.7406C100.217 35.2929 99.7512 35.7933 99.2284 36.2302C99.2088 36.2467 99.1981 36.2555 99.1981 36.2555L99.0224 37.9555L98.9687 38.4776L98.8564 39.5619C98.8564 39.5619 99.3933 52.3725 99.7838 53.1031C100.174 53.8338 99.9791 55.2463 99.6374 56.9025C99.6179 56.996 99.6013 57.0924 99.5857 57.1928Z",fill:"black"}),u.a.createElement("path",{d:"M99.8326 56.7076C99.491 58.3638 99.7838 61.0915 100.174 63.186C100.565 65.2805 104.714 63.9166 105.495 63.186C106.276 62.4553 108.57 62.1144 108.57 62.1144C108.57 62.1144 108.667 52.5673 109.4 51.3496C109.747 50.7719 109.831 48.8868 109.822 47.0661C109.816 45.4304 109.735 43.8473 109.704 43.3106C109.696 43.1859 109.693 43.1177 109.693 43.1177C109.693 43.1177 112.865 37.7596 112.816 37.37C112.768 36.9803 111.84 36.9316 111.84 36.9316C111.84 36.9316 108.326 34.2038 107.74 34.5448C107.154 34.8858 105.544 34.009 105.544 34.009C105.544 34.009 103.502 34.2399 103.081 33.8473C103.055 33.8254 103.034 33.7978 103.021 33.7667C103.008 33.7355 103.003 33.7017 103.005 33.668C103.053 33.0446 100.925 31.7128 100.86 31.6719C102.653 33.2823 99.7526 35.7635 99.4236 36.0353C99.4041 36.0519 99.3933 36.0606 99.3933 36.0606L99.0517 39.367C99.0517 39.367 99.5886 52.1776 99.9791 52.9083C100.37 53.6389 100.174 55.0515 99.8326 56.7076Z",fill:"#67647E"}),u.a.createElement("path",{d:"M100.022 43.0352C100.156 43.0352 100.266 42.9261 100.266 42.7916C100.266 42.6571 100.156 42.5481 100.022 42.5481C99.8868 42.5481 99.7775 42.6571 99.7775 42.7916C99.7775 42.9261 99.8868 43.0352 100.022 43.0352Z",fill:"#444053"}),u.a.createElement("path",{opacity:"0.1",d:"M99.5212 36.2302L101.004 37.6622L103.178 34.0421C103.152 34.0203 103.132 33.9927 103.119 33.9615C103.106 33.9303 103.1 33.8966 103.103 33.8629C103.151 33.2394 101.023 31.9077 100.957 31.8668C102.751 33.4771 99.8502 35.9584 99.5212 36.2302Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M100.51 50.8287C100.644 50.8287 100.754 50.7196 100.754 50.5851C100.754 50.4506 100.644 50.3416 100.51 50.3416C100.375 50.3416 100.266 50.4506 100.266 50.5851C100.266 50.7196 100.375 50.8287 100.51 50.8287Z",fill:"black"}),u.a.createElement("path",{d:"M100.51 50.7313C100.644 50.7313 100.754 50.6222 100.754 50.4877C100.754 50.3532 100.644 50.2442 100.51 50.2442C100.375 50.2442 100.266 50.3532 100.266 50.4877C100.266 50.6222 100.375 50.7313 100.51 50.7313Z",fill:"#444053"}),u.a.createElement("path",{d:"M99.4236 36.0353L100.907 37.4674L103.081 33.8473C103.055 33.8254 103.034 33.7978 103.021 33.7667C103.008 33.7355 103.003 33.7017 103.005 33.668C103.053 33.0446 100.925 31.7128 100.86 31.6719C102.653 33.2823 99.7526 35.7635 99.4236 36.0353Z",fill:"#67647E"}),u.a.createElement("path",{d:"M98.2635 49.6836L100.899 49.7435C101.109 49.7483 101.283 49.5823 101.288 49.3728L101.434 42.9706C101.439 42.7611 101.273 42.5873 101.063 42.5826L98.4271 42.5226C98.2171 42.5178 98.043 42.6838 98.0382 42.8934L97.892 49.2955C97.8872 49.5051 98.0536 49.6788 98.2635 49.6836Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M98.2635 49.6836L100.899 49.7435C101.109 49.7483 101.283 49.5823 101.288 49.3728L101.434 42.9706C101.439 42.7611 101.273 42.5873 101.063 42.5826L98.4271 42.5226C98.2171 42.5178 98.043 42.6838 98.0382 42.8934L97.892 49.2955C97.8872 49.5051 98.0536 49.6788 98.2635 49.6836Z",fill:"black"}),u.a.createElement("path",{d:"M98.2815 49.8424L100.917 49.9024C101.127 49.9071 101.301 49.7411 101.306 49.5316L101.452 43.1294C101.457 42.9199 101.291 42.7462 101.081 42.7414L98.445 42.6815C98.2351 42.6767 98.061 42.8427 98.0562 43.0522L97.91 49.4544C97.9052 49.6639 98.0716 49.8377 98.2815 49.8424Z",fill:"#3F3D56"}),u.a.createElement("path",{d:"M99.7722 45.3378C100.067 45.3378 100.306 45.0993 100.306 44.8051C100.306 44.511 100.067 44.2725 99.7722 44.2725C99.4774 44.2725 99.2384 44.511 99.2384 44.8051C99.2384 45.0993 99.4774 45.3378 99.7722 45.3378Z",fill:"#67647E"}),u.a.createElement("path",{opacity:"0.1",d:"M81.3819 56.2692C82.6022 56.805 90.6073 55.3925 91.7787 55.0515C92.9502 54.7105 94.6586 52.0802 93.8288 50.1805C92.999 48.2809 94.1217 46.4299 94.1217 46.4299C94.1217 46.4299 95.8789 42.6793 96.2694 41.9486C96.6599 41.218 97.4741 39.0904 97.5873 38.7338C97.5919 38.6939 97.5881 38.6534 97.5762 38.615C97.5643 38.5766 97.5444 38.5411 97.518 38.5107C97.2007 38.0285 95.9765 37.1751 95.9765 37.1751C95.6319 37.2998 95.589 36.3149 95.6026 35.5911C95.6104 35.1858 95.6349 34.8624 95.6349 34.8624C95.6349 34.8624 95.4728 35.027 95.2082 35.2511C95.1116 35.332 95.0013 35.4216 94.8793 35.5141C94.4193 35.881 93.8986 36.1649 93.3407 36.3529C92.1693 36.6987 90.5097 38.2954 90.5097 38.2954L90.9978 45.7762C90.9978 45.7762 89.8751 52.8109 88.7036 54.1747C87.5322 55.5386 84.0178 55.4899 82.8463 55.4899C81.6748 55.4899 81.3819 56.2692 81.3819 56.2692Z",fill:"black"}),u.a.createElement("path",{d:"M81.2843 55.977C82.5046 56.5128 90.5097 55.1002 91.6811 54.7592C92.8526 54.4183 94.561 51.788 93.7312 49.8883C92.9014 47.9886 94.0241 46.1377 94.0241 46.1377C94.0241 46.1377 95.7813 42.387 96.1718 41.6564C96.5623 40.9257 97.3764 38.7981 97.4897 38.4416C97.4943 38.4016 97.4905 38.3611 97.4786 38.3227C97.4667 38.2843 97.4468 38.2488 97.4204 38.2185C97.1031 37.7363 95.8789 36.8829 95.8789 36.8829C95.5343 37.0076 95.4914 36.0227 95.505 35.2988C95.5128 34.8936 95.5372 34.5701 95.5372 34.5701C95.5372 34.5701 95.3752 34.7348 95.1106 34.9588C95.014 35.0397 94.9037 35.1293 94.7816 35.2219C94.3217 35.5888 93.801 35.8726 93.2431 36.0607C92.0716 36.4065 90.4121 38.0032 90.4121 38.0032L90.9002 45.484C90.9002 45.484 89.7775 52.5186 88.606 53.8825C87.4346 55.2463 83.9201 55.1976 82.7487 55.1976C81.5772 55.1976 81.2843 55.977 81.2843 55.977Z",fill:"#67647E"}),u.a.createElement("path",{opacity:"0.1",d:"M94.561 34.765C94.561 34.765 94.6069 35.0222 94.684 35.4167C94.9466 36.7543 95.5734 39.6749 96.0253 39.5619C96.3495 39.481 96.8971 38.9082 97.3228 38.4133C97.0055 37.9311 95.7813 37.0777 95.7813 37.0777C95.4367 37.2024 95.3937 36.2175 95.4074 35.4937L95.013 35.1537L94.561 34.765Z",fill:"black"}),u.a.createElement("path",{d:"M94.6586 34.5701C94.6586 34.5701 94.7045 34.8273 94.7816 35.2219C95.0442 36.5594 95.671 39.48 96.123 39.367C96.4471 39.2862 96.9947 38.7133 97.4204 38.2185C97.1031 37.7362 95.8789 36.8828 95.8789 36.8828C95.5343 37.0075 95.4913 36.0226 95.505 35.2988L95.1106 34.9588L94.6586 34.5701Z",fill:"#67647E"}),u.a.createElement("path",{d:"M91.5347 48.9141C91.5347 48.9141 93.9753 48.427 94.6586 47.3554C95.342 46.2838 99.9908 45.3583 99.4236 46.4786C98.8564 47.5989 94.6586 51.2646 94.6586 51.2646L92.8399 53.864L90.412 53.2493L89.3896 51.2647L91.5347 48.9141Z",fill:"#BE6F72"}),u.a.createElement("path",{opacity:"0.1",d:"M97.3089 51.6931C97.3089 51.6931 94.9455 52.5698 94.5897 53.7389C94.2338 54.9079 97.3089 51.6931 97.3089 51.6931Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M98.7588 53.0544C98.7588 53.0544 98.9738 54.2714 96.0108 54.1744L98.7588 53.0544Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M111.547 37.4674L112.621 37.37C112.621 37.37 113.793 38.2467 114.671 38.2467C115.55 38.2467 116.087 39.3671 116.087 39.3671C116.087 39.3671 117.551 40.049 118.039 40.1464C118.527 40.2438 119.357 40.7309 119.113 40.9257C118.869 41.1206 119.162 41.559 119.601 41.8999C120.041 42.2409 120.724 43.9944 120.138 44.238C119.552 44.4815 117.942 44.9686 117.502 45.2122C117.349 45.2798 117.182 45.3147 117.014 45.3147C116.846 45.3147 116.68 45.2798 116.526 45.2122C116.526 45.2122 113.94 41.8512 112.622 42.4845C111.303 43.1177 109.497 43.1177 109.497 43.1177L108.082 40.1464L111.547 37.4674Z",fill:"black"}),u.a.createElement("path",{d:"M89.0873 53.4947C89.1832 53.6601 89.3145 53.8024 89.4717 53.9115C89.629 54.0206 89.8084 54.0939 89.9972 54.126C90.9527 54.2375 91.921 54.1482 92.8399 53.864C92.8399 53.864 87.9227 52.3053 92.6574 48.5147H91.3883L90.9656 48.3549L91.1589 47.3456L91.4371 38.2467L90.412 38.0032C90.412 38.0032 89.5871 43.9944 89.3899 44.7251C89.1918 45.4557 89.0453 48.2809 89.0453 48.2809C89.0453 48.2809 88.8501 49.4499 88.5572 50.0344C88.3366 50.4738 88.3932 52.4553 89.0873 53.4947Z",fill:"#67647E"}),u.a.createElement("path",{opacity:"0.1",d:"M89.2826 53.4947C89.3785 53.6601 89.5098 53.8024 89.667 53.9115C89.8242 54.0206 90.0036 54.0939 90.1924 54.126C91.1479 54.2375 92.1163 54.1482 93.0352 53.864C93.0352 53.864 88.1179 52.3053 92.8526 48.5147H91.5835L91.1608 48.3549C90.4657 49.5834 89.3714 51.7695 89.2826 53.4947Z",fill:"black"}),u.a.createElement("path",{d:"M89.0873 53.4947C89.1833 53.6601 89.3145 53.8024 89.4717 53.9115C89.629 54.0206 89.8084 54.0939 89.9972 54.126C90.9527 54.2375 91.921 54.1482 92.8399 53.864C92.8399 53.864 87.9227 52.3053 92.6574 48.5147H91.3883L90.9656 48.3549C90.2705 49.5834 89.1761 51.7695 89.0873 53.4947Z",fill:"#67647E"}),u.a.createElement("path",{opacity:"0.1",d:"M95.6514 35.9019C96.4856 36.2798 97.4165 36.3911 98.3165 36.2205C99.2166 36.05 100.042 35.6059 100.679 34.9491C100.657 34.878 100.635 34.8088 100.616 34.7406C100.51 34.3749 100.444 33.999 100.418 33.6193C100.418 33.6193 94.9027 31.671 95.9765 33.6193C96.5037 34.575 96.1493 35.3553 95.6514 35.9019Z",fill:"black"}),u.a.createElement("path",{d:"M93.0479 31.671V31.7138C93.0498 31.858 93.0576 32.0002 93.0723 32.1405C93.0869 32.2749 93.1074 32.4084 93.1328 32.539C93.3242 33.4942 93.8255 34.3599 94.5593 35.0024C95.293 35.6449 96.2184 36.0284 97.1924 36.0936C98.1664 36.1588 99.1348 35.9021 99.948 35.3631C100.761 34.8241 101.374 34.033 101.691 33.1118C101.721 33.0261 101.748 32.9393 101.771 32.8517C101.878 32.4671 101.932 32.0699 101.932 31.671C101.932 31.5687 101.928 31.4664 101.921 31.366C101.842 30.2196 101.319 29.1488 100.464 28.3793C99.6088 27.6098 98.4876 27.2018 97.3367 27.2413C96.1859 27.2809 95.0954 27.7649 94.2953 28.5913C93.4952 29.4177 93.0479 30.5218 93.0479 31.671Z",fill:"#BE6F72"}),u.a.createElement("path",{opacity:"0.1",d:"M93.0479 31.7138C93.0719 31.8547 93.0801 31.9978 93.0723 32.1405C93.0711 32.2177 93.0753 32.2948 93.085 32.3714C93.0935 32.4291 93.1096 32.4854 93.1328 32.539C93.3124 32.9598 93.8981 33.2316 94.2847 32.9608C94.4337 32.8385 94.5523 32.6834 94.6313 32.5078C95.0413 31.7469 95.6124 30.8712 96.5105 30.8565C96.8932 30.8497 97.2534 31.0105 97.6234 31.105C97.9924 31.1985 98.4327 31.2102 98.709 30.9588C98.9208 30.7659 99.0214 30.4357 99.3065 30.3675C99.5954 30.2983 99.8531 30.5604 99.984 30.8156C100.115 31.0699 100.218 31.3709 100.483 31.5024C100.6 31.5609 100.738 31.5774 100.853 31.6398C101.384 31.9301 101.14 32.9471 101.691 33.1118C101.709 33.1171 101.726 33.1214 101.744 33.1245C101.753 33.0339 101.763 32.9423 101.771 32.8517C101.821 32.3568 101.871 31.8616 101.921 31.366C101.842 30.2196 101.319 29.1488 100.464 28.3793C99.6088 27.6097 98.4876 27.2017 97.3367 27.2413C96.1859 27.2808 95.0954 27.7648 94.2953 28.5912C93.4951 29.4176 93.0479 30.5218 93.0479 31.6709V31.7138Z",fill:"black"}),u.a.createElement("path",{d:"M100.939 25.0543C101.46 25.2749 102.004 25.6146 102.121 26.1465C102.149 26.3834 102.157 26.6222 102.146 26.8604C102.17 27.3403 102.399 27.7856 102.546 28.2454C102.692 28.7051 102.744 29.2417 102.451 29.6328C102.359 29.755 102.238 29.8563 102.156 29.9844C102.049 30.1832 101.99 30.4043 101.985 30.6298L101.744 33.0274C101.124 32.9122 101.4 31.841 100.852 31.5425C100.737 31.4798 100.6 31.463 100.483 31.4046C100.218 31.2731 100.115 30.9726 99.9839 30.7177C99.8527 30.4628 99.5953 30.2012 99.306 30.2702C99.0218 30.338 98.9212 30.669 98.7093 30.8616C98.4327 31.1131 97.9927 31.1014 97.6231 31.0073C97.2535 30.9132 96.8932 30.7523 96.5107 30.7587C95.6123 30.7738 95.0411 31.6492 94.631 32.41C94.5525 32.586 94.4338 32.7414 94.2846 32.8636C93.8485 33.1697 93.1596 32.7844 93.0848 32.2737C93.0429 31.9879 93.1323 31.6685 92.967 31.4266C92.7973 31.1784 92.4442 31.1323 92.1641 31.0034C91.4508 30.6754 91.2296 29.7866 91.3482 29.0413C91.4337 28.5041 91.6479 27.951 91.4726 27.4339C91.4122 27.2557 91.3077 27.0929 91.2516 26.9134C91.0949 26.412 91.3505 25.8587 91.7532 25.5028C92.1829 25.1672 92.6754 24.9206 93.2017 24.7772C94.5334 24.332 95.9317 23.9019 97.3478 23.8102C97.9681 23.7701 98.7806 23.5765 99.2733 23.962C99.8531 24.4157 100.217 24.7492 100.939 25.0543Z",fill:"#3F3D56"}),u.a.createElement("path",{opacity:"0.1",d:"M99.7775 39.1871C99.9123 39.1871 100.022 39.0781 100.022 38.9436C100.022 38.8091 99.9123 38.7 99.7775 38.7C99.6427 38.7 99.5334 38.8091 99.5334 38.9436C99.5334 39.0781 99.6427 39.1871 99.7775 39.1871Z",fill:"black"}),u.a.createElement("path",{d:"M99.7775 39.0897C99.9123 39.0897 100.022 38.9807 100.022 38.8462C100.022 38.7117 99.9123 38.6026 99.7775 38.6026C99.6427 38.6026 99.5334 38.7117 99.5334 38.8462C99.5334 38.9807 99.6427 39.0897 99.7775 39.0897Z",fill:"#444053"}),u.a.createElement("path",{opacity:"0.1",d:"M101.339 54.4819C101.474 54.4819 101.584 54.3729 101.584 54.2384C101.584 54.1039 101.474 53.9948 101.339 53.9948C101.205 53.9948 101.095 54.1039 101.095 54.2384C101.095 54.3729 101.205 54.4819 101.339 54.4819Z",fill:"black"}),u.a.createElement("path",{d:"M101.339 54.3845C101.474 54.3845 101.584 54.2755 101.584 54.1409C101.584 54.0064 101.474 53.8974 101.339 53.8974C101.205 53.8974 101.095 54.0064 101.095 54.1409C101.095 54.2755 101.205 54.3845 101.339 54.3845Z",fill:"#444053"}),u.a.createElement("path",{opacity:"0.1",d:"M100.51 58.5248C100.644 58.5248 100.754 58.4157 100.754 58.2812C100.754 58.1467 100.644 58.0377 100.51 58.0377C100.375 58.0377 100.266 58.1467 100.266 58.2812C100.266 58.4157 100.375 58.5248 100.51 58.5248Z",fill:"black"}),u.a.createElement("path",{d:"M100.51 58.4274C100.644 58.4274 100.754 58.3183 100.754 58.1838C100.754 58.0493 100.644 57.9403 100.51 57.9403C100.375 57.9403 100.266 58.0493 100.266 58.1838C100.266 58.3183 100.375 58.4274 100.51 58.4274Z",fill:"#444053"}),u.a.createElement("path",{opacity:"0.1",d:"M92.1204 42.7916C92.1204 42.7916 91.5835 46.4299 92.1204 47.0631C92.6574 47.6964 92.1204 42.7916 92.1204 42.7916Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M108.082 49.5473C108.082 49.5473 109.107 51.7509 108.082 53.864C107.057 55.977 106.422 56.8349 106.764 58.1838C107.106 59.5328 108.082 49.5473 108.082 49.5473Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M59.6121 89.9762C61.1252 90.9991 63.4194 90.512 63.4194 90.512C63.4194 90.512 66.885 88.8559 67.91 88.8559C68.935 88.8559 71.4244 87.833 71.4244 87.833L71.3405 87.1432C70.3291 87.3381 68.0291 87.8008 67.7636 88.0278C67.4219 88.3201 63.2241 89.7326 63.2241 89.7326C63.2241 89.7326 60.3657 89.3761 59.5701 88.2041C59.0439 88.7458 58.8203 89.4414 59.6121 89.9762Z",fill:"black"}),u.a.createElement("g",{opacity:"0.1"},u.a.createElement("path",{opacity:"0.1",d:"M102.146 26.4707C102.143 26.4179 102.143 26.365 102.144 26.312C102.148 26.3725 102.149 26.4333 102.148 26.4944C102.148 26.4865 102.146 26.4787 102.146 26.4707Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M92.164 30.6137C92.4442 30.7426 92.7973 30.7887 92.9669 31.0369C93.1322 31.2788 93.0429 31.5982 93.0848 31.884C93.1596 32.3947 93.8484 32.78 94.2845 32.4739C94.4338 32.3517 94.5524 32.1963 94.631 32.0203C95.041 31.2595 95.6122 30.3841 96.5106 30.369C96.8931 30.3626 97.2535 30.5235 97.623 30.6176C97.9926 30.7117 98.4326 30.7234 98.7093 30.4719C98.9211 30.2793 99.0217 29.9483 99.3059 29.8805C99.5952 29.8115 99.8527 30.0731 99.9838 30.328C100.115 30.5829 100.218 30.8834 100.483 31.0148C100.6 31.0733 100.737 31.0901 100.852 31.1528C101.4 31.4513 101.124 32.5225 101.744 32.6376C101.824 31.8384 101.905 31.0393 101.985 30.2401C101.99 30.0146 102.049 29.7935 102.156 29.5947C102.238 29.4666 102.359 29.3653 102.451 29.2431C102.562 29.0916 102.631 28.9139 102.651 28.7275C102.704 29.0438 102.632 29.3679 102.451 29.6327C102.359 29.755 102.238 29.8563 102.156 29.9844C102.049 30.1831 101.99 30.4042 101.985 30.6297C101.905 31.4289 101.824 32.2281 101.744 33.0273C101.124 32.9122 101.4 31.841 100.852 31.5424C100.737 31.4798 100.6 31.463 100.483 31.4045C100.218 31.273 100.115 30.9726 99.9838 30.7177C99.8527 30.4628 99.5952 30.2011 99.3059 30.2702C99.0217 30.338 98.9211 30.669 98.7093 30.8616C98.4326 31.1131 97.9926 31.1014 97.623 31.0073C97.2534 30.9131 96.8931 30.7522 96.5106 30.7587C95.6122 30.7738 95.041 31.6491 94.631 32.4099C94.5524 32.586 94.4338 32.7413 94.2845 32.8636C93.8484 33.1697 93.1596 32.7844 93.0848 32.2737C93.0429 31.9879 93.1322 31.6685 92.9669 31.4266C92.7973 31.1783 92.4442 31.1323 92.164 31.0034C91.5117 30.7034 91.2719 29.9347 91.3262 29.2353C91.3738 29.8119 91.6318 30.3689 92.164 30.6137Z",fill:"black"}),u.a.createElement("path",{opacity:"0.1",d:"M91.2516 26.5237C91.3077 26.7032 91.4121 26.866 91.4726 27.0442C91.5373 27.2512 91.5562 27.4697 91.528 27.6846C91.5183 27.5994 91.4997 27.5153 91.4726 27.4339C91.4121 27.2557 91.3077 27.0929 91.2516 26.9134C91.2015 26.7486 91.1918 26.5744 91.2231 26.4051C91.2302 26.4452 91.2397 26.4848 91.2516 26.5237Z",fill:"black"})),u.a.createElement("path",{opacity:"0.1",d:"M105.592 48.1815C106.715 47.936 109.351 47.1606 109.351 47.1606C109.351 47.1606 109.53 47.1245 109.822 47.0661C109.816 45.4304 109.735 43.8473 109.704 43.3106L109.693 43.3125C109.693 43.3125 107.447 44.0432 106.91 44.4328C106.373 44.8225 104.714 44.7251 104.714 44.7251C104.714 44.7251 102.127 44.8712 99.9791 47.258C97.8314 49.6448 104.47 48.427 105.592 48.1815Z",fill:"black"}),u.a.createElement("path",{d:"M116.564 43.8345C116.664 43.8801 116.751 43.9503 116.817 44.0387C116.883 44.1272 116.925 44.2309 116.94 44.3401C116.955 44.4492 116.941 44.5604 116.901 44.663C116.861 44.7656 116.795 44.8563 116.71 44.9266C116.115 45.4178 115.247 46.0058 114.419 46.0889C113.036 46.2277 109.708 46.8938 109.377 46.9604C109.359 46.964 109.343 46.9681 109.325 46.9733C109.051 47.0537 106.65 47.7553 105.592 47.9866C104.47 48.2322 97.8314 49.4499 99.9791 47.0631C101.184 45.6827 102.849 44.7843 104.666 44.5341C104.695 44.5314 104.723 44.5308 104.752 44.5322C105.003 44.5438 106.422 44.5926 106.91 44.238C107.166 44.0781 107.436 43.9437 107.718 43.8366C108.779 43.3992 109.886 43.0807 111.018 42.8871L113.314 42.4876C113.445 42.4648 113.58 42.482 113.701 42.5368L116.564 43.8345Z",fill:"#BE6F72"}),u.a.createElement("path",{d:"M111.743 37.4674L112.816 37.37C112.816 37.37 113.988 38.2467 114.867 38.2467C115.745 38.2467 116.282 39.3671 116.282 39.3671C116.282 39.3671 117.746 40.049 118.235 40.1464C118.723 40.2438 119.552 40.7309 119.308 40.9257C119.064 41.1206 119.357 41.559 119.796 41.8999C120.236 42.2409 120.919 43.9944 120.333 44.238C119.748 44.4815 118.137 44.9686 117.698 45.2122C117.544 45.2798 117.378 45.3147 117.209 45.3147C117.041 45.3147 116.875 45.2798 116.721 45.2122C116.721 45.2122 114.135 41.8512 112.817 42.4845C111.499 43.1177 109.693 43.1177 109.693 43.1177L108.277 40.1464L111.743 37.4674Z",fill:"#67647E"}),u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear",x1:"29.172",y1:"173",x2:"29.172",y2:"115.892",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#808080",stopOpacity:"0.25"}),u.a.createElement("stop",{offset:"0.53514",stopColor:"#808080",stopOpacity:"0.12"}),u.a.createElement("stop",{offset:"1",stopColor:"#808080",stopOpacity:"0.1"})),u.a.createElement("linearGradient",{id:"paint1_linear",x1:"49548.1",y1:"49442.2",x2:"49548.1",y2:"33424.2",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#808080",stopOpacity:"0.25"}),u.a.createElement("stop",{offset:"0.53514",stopColor:"#808080",stopOpacity:"0.12"}),u.a.createElement("stop",{offset:"1",stopColor:"#808080",stopOpacity:"0.1"})),u.a.createElement("linearGradient",{id:"paint2_linear",x1:"62621.5",y1:"31673.8",x2:"62621.5",y2:"11322.5",gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#808080",stopOpacity:"0.25"}),u.a.createElement("stop",{offset:"0.53514",stopColor:"#808080",stopOpacity:"0.12"}),u.a.createElement("stop",{offset:"1",stopColor:"#808080",stopOpacity:"0.1"}))))},Pt=function(){return u.a.createElement("svg",{width:"229",height:"228",viewBox:"0 0 229 228",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M49.1602 175.972C50.6976 175.46 53.4241 172.954 53.4241 172.949C53.4241 172.944 51.2306 171.673 51.082 171.611C49.3549 170.883 45.5881 170.494 44.2198 172.088C44.0033 172.359 43.846 172.672 43.7577 173.008C43.6694 173.343 43.6523 173.694 43.7073 174.036C43.7623 174.379 43.8883 174.706 44.0771 174.997C44.266 175.288 44.5136 175.537 44.804 175.726C46.0135 176.587 47.8277 176.403 49.1602 175.972Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M77.5569 151.814C77.5927 151.814 76.4294 149.543 76.3371 149.405C75.3122 147.867 72.3705 145.443 70.3513 146.017C70.0184 146.122 69.7112 146.296 69.4497 146.527C69.1881 146.758 68.9781 147.041 68.8331 147.359C68.6882 147.676 68.6115 148.02 68.6082 148.369C68.6049 148.718 68.6749 149.064 68.8138 149.384C69.3622 150.758 70.9765 151.609 72.3295 151.983C73.9182 152.423 77.5517 151.819 77.5569 151.814Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M57.2008 183.101C58.5231 182.235 60.3475 179.34 60.491 179.109C62.1451 180.156 63.8675 181.091 65.6466 181.907C66.6716 182.389 67.7376 182.845 68.8036 183.286C68.2911 183.153 67.8247 183.045 67.7786 183.035C65.9183 182.789 62.1822 183.409 61.2854 185.305C61.1448 185.625 61.0734 185.972 61.0759 186.322C61.0784 186.671 61.1547 187.017 61.2998 187.335C61.4449 187.653 61.6556 187.938 61.918 188.169C62.1805 188.4 62.4888 188.573 62.8228 188.677C64.2168 189.19 65.8978 188.518 67.0919 187.75C68.286 186.981 69.8849 184.526 70.3 183.875L71.53 184.388C73.5031 185.172 75.471 185.925 77.3826 186.766C78.054 187.053 78.7048 187.365 79.3608 187.668C78.8996 187.555 78.5152 187.463 78.4537 187.458C76.5934 187.212 72.8625 187.832 71.9605 189.728C71.82 190.048 71.7486 190.394 71.7511 190.743C71.7537 191.093 71.83 191.438 71.9752 191.756C72.1203 192.074 72.331 192.357 72.5935 192.588C72.8559 192.819 73.1641 192.992 73.498 193.095C74.8971 193.607 76.5985 192.936 77.767 192.167C78.9355 191.399 80.4012 189.185 80.9034 188.416C81.5594 188.749 82.2205 189.082 82.8457 189.441C83.266 189.692 83.6913 189.902 84.1013 190.179L85.3211 190.963C86.0744 191.476 86.8585 192.029 87.5863 192.562C88.0987 192.931 88.5702 193.29 89.052 193.648C88.3857 193.356 87.0686 192.803 86.9508 192.772C85.1519 192.26 81.3647 192.295 80.1911 194.033C80.003 194.327 79.8791 194.657 79.8275 195.002C79.776 195.348 79.7978 195.7 79.8916 196.036C79.9855 196.372 80.1492 196.685 80.3721 196.953C80.595 197.222 80.8721 197.44 81.1853 197.595C82.487 198.297 84.2602 197.907 85.5466 197.323C86.9457 196.682 89.134 194.207 89.38 193.894C90.1743 194.494 90.9431 195.083 91.6554 195.652C93.7361 197.297 95.4683 198.778 96.7803 199.937L97.8053 199.004C96.4318 197.846 94.5971 196.339 92.3883 194.668C91.5837 194.058 90.7124 193.418 89.8258 192.772C90.2989 191.825 90.7164 190.851 91.0763 189.856C92.6496 190.015 95.6118 189.2 95.9962 189.092C96.3293 190.03 96.6419 190.948 96.9238 191.814C97.7335 194.289 98.3536 196.426 98.8098 198.122L99.9577 197.098C99.4811 195.514 98.8661 193.582 98.1025 191.404C97.7694 190.451 97.3953 189.441 96.9955 188.406C97.3492 188.206 100.199 186.545 101.095 185.295C101.91 184.157 102.633 182.481 102.192 181.062C102.099 180.726 101.937 180.413 101.715 180.144C101.494 179.875 101.219 179.656 100.907 179.5C100.596 179.344 100.255 179.255 99.9068 179.239C99.5587 179.223 99.2112 179.28 98.8866 179.406C96.9545 180.232 96.1858 183.937 96.3549 185.802C96.3549 185.915 96.6112 187.099 96.7752 187.852C96.6112 187.427 96.4574 187.017 96.2627 186.586C95.9244 185.725 95.5606 184.88 95.1762 183.968C94.9712 183.532 94.7713 183.096 94.5612 182.656C94.3511 182.215 94.1051 181.769 93.8745 181.318C93.3261 180.293 92.7163 179.268 92.0757 178.243C92.829 177.946 95.4786 176.849 96.4626 175.845C97.4465 174.84 98.41 173.282 98.1845 171.832C98.1449 171.486 98.0328 171.151 97.8554 170.851C97.678 170.551 97.4393 170.292 97.155 170.09C96.8707 169.889 96.5471 169.749 96.2052 169.681C95.8634 169.613 95.511 169.618 95.1711 169.695C93.1211 170.207 91.8143 173.764 91.7015 175.635C91.7015 175.747 91.763 177.1 91.8143 177.843C91.4248 177.239 91.0404 176.634 90.6304 176.034C89.4415 174.307 88.1808 172.595 86.9354 170.884C86.551 170.371 86.1769 169.833 85.8028 169.305C86.0693 169.203 89.2467 167.968 90.3486 166.845C91.3274 165.82 92.296 164.283 92.0757 162.827C92.0354 162.481 91.9226 162.147 91.7447 161.847C91.5668 161.547 91.3277 161.287 91.0429 161.086C90.7582 160.884 90.4342 160.745 90.0921 160.677C89.75 160.609 89.3973 160.613 89.0571 160.69C87.0072 161.203 85.7003 164.76 85.5876 166.63C85.5876 166.774 85.6798 168.716 85.7311 169.193C84.9008 168.029 84.086 166.866 83.3275 165.687C82.2934 164.102 81.3655 162.45 80.5498 160.742C80.6728 160.695 83.9937 159.419 85.1212 158.266C86.1 157.241 87.0686 155.704 86.8483 154.254C86.8087 153.907 86.6965 153.573 86.5191 153.273C86.3417 152.973 86.1031 152.714 85.8188 152.512C85.5345 152.31 85.2108 152.171 84.869 152.103C84.5271 152.035 84.1748 152.039 83.8349 152.116C81.7849 152.629 80.4781 156.186 80.3653 158.056C80.3653 158.179 80.4319 159.66 80.4832 160.362L80.3704 160.393C79.5907 158.654 78.9698 156.848 78.5152 154.997C78.2539 153.972 78.0591 152.993 77.89 152.034C78.5306 151.86 81.4774 151.035 82.5946 150.107C83.7119 149.18 84.8086 147.786 84.7522 146.305C84.7493 145.956 84.6733 145.612 84.529 145.294C84.3846 144.977 84.1753 144.693 83.9144 144.462C83.6535 144.231 83.347 144.057 83.0146 143.951C82.6822 143.846 82.3313 143.811 81.9848 143.85C79.9092 144.142 78.2026 147.525 77.8849 149.375C77.8849 149.472 77.8029 150.512 77.767 151.271C77.7004 150.835 77.6184 150.389 77.562 149.969C77.3416 148.396 77.234 146.945 77.1469 145.659C77.1059 144.926 77.0854 144.26 77.07 143.64C77.6081 143.127 79.7708 141.077 80.3346 139.781C80.8983 138.484 81.2314 136.706 80.4985 135.414C80.3362 135.105 80.1107 134.834 79.8365 134.618C79.5623 134.402 79.2457 134.246 78.9073 134.16C78.5688 134.075 78.2162 134.061 77.8722 134.121C77.5283 134.181 77.2008 134.313 76.9111 134.507C75.1994 135.727 75.2455 139.514 75.8144 141.303C75.8657 141.457 76.906 143.783 76.9368 143.758L76.9675 143.727C76.9675 144.321 76.9675 144.962 77.0085 145.664C77.0649 146.956 77.1366 148.416 77.3263 150C77.5111 151.706 77.7952 153.4 78.177 155.073C78.5953 156.952 79.1819 158.789 79.9297 160.562L79.9604 160.624C79.5607 160.157 78.3974 158.892 78.2949 158.804C76.8804 157.574 73.4211 156.032 71.6325 157.118C71.3389 157.307 71.0882 157.555 70.8969 157.846C70.7056 158.138 70.578 158.467 70.5224 158.811C70.4668 159.155 70.4844 159.508 70.5741 159.845C70.6639 160.182 70.8237 160.496 71.0431 160.767C71.9349 161.951 73.7132 162.346 75.1174 162.351C76.6959 162.351 79.8118 160.941 80.0629 160.813C80.8656 162.6 81.7867 164.331 82.8201 165.995C83.4146 166.963 84.045 167.927 84.6907 168.88C84.332 168.49 84.0091 168.142 83.9578 168.096C82.5434 166.871 79.0841 165.323 77.2955 166.41C77.0018 166.598 76.7512 166.846 76.5599 167.138C76.3686 167.429 76.241 167.758 76.1854 168.102C76.1298 168.447 76.1474 168.799 76.2371 169.136C76.3269 169.473 76.4867 169.788 76.7061 170.059C77.5927 171.248 79.3762 171.637 80.7804 171.642C82.1846 171.647 84.8803 170.494 85.5876 170.182C85.8387 170.545 86.1 170.914 86.3409 171.278C87.5504 173.016 88.765 174.753 89.9283 176.485C90.3332 177.1 90.7073 177.715 91.0814 178.33C90.7637 177.982 90.4921 177.695 90.4459 177.654C89.0315 176.424 85.5722 174.881 83.7836 175.968C83.4903 176.156 83.2401 176.405 83.0493 176.697C82.8585 176.988 82.7314 177.317 82.6763 177.662C82.6212 178.006 82.6393 178.358 82.7294 178.695C82.8195 179.032 82.9797 179.346 83.1994 179.617C84.086 180.8 85.8694 181.195 87.2685 181.2C88.6676 181.205 91.1122 180.175 91.9527 179.796C92.3217 180.437 92.6906 181.077 93.0135 181.718C93.2288 182.158 93.4645 182.568 93.649 183.025C93.8335 183.481 94.0436 183.916 94.2332 184.352C94.5766 185.213 94.9302 186.094 95.2582 186.94C95.4786 187.524 95.6784 188.088 95.8783 188.652C95.4888 188.037 94.6893 186.853 94.6125 186.761C93.4956 185.542 92.0836 184.631 90.5126 184.116C90.3959 183.974 90.2654 183.843 90.1231 183.727C89.8608 183.497 89.5531 183.326 89.2201 183.223C88.8871 183.12 88.5362 183.088 88.1902 183.13C87.8442 183.171 87.5107 183.285 87.2116 183.464C86.9124 183.643 86.6542 183.882 86.4537 184.167C85.2954 185.92 86.6997 189.436 87.8732 190.902C87.9399 190.989 88.7957 191.839 89.3441 192.367L88.1859 191.614C87.4325 191.101 86.6484 190.589 85.8387 190.03L84.6036 189.272C84.1936 189.01 83.7324 188.785 83.2916 188.539C82.2666 187.985 81.1955 187.473 80.1091 187.001C80.5703 186.34 82.159 183.968 82.4409 182.584C82.7228 181.2 82.6561 179.386 81.667 178.284C81.4423 178.017 81.164 177.801 80.8503 177.649C80.5365 177.497 80.1943 177.413 79.8458 177.402C79.4973 177.391 79.1504 177.453 78.8275 177.585C78.5047 177.716 78.2132 177.914 77.972 178.166C76.5626 179.704 77.4185 183.409 78.3512 185.034C78.4127 185.136 79.2122 186.223 79.6683 186.812C79.0123 186.525 78.3564 186.233 77.685 185.961C75.7375 185.177 73.744 184.424 71.7606 183.701C71.1508 183.476 70.546 183.24 69.9413 183.009C70.1104 182.779 72.0784 179.996 72.3756 178.448C72.6421 177.075 72.596 175.25 71.6018 174.148C71.377 173.882 71.0988 173.665 70.785 173.513C70.4712 173.361 70.129 173.277 69.7805 173.266C69.432 173.255 69.0851 173.317 68.7623 173.449C68.4395 173.581 68.148 173.779 67.9067 174.03C66.4974 175.568 67.3532 179.273 68.2911 180.898C68.3577 181.021 69.5159 182.584 69.8286 182.948C68.4961 182.435 67.1739 181.923 65.8875 181.354C64.1511 180.602 62.4664 179.736 60.8446 178.761C60.9215 178.653 62.992 175.757 63.2943 174.174C63.5557 172.8 63.5096 170.976 62.5205 169.874C62.2958 169.608 62.0175 169.391 61.7037 169.239C61.3899 169.087 61.0477 169.003 60.6992 168.992C60.3507 168.981 60.0038 169.043 59.681 169.175C59.3582 169.306 59.0667 169.505 58.8254 169.756C57.4161 171.294 58.2719 174.999 59.2047 176.624C59.2662 176.731 60.1476 177.925 60.5833 178.484L60.5013 178.571C58.8937 177.548 57.381 176.384 55.9811 175.091C55.197 174.389 54.4898 173.677 53.8184 172.964C54.2592 172.452 56.2476 170.161 56.6832 168.762C57.1188 167.363 57.247 165.605 56.386 164.406C56.1906 164.117 55.9367 163.872 55.6407 163.688C55.3447 163.503 55.0133 163.383 54.6678 163.335C54.3224 163.286 53.9707 163.311 53.6354 163.407C53.3002 163.504 52.9889 163.669 52.7217 163.893C51.1535 165.287 51.5993 169.049 52.3476 170.766C52.3886 170.858 52.9113 171.76 53.3008 172.411C53.0036 172.088 52.6909 171.76 52.4091 171.442C51.3841 170.253 50.4667 169.1 49.6878 168.07C49.247 167.481 48.8627 166.943 48.5039 166.435C48.6833 165.718 49.3598 162.822 49.1035 161.413C48.8473 160.004 48.1503 158.338 46.8281 157.682C46.5229 157.514 46.1857 157.413 45.8386 157.384C45.4915 157.355 45.1422 157.399 44.8135 157.514C44.4847 157.629 44.1839 157.812 43.9306 158.051C43.6772 158.291 43.4771 158.58 43.3432 158.902C42.5898 160.859 44.7166 163.991 46.1721 165.169C46.3002 165.272 48.4527 166.635 48.4629 166.599C48.464 166.584 48.464 166.569 48.4629 166.553C48.796 167.066 49.1599 167.578 49.5648 168.152C50.3233 169.177 51.1945 170.376 52.2246 171.591C53.3217 172.913 54.4938 174.17 55.7351 175.358C57.1215 176.683 58.6221 177.884 60.2194 178.945L60.2809 178.981C59.6915 178.812 58.0208 178.397 57.8876 178.381C56.0272 178.135 52.2963 178.756 51.3944 180.652C51.2538 180.972 51.1824 181.318 51.1849 181.668C51.1874 182.018 51.2637 182.363 51.4088 182.682C51.5539 183 51.7646 183.284 52.027 183.515C52.2895 183.747 52.5978 183.92 52.9318 184.024C54.3309 184.526 56.0324 183.875 57.2008 183.101Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M153.082 53.0929C154.179 54.9276 158.13 57.6181 158.135 57.6181C158.14 57.6181 159.119 54.4766 159.16 54.2664C159.581 51.8731 158.986 46.9942 156.598 45.7233C156.192 45.5231 155.749 45.4105 155.296 45.393C154.844 45.3755 154.393 45.4534 153.973 45.6217C153.553 45.7899 153.173 46.0447 152.858 46.3695C152.543 46.6943 152.3 47.0817 152.144 47.5067C151.401 49.2902 152.149 51.5349 153.082 53.0929Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M191.831 82.0692C191.831 82.1153 194.394 79.9885 194.532 79.8347C196.208 78.0667 198.402 73.6849 197.095 71.2813C196.867 70.8903 196.559 70.5518 196.191 70.2877C195.823 70.0236 195.404 69.8399 194.961 69.7485C194.518 69.6571 194.06 69.6601 193.618 69.7573C193.176 69.8546 192.759 70.0438 192.395 70.3127C190.812 71.4043 190.202 73.69 190.115 75.5042C190.017 77.6362 191.831 82.0641 191.831 82.0692Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M146.374 65.3262C147.855 66.7458 152.047 68.2217 152.38 68.3345C151.534 70.7307 150.85 73.1807 150.33 75.6682C150.018 77.1134 149.746 78.5842 149.495 80.0602C149.495 79.3683 149.495 78.7482 149.495 78.6611C149.269 76.2422 147.409 71.6913 144.749 71.1019C144.305 71.0154 143.847 71.0235 143.406 71.1257C142.965 71.2279 142.55 71.4219 142.189 71.6951C141.827 71.9683 141.528 72.3145 141.309 72.7112C141.091 73.1079 140.959 73.5462 140.921 73.9975C140.695 75.909 142.018 77.877 143.33 79.1223C144.642 80.3677 148.208 81.7309 149.151 82.0692C149.059 82.6329 148.962 83.2018 148.875 83.7655C148.449 86.4868 148.039 89.203 147.552 91.8577C147.383 92.7904 147.178 93.7078 146.978 94.6251C146.978 94.0101 146.978 93.4925 146.978 93.4156C146.753 90.9916 144.893 86.4458 142.233 85.8513C141.788 85.7656 141.331 85.7744 140.89 85.8773C140.449 85.9802 140.035 86.1748 139.674 86.4485C139.313 86.7221 139.014 87.0687 138.796 87.4656C138.579 87.8625 138.447 88.3008 138.41 88.752C138.184 90.6585 139.501 92.6264 140.813 93.8769C142.125 95.1273 145.349 96.3471 146.451 96.7571C146.22 97.6898 145.989 98.6225 145.723 99.5142C145.523 100.119 145.38 100.713 145.149 101.313L144.503 103.081C144.057 104.188 143.601 105.336 143.135 106.412C142.817 107.155 142.499 107.863 142.182 108.575C142.361 107.647 142.694 105.823 142.694 105.669C142.838 103.24 141.669 98.4637 139.148 97.4694C138.721 97.3166 138.267 97.2553 137.815 97.2897C137.364 97.3241 136.924 97.4534 136.526 97.6691C136.127 97.8847 135.779 98.182 135.503 98.5414C135.227 98.9009 135.03 99.3144 134.925 99.7551C134.412 101.605 135.437 103.753 136.524 105.193C137.743 106.781 141.5 108.811 141.971 109.062C141.459 110.235 140.916 111.378 140.403 112.444C138.917 115.555 137.544 118.169 136.457 120.173L137.938 121.228C139.014 119.178 140.388 116.406 141.864 113.126C142.407 111.932 142.966 110.645 143.524 109.318C144.858 109.648 146.21 109.896 147.573 110.061C147.829 112.111 149.71 115.617 149.956 116.068C148.864 116.759 147.798 117.421 146.779 118.025C143.883 119.768 141.336 121.172 139.342 122.233L140.957 123.386C142.827 122.33 145.093 120.998 147.619 119.404C148.731 118.707 149.905 117.938 151.099 117.139C151.452 117.528 154.374 120.654 156.224 121.433C157.9 122.135 160.226 122.571 161.892 121.602C162.291 121.39 162.642 121.095 162.919 120.738C163.197 120.38 163.397 119.968 163.505 119.529C163.612 119.089 163.626 118.632 163.545 118.186C163.464 117.741 163.29 117.318 163.035 116.944C161.436 114.735 156.526 114.833 154.21 115.586C154.076 115.632 152.647 116.278 151.755 116.703C152.242 116.375 152.718 116.057 153.215 115.714C154.205 115.038 155.173 114.335 156.214 113.587L157.7 112.434C158.212 112.055 158.689 111.599 159.191 111.178C160.334 110.184 161.446 109.129 162.538 108.022C163.132 108.883 165.285 111.922 166.837 112.875C168.39 113.828 170.625 114.607 172.413 113.9C172.841 113.75 173.231 113.511 173.56 113.2C173.889 112.889 174.149 112.512 174.323 112.094C174.496 111.676 174.58 111.226 174.568 110.773C174.556 110.32 174.449 109.875 174.253 109.467C173.008 107.043 168.134 106.392 165.736 106.786C165.587 106.812 163.896 107.299 162.973 107.565C163.624 106.904 164.28 106.243 164.916 105.546C166.761 103.548 168.564 101.446 170.368 99.3964C170.922 98.7609 171.486 98.1357 172.039 97.5104C172.249 97.8179 174.725 101.482 176.467 102.553C178.005 103.501 180.254 104.286 182.048 103.578C182.475 103.428 182.865 103.189 183.194 102.878C183.522 102.566 183.781 102.189 183.954 101.771C184.127 101.353 184.21 100.903 184.198 100.451C184.186 99.9981 184.078 99.5534 183.883 99.1453C182.637 96.7212 177.764 96.0703 175.365 96.4649C175.186 96.4906 172.751 97.1824 172.142 97.3874C173.372 96.0037 174.607 94.6354 175.883 93.3336C177.594 91.5707 179.417 89.9205 181.341 88.3933C181.438 88.5368 184.006 92.3753 185.789 93.472C187.327 94.4201 189.576 95.1991 191.37 94.497C191.797 94.3464 192.187 94.1077 192.516 93.7963C192.844 93.485 193.103 93.1079 193.276 92.6897C193.449 92.2716 193.533 91.8217 193.52 91.3692C193.508 90.9168 193.4 90.4721 193.205 90.064C191.96 87.6399 187.086 86.989 184.687 87.3888C184.528 87.3888 182.678 87.9371 181.802 88.2036L181.73 88.0653C183.71 86.581 185.818 85.2759 188.029 84.1652C189.238 83.54 190.427 83.0121 191.616 82.5201C192.021 83.2838 193.912 86.7533 195.409 87.9166C196.905 89.08 198.996 90.0537 200.841 89.5515C201.282 89.4488 201.696 89.2545 202.056 88.9813C202.417 88.708 202.716 88.362 202.934 87.9656C203.152 87.5692 203.284 87.1314 203.321 86.6806C203.359 86.2298 203.301 85.7761 203.152 85.3491C202.179 82.7866 197.412 81.6182 194.983 81.7617C194.85 81.7617 193.512 81.9923 192.544 82.1614C193.056 81.9513 193.62 81.7207 194.133 81.5259C196.059 80.7931 197.863 80.2396 199.473 79.763C200.385 79.4965 201.22 79.2505 201.999 79.0762C202.788 79.6195 205.991 81.7668 207.826 82.0999C209.661 82.433 211.982 82.351 213.397 81.0493C213.741 80.755 214.019 80.3915 214.213 79.9826C214.407 79.5737 214.513 79.1285 214.524 78.676C214.534 78.2235 214.449 77.7738 214.275 77.3562C214.1 76.9387 213.839 76.5626 213.51 76.2524C211.46 74.4433 206.699 75.5913 204.603 76.8213C204.418 76.9289 201.779 78.9225 201.82 78.9532L201.866 78.984C201.113 79.1582 200.303 79.3581 199.421 79.5887C197.807 80.0346 195.977 80.5522 194.03 81.244C191.922 81.9784 189.859 82.834 187.849 83.8065C185.595 84.8787 183.439 86.1477 181.407 87.5989L181.341 87.6553C181.812 87.0147 183.083 85.18 183.165 85.0262C184.313 82.8789 185.272 78.0615 183.38 76.0987C183.056 75.7828 182.67 75.5384 182.245 75.3814C181.821 75.2244 181.368 75.1583 180.916 75.1873C180.465 75.2163 180.024 75.3397 179.623 75.5497C179.222 75.7596 178.87 76.0514 178.589 76.4062C177.349 77.877 177.364 80.2447 177.764 82.0179C178.215 84.0166 180.895 87.5579 181.11 87.8398C179.081 89.3703 177.157 91.0345 175.35 92.8212C174.289 93.8461 173.259 94.9326 172.234 96.0242C172.628 95.4553 172.972 94.9429 173.013 94.866C174.161 92.7238 175.119 87.9013 173.228 85.9436C172.905 85.6263 172.519 85.3807 172.095 85.2228C171.671 85.065 171.218 84.9984 170.766 85.0274C170.314 85.0564 169.874 85.1804 169.473 85.3913C169.073 85.6021 168.721 85.8951 168.441 86.2511C167.196 87.7168 167.212 90.0845 167.611 91.8577C168.011 93.6309 170.245 96.7263 170.845 97.5258L169.677 98.7916C167.821 100.842 165.982 102.866 164.111 104.808C163.455 105.495 162.778 106.146 162.107 106.802C162.456 106.289 162.748 105.869 162.784 105.777C163.932 103.635 164.89 98.8121 162.999 96.8544C162.675 96.5375 162.289 96.2921 161.865 96.1343C161.44 95.9764 160.987 95.9095 160.536 95.9381C160.084 95.9666 159.643 96.0898 159.242 96.2998C158.841 96.5097 158.488 96.8017 158.207 97.1568C156.967 98.6276 156.982 100.995 157.382 102.769C157.782 104.542 159.796 107.335 160.508 108.293C159.801 108.939 159.094 109.59 158.376 110.189C157.864 110.584 157.428 110.999 156.905 111.373L155.394 112.49C154.41 113.172 153.395 113.874 152.416 114.515C151.734 114.961 151.083 115.376 150.422 115.796C151.089 115.12 152.36 113.772 152.472 113.649C153.691 111.888 154.439 109.845 154.645 107.714C154.79 107.525 154.917 107.322 155.025 107.109C155.239 106.711 155.368 106.271 155.402 105.82C155.436 105.368 155.375 104.915 155.222 104.488C155.069 104.062 154.829 103.673 154.516 103.346C154.202 103.018 153.824 102.761 153.405 102.589C150.843 101.631 146.809 104.419 145.298 106.325C145.205 106.438 144.375 107.765 143.863 108.611C144.088 108.068 144.314 107.545 144.539 106.981C144.99 105.874 145.41 104.757 145.861 103.553C146.061 102.963 146.266 102.369 146.466 101.769C146.666 101.17 146.83 100.529 147.019 99.9037C147.424 98.438 147.763 96.9416 148.07 95.4195C149.039 95.8141 152.508 97.1619 154.333 97.1004C156.157 97.0389 158.433 96.4547 159.555 94.8814C159.828 94.5202 160.022 94.1056 160.124 93.6646C160.226 93.2236 160.234 92.7661 160.147 92.3218C160.061 91.8775 159.881 91.4564 159.621 91.0859C159.361 90.7155 159.026 90.4039 158.638 90.1716C156.265 88.834 151.842 90.9813 150.059 92.6315C149.946 92.7392 148.798 94.0665 148.183 94.8096C148.357 93.8974 148.542 92.9851 148.695 92.0524C149.126 89.3619 149.479 86.6303 149.848 83.9039C149.956 83.0685 150.079 82.2383 150.197 81.4081C150.54 81.5515 154.63 83.2428 156.675 83.171C158.489 83.1095 160.775 82.5253 161.892 80.9519C162.165 80.5911 162.359 80.1768 162.461 79.736C162.564 79.2953 162.572 78.8379 162.486 78.3936C162.4 77.9493 162.222 77.5282 161.962 77.1575C161.702 76.7868 161.368 76.4749 160.98 76.2422C158.602 74.9097 154.179 77.0519 152.395 78.7072C152.262 78.8302 150.612 80.7572 150.217 81.2697C150.479 79.4401 150.73 77.6156 151.099 75.8271C151.559 73.4104 152.173 71.0259 152.939 68.6881C153.098 68.7547 157.356 70.5433 159.452 70.4715C161.267 70.4049 163.552 69.8258 164.67 68.2525C164.943 67.8912 165.137 67.4765 165.239 67.0354C165.342 66.5942 165.35 66.1364 165.264 65.6917C165.178 65.2471 165 64.8255 164.74 64.4543C164.48 64.0832 164.146 63.7709 163.757 63.5376C161.379 62.2051 156.962 64.3473 155.173 66.0027C155.055 66.1103 153.8 67.5709 153.215 68.2781L153.082 68.2012C153.904 65.8726 154.933 63.6223 156.157 61.4774C156.823 60.2884 157.52 59.1866 158.207 58.1308C158.966 58.546 162.456 60.396 164.357 60.5447C166.171 60.6779 168.513 60.3499 169.789 58.9098C170.1 58.5808 170.338 58.1901 170.488 57.763C170.638 57.3359 170.696 56.8821 170.659 56.431C170.621 55.98 170.49 55.5418 170.272 55.1451C170.054 54.7483 169.755 54.4019 169.395 54.1283C167.181 52.5396 162.553 54.1847 160.595 55.635C160.493 55.7119 159.499 56.6293 158.786 57.3109C159.109 56.8394 159.437 56.3474 159.76 55.9015C160.959 54.2308 162.163 52.7702 163.235 51.4839C163.855 50.7613 164.429 50.1155 164.967 49.521C165.925 49.521 169.784 49.562 171.496 48.8292C173.208 48.0963 175.083 46.7434 175.565 44.8779C175.69 44.4419 175.721 43.9846 175.657 43.5357C175.592 43.0869 175.434 42.6566 175.192 42.2731C174.95 41.8895 174.63 41.5613 174.253 41.3099C173.876 41.0584 173.45 40.8894 173.003 40.8139C170.307 40.4244 166.955 44.022 165.884 46.2052C165.792 46.3949 164.69 49.5159 164.736 49.5159H164.798C164.285 50.0796 163.696 50.6895 163.091 51.3711C161.989 52.6318 160.749 54.0719 159.504 55.7221C158.146 57.4911 156.891 59.3375 155.747 61.2519C154.459 63.3901 153.363 65.6385 152.472 67.9706L152.442 68.0577C152.488 67.2583 152.529 65.0289 152.513 64.8547C152.288 62.4306 150.428 57.8848 147.768 57.2955C147.324 57.2098 146.866 57.2185 146.426 57.321C145.985 57.4236 145.571 57.6178 145.211 57.8909C144.85 58.164 144.551 58.51 144.333 58.9062C144.115 59.3025 143.982 59.7403 143.945 60.191C143.745 62.1026 145.062 64.0706 146.374 65.3262Z",fill:"#9C9C9C"}),u.a.createElement("path",{d:"M177.37 155.54V153.823C177.37 144.982 188.563 144.598 188.563 138.305C188.563 135.573 186.339 133.79 183.028 133.79C179.405 133.79 177.114 135.763 177.114 138.561V139.263C177.114 139.96 176.735 140.288 176.032 140.288L169.232 140.032C168.596 140.032 168.15 139.714 168.15 139.273V138.571C168.15 130.884 174.254 125.6 183.223 125.6C191.996 125.6 197.654 130.561 197.654 137.997C197.654 148.554 186.272 148.621 186.272 154.397V155.54C186.289 155.686 186.273 155.834 186.225 155.973C186.177 156.112 186.098 156.238 185.993 156.343C185.889 156.447 185.763 156.526 185.624 156.574C185.485 156.622 185.337 156.638 185.191 156.621H178.451C178.305 156.638 178.157 156.622 178.018 156.574C177.879 156.526 177.753 156.447 177.648 156.343C177.544 156.238 177.465 156.112 177.417 155.973C177.369 155.834 177.353 155.686 177.37 155.54ZM176.796 165.789C176.796 162.991 179.276 160.7 182.264 160.7C185.129 160.7 187.671 162.991 187.671 165.789C187.671 168.588 185.109 170.878 182.203 170.878C179.297 170.878 176.796 168.577 176.796 165.779V165.789Z",fill:"#656565"}),u.a.createElement("path",{d:"M42.9951 82.7151V81.2237C42.9951 73.5364 52.7323 73.2135 52.7323 67.7453C52.7323 65.3673 50.8003 63.8248 47.9303 63.8248C44.7785 63.8248 42.8054 65.5365 42.8054 67.9657V68.5755C42.8054 69.1803 42.4775 69.457 41.8676 69.457L35.9586 69.2366C35.4051 69.2366 35.0208 68.9599 35.0208 68.5755V67.9657C35.0208 61.3033 40.3199 56.6909 48.1097 56.6909C55.7304 56.6909 60.6503 61.0009 60.6503 67.4532C60.6503 76.6216 50.7593 76.678 50.7593 81.7055V82.6997C50.774 82.8264 50.7599 82.9549 50.718 83.0754C50.6761 83.1959 50.6075 83.3053 50.5173 83.3956C50.4271 83.4858 50.3176 83.5544 50.1971 83.5963C50.0766 83.6382 49.9481 83.6523 49.8214 83.6375H43.9329C43.8076 83.6519 43.6807 83.6381 43.5614 83.597C43.4422 83.5559 43.3336 83.4887 43.2437 83.4003C43.1538 83.3118 43.0848 83.2044 43.0417 83.0858C42.9987 82.9673 42.9828 82.8406 42.9951 82.7151ZM42.4826 91.6067C42.4826 89.1775 44.635 87.1891 47.2282 87.1891C49.7138 87.1891 51.9277 89.1775 51.9277 91.6067C51.9277 94.0359 49.7138 96.0244 47.177 96.0244C45.9719 96.0548 44.8036 95.6074 43.9271 94.7798C43.0505 93.9522 42.5368 92.8116 42.498 91.6067H42.4826Z",fill:"#0078D4"}),u.a.createElement("path",{d:"M166.689 23.907V23.1537C166.689 19.2741 171.599 19.105 171.599 16.3427C171.599 15.1435 170.62 14.3594 169.17 14.3594C167.581 14.3594 166.576 15.2255 166.576 16.4555V16.763C166.576 17.0704 166.407 17.2088 166.1 17.2088L163.117 17.0961C162.835 17.0961 162.641 16.9577 162.641 16.763V16.4555C162.641 13.0782 165.321 10.7617 169.257 10.7617C173.106 10.7617 175.591 12.9398 175.591 16.2043C175.591 20.8167 170.594 20.8629 170.594 23.3792V23.8917C170.602 23.9558 170.595 24.0209 170.573 24.0819C170.552 24.1429 170.517 24.1982 170.471 24.2436C170.425 24.2891 170.369 24.3235 170.308 24.3442C170.247 24.3649 170.182 24.3714 170.118 24.3632H167.161C167.098 24.3711 167.035 24.3649 166.975 24.345C166.915 24.3252 166.861 24.2921 166.815 24.2483C166.77 24.2045 166.735 24.1511 166.713 24.092C166.692 24.033 166.683 23.9697 166.689 23.907ZM166.438 28.4016C166.405 27.9224 166.517 27.4444 166.76 27.0297C167.002 26.615 167.364 26.2829 167.797 26.0765C168.231 25.8701 168.717 25.799 169.192 25.8724C169.666 25.9458 170.108 26.1603 170.459 26.488C170.81 26.8158 171.054 27.2416 171.16 27.7101C171.266 28.1787 171.229 28.6682 171.052 29.1151C170.876 29.5619 170.57 29.9455 170.173 30.2158C169.776 30.4862 169.307 30.6308 168.826 30.6309C168.523 30.6418 168.22 30.5928 167.936 30.4866C167.652 30.3804 167.391 30.2191 167.169 30.012C166.948 29.8049 166.769 29.556 166.643 29.2797C166.518 29.0033 166.448 28.7049 166.438 28.4016Z",fill:"#0078D4"}),u.a.createElement("path",{d:"M22.7673 127.553V126.605C22.7673 121.716 28.9582 121.506 28.9582 118.021C28.9582 116.509 27.7282 115.525 25.8833 115.525C23.8794 115.525 22.6136 116.616 22.6136 118.164V118.548C22.6136 118.938 22.4035 119.112 22.014 119.112L18.2523 118.974C17.8987 118.974 17.6527 118.794 17.6527 118.548V118.164C17.6527 113.91 21.03 110.989 25.9909 110.989C30.8442 110.989 33.9703 113.731 33.9703 117.846C33.9703 123.684 27.677 123.719 27.677 126.923V127.553C27.6869 127.634 27.6783 127.716 27.6516 127.794C27.625 127.871 27.5812 127.941 27.5234 127.999C27.4656 128.057 27.3954 128.101 27.3181 128.127C27.2408 128.154 27.1585 128.162 27.0774 128.152H23.3567C23.2764 128.161 23.1952 128.151 23.1192 128.123C23.0433 128.096 22.9744 128.052 22.9178 127.994C22.8612 127.937 22.8183 127.867 22.7923 127.791C22.7662 127.714 22.7577 127.633 22.7673 127.553V127.553ZM22.4496 133.216C22.4095 132.612 22.552 132.01 22.8588 131.489C23.1655 130.967 23.6221 130.55 24.1693 130.291C24.7164 130.033 25.3287 129.945 25.9264 130.039C26.5241 130.134 27.0795 130.406 27.5204 130.82C27.9613 131.235 28.2672 131.772 28.3983 132.363C28.5294 132.954 28.4796 133.57 28.2554 134.133C28.0312 134.695 27.6429 135.176 27.1412 135.514C26.6396 135.853 26.0476 136.032 25.4425 136.029C24.6713 136.054 23.9217 135.772 23.3585 135.244C22.7954 134.717 22.4648 133.987 22.4393 133.216H22.4496Z",stroke:"#656565",strokeMiterlimit:"10"}),u.a.createElement("path",{d:"M69.9163 39.0869V38.4361C69.9163 35.0742 74.1751 34.9255 74.1751 32.5322C74.1751 31.5072 73.3295 30.8154 72.0688 30.8154C70.6902 30.8154 69.8189 31.5636 69.8189 32.6296V32.8961C69.8189 33.1626 69.6754 33.2805 69.4089 33.2805L66.8465 33.1831C66.6056 33.1831 66.4365 33.0652 66.4365 32.8961V32.6296C66.4365 29.7033 68.7581 27.6943 72.1661 27.6943C75.5742 27.6943 77.6036 29.5803 77.6036 32.4092C77.6036 36.4271 73.2731 36.4528 73.2731 38.6513V39.0869C73.2797 39.1424 73.2736 39.1986 73.2554 39.2513C73.2371 39.3041 73.2071 39.352 73.1676 39.3914C73.1282 39.4309 73.0802 39.4609 73.0275 39.4792C72.9748 39.4975 72.9185 39.5035 72.8631 39.4969H70.3007C70.2473 39.4995 70.194 39.4904 70.1445 39.4704C70.0949 39.4503 70.0503 39.4197 70.0138 39.3807C69.9772 39.3417 69.9496 39.2953 69.9328 39.2446C69.9159 39.1938 69.9103 39.1401 69.9163 39.0869ZM69.7011 42.9819C69.6785 42.5724 69.7793 42.1655 69.9904 41.8139C70.2015 41.4623 70.5132 41.1821 70.8853 41.0095C71.2573 40.8369 71.6725 40.7799 72.0773 40.8458C72.4821 40.9117 72.8578 41.0975 73.1559 41.3792C73.454 41.6609 73.6607 42.0255 73.7494 42.4259C73.8381 42.8263 73.8046 43.2441 73.6533 43.6253C73.502 44.0065 73.2399 44.3335 72.9008 44.5642C72.5616 44.7948 72.1611 44.9184 71.751 44.9191C71.2217 44.937 70.7069 44.7442 70.3197 44.3829C69.9324 44.0216 69.7044 43.5214 69.6857 42.9921L69.7011 42.9819Z",fill:"#263238"}),u.a.createElement("path",{d:"M145.765 179.585V178.935C145.765 175.573 150.024 175.429 150.024 173.031C150.024 172.006 149.178 171.314 147.917 171.314C146.539 171.314 145.667 172.062 145.667 173.128V173.395C145.667 173.661 145.524 173.784 145.257 173.784L142.695 173.687C142.454 173.687 142.285 173.564 142.285 173.395V173.128C142.285 170.202 144.607 168.193 148.015 168.193C151.423 168.193 153.508 170.079 153.508 172.913C153.508 176.926 149.178 176.951 149.178 179.15V179.585C149.184 179.641 149.178 179.697 149.16 179.75C149.142 179.803 149.112 179.852 149.072 179.891C149.033 179.931 148.985 179.962 148.933 179.981C148.88 180 148.824 180.006 148.768 180.001H146.206C146.147 180.012 146.088 180.009 146.031 179.992C145.974 179.976 145.922 179.946 145.879 179.905C145.836 179.865 145.804 179.815 145.784 179.759C145.764 179.704 145.757 179.644 145.765 179.585V179.585ZM145.55 183.48C145.527 183.071 145.628 182.664 145.839 182.312C146.05 181.961 146.362 181.681 146.734 181.508C147.106 181.335 147.521 181.278 147.926 181.344C148.331 181.41 148.706 181.596 149.004 181.878C149.302 182.159 149.509 182.524 149.598 182.924C149.687 183.325 149.653 183.743 149.502 184.124C149.35 184.505 149.088 184.832 148.749 185.063C148.41 185.293 148.01 185.417 147.599 185.418C147.072 185.43 146.561 185.233 146.178 184.87C145.795 184.507 145.571 184.008 145.555 183.48H145.55Z",stroke:"#263238",strokeMiterlimit:"10"}),u.a.createElement("path",{d:"M125.7 191.25C125.664 191.142 125.628 191.035 125.587 190.927C125.546 190.819 125.516 190.707 125.475 190.599C125.434 190.491 125.403 190.384 125.362 190.276C125.321 190.168 125.29 190.056 125.249 189.948C125.208 189.84 125.177 189.733 125.136 189.625C125.095 189.518 125.065 189.405 125.024 189.297L124.911 188.974C124.875 188.862 124.834 188.754 124.798 188.646L124.685 188.323C124.65 188.211 124.609 188.103 124.573 187.995L124.46 187.673C124.424 187.56 124.383 187.452 124.347 187.345L124.24 187.001C124.204 186.889 124.163 186.781 124.127 186.673L124.009 186.35C123.973 186.238 123.937 186.13 123.896 186.022C123.855 185.915 123.824 185.807 123.783 185.7C123.742 185.592 123.712 185.479 123.671 185.372C123.63 185.264 123.599 185.156 123.558 185.049C121.887 179.965 116.721 176.234 111.038 176.234C105.529 176.234 100.737 179.442 98.7381 183.962C98.6869 184.065 98.6408 184.172 98.5946 184.275L98.4563 184.593C98.405 184.695 98.3589 184.798 98.3128 184.905C98.2666 185.013 98.2154 185.115 98.1693 185.218L98.0309 185.53C97.9796 185.638 97.9335 185.741 97.8874 185.848C97.8413 185.956 97.79 186.053 97.7439 186.161C97.6978 186.268 97.6465 186.366 97.6004 186.473L97.462 186.786C97.4108 186.889 97.3647 186.996 97.3185 187.099C97.2724 187.201 97.2212 187.309 97.175 187.411L97.0367 187.729C96.9854 187.832 96.9393 187.934 96.8932 188.042C96.847 188.149 96.7958 188.252 96.7497 188.354L96.6113 188.667C96.5601 188.774 96.5139 188.877 96.4678 188.985C96.4217 189.092 96.3704 189.19 96.3243 189.297L96.1859 189.61C96.1347 189.712 96.0886 189.82 96.0424 189.922C95.9963 190.025 95.9451 190.133 95.8989 190.24C95.0197 192.113 94.568 194.157 94.5767 196.226C94.5767 204.477 101.7 211.221 110.51 211.221C119.13 211.221 126.628 204.477 126.628 196.226C126.626 194.653 126.35 193.092 125.813 191.614C125.777 191.465 125.741 191.357 125.7 191.25Z",fill:"#263238"}),u.a.createElement("path",{d:"M113.508 77.7378C87.0791 77.7378 69.0857 93.2918 69.0857 115.975V118.024C69.0905 118.363 69.1826 118.695 69.3532 118.988C69.5238 119.28 69.767 119.524 70.0594 119.695C70.17 119.802 70.2901 119.898 70.4182 119.982C70.5292 120.09 70.6512 120.186 70.782 120.269C70.8931 120.377 71.015 120.473 71.1459 120.556C71.2559 120.665 71.378 120.762 71.5098 120.843C71.619 120.951 71.7392 121.047 71.8685 121.13C71.9794 121.24 72.1014 121.338 72.2324 121.422C72.3447 121.529 72.4665 121.625 72.5962 121.709C72.7076 121.817 72.8295 121.913 72.9601 121.996C73.0696 122.104 73.1898 122.2 73.3188 122.283C73.4392 122.399 73.5715 122.502 73.7135 122.591C73.8179 122.686 73.9293 122.773 74.0466 122.852C74.1589 122.959 74.2807 123.055 74.4104 123.139C74.521 123.246 74.6411 123.342 74.7692 123.426C74.8816 123.533 75.0033 123.629 75.133 123.713C75.2444 123.821 75.3663 123.917 75.4969 124C75.6064 124.108 75.7266 124.204 75.8557 124.287C75.967 124.395 76.0889 124.491 76.2195 124.574C76.329 124.682 76.4492 124.778 76.5783 124.861C76.6906 124.968 76.8124 125.064 76.9421 125.148C77.0517 125.256 77.1719 125.352 77.3009 125.435C77.893 125.956 78.6656 126.225 79.4533 126.183L95.9349 126.798C97.6313 126.798 98.5538 126.03 98.5538 124.333V122.642C98.5538 115.862 104.099 111.091 112.903 111.091C120.914 111.091 126.305 115.401 126.305 122.027C126.305 122.782 126.233 123.535 126.09 124.277C117.818 135.121 96.2886 139.903 96.2886 160.95V166.014C96.2886 168.064 97.4109 169.196 99.4762 169.196H119.32C121.37 169.196 122.507 168.074 122.507 166.014V162.637C122.507 145.581 156.06 145.391 156.06 114.278C156.06 92.354 139.373 77.7378 113.508 77.7378Z",fill:"#263238"}),u.a.createElement("path",{d:"M96.263 166.025V160.961C96.263 134.907 129.252 133.8 129.252 115.227C129.252 107.166 122.692 101.902 112.944 101.902C102.259 101.902 95.5199 107.714 95.5199 115.96V118.01C95.5199 120.06 94.3924 121.013 92.3322 121.013L72.2734 120.26C70.4029 120.26 69.0909 119.322 69.0909 118.01V115.96C69.0909 93.2772 87.0843 77.7231 113.513 77.7231C139.379 77.7231 156.05 92.3393 156.05 114.274C156.05 145.387 122.497 145.577 122.497 162.632V166.009C122.497 168.059 121.37 169.192 119.31 169.192H99.4507C97.3854 169.207 96.263 168.085 96.263 166.025ZM94.5769 196.226C94.5769 187.98 101.885 181.23 110.695 181.23C119.13 181.23 126.628 187.98 126.628 196.226C126.628 204.472 119.115 211.196 110.51 211.196C101.69 211.196 94.5769 204.451 94.5769 196.226Z",fill:"#0078D4",stroke:"#0078D4",strokeMiterlimit:"10"}),u.a.createElement("path",{d:"M109.69 228C125.147 228 137.677 225.198 137.677 221.742C137.677 218.286 125.147 215.485 109.69 215.485C94.2337 215.485 81.7035 218.286 81.7035 221.742C81.7035 225.198 94.2337 228 109.69 228Z",fill:"#757575"}),u.a.createElement("path",{d:"M88.2986 79.8145L87.2275 82.1514C87.2275 82.1514 81.0059 82.8228 81.0059 83.2891C81.0059 83.7555 81.0725 86.9688 81.4107 87.102C81.6678 87.2021 81.9531 87.2021 82.2102 87.102L91.3735 84.76L92.2447 80.6139L88.2986 79.8145Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M86.5568 83.9911C85.4189 84.9233 84.1915 85.7404 82.8925 86.4305C81.4114 87.0968 81.355 88.1064 81.8265 88.1064C82.298 88.1064 86.4799 86.3537 86.4799 86.3537C86.4799 86.3537 90.2774 85.3594 90.8258 85.0571C91.3742 84.7547 91.4357 83.0737 91.4357 83.0737",fill:"white"}),u.a.createElement("path",{d:"M86.5568 83.9911C85.4189 84.9233 84.1915 85.7404 82.8925 86.4305C81.4114 87.0968 81.355 88.1064 81.8265 88.1064C82.298 88.1064 86.4799 86.3537 86.4799 86.3537C86.4799 86.3537 90.2774 85.3594 90.8258 85.0571C91.3742 84.7547 91.4357 83.0737 91.4357 83.0737",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M93.7723 34.9102L89.9491 64.2142L87.2893 80.0809L93.1932 81.4748L97.5954 62.7075L99.6813 50.8947L93.7723 34.9102Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M124.624 13.6932L122.292 13.3242L117.516 11.5151L117.342 17.1884L124.747 17.87L124.624 13.6932Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M97.3649 117.61C95.627 119.636 94.0033 121.758 92.5014 123.965C90.5283 126.978 91.2253 130.217 93.6596 131.032C96.0939 131.847 99.2149 129.638 100.03 127.901C100.845 126.164 100.609 125.241 101.88 123.504C103.151 121.766 104.196 120.029 103.735 117.713C103.274 115.396 98.6153 115.991 97.3649 117.61Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M99.7932 128.336C99.6292 127.988 99.4396 127.619 99.2141 127.224C97.3538 123.95 94.0892 124.211 92.0393 124.821C90.6914 127.573 91.4601 130.309 93.669 131.047C95.8778 131.785 98.7272 129.981 99.7932 128.336Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M99.2148 127.224C98.5229 128.249 97.5953 131.048 94.0027 129.889C93.0009 129.632 92.1048 129.068 91.4403 128.275C91.518 128.9 91.7688 129.491 92.1646 129.981C92.5603 130.471 93.0852 130.84 93.6799 131.048C96.1091 131.857 99.2353 129.654 100.05 127.916C100.865 126.179 100.629 125.256 101.9 123.519C103.171 121.782 104.217 120.044 103.755 117.728C103.755 120.506 102.73 120.967 101.439 122.474C100.147 123.98 99.9117 126.179 99.2148 127.224Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M131.543 117.61C133.28 119.636 134.904 121.758 136.406 123.965C138.379 126.978 137.682 130.217 135.248 131.032C132.813 131.847 129.692 129.638 128.878 127.901C128.063 126.164 128.298 125.241 127.027 123.504C125.757 121.766 124.711 120.029 125.172 117.713C125.634 115.396 130.272 115.991 131.543 117.61Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M129.119 128.336C129.278 127.988 129.467 127.619 129.693 127.224C131.553 123.95 134.818 124.211 136.868 124.821C138.215 127.573 137.447 130.309 135.238 131.047C133.029 131.785 130.18 129.981 129.119 128.336Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M129.693 127.224C130.384 128.249 131.312 131.048 134.905 129.889C135.906 129.632 136.803 129.068 137.467 128.275C137.389 128.9 137.139 129.491 136.743 129.981C136.347 130.471 135.822 130.84 135.227 131.048C132.798 131.857 129.672 129.654 128.857 127.916C128.042 126.179 128.278 125.256 127.007 123.519C125.736 121.782 124.691 120.044 125.152 117.728C125.152 120.506 126.177 120.967 127.468 122.474C128.76 123.98 128.996 126.179 129.693 127.224Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M136.976 77.6517C136.976 75.5659 133.388 73.2494 133.388 73.2494C127.981 67.7504 118.224 68.4781 114.621 68.9701C111.033 68.4576 101.265 67.7504 95.8586 73.2494C95.8586 73.2494 92.2712 75.5659 92.2712 77.6517C92.2712 79.7375 96.7913 117.38 96.7913 117.38C96.7913 117.38 96.6735 119.348 99.9175 119.578C103.162 119.809 104.53 117.959 104.53 117.959L105.806 86.1077C105.806 86.1077 111.018 82.3973 111.956 82.2846C112.294 82.2384 112.735 82.1667 113.227 82.1052V82.1667C114.145 81.9753 115.092 81.9753 116.01 82.1667V82.1052C116.522 82.1667 116.937 82.2384 117.281 82.2846C118.208 82.3973 123.43 86.1077 123.43 86.1077L124.707 117.959C124.707 117.959 126.095 119.809 129.319 119.578C132.542 119.348 132.445 117.38 132.445 117.38C132.445 117.38 136.976 79.7375 136.976 77.6517Z",fill:"#263238",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M123.424 86.1078C123.424 86.1078 122.727 78.4615 126.089 75.5659",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M105.821 86.1075C105.821 86.1075 106.169 79.7372 105.472 77.4208C104.775 75.1044 103.617 74.1768 103.617 74.1768",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M110.105 70.9326C110.105 70.9326 113.81 75.217 114.507 78.8096",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M118.213 71.1787C118.213 71.1787 116.127 73.4952 115.896 75.2325",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M113.001 26.1106C113.001 26.1106 109.644 25.6443 108.486 26.8025C107.327 27.9607 103.386 32.2297 103.386 32.2297L105.472 69.0622C105.472 69.0622 110.223 70.9175 114.277 70.9175C118.33 70.9175 122.963 69.4107 124.014 68.601C125.065 67.7913 124.132 28.2938 124.132 28.2938C124.132 28.2938 115.527 25.7621 113.001 26.1106Z",fill:"#0078D4",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M119.14 26.9203C120.903 26.6526 122.682 26.4968 124.465 26.454C126.781 26.454 129.077 26.5718 129.077 26.5718L134.868 21.0113L123.214 18.3464L124.142 13.0216C124.142 13.0216 132.711 12.4425 136.995 13.2523C141.28 14.062 147.998 16.1478 148.347 16.1478C148.695 16.1478 149.157 17.4239 148.808 18.3464C148.46 19.2689 137.564 31.3226 134.31 34.4488C132.181 36.535 130.171 38.7387 128.288 41.0496L126.802 66.879C126.802 66.879 130.625 68.9648 131.322 69.6567C132.019 70.3485 132.829 73.1314 132.829 73.1314C132.829 73.1314 125.761 70.2358 123.906 70.0052C122.051 69.7746 120.898 69.6567 120.549 68.9802C120.201 68.3037 117.305 37.3597 117.305 37.3597L117.423 27.5148C117.423 27.5148 117.403 26.9203 119.14 26.9203Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M126.09 42.7869L119.833 43.5966L120.412 45.913L123.543 46.7228L126.551 45.3339L126.09 42.7869Z",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M129.677 28.8884L128.288 41.0498L131.881 30.7436",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M134.889 21.0113C134.889 21.0113 137.785 21.5904 142.187 19.853",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M137.903 21.8209C139.805 21.8738 141.707 21.7192 143.576 21.3596",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M109.065 25.9929L109.644 34.449C110.172 35.1433 110.855 35.704 111.64 36.0859C112.424 36.4678 113.287 36.6601 114.159 36.6475C117.054 36.5348 117.403 34.449 117.403 34.449V27.4996L109.065 25.9929Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M117.516 30.3953L117.285 37.3549L119.719 33.5317C119.719 33.5317 122.384 36.8885 123.076 36.7758C123.768 36.6631 122.615 35.2691 122.384 33.9981C122.154 32.7271 120.181 28.2019 119.95 26.9309C119.719 25.6599 117.516 25.4242 117.388 26.0033C117.323 26.5035 117.323 27.0098 117.388 27.51L117.516 30.3953Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M109.526 36.6474C109.526 36.6474 109.987 69.0777 108.829 69.4467C107.67 69.8157 103.037 69.913 100.116 71.3019C97.1951 72.6907 95.8319 73.2698 95.8319 73.2698C95.8319 73.2698 97.2207 69.913 98.8453 68.4063C99.9251 67.4358 101.132 66.6169 102.433 65.972L99.4244 50.4539C99.4244 50.4539 93.8639 35.7403 93.746 34.9306C93.6282 34.1209 104.288 28.0991 106.486 27.0537C108.685 26.0082 109.269 26.9409 109.269 26.9409L109.526 36.6474Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M106.63 25.4135C106.63 25.4135 103.852 34.2181 103.617 35.3763C103.381 36.5345 103.617 36.5345 104.431 35.7197C105.246 34.9048 107.327 32.942 107.327 32.942L109.526 36.6473L109.408 29.8158V25.8748C109.408 25.8748 109.295 24.2553 106.63 25.4135Z",fill:"#757575",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M101.188 44.4116H108.02L107.907 47.1893L104.894 48.2297L101.07 47.1893L101.188 44.4116Z",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M119.95 13.9491C119.95 13.9491 121.57 21.0112 121.918 22.1489C122.267 23.2867 120.068 27.8273 119.356 28.8677C119.085 29.3189 118.712 29.7003 118.267 29.9816C117.822 30.2628 117.317 30.4359 116.793 30.4871C115.984 30.4871 111.581 28.9855 110.536 28.2886C109.49 27.5916 108.455 26.7818 108.455 26.7818C107.962 27.0065 107.415 27.0825 106.88 27.0006C106.344 26.9186 105.845 26.6823 105.442 26.3206C104.053 25.0445 102.198 23.5378 102.659 22.4974C102.884 21.9869 103.26 21.5578 103.736 21.2681C104.213 20.9785 104.767 20.8423 105.324 20.878C106.6 20.878 106.139 20.7601 106.139 20.7601C106.139 20.7601 103.822 17.4033 103.822 14.7384C103.822 12.0734 108.798 10.126 111.694 10.126C113.696 10.2094 115.663 10.6811 117.485 11.5148L119.95 13.9491Z",fill:"white",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M115.897 16.6091L117.983 20.5502L115.897 21.939L114.969 20.7808",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M119.72 20.2019C119.72 20.2019 119.833 21.1295 118.444 22.6362",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M113.698 18.0594C113.698 18.6027 113.462 19.0434 113.185 19.0434C112.909 19.0434 112.673 18.6027 112.673 18.0594C112.673 17.5162 112.909 17.0754 113.185 17.0754C113.462 17.0754 113.698 17.5162 113.698 18.0594Z",fill:"#263238"}),u.a.createElement("path",{d:"M117.342 17.1884C117.631 17.1884 117.865 16.7479 117.865 16.2044C117.865 15.661 117.631 15.2205 117.342 15.2205C117.053 15.2205 116.819 15.661 116.819 16.2044C116.819 16.7479 117.053 17.1884 117.342 17.1884Z",fill:"#263238"}),u.a.createElement("path",{d:"M107.44 7.92243C107.44 7.92243 100.153 10.5874 99.9117 13.9493C99.6708 17.3112 106.4 21.939 106.748 22.5181C107.097 23.0972 108.137 21.8211 108.137 21.8211C107.906 21.5099 107.744 21.1523 107.663 20.7728C107.583 20.3934 107.585 20.001 107.671 19.6225C108.019 18.4643 109.526 17.0601 109.526 16.4964C109.526 15.9326 107.789 16.9576 107.789 15.2203C107.789 13.4829 112.073 12.4426 114.62 12.5553C117.167 12.6681 119.371 16.9576 121.226 14.8718C123.081 12.7859 120.411 12.212 120.411 12.212C120.411 12.212 123.999 11.7456 123.999 9.89551C123.999 8.04542 122.143 6.76421 121.334 6.76421C120.524 6.76421 118.325 8.15817 118.325 6.65146C118.325 5.14474 120.524 4.44776 118.438 2.03906C116.352 -0.369629 113.693 2.03907 113.693 2.96667C113.693 3.89427 112.996 5.62648 112.534 5.62648C112.073 5.62648 110.679 3.54578 109.06 4.704C108.573 5.09116 108.176 5.57948 107.896 6.13518C107.616 6.69088 107.461 7.30069 107.44 7.92243Z",fill:"#263238",stroke:"#656565",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M110.453 16.8447L114.158 15.4507",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M114.738 13.8316C114.667 13.468 114.725 13.0911 114.902 12.7656",stroke:"#263238",strokeLinecap:"round",strokeLinejoin:"round"}),u.a.createElement("path",{d:"M114.902 12.7552C115.163 12.2427 115.752 11.5816 117.054 11.0435",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}))};function Nt(e,t){Ct(2,arguments);var n=yt(e),r=yt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Lt(e,t){Ct(2,arguments);var n=yt(e),r=yt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return 12*i+a}function Ut(e){Ct(1,arguments);var t=yt(e);return t.setHours(23,59,59,999),t}function Ft(e){Ct(1,arguments);var t=yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Wt(e){Ct(1,arguments);var t=yt(e);return Ut(t).getTime()===Ft(t).getTime()}function Vt(e,t){Ct(2,arguments);var n,r=yt(e),i=yt(t),a=Nt(r,i),o=Math.abs(Lt(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);var s=Nt(r,i)===-a;Wt(yt(e))&&1===o&&1===Nt(e,i)&&(s=!1),n=a*(o-Number(s))}return 0===n?0:n}function Bt(e,t){return Ct(2,arguments),yt(e).getTime()-yt(t).getTime()}var zt={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Ht(e){return e?zt[e]:zt.trunc}function qt(e,t,n){Ct(2,arguments);var r=Bt(e,t)/1e3;return Ht(null===n||void 0===n?void 0:n.roundingMethod)(r)}function Gt(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}({},e)}function Jt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Yt=1440,Zt=43200;var Kt=function(e){var t=e.media,n=e.attribute,r=Object(c.useContext)(_.b).theme,i=r.chat,a=r.themeVariant,o=i.message[a].textColor;switch(t.type){case 0:return u.a.createElement("a",Object.assign({},n),u.a.createElement("img",{src:t.url,alt:t.title,style:{maxWidth:"100%",maxHeight:400}}));case 1:return u.a.createElement("span",null,u.a.createElement("video",{"data-testid":"videoChatMessage",controls:!0,autoPlay:!1,src:t.url,style:{maxWidth:"100%",maxHeight:400}}));case 2:return u.a.createElement("audio",{"data-testid":"audioChatMessage",controls:!0,autoPlay:!1,src:t.url,style:{maxWidth:"100%"}});default:return u.a.createElement(_.a,null,u.a.createElement("a",Object.assign({},n),u.a.createElement(ot.a,{color:o,height:"20",width:"20"})))}},$t={iOSVersionUndownloadLabel:Se,download:"Download",annotate:"Draw"},Qt=w.d.div(De||(De=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: left;\n\tflex-direction: column;\n"]))),Xt=w.d.div(je||(je=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: ",";\n\tflex-direction: row;\n\tpadding: ",";\n\tcolor: ",";\n"])),(function(e){return e.isFile?"center":"flex-end"}),(function(e){return e.theme.spacing[1]}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor})),en=w.d.div(Pe||(Pe=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: left;\n\tflex-direction: column;\n\twidth: 50px;\n\tmargin-left: ",";\n"])),(function(e){return e.theme.spacing[4]})),tn=w.d.div(Ne||(Ne=Object(s.a)(["\n\tmargin-top: ",";\n"])),(function(e){return e.theme.spacing[4]})),nn=Object(w.d)(de.a)(Le||(Le=Object(s.a)(["\n\tword-break: break-all;\n\n\ta {\n\t\ttext-decoration: none;\n\t\tfont-weight: bold;\n\t}\n\n\ta:link {\n\t\tcolor: ",";\n\t}\n\n\ta:visited {\n\t\tcolor: ",";\n\t}\n\n\ta:hover {\n\t\tcolor: ",";\n\t}\n\n\ta:active {\n\t\tcolor: ",";\n\t}\n"])),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].linkColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor})),rn=w.d.a(Ue||(Ue=Object(s.a)(["\n\tfont-size: ",";\n\tmargin: ",";\n\ttext-decoration: none;\n\tfont-weight: bold;\n\tword-break: break-all;\n\n\t&:link {\n\t\tcolor: ",";\n\t}\n\n\t&:visited {\n\t\tcolor: ",";\n\t}\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\t&:active {\n\t\tcolor: ",";\n\t}\n"])),(function(e){return e.theme.fontSize.xs}),(function(e){return e.theme.spacing[1]}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].linkColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor})),an=function(e){var t=e.message,n=e.labels,r=void 0===n?$t:n,i=e.onMediaDownload,a=e.onMediaAnnotate;if(t.metadata&&t.metadata.partialMediaDescription){var o=t.metadata.partialMediaDescription,s=Object(c.useMemo)((function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se;if(e&&e.includes("blob:")){var r=Object(ye.b)();if(r&&r<13){var i=n;return{onClick:function(){return alert(i)}}}return{href:e,download:t,target:"_blank"}}return{href:e,target:"_blank"}}(o.url,o.filename)}),[o.url]),l=!(0===o.type||1===o.type||2===o.type);return u.a.createElement(_.a,null,u.a.createElement(Qt,null,u.a.createElement(Xt,{isFile:l},u.a.createElement(Kt,{media:o,attribute:s}),l&&u.a.createElement(de.a,{size:"xs"},u.a.createElement(rn,Object.assign({},s),o.filename)),(i||a)&&u.a.createElement(en,null,i&&u.a.createElement(st.a,{content:r.download},u.a.createElement(k.a,{onClick:function(){return i&&i(o)},use:"infoPrimary",size:"medium",withIcon:u.a.createElement(ct,null)})),a&&u.a.createElement(tn,null,u.a.createElement(st.a,{content:r.annotate},u.a.createElement(k.a,{onClick:function(){return a&&a(o)},use:"infoPrimary",size:"medium",withIcon:u.a.createElement(ut.a,null)}))))),!l&&u.a.createElement(de.a,{size:"xs"},u.a.createElement(rn,Object.assign({},s),o.filename))))}return u.a.createElement(_.a,null,u.a.createElement(Ce.a,{componentDecorator:function(e,t,n){return u.a.createElement("a",{target:"blank",href:e,rel:"noopener noreferrer",key:n},t)}},u.a.createElement(nn,{size:"sm"},t.message)))},on=w.d.div(Fe||(Fe=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-left: ",";\n\tmargin-right: ",";\n\tmargin-top: ",";\n\tmargin-bottom: ",";\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]}),(function(e){var t=e.isFollower,n=e.theme;return t?n.spacing[1]:n.spacing[2]}),(function(e){var t=e.isPredecessor,n=e.theme;return t?n.spacing[1]:n.spacing[4]})),sn=w.d.div(We||(We=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex-direction: ",";\n\tmargin-bottom: ",";\n"])),(function(e){return e.isOwn?"row-reverse":"row"}),(function(e){return e.theme.spacing[1]})),ln=w.d.span(Ve||(Ve=Object(s.a)(["\n\tcolor: ",";\n\tmargin: "," ",";\n\tfont-family: ",";\n\tfont-size: ",";\n\tfont-weight: bold;\n"])),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].timeColor}),(function(e){return e.theme.spacing[0]}),(function(e){return e.theme.spacing[2]}),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.theme.fontSize.sm})),cn=w.d.div(Be||(Be=Object(s.a)(["\n\tmargin-right: ",";\n\tmargin-left: ",";\n\ttext-align: ",";\n"])),(function(e){var t=e.side,n=e.theme;return"left"===t?"25%":n.spacing[10]}),(function(e){var t=e.side,n=e.theme;return"left"===t?n.spacing[10]:"25%"}),(function(e){return"left"===e.side?"left":"right"})),un=w.d.div(ze||(ze=Object(s.a)(["\n\tdisplay: inline-block;\n\tposition: relative;\n\tbox-sizing: border-box;\n\tborder: 1px solid\n\t\t",";\n\n\tborder-radius: 12px;\n\tborder-top-left-radius: ",";\n\tborder-top-right-radius: ",";\n\tbackground-color: ",";\n\tcolor: ",";\n\tpadding: ",";\n\ttext-align: left;\n"])),(function(e){var t=e.theme,n=e.side;return t.chat.message[t.themeVariant][n].borderColor}),(function(e){var t=e.isFirst,n=e.side;return t&&"left"===n?"2px":"12px"}),(function(e){var t=e.isFirst,n=e.side;return t&&"right"===n?"2px":"12px"}),(function(e){var t=e.theme,n=e.side;return t.chat.message[t.themeVariant][n].backgroundColor}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){return e.theme.spacing[2]})),dn=w.d.span(He||(He=Object(s.a)(["\n\tbox-sizing: border-box;\n\ttext-align: ",";\n\tfont-family: ",";\n\tfont-size: ",";\n\n\tcolor: ",";\n\tmargin-right: ",";\n\tmargin-left: ",";\n"])),(function(e){return"left"===e.side?"left":"right"}),(function(e){return e.theme.fontFamily.sans}),(function(e){return e.theme.fontSize.xs}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].textColor}),(function(e){var t=e.side,n=e.theme;return"left"===t?"0":n.spacing[10]}),(function(e){var t=e.side,n=e.theme;return"left"===t?n.spacing[10]:"0"})),fn=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ct(2,arguments);var r=n.locale||kt;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=Nt(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var a,o,s=Gt(n);s.addSuffix=Boolean(n.addSuffix),s.comparison=i,i>0?(a=yt(t),o=yt(e)):(a=yt(e),o=yt(t));var l,c=qt(o,a),u=(Jt(o)-Jt(a))/1e3,d=Math.round((c-u)/60);if(d<2)return n.includeSeconds?c<5?r.formatDistance("lessThanXSeconds",5,s):c<10?r.formatDistance("lessThanXSeconds",10,s):c<20?r.formatDistance("lessThanXSeconds",20,s):c<40?r.formatDistance("halfAMinute",null,s):c<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):0===d?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",d,s);if(d<45)return r.formatDistance("xMinutes",d,s);if(d<90)return r.formatDistance("aboutXHours",1,s);if(d<Yt){var f=Math.round(d/60);return r.formatDistance("aboutXHours",f,s)}if(d<2520)return r.formatDistance("xDays",1,s);if(d<Zt){var h=Math.round(d/Yt);return r.formatDistance("xDays",h,s)}if(d<86400)return l=Math.round(d/Zt),r.formatDistance("aboutXMonths",l,s);if((l=Vt(o,a))<12){var p=Math.round(d/Zt);return r.formatDistance("xMonths",p,s)}var m=l%12,v=Math.floor(l/12);return m<3?r.formatDistance("aboutXYears",v,s):m<9?r.formatDistance("overXYears",v,s):r.formatDistance("almostXYears",v+1,s)}(1e3*e,new Date,{locale:t,addSuffix:!0})},hn=function(e){var t=e.meLabel,n=void 0===t?"Me":t,r=e.message,i=e.previous,a=e.next,s=e.locale,l=e.onMediaAnnotate,d=e.onMediaDownload,f=Object(c.useState)(fn(r.time,s)),h=Object(o.a)(f,2),p=h[0],m=h[1];Object(c.useEffect)((function(){var e=setInterval((function(){return m(fn(r.time,s))}),6e4);return function(){clearInterval(e)}}),[]);var v=Object(c.useMemo)((function(){return 0===r.from}),[r.from]),g=v?"right":"left",b=Object(c.useCallback)((function(){if(a&&a.author===r.author){var e=new Date(1e3*r.time);return e.setMinutes(e.getMinutes()+1),a.time>e.getTime()/1e3}return!0}),[a]),C=Object(c.useCallback)((function(){if(i&&i.author===r.author){var e=new Date(1e3*i.time);return e.setMinutes(e.getMinutes()+1),r.time<e.getTime()/1e3}return!1}),[i]);return u.a.createElement(_.a,null,u.a.createElement(on,{isFollower:C(),isPredecessor:!b()},!C()&&u.a.createElement(sn,{isOwn:v},u.a.createElement(ve,{url:r.photoUrl}),u.a.createElement(ln,{side:g},v?n:r.author)),u.a.createElement(cn,{side:g},u.a.createElement(un,{side:g,isFirst:!C(),"data-testid":"messageRendererContainer"},u.a.createElement(an,{message:r,onMediaAnnotate:l,onMediaDownload:d}))),r.time&&b()&&u.a.createElement(ge.a,{top:"1"},u.a.createElement(dn,{side:g},p))))},pn=w.d.div(qe||(qe=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: ",";\n\tmargin-left: ",";\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),mn=Object(w.e)(Ge||(Ge=Object(s.a)(["\n    50% {transform: scale(1.05)}\n"]))),vn=w.d.div(Je||(Je=Object(s.a)(["\n\theight: ",";\n\tborder: 1px solid ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: ",";\n\tpadding-right: ",";\n\tmargin-left: ",";\n\tanimation-name: ",";\n\tanimation-duration: 1s;\n\tanimation-iteration-count: infinite;\n"])),(function(e){return e.theme.spacing[8]}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].left.borderColor}),(function(e){return e.theme.borders.radiusXl}),(function(e){var t=e.theme;return t.chat.message[t.themeVariant].left.backgroundColor}),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[2]}),mn),gn=w.d.span(Ze||(Ze=Object(s.a)(["\n\theight: ",";\n\twidth: ",";\n\tfloat: left;\n\tbackground-color: ",";\n\tmargin: 0 ",";\n\tdisplay: block;\n\tborder-radius: 50%;\n\topacity: 0.4;\n\tanimation-name: ",";\n\tanimation-duration: 1s;\n\tanimation-iteration-count: infinite;\n\tanimation-delay: ",";\n"])),(function(e){return e.theme.spacing[2]}),(function(e){return e.theme.spacing[2]}),(function(e){var t=e.theme;return t.chat.typing[t.themeVariant].dotColor}),(function(e){return e.theme.spacing[1]}),(function(){return Object(w.e)(Ye||(Ye=Object(s.a)(["50% { opacity: 1; }"])))}),(function(e){return.3*e.position+"s"})),bn=function(e){for(var t=e.typing,n=e.numberOfDots,r=void 0===n?3:n,i=[],a=1;a<=r;a++)i.push(u.a.createElement(gn,{position:a,key:a}));return u.a.createElement(_.a,null,u.a.createElement(pn,null,u.a.createElement(st.a,{content:t.username},u.a.createElement(ve,{url:t.photoUrl,size:24,name:t.username})),u.a.createElement(vn,{"data-testid":"typingDotContainer"},i)))},Cn={emptyMessage:"Share messages and files here, with all the participants.",errorMessage:"An error occured please check your configuration.",seeNewMessages:"See new messages",loadingFiles:"Loading"},yn=w.d.div(Ke||(Ke=Object(s.a)(["\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n"]))),Sn=w.d.div($e||($e=Object(s.a)(["\n\tbackground-color: ",";\n\theight: 100%;\n\twidth: 100%;\n\toverflow-y: auto;\n"])),(function(e){var t=e.theme;return t.background[t.themeVariant]})),wn=w.d.div(Qe||(Qe=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-top: ",";\n"])),(function(e){return e.theme.spacing[12]})),Tn=Object(w.d)(de.a)(Xe||(Xe=Object(s.a)(["\n\tpadding: "," ",";\n"])),(function(e){return e.theme.spacing[12]}),(function(e){return e.theme.spacing[6]})),In=w.d.div(et||(et=Object(s.a)(["\n\tposition: absolute;\n\tbottom: calc(",");\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tz-index: 1;\n\ttext-align: center;\n\n\tp {\n\t\tpadding: "," ",";\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t\tborder-radius: 20px;\n\t\tborder: 1px solid ",";\n\t\tcursor: pointer;\n\t\tdisplay: inline-block;\n\t}\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[2]}),(function(e){return e.theme.spacing[3]}),(function(e){var t=e.theme;return t.chat.newMessages[t.themeVariant].backgroundColor}),(function(e){var t=e.theme;return t.chat.newMessages[t.themeVariant].textColor}),(function(e){var t=e.theme;return t.chat.newMessages[t.themeVariant].borderColor})),On=w.d.div(tt||(tt=Object(s.a)(["\n\tposition: absolute;\n\twidth: calc(100% - ",");\n\tbottom: ",";\n\tleft: calc(50% - ",");\n\ttransform: translateX(-49%);\n\tz-index: 2;\n\tborder: 1px solid ",";\n\tbackground-color: ",";\n\tborder-radius: ",";\n\tpadding: calc(",");\n"])),(function(e){return e.theme.spacing[32]}),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]}),(function(e){var t=e.theme;return t.chat.loadingFiles[t.themeVariant].borderColor}),(function(e){var t=e.theme;return t.chat.loadingFiles[t.themeVariant].backgroundColor}),(function(e){return e.theme.chat.loadingFiles.borderRadius}),(function(e){return e.theme.spacing[4]})),En=Object(w.d)((function(e){var t=e.timer,n=e.className,r=e.onFinish,i=e.percent;return Object(c.useEffect)((function(){if(t&&r){var e=setTimeout(r,t);return function(){return clearTimeout(e)}}}),[]),u.a.createElement(_.a,null,u.a.createElement(dt,{role:"progressbar",className:n},u.a.createElement(ft,null,t||i?u.a.createElement(ht,{timer:t||1e3,percent:i||100,direction:"increase","data-testid":"progressPercent"}):u.a.createElement(u.a.Fragment,null,u.a.createElement(ht,{direction:"increase"}),u.a.createElement(ht,{direction:"decrease"})))))}))(nt||(nt=Object(s.a)(["\n\tmargin: "," 0;\n"])),(function(e){return e.theme.spacing[4]})),Rn=function(e){var t=e.messages,n=e.typings,r=e.labels,i=void 0===r?Cn:r,a=e.hasError,s=void 0!==a&&a,l=e.locale,d=void 0===l?kt:l,f=e.loadingFiles,h=e.fileTransferPercent,p=e.onMediaAnnotate,m=e.onMediaDownload,v=Object(c.useState)(0),g=Object(o.a)(v,2),b=g[0],C=g[1],y=Object(c.useRef)(null),S=Object(c.useRef)(null),w=Object(c.useState)(!t||0===(null===t||void 0===t?void 0:t.length)),T=Object(o.a)(w,2),I=T[0],O=T[1];Object(c.useEffect)((function(){if(t&&t.length>0){if(S.current&&S.current.time===t[t.length-1].time)return;var e=0===t[t.length-1].from;if(y&&y.current){var n=y.current.scrollHeight-y.current.scrollTop-y.current.clientHeight<100;e||I||n?E():C(b+1)}S.current=t[t.length-1]}}),[t]),Object(c.useEffect)((function(){n&&n.length>0&&I&&E()}),[n]);var E=function(){y&&y.current&&(y.current.scrollTop=y.current.scrollHeight)};return u.a.createElement(_.a,null,u.a.createElement(yn,null,b>0&&u.a.createElement(In,{onClick:function(){C(0),E()}},u.a.createElement(de.a,{align:"center",size:"xs"},i.seeNewMessages)),f&&f.length>0&&u.a.createElement(On,null,u.a.createElement(de.a,null,i.loadingFiles),u.a.createElement(En,{percent:1==f.length?h:0}),f.map((function(e,t){return u.a.createElement(de.a,{size:"xs",key:t},e)}))),u.a.createElement(Sn,{ref:y,onScroll:function(){if(y.current){var e=y.current.scrollHeight-y.current.scrollTop-y.current.clientHeight<100;O(e),e&&C(0)}}},(s||!t||t&&0==t.length)&&u.a.createElement(wn,null,s&&u.a.createElement(Pt,null),!s&&u.a.createElement(jt,null),u.a.createElement(Tn,{align:"center"},s?i.errorMessage:i.emptyMessage)),!s&&t&&t.map((function(e,n){return u.a.createElement(hn,{key:n,message:e,next:t[n+1],previous:t[n-1],locale:d,onMediaAnnotate:p,onMediaDownload:m})})),!s&&n&&n.map((function(e,t){return u.a.createElement(bn,{key:t,typing:e})})))))},kn=w.d.div(rt||(rt=Object(s.a)(["\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),Mn=w.d.div(it||(it=Object(s.a)(["\n\tflex: 8;\n\toverflow-y: auto;\n"]))),_n=w.d.div(at||(at=Object(s.a)(["\n\tflex: 1;\n\tdisplay: contents;\n"]))),An=function(e){var t=e.labels,n=e.emojisCategories,r=e.hasError,i=void 0!==r&&r,a=e.locale,o=void 0===a?kt:a,s=e.messages,l=e.typings,c=e.composer,d=e.onSubmit,f=e.onTyping,h=e.onStopTyping,p=e.onChangeInputFile,m=e.onShareOtherFile,v=e.loadingFiles,g=e.fileTransferPercent,b=e.onMediaAnnotate,C=e.onMediaDownload;return u.a.createElement(kn,null,u.a.createElement(Mn,null,u.a.createElement(Rn,{labels:null===t||void 0===t?void 0:t.messagesList,hasError:i,messages:s,typings:l,locale:o,loadingFiles:v,fileTransferPercent:g,onMediaAnnotate:b,onMediaDownload:C})),u.a.createElement(_n,null,u.a.createElement(Dt,{disabled:i,labels:null===t||void 0===t?void 0:t.chatComposer,emojisCategories:n,placeholder:null===c||void 0===c?void 0:c.placeholder,maxCharacters:null===c||void 0===c?void 0:c.maxCharacters,onSubmit:d,onTyping:f,onStopTyping:h,canInputFile:null===c||void 0===c?void 0:c.canInputFile,canShareOtherFile:null===c||void 0===c?void 0:c.canShareOtherFile,onChangeInputFile:p,onShareOtherFile:m,shareIcon:null===c||void 0===c?void 0:c.shareIcon,withEmojis:null===c||void 0===c?void 0:c.withEmojis})))},xn="add_message",Dn="add_typing",jn="remove_typing",Pn=function(e,t){switch(t.type){case xn:var n=t.value;return Object.assign(Object.assign({},e),{messages:[].concat(Object(a.a)(e.messages),[n])});case Dn:var r=t.value;return e.typings.map((function(e){return e.id})).includes(r.id)?e:Object.assign(Object.assign({},e),{typings:[].concat(Object(a.a)(e.typings),[r])});case jn:var i=t.value;return Object.assign(Object.assign({},e),{typings:e.typings.filter((function(e){return e.id!==i.id}))});default:throw new Error("Chat unknow action")}},Nn=y((function(e){var t=e.apirtc,n=e.conversationName,r=void 0===n?"":n,s=e.labels,d=e.emojisCategories,f=e.locale,h=e.composer,p=e.onMediaAnnotate,m=e.onMediaDownload,v=e.onChangeInputFile,g=e.onShareOtherFile,b=e.sharedMedias,C=e.onSharedMedias,y=Object(c.useState)(),S=Object(o.a)(y,2),w=S[0],T=S[1],I=Object(c.useState)(!1),O=Object(o.a)(I,2),E=O[0],R=O[1],k=Object(c.useState)([]),M=Object(o.a)(k,2),_=M[0],A=M[1],x=Object(c.useState)(),D=Object(o.a)(x,2),j=D[0],P=D[1],N=Object(c.useReducer)(Pn,{messages:[],typings:[]}),L=Object(o.a)(N,2),U=L[0],F=L[1];Object(c.useEffect)((function(){t.session&&t.getConversation&&(R(!1),t.getConversation(r).then((function(e){return Object(l.a)(void 0,void 0,void 0,i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isJoined()){n.next=3;break}return n.next=3,e.join();case 3:T(e),null===(r=t.session)||void 0===r||r.on("rawData",V),e.on("message",W),e.on("transferBegun",(function(e){A([].concat(Object(a.a)(_),[e.name]))})),e.on("transferProgress",(function(e){P(e.percentage)})),e.on("transferEnded",(function(n){A(_.filter((function(e){return e!==n.name}))),t.session&&e.fetchMediaList(t.session,{}).then((function(e){var r;if(t.session){var i=null===(r=e.media)||void 0===r?void 0:r.filter((function(e){return e.filename===n.name.split("/").join("-")}))[0],a={from:0,message:i.title,photoUrl:t.session.getPhotoUrl(),author:t.session.getUsername(),time:Date.now()/1e3,metadata:{partialMediaDescription:{id:i.id,type:i.type,url:i.url,filename:i.filename,title:i.title}}};F({type:xn,value:a})}}))}));case 9:case"end":return n.stop()}}),n)})))})).catch((function(e){console.error("Conversation get error:",e),R(!0)})))}),[t.session]),Object(c.useEffect)((function(){b&&(b.forEach((function(e){if(t.session&&b){var n={from:0,message:e.title?e.title:"",photoUrl:t.session.getPhotoUrl(),author:t.session.getUsername(),time:Date.now()/1e3,metadata:{partialMediaDescription:e}};F({type:xn,value:n})}})),C&&C(b))}),[b]);var W=function(e){t.session&&F({type:xn,value:{from:t.session.getId()===e.sender.getId()?0:1,message:e.content,photoUrl:e.sender.getPhotoUrl(),author:e.sender.getUsername(),time:e.time.getTime()/1e3,metadata:e.metadata}})},V=function(e){if(e.content&&e.content.event)switch(e.content.event){case"chat_typing":if(e&&e.sender)return F({type:Dn,value:{id:e.sender.getId(),username:e.sender.getUsername(),photoUrl:e.sender.getPhotoUrl()}});break;case"chat_typing_stop":if(e&&e.sender)return F({type:jn,value:{id:e.sender.getId()}})}};return u.a.createElement(An,{hasError:E,emojisCategories:d,labels:s,messages:U.messages,locale:f,typings:U.typings,composer:h,onSubmit:function(e){if(t.session&&w){var n=t.session.getUserData(),r={from:0,type:"user",message:e,photoUrl:n.get("photo_url"),author:n.get("username"),time:Date.now()/1e3};w.sendMessage(r.message).then((function(){return F({type:xn,value:r})})).catch((function(e){return console.error("sendMessage fail on conversation",e)}))}},onTyping:function(){null===w||void 0===w||w.sendRawData({event:"chat_typing"},{})},onStopTyping:function(){null===w||void 0===w||w.sendRawData({event:"chat_typing_stop"},{})},loadingFiles:_,fileTransferPercent:j,onMediaAnnotate:p,onMediaDownload:m,onChangeInputFile:v,onShareOtherFile:g})}))},function(e,t,n){"use strict";var r=n(8),i=n(12),a=n(4),o=n(7),s=n(0),l=n.n(s),c=(n(9),n(13)),u=n(250),d=n(10),f=n(16),h=n(27),p=n(287).a,m=n(133),v=n(28),g=n(2),b=n(109);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=n(138),S=n(91);function w(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function T(e,t,n){return null!=n[t]?n[t]:e.props[t]}function I(e,t,n){var r=w(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var o=i[a];if(Object(s.isValidElement)(o)){var l=a in t,c=a in r,u=t[a],d=Object(s.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&Object(s.isValidElement)(u)&&(i[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:u.props.in,exit:T(o,"exit",e),enter:T(o,"enter",e)})):i[a]=Object(s.cloneElement)(o,{in:!1}):i[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:T(o,"exit",e),enter:T(o,"enter",e)})}})),i}var O=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},E=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(y.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,w(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:T(e,"appear",n),enter:T(e,"enter",n),exit:T(e,"exit",n)})}))):I(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=C({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(b.a)(e,["component","childFactory"]),i=this.state.contextValue,a=O(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?l.a.createElement(S.a.Provider,{value:i},a):l.a.createElement(S.a.Provider,{value:i},l.a.createElement(t,r,a))},t}(l.a.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(e){return e}};var R=E,k=n(76),M=n(6);var _=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,l=e.rippleY,u=e.rippleSize,d=e.in,f=e.onExited,h=e.timeout,p=s.useState(!1),m=Object(r.a)(p,2),v=m[0],g=m[1],b=Object(c.a)(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),C={width:u,height:u,top:-u/2+l,left:-u/2+o},y=Object(c.a)(n.child,v&&n.childLeaving,a&&n.childPulsate);return d||v||g(!0),s.useEffect((function(){if(!d&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,d,h]),Object(M.jsx)("span",{className:b,style:C,children:Object(M.jsx)("span",{className:y})})},A=n(193),x=n(251);var D,j,P,N,L,U,F,W,V=Object(x.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),B=["center","classes","className"],z=Object(k.b)(L||(L=D||(D=Object(g.a)(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),H=Object(k.b)(U||(U=j||(j=Object(g.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),q=Object(k.b)(F||(F=P||(P=Object(g.a)(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),G=Object(d.a)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),J=Object(d.a)(_,{name:"MuiTouchRipple",slot:"Ripple"})(W||(W=N||(N=Object(g.a)(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),V.rippleVisible,z,550,(function(e){return e.theme.transitions.easing.easeInOut}),V.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),V.child,V.childLeaving,H,550,(function(e){return e.theme.transitions.easing.easeInOut}),V.childPulsate,q,(function(e){return e.theme.transitions.easing.easeInOut})),Y=s.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiTouchRipple"}),i=n.center,l=void 0!==i&&i,u=n.classes,d=void 0===u?{}:u,h=n.className,p=Object(o.a)(n,B),m=s.useState([]),g=Object(r.a)(m,2),b=g[0],C=g[1],y=s.useRef(0),S=s.useRef(null);s.useEffect((function(){S.current&&(S.current(),S.current=null)}),[b]);var w=s.useRef(!1),T=s.useRef(null),I=s.useRef(null),O=s.useRef(null);s.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var E=s.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;C((function(e){return[].concat(Object(v.a)(e),[Object(M.jsx)(J,{classes:{ripple:Object(c.a)(d.ripple,V.ripple),rippleVisible:Object(c.a)(d.rippleVisible,V.rippleVisible),ripplePulsate:Object(c.a)(d.ripplePulsate,V.ripplePulsate),child:Object(c.a)(d.child,V.child),childLeaving:Object(c.a)(d.childLeaving,V.childLeaving),childPulsate:Object(c.a)(d.childPulsate,V.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,S.current=a}),[d]),k=s.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?l||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&w.current)w.current=!1;else{"touchstart"===e.type&&(w.current=!0);var u,d,f,h=c?null:O.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(p.width/2),d=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,g=m.clientY;u=Math.round(v-p.left),d=Math.round(g-p.top)}if(o)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var b=2*Math.max(Math.abs((h?h.clientWidth:0)-u),u)+2,C=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(b,2)+Math.pow(C,2))}e.touches?null===I.current&&(I.current=function(){E({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})},T.current=setTimeout((function(){I.current&&(I.current(),I.current=null)}),80)):E({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})}}),[l,E]),_=s.useCallback((function(){k({},{pulsate:!0})}),[k]),A=s.useCallback((function(e,t){if(clearTimeout(T.current),"touchend"===e.type&&I.current)return I.current(),I.current=null,void(T.current=setTimeout((function(){A(e,t)})));I.current=null,C((function(e){return e.length>0?e.slice(1):e})),S.current=t}),[]);return s.useImperativeHandle(t,(function(){return{pulsate:_,start:k,stop:A}}),[_,k,A]),Object(M.jsx)(G,Object(a.a)({className:Object(c.a)(d.root,V.root,h),ref:O},p,{children:Object(M.jsx)(R,{component:null,exit:!0,children:b})}))}));function Z(e){return Object(A.a)("MuiButtonBase",e)}var K,$=Object(x.a)("MuiButtonBase",["root","disabled","focusVisible"]),Q=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],X=Object(d.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((K={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(i.a)(K,"&.".concat($.disabled),{pointerEvents:"none",cursor:"default"}),Object(i.a)(K,"@media print",{colorAdjust:"exact"}),K)),ee=s.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiButtonBase"}),i=n.action,l=n.centerRipple,d=void 0!==l&&l,v=n.children,g=n.className,b=n.component,C=void 0===b?"button":b,y=n.disabled,S=void 0!==y&&y,w=n.disableRipple,T=void 0!==w&&w,I=n.disableTouchRipple,O=void 0!==I&&I,E=n.focusRipple,R=void 0!==E&&E,k=n.LinkComponent,_=void 0===k?"a":k,A=n.onBlur,x=n.onClick,D=n.onContextMenu,j=n.onDragLeave,P=n.onFocus,N=n.onFocusVisible,L=n.onKeyDown,U=n.onKeyUp,F=n.onMouseDown,W=n.onMouseLeave,V=n.onMouseUp,B=n.onTouchEnd,z=n.onTouchMove,H=n.onTouchStart,q=n.tabIndex,G=void 0===q?0:q,J=n.TouchRippleProps,K=n.type,$=Object(o.a)(n,Q),ee=s.useRef(null),te=s.useRef(null),ne=Object(m.a)(),re=ne.isFocusVisibleRef,ie=ne.onFocus,ae=ne.onBlur,oe=ne.ref,se=s.useState(!1),le=Object(r.a)(se,2),ce=le[0],ue=le[1];function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return p((function(r){return t&&t(r),!n&&te.current&&te.current[e](r),!0}))}S&&ce&&ue(!1),s.useImperativeHandle(i,(function(){return{focusVisible:function(){ue(!0),ee.current.focus()}}}),[]),s.useEffect((function(){ce&&R&&!T&&te.current.pulsate()}),[T,R,ce]);var fe=de("start",F),he=de("stop",D),pe=de("stop",j),me=de("stop",V),ve=de("stop",(function(e){ce&&e.preventDefault(),W&&W(e)})),ge=de("start",H),be=de("stop",B),Ce=de("stop",z),ye=de("stop",(function(e){ae(e),!1===re.current&&ue(!1),A&&A(e)}),!1),Se=p((function(e){ee.current||(ee.current=e.currentTarget),ie(e),!0===re.current&&(ue(!0),N&&N(e)),P&&P(e)})),we=function(){var e=ee.current;return C&&"button"!==C&&!("A"===e.tagName&&e.href)},Te=s.useRef(!1),Ie=p((function(e){R&&!Te.current&&ce&&te.current&&" "===e.key&&(Te.current=!0,te.current.stop(e,(function(){te.current.start(e)}))),e.target===e.currentTarget&&we()&&" "===e.key&&e.preventDefault(),L&&L(e),e.target===e.currentTarget&&we()&&"Enter"===e.key&&!S&&(e.preventDefault(),x&&x(e))})),Oe=p((function(e){R&&" "===e.key&&te.current&&ce&&!e.defaultPrevented&&(Te.current=!1,te.current.stop(e,(function(){te.current.pulsate(e)}))),U&&U(e),x&&e.target===e.currentTarget&&we()&&" "===e.key&&!e.defaultPrevented&&x(e)})),Ee=C;"button"===Ee&&($.href||$.to)&&(Ee=_);var Re={};"button"===Ee?(Re.type=void 0===K?"button":K,Re.disabled=S):($.href||$.to||(Re.role="button"),S&&(Re["aria-disabled"]=S));var ke=Object(h.a)(oe,ee),Me=Object(h.a)(t,ke),_e=s.useState(!1),Ae=Object(r.a)(_e,2),xe=Ae[0],De=Ae[1];s.useEffect((function(){De(!0)}),[]);var je=xe&&!T&&!S;var Pe=Object(a.a)({},n,{centerRipple:d,component:C,disabled:S,disableRipple:T,disableTouchRipple:O,focusRipple:R,tabIndex:G,focusVisible:ce}),Ne=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=Object(u.a)(a,Z,i);return n&&r&&(o.root+=" ".concat(r)),o}(Pe);return Object(M.jsxs)(X,Object(a.a)({as:Ee,className:Object(c.a)(Ne.root,g),ownerState:Pe,onBlur:ye,onClick:x,onContextMenu:he,onFocus:Se,onKeyDown:Ie,onKeyUp:Oe,onMouseDown:fe,onMouseLeave:ve,onMouseUp:me,onDragLeave:pe,onTouchEnd:be,onTouchMove:Ce,onTouchStart:ge,ref:Me,tabIndex:S?-1:G,type:K},Re,$,{children:[v,je?Object(M.jsx)(Y,Object(a.a)({ref:te,center:d},J)):null]}))}));t.a=ee},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(250)),l=n(284),c=n(8),u=n(13),d=n(19),f=n(10),h=n(90),p=n(53),m=n(300),v=n(193),g=n(251);function b(e){return Object(v.a)("PrivateSwitchBase",e)}Object(g.a)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var C=n(6),y=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],S=Object(f.a)(m.a,{skipSx:!0})((function(e){var t=e.ownerState;return Object(a.a)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),w=Object(f.a)("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),T=o.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,o=e.checkedIcon,l=e.className,f=e.defaultChecked,m=e.disabled,v=e.disableFocusRipple,g=void 0!==v&&v,T=e.edge,I=void 0!==T&&T,O=e.icon,E=e.id,R=e.inputProps,k=e.inputRef,M=e.name,_=e.onBlur,A=e.onChange,x=e.onFocus,D=e.readOnly,j=e.required,P=e.tabIndex,N=e.type,L=e.value,U=Object(i.a)(e,y),F=Object(h.a)({controlled:r,default:Boolean(f),name:"SwitchBase",state:"checked"}),W=Object(c.a)(F,2),V=W[0],B=W[1],z=Object(p.a)(),H=m;z&&"undefined"===typeof H&&(H=z.disabled);var q="checkbox"===N||"radio"===N,G=Object(a.a)({},e,{checked:V,disabled:H,disableFocusRipple:g,edge:I}),J=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge,a={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(Object(d.a)(i))],input:["input"]};return Object(s.a)(a,b,t)}(G);return Object(C.jsxs)(S,Object(a.a)({component:"span",className:Object(u.a)(J.root,l),centerRipple:!0,focusRipple:!g,disabled:H,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),z&&z.onFocus&&z.onFocus(e)},onBlur:function(e){_&&_(e),z&&z.onBlur&&z.onBlur(e)},ownerState:G,ref:t},U,{children:[Object(C.jsx)(w,Object(a.a)({autoFocus:n,checked:r,defaultChecked:f,className:J.input,disabled:H,id:q&&E,name:M,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;B(t),A&&A(e,t)}},readOnly:D,ref:k,required:j,ownerState:G,tabIndex:P,type:N},"checkbox"===N&&void 0===L?{}:{value:L},R)),V?o:O]}))})),I=n(16),O=n(89),E=Object(O.a)(Object(C.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),R=Object(O.a)(Object(C.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),k=Object(f.a)("span")({position:"relative",display:"flex"}),M=Object(f.a)(E,{skipSx:!0})({transform:"scale(1)"}),_=Object(f.a)(R,{skipSx:!0})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var A=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,i=void 0===r?{}:r,o=e.fontSize,s=Object(a.a)({},e,{checked:n});return Object(C.jsxs)(k,{className:i.root,ownerState:s,children:[Object(C.jsx)(M,{fontSize:o,className:i.background,ownerState:s}),Object(C.jsx)(_,{fontSize:o,className:i.dot,ownerState:s})]})},x=n(288).a,D=n(108);function j(e){return Object(v.a)("MuiRadio",e)}var P=Object(g.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),N=["checked","checkedIcon","color","icon","name","onChange","size"],L=Object(f.a)(T,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(Object(d.a)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({color:t.palette.text.secondary,"&:hover":{backgroundColor:Object(l.a)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&Object(r.a)({},"&.".concat(P.checked),{color:t.palette[n.color].main}),Object(r.a)({},"&.".concat(P.disabled),{color:t.palette.action.disabled}))}));var U=Object(C.jsx)(A,{checked:!0}),F=Object(C.jsx)(A,{}),W=o.forwardRef((function(e,t){var n,r,l,c,u=Object(I.a)({props:e,name:"MuiRadio"}),f=u.checked,h=u.checkedIcon,p=void 0===h?U:h,m=u.color,v=void 0===m?"primary":m,g=u.icon,b=void 0===g?F:g,y=u.name,S=u.onChange,w=u.size,T=void 0===w?"medium":w,O=Object(i.a)(u,N),E=Object(a.a)({},u,{color:v,size:T}),R=function(e){var t=e.classes,n=e.color,r={root:["root","color".concat(Object(d.a)(n))]};return Object(a.a)({},t,Object(s.a)(r,j,t))}(E),k=o.useContext(D.a),M=f,_=x(S,k&&k.onChange),A=y;return k&&("undefined"===typeof M&&(l=k.value,M="object"===typeof(c=u.value)&&null!==c?l===c:String(l)===String(c)),"undefined"===typeof A&&(A=k.name)),Object(C.jsx)(L,Object(a.a)({type:"radio",icon:o.cloneElement(b,{fontSize:null!=(n=F.props.fontSize)?n:T}),checkedIcon:o.cloneElement(p,{fontSize:null!=(r=U.props.fontSize)?r:T}),ownerState:E,classes:R,name:A,checked:M,onChange:_,ref:t},O))}));t.a=W},function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r,i,a,o,s=n(8),l=n(2),c=n(0),u=n.n(c),d=n(1),f=n(29),h=n(22),p=(n(169),n(3)),m=n(35),v=d.d.div(r||(r=Object(l.a)(["\n\theight: ","px;\n\twidth: ","px;\n\n\tsvg * {\n\t\tfill: ",";\n\t}\n\n\t:hover {\n\t\tsvg * {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"])),(function(e){return e.height}),(function(e){return e.width}),(function(e){var t=e.theme;return t.iconTooltip[t.themeVariant].color}),(function(e){var t=e.theme;return t.iconTooltip[t.themeVariant].hoverColor})),g=function(e){var t=e.icon,n=e.color,r=e.content,i=e.placement,a=void 0===i?"bottom":i,o=e.height,s=void 0===o?"20":o,l=e.width,d=void 0===l?"20":l,f=Object(c.useRef)();return u.a.createElement(p.a,null,u.a.createElement(m.a,{content:r,placement:a,reference:f},u.a.createElement(v,{ref:f,height:s,width:d},u.a.cloneElement(t,{height:s,width:d,ariaHidden:!0,color:n}))))},b=Object(d.d)(h.a)(i||(i=Object(l.a)(["\n\tmax-height: ",";\n\tmax-width: ",";\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: 1;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\t",";\n\n\t&,\n\t& svg * {\n\t\tfill: ",";\n\t\tcolor: ",";\n\t\tpointer-events: ",";\n\t}\n\n\t","\n\n\t","\n"])),(function(e){return e.theme.spacing[16]}),(function(e){return e.theme.spacing[16]}),(function(e){var t=e.isEnd,n=e.theme,r=e.use,i=e.variant;return"".concat(t?"right":"left",": ").concat(n.spacing[function(e,t,n){return n?"sharp"===e?"link"===t?"2":"4":"link"===t?"4":"6":"2"}(i,r,t)])}),(function(e){var t=e.theme;return t.field[t.themeVariant].placeholderColor}),(function(e){var t=e.theme;return t.field[t.themeVariant].placeholderColor}),(function(e){return"link"===e.use?"auto":"none"}),(function(e){return e.disabled&&Object(d.c)(a||(a=Object(l.a)(["\n\t\t\t&,\n\t\t\t& * {\n\t\t\t\tcursor: not-allowed;\n\t\t\t\tpointer-events: none;\n\t\t\t\tfill: ",";\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t"])),(function(e){var t=e.theme;return t.field[t.themeVariant].textColorDisabled}),(function(e){var t=e.theme;return t.field[t.themeVariant].textColorDisabled}))}),(function(e){return!e.isEnd&&Object(d.c)(o||(o=Object(l.a)(["\n\t\t\twidth: ",";\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t"])),(function(e){return e.theme.spacing[16]}))})),C=function(e,t){return u.a.createElement(b,Object.assign({},e,{as:e.onClick?void 0:"div",ref:t,use:e.onClick?"link":void 0}))};C.displayName="FieldAddon";var y,S,w=Object(c.forwardRef)(C),T=n(87),I=n(5),O=d.d.svg(y||(y=Object(l.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),E=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,f=void 0===c?"0 0 32 32":c,h=e.width,m=void 0===h?"20":h,v=function(e,t){return e.startsWith("url(#")?e:Object(I.a)(e,t)};return u.a.createElement(p.b.Consumer,null,(function(e){return u.a.createElement(d.a,{theme:e.theme},u.a.createElement(O,{"aria-hidden":t,className:r,width:"".concat(m,"px"),height:"".concat(s,"px"),viewBox:f,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"EyeClosed"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.332 16.555a1 1 0 1 0-1.664-1.11c-1.404 2.107-3.41 3.882-5.547 5.129-2.146 1.252-4.348 1.926-6.12 1.926-2.118 0-4.571-.797-6.89-2.119-2.312-1.317-4.404-3.105-5.81-4.98a1 1 0 1 0-1.6 1.2 19.171 19.171 0 0 0 2.836 2.994l-3.162 2.529a1 1 0 1 0 1.25 1.561l3.53-2.823c.634.452 1.292.873 1.966 1.257.91.518 1.857.974 2.818 1.344a.998.998 0 0 0-.132.317l-.904 4a1 1 0 1 0 1.95.44l.905-4c.012-.053.02-.107.023-.161 1.087.283 2.171.441 3.22.441.841 0 1.729-.118 2.635-.339.004.027.01.054.017.081l.997 4a1 1 0 1 0 1.94-.484l-.997-4a1.007 1.007 0 0 0-.07-.195 18.38 18.38 0 0 0 2.606-1.262 19.97 19.97 0 0 0 2.101-1.412l3.311 2.781a1 1 0 0 0 1.287-1.531l-3.056-2.567a17.721 17.721 0 0 0 2.56-3.017Z",fill:v(a,e.theme)}),n))}))},R=d.d.svg(S||(S=Object(l.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),k=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,f=void 0===c?"0 0 32 32":c,h=e.width,m=void 0===h?"20":h,v=function(e,t){return e.startsWith("url(#")?e:Object(I.a)(e,t)};return u.a.createElement(p.b.Consumer,null,(function(e){return u.a.createElement(d.a,{theme:e.theme},u.a.createElement(R,{"aria-hidden":t,className:r,width:"".concat(m,"px"),height:"".concat(s,"px"),viewBox:f,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"EyeFunky"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.074 11.62c2.03 1.155 3.89 2.675 5.265 4.298-1.38 1.9-3.243 3.504-5.218 4.656-2.146 1.252-4.348 1.926-6.12 1.926-2.118 0-4.571-.797-6.89-2.119-2.03-1.156-3.89-2.676-5.266-4.299 1.38-1.9 3.243-3.503 5.218-4.655 1.345-.785 2.712-1.343 3.982-1.65a6 6 0 1 0 7.089.874c.65.279 1.3.604 1.94.968Zm-17.662.808a17.912 17.912 0 0 0-2.311 2.655 1 1 0 0 0-.4 1.517c1.593 2.125 3.905 4.086 6.42 5.519C10.628 23.548 13.425 24.5 16 24.5c2.226 0 4.775-.826 7.128-2.199 2.243-1.308 4.379-3.153 5.954-5.384a1 1 0 0 0 .4-1.517 19.177 19.177 0 0 0-2.835-2.994l3.16-2.53a1 1 0 1 0-1.248-1.56l-3.53 2.823a23.01 23.01 0 0 0-1.966-1.258 20.878 20.878 0 0 0-2.819-1.343 1 1 0 0 0 .132-.317l.905-4a1 1 0 0 0-1.951-.441l-.905 4c-.012.054-.02.108-.023.161-1.086-.283-2.171-.44-3.219-.44-.842 0-1.73.117-2.635.338a1.015 1.015 0 0 0-.017-.08l-.998-4a1 1 0 0 0-1.94.483l.997 4c.017.069.041.134.07.195-.877.34-1.754.765-2.606 1.262-.716.418-1.421.89-2.1 1.412l-3.312-2.78a1 1 0 1 0-1.286 1.53l3.055 2.567ZM20 13.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z",fill:v(a,e.theme)}),n))}))},M=function(e,t){var n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1],o=Object(c.useRef)(null),l=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e;l.current?l.current=!1:null===(e=o.current)||void 0===e||e.focus()}),[i]);var d=u.a.createElement(w,{onClick:function(){return a((function(e){return!e}))},ref:o,type:"button"},i?u.a.createElement(k,{title:" "}):u.a.createElement(E,{title:" "}));return u.a.createElement(p.a,null,u.a.createElement(T.a,Object.assign({},e,{ref:t,type:i?"text":"password",withAddonEnd:d})))};M.displayName="InputPassword";var _,A,x,D,j,P,N=Object(c.forwardRef)(M),L=n(49),U=d.d.svg(_||(_=Object(l.a)(["\n\tpointer-events: ",";\n"])),(function(e){return e["aria-hidden"]?"none":"initial"})),F=function(e){var t=e.ariaHidden,n=e.children,r=e.className,i=e.color,a=void 0===i?"black":i,o=e.height,s=void 0===o?"20":o,l=e.title,c=e.viewBox,f=void 0===c?"0 0 32 32":c,h=e.width,m=void 0===h?"20":h,v=function(e,t){return e.startsWith("url(#")?e:Object(I.a)(e,t)};return u.a.createElement(p.b.Consumer,null,(function(e){return u.a.createElement(d.a,{theme:e.theme},u.a.createElement(U,{"aria-hidden":t,className:r,width:"".concat(m,"px"),height:"".concat(s,"px"),viewBox:f,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,l||"HelpFull"),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m18.903 15.741-1.296 1.763c-.57.674-.882 1.711-.882 3.267h-2.229c0-1.556.103-2.178.311-2.748.207-.571.622-1.401 1.244-2.074l1.556-1.712c.674-.777.985-1.607.985-2.489 0-.829-.208-1.503-.673-2.022C17.504 9.26 16.83 9 16 9c-.83 0-1.504.26-1.919.726-.674.726-.778 1.711-.778 3.267h-2.229c0-1.556.674-3.526 1.607-4.304.934-.778 1.97-1.348 3.474-1.348 1.504 0 2.541.311 3.423 1.141.829.829 1.244 1.815 1.244 3.215.052 1.399-.622 2.696-1.919 4.044Zm-2.178 8.763c-.207.259-.57.363-.984.363-.415 0-.778-.104-.985-.363a1.305 1.305 0 0 1-.312-.882c0-.362.104-.673.312-.933.207-.259.57-.363.985-.363.414 0 .777.104.984.363.208.26.312.571.312.933 0 .364-.104.675-.312.882ZM16 2C8.274 2 2 8.274 2 16s6.274 14 14 14c7.725 0 14-6.274 14-14 0-7.778-6.275-14-14-14Z",fill:v(a,e.theme)}),n))}))},W=n(127),V={username:"Login",usernameTooltip:"Username or email address. This login appears on the confirmation email that was sent to you when you created your account.",password:"Password",passwordTooltip:"info password",submit:"Confirm",cancel:"Cancel"},B=d.d.form(A||(A=Object(l.a)(["\n\twidth: 90%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n"]))),z=d.d.div(x||(x=Object(l.a)([""]))),H=d.d.div(D||(D=Object(l.a)(["\n\twidth: 25px;\n\tdisplay: flex;\n\tmargin-left: ",";\n\tmargin-top: ",";\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),q=d.d.div(j||(j=Object(l.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t:hover {\n\t\tsvg {\n\t\t\tfill: ",";\n\t\t}\n\t}\n"])),(function(e){var t=e.theme;return t.buttons.fill[t.themeVariant].backgroundColorHover.primary})),G=d.d.div(P||(P=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: ",";\n\tmargin-bottom: ",";\n\t& button {\n\t\t&:first-child {\n\t\t\tmargin-left: 0px;\n\t\t}\n\t\tmargin-left: 20px;\n\t}\n"])),(function(e){return e.theme.spacing[4]}),(function(e){return e.theme.spacing[2]})),J=function(e){var t=e.children,n=e.labels,r=e.onSubmit,i=e.onCancel,a=e.title,o=e.subTitle,l=e.showTooltipHelpPassword,d=void 0!==l&&l;n=Object.assign(Object.assign({},V),n);var m=Object(c.useState)(""),v=Object(s.a)(m,2),b=v[0],C=v[1],y=Object(c.useState)(""),S=Object(s.a)(y,2),w=S[0],I=S[1],O=Object(c.useState)(!1),E=Object(s.a)(O,2),R=E[0],k=E[1],M=Object(c.useRef)(null);return u.a.createElement(p.a,null,u.a.createElement(B,{onSubmit:function(e){e.preventDefault(),k(!0),r(b,w).catch((function(){var e;k(!1),I(""),null===(e=M.current)||void 0===e||e.focus()}))}},a&&u.a.createElement(L.a,{top:"4",left:"4",right:"4"},u.a.createElement(f.a,{align:"center",isBold:!0,size:"2xl"},a)),o&&u.a.createElement(L.a,{top:"4"},u.a.createElement(f.a,{align:"center"},o)),u.a.createElement(z,null,u.a.createElement(q,null,u.a.createElement(L.a,{bottom:"4",top:"8"},u.a.createElement(T.a,{placeholder:n.username,autoComplete:"off",disabled:R,layout:"fluid",value:b,onChange:function(e){return C(e.target.value)}}),u.a.createElement(H,null,u.a.createElement(g,{icon:u.a.createElement(F,null),content:n.usernameTooltip})))),u.a.createElement(q,null,u.a.createElement(L.a,{bottom:"4"},u.a.createElement(N,{placeholder:n.password,ref:M,autoComplete:"off",disabled:R,layout:"fluid",value:w,onChange:function(e){return I(e.target.value)}}),u.a.createElement(H,null,d&&u.a.createElement(g,{icon:u.a.createElement(F,null),content:n.passwordTooltip}))))),u.a.createElement(G,null,u.a.createElement(u.a.Fragment,null,i&&u.a.createElement(h.a,{type:"button",use:"secondary",onClick:i},n.cancel),u.a.createElement(h.a,{type:"submit",withIconStart:u.a.createElement(W.a,null),disabled:b.length<1||w.length<1||R},n.submit))),t))};J.displayName="LoginForm"},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}};var i=n(75),a={date:Object(i.a)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Object(i.a)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Object(i.a)({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};var s=n(54);var l={ordinalNumber:function(e,t){var n=Number(e),r=String((t||{}).unit);return 0===n?n:n+("year"===r||"hour"===r||"week"===r?1===n?"\xe8re":"\xe8me":1===n?"er":"\xe8me")},era:Object(s.a)({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:Object(s.a)({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Object(s.a)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:Object(s.a)({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Object(s.a)({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},c=n(105),u=n(55),d={code:"fr",formatDistance:function(e,t,n){var i;return n=n||{},i="string"===typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"dans "+i:"il y a "+i:i},formatLong:a,formatRelative:function(e,t,n,r){return o[e]},localize:l,match:{ordinalNumber:Object(c.a)({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Object(u.a)({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:Object(u.a)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Object(u.a)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Object(u.a)({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Object(u.a)({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};t.a=d},function(e,t,n){"use strict";var r=n(8),i=n(4),a=n(7),o=n(0),s=(n(9),n(13)),l=n(250),c=n(10),u=n(16),d=n(193),f=n(251);function h(e){return Object(d.a)("MuiFormGroup",e)}Object(f.a)("MuiFormGroup",["root","row"]);var p=n(6),m=["className","row"],v=Object(c.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),g=o.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiFormGroup"}),r=n.className,o=n.row,c=void 0!==o&&o,d=Object(a.a)(n,m),f=Object(i.a)({},n,{row:c}),g=function(e){var t=e.classes,n={root:["root",e.row&&"row"]};return Object(l.a)(n,h,t)}(f);return Object(p.jsx)(v,Object(i.a)({className:Object(s.a)(g.root,r),ownerState:f,ref:t},d))})),b=n(27),C=n(90),y=n(108);var S=function(e){var t=o.useState(e),n=Object(r.a)(t,2),i=n[0],a=n[1],s=e||i;return o.useEffect((function(){null==i&&a("mui-".concat(Math.round(1e9*Math.random())))}),[i]),s},w=["actions","children","defaultValue","name","onChange","value"],T=o.forwardRef((function(e,t){var n=e.actions,s=e.children,l=e.defaultValue,c=e.name,u=e.onChange,d=e.value,f=Object(a.a)(e,w),h=o.useRef(null),m=Object(C.a)({controlled:d,default:l,name:"RadioGroup"}),v=Object(r.a)(m,2),T=v[0],I=v[1];o.useImperativeHandle(n,(function(){return{focus:function(){var e=h.current.querySelector("input:not(:disabled):checked");e||(e=h.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var O=Object(b.a)(t,h),E=S(c);return Object(p.jsx)(y.a.Provider,{value:{name:E,onChange:function(e){I(e.target.value),u&&u(e,e.target.value)},value:T},children:Object(p.jsx)(g,Object(i.a)({role:"radiogroup",ref:O},f,{children:s}))})}));t.a=T},function(e,t,n){"use strict";var r=n(8),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(16),u=n(10),d=n(77),f=n(19);var h=function(e,t){return o.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},p=n(80),m=n(193),v=n(251);function g(e){return Object(m.a)("MuiFormControl",e)}Object(v.a)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var b=n(6),C=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],y=Object(u.a)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(a.a)({},t.root,t["margin".concat(Object(f.a)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Object(a.a)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),S=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiFormControl"}),u=n.children,m=n.className,v=n.color,S=void 0===v?"primary":v,w=n.component,T=void 0===w?"div":w,I=n.disabled,O=void 0!==I&&I,E=n.error,R=void 0!==E&&E,k=n.focused,M=n.fullWidth,_=void 0!==M&&M,A=n.hiddenLabel,x=void 0!==A&&A,D=n.margin,j=void 0===D?"none":D,P=n.required,N=void 0!==P&&P,L=n.size,U=void 0===L?"medium":L,F=n.variant,W=void 0===F?"outlined":F,V=Object(i.a)(n,C),B=Object(a.a)({},n,{color:S,component:T,disabled:O,error:R,fullWidth:_,hiddenLabel:x,margin:j,required:N,size:U,variant:W}),z=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat(Object(f.a)(n)),r&&"fullWidth"]};return Object(l.a)(i,g,t)}(B),H=o.useState((function(){var e=!1;return u&&o.Children.forEach(u,(function(t){if(h(t,["Input","Select"])){var n=h(t,["Select"])?t.props.input:t;n&&Object(d.a)(n.props)&&(e=!0)}})),e})),q=Object(r.a)(H,2),G=q[0],J=q[1],Y=o.useState((function(){var e=!1;return u&&o.Children.forEach(u,(function(t){h(t,["Input","Select"])&&Object(d.b)(t.props,!0)&&(e=!0)})),e})),Z=Object(r.a)(Y,2),K=Z[0],$=Z[1],Q=o.useState(!1),X=Object(r.a)(Q,2),ee=X[0],te=X[1];O&&ee&&te(!1);var ne=void 0===k||O?ee:k,re=o.useCallback((function(){$(!0)}),[]),ie={adornedStart:G,setAdornedStart:J,color:S,disabled:O,error:R,filled:K,focused:ne,fullWidth:_,hiddenLabel:x,size:U,onBlur:function(){te(!1)},onEmpty:o.useCallback((function(){$(!1)}),[]),onFilled:re,onFocus:function(){te(!0)},registerEffect:undefined,required:N,variant:W};return Object(b.jsx)(p.a.Provider,{value:ie,children:Object(b.jsx)(y,Object(a.a)({as:T,ownerState:B,className:Object(s.a)(z.root,m),ref:t},V,{children:u}))})}));t.a=S},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(154),o=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,l=e.step,c=void 0===l?5:l,u=Object(i.a)(e,o),d=Object.keys(n);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function h(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-c/100).concat(s,")")}return Object(r.a)({keys:d,values:n,up:f,down:function(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(s,")")},between:h,only:function(e){return d.indexOf(e)+1<d.length?h(e,d[d.indexOf(e)+1]):f(e)},unit:s},u)}var l={borderRadius:4},c=n(40);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(c.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var d=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,c=void 0===o?{}:o,f=e.spacing,h=e.shape,p=void 0===h?{}:h,m=Object(i.a)(e,d),v=s(n),g=u(f),b=Object(a.a)({breakpoints:v,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},c),spacing:g,shape:Object(r.a)({},l,p)},m),C=arguments.length,y=new Array(C>1?C-1:0),S=1;S<C;S++)y[S-1]=arguments[S];return b=y.reduce((function(e,t){return Object(a.a)(e,t)}),b)}},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(16),u=n(10),d=n(193),f=n(251);function h(e){return Object(d.a)("MuiContainer",e)}Object(f.a)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var p=n(19),m=n(6),v=["className","component","disableGutters","fixed","maxWidth"],g=Object(u.a)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Object(p.a)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({},"xs"===n.maxWidth&&Object(r.a)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Object(r.a)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),b=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiContainer"}),r=n.className,o=n.component,u=void 0===o?"div":o,d=n.disableGutters,f=void 0!==d&&d,b=n.fixed,C=void 0!==b&&b,y=n.maxWidth,S=void 0===y?"lg":y,w=Object(i.a)(n,v),T=Object(a.a)({},n,{component:u,disableGutters:f,fixed:C,maxWidth:S}),I=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,i=e.maxWidth,a={root:["root",i&&"maxWidth".concat(Object(p.a)(String(i))),n&&"fixed",r&&"disableGutters"]};return Object(l.a)(a,h,t)}(T);return Object(m.jsx)(g,Object(a.a)({as:u,ownerState:T,className:Object(s.a)(I.root,r),ref:t},w))}));t.a=b},function(e,t,n){"use strict";var r=n(7),i=n(4),a=n(0),o=(n(9),n(13)),s=n(252),l=n(250),c=n(10),u=n(16),d=n(19),f=n(193),h=n(251);function p(e){return Object(f.a)("MuiTypography",e)}Object(h.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(6),v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=Object(c.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Object(d.a)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},C={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiTypography"}),a=function(e){return C[e]||e}(n.color),c=Object(s.a)(Object(i.a)({},n,{color:a})),f=c.align,h=void 0===f?"inherit":f,y=c.className,S=c.component,w=c.gutterBottom,T=void 0!==w&&w,I=c.noWrap,O=void 0!==I&&I,E=c.paragraph,R=void 0!==E&&E,k=c.variant,M=void 0===k?"body1":k,_=c.variantMapping,A=void 0===_?b:_,x=Object(r.a)(c,v),D=Object(i.a)({},c,{align:h,color:a,className:y,component:S,gutterBottom:T,noWrap:O,paragraph:R,variant:M,variantMapping:A}),j=S||(R?"p":A[M]||b[M])||"span",P=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,s={root:["root",a,"inherit"!==e.align&&"align".concat(Object(d.a)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Object(l.a)(s,p,o)}(D);return Object(m.jsx)(g,Object(i.a)({as:j,ref:t,ownerState:D,className:Object(o.a)(P.root,y)},x))}));t.a=y},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(53),u=n(308),d=n(19),f=n(10),h=n(16),p=n(193),m=n(251);function v(e){return Object(p.a)("MuiFormControlLabel",e)}var g=Object(m.a)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label"]),b=n(6),C=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],y=Object(f.a)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(g.label),t.label),t.root,t["labelPlacement".concat(Object(d.a)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)(Object(r.a)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(g.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},Object(r.a)({},"& .".concat(g.label),Object(r.a)({},"&.".concat(g.disabled),{color:t.palette.text.disabled})))})),S=o.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiFormControlLabel"}),r=n.className,f=n.componentsProps,p=void 0===f?{}:f,m=n.control,g=n.disabled,S=n.disableTypography,w=n.label,T=n.labelPlacement,I=void 0===T?"end":T,O=Object(i.a)(n,C),E=Object(c.a)(),R=g;"undefined"===typeof R&&"undefined"!==typeof m.props.disabled&&(R=m.props.disabled),"undefined"===typeof R&&E&&(R=E.disabled);var k={disabled:R};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof m.props[e]&&"undefined"!==typeof n[e]&&(k[e]=n[e])}));var M=Object(a.a)({},n,{disabled:R,label:w,labelPlacement:I}),_=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i={root:["root",n&&"disabled","labelPlacement".concat(Object(d.a)(r))],label:["label",n&&"disabled"]};return Object(l.a)(i,v,t)}(M);return Object(b.jsxs)(y,Object(a.a)({className:Object(s.a)(_.root,r),ownerState:M,ref:t},O,{children:[o.cloneElement(m,k),w.type===u.a||S?w:Object(b.jsx)(u.a,Object(a.a)({component:"span",className:_.label},p.typography,{children:w}))]}))}));t.a=S},function(e,t,n){"use strict";var r=n(7),i=n(4),a=n(0),o=(n(9),n(13)),s=n(250),l=n(284),c=n(10),u=n(16),d=n(193),f=n(251);function h(e){return Object(d.a)("MuiDivider",e)}Object(f.a)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var p=n(6),m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],v=Object(c.a)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:Object(l.a)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return Object(i.a)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),g=Object(c.a)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({display:"inline-block",paddingLeft:t.spacing(1.2),paddingRight:t.spacing(1.2)},"vertical"===n.orientation&&{paddingTop:t.spacing(1.2),paddingBottom:t.spacing(1.2)})})),b=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiDivider"}),a=n.absolute,l=void 0!==a&&a,c=n.children,d=n.className,f=n.component,b=void 0===f?c?"div":"hr":f,C=n.flexItem,y=void 0!==C&&C,S=n.light,w=void 0!==S&&S,T=n.orientation,I=void 0===T?"horizontal":T,O=n.role,E=void 0===O?"hr"!==b?"separator":void 0:O,R=n.textAlign,k=void 0===R?"center":R,M=n.variant,_=void 0===M?"fullWidth":M,A=Object(r.a)(n,m),x=Object(i.a)({},n,{absolute:l,component:b,flexItem:y,light:w,orientation:I,role:E,textAlign:k,variant:_}),D=function(e){var t=e.absolute,n=e.children,r=e.classes,i=e.flexItem,a=e.light,o=e.orientation,l=e.textAlign,c={root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===l&&"vertical"!==o&&"textAlignRight","left"===l&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return Object(s.a)(c,h,r)}(x);return Object(p.jsx)(v,Object(i.a)({as:b,className:Object(o.a)(D.root,d),role:E,ref:t,ownerState:x},A,{children:c?Object(p.jsx)(g,{className:D.wrapper,ownerState:x,children:c}):null}))}));t.a=b},function(e,t,n){"use strict";var r=n(8),i=n(12),a=n(7),o=n(4),s=n(0),l=(n(9),n(13)),c=n(250),u=n(14),d=n(284),f=n(19),h=n(10),p=n(16),m=n(133),v=n(27),g=n(308),b=n(193),C=n(251);function y(e){return Object(b.a)("MuiLink",e)}var S=Object(C.a)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),w=n(6),T=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],I={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},O=Object(h.a)(g.a,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat(Object(f.a)(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState,r=Object(u.b)(t,"palette.".concat(function(e){return I[e]||e}(n.color)))||n.color;return Object(o.a)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?Object(d.a)(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&Object(i.a)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(S.focusVisible),{outline:"auto"}))})),E=s.forwardRef((function(e,t){var n=Object(p.a)({props:e,name:"MuiLink"}),i=n.className,u=n.color,d=void 0===u?"primary":u,h=n.component,g=void 0===h?"a":h,b=n.onBlur,C=n.onFocus,S=n.TypographyClasses,I=n.underline,E=void 0===I?"always":I,R=n.variant,k=void 0===R?"inherit":R,M=Object(a.a)(n,T),_=Object(m.a)(),A=_.isFocusVisibleRef,x=_.onBlur,D=_.onFocus,j=_.ref,P=s.useState(!1),N=Object(r.a)(P,2),L=N[0],U=N[1],F=Object(v.a)(t,j),W=Object(o.a)({},n,{color:d,component:g,focusVisible:L,underline:E,variant:k}),V=function(e){var t=e.classes,n=e.component,r=e.focusVisible,i=e.underline,a={root:["root","underline".concat(Object(f.a)(i)),"button"===n&&"button",r&&"focusVisible"]};return Object(c.a)(a,y,t)}(W);return Object(w.jsx)(O,Object(o.a)({className:Object(l.a)(V.root,i),classes:S,color:d,component:g,onBlur:function(e){x(e),!1===A.current&&U(!1),b&&b(e)},onFocus:function(e){D(e),!0===A.current&&U(!0),C&&C(e)},ref:F,ownerState:W,variant:k},M))}));t.a=E},function(e,t,n){"use strict";var r=n(7),i=n(4),a=n(0),o=(n(9),n(13)),s=n(250),l=n(284),c=n(10),u=n(16),d=n(193),f=n(251);function h(e){return Object(d.a)("MuiPaper",e)}Object(f.a)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p=n(6),m=["className","component","elevation","square","variant"],v=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},g=Object(c.a)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&Object(i.a)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Object(l.a)("#fff",v(n.elevation)),", ").concat(Object(l.a)("#fff",v(n.elevation)),")")}))})),b=a.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiPaper"}),a=n.className,l=n.component,c=void 0===l?"div":l,d=n.elevation,f=void 0===d?1:d,v=n.square,b=void 0!==v&&v,C=n.variant,y=void 0===C?"elevation":C,S=Object(r.a)(n,m),w=Object(i.a)({},n,{component:c,elevation:f,square:b,variant:y}),T=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return Object(s.a)(a,h,i)}(w);return Object(p.jsx)(g,Object(i.a)({as:c,ownerState:w,className:Object(o.a)(T.root,a),ref:t},S))}));t.a=b},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(0),o=(n(103),n(9),n(13)),s=n(250),l=n(10),c=n(16),u=n(193),d=n(251);function f(e){return Object(u.a)("MuiBottomNavigation",e)}Object(d.a)("MuiBottomNavigation",["root"]);var h=n(6),p=["children","className","component","onChange","showLabels","value"],m=Object(l.a)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{display:"flex",justifyContent:"center",height:56,backgroundColor:e.theme.palette.background.paper}})),v=a.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiBottomNavigation"}),l=n.children,u=n.className,d=n.component,v=void 0===d?"div":d,g=n.onChange,b=n.showLabels,C=void 0!==b&&b,y=n.value,S=Object(i.a)(n,p),w=Object(r.a)({},n,{component:v,showLabels:C}),T=function(e){var t=e.classes;return Object(s.a)({root:["root"]},f,t)}(w);return Object(h.jsx)(m,Object(r.a)({as:v,className:Object(o.a)(T.root,u),ref:t,ownerState:w},S,{children:a.Children.map(l,(function(e,t){if(!a.isValidElement(e))return null;var n=void 0===e.props.value?t:e.props.value;return a.cloneElement(e,{selected:n===y,showLabel:void 0!==e.props.showLabel?e.props.showLabel:C,value:n,onChange:g})}))}))}));t.a=v},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(10),u=n(16),d=n(300),f=n(193),h=n(251);function p(e){return Object(f.a)("MuiBottomNavigationAction",e)}var m=Object(h.a)("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),v=n(6),g=["className","icon","label","onChange","onClick","selected","showLabel","value"],b=Object(c.a)(d.a,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:t.palette.text.secondary,flexDirection:"column",flex:"1"},!n.showLabel&&!n.selected&&{paddingTop:16},Object(r.a)({},"&.".concat(m.selected),{paddingTop:6,color:t.palette.primary.main}))})),C=Object(c.a)("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!n.showLabel&&!n.selected&&{opacity:0,transitionDelay:"0s"},Object(r.a)({},"&.".concat(m.selected),{fontSize:t.typography.pxToRem(14)}))})),y=o.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiBottomNavigationAction"}),r=n.className,o=n.icon,c=n.label,d=n.onChange,f=n.onClick,h=n.value,m=Object(i.a)(n,g),y=n,S=function(e){var t=e.classes,n=e.showLabel,r=e.selected,i={root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]};return Object(l.a)(i,p,t)}(y);return Object(v.jsxs)(b,Object(a.a)({ref:t,className:Object(s.a)(S.root,r),focusRipple:!0,onClick:function(e){d&&d(e,h),f&&f(e)},ownerState:y},m,{children:[o,Object(v.jsx)(C,{className:S.label,ownerState:y,children:c})]}))}));t.a=y},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(61),u=n(53),d=n(10),f=n(19),h=n(193),p=n(251);function m(e){return Object(h.a)("MuiFormHelperText",e)}var v=Object(p.a)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),g=n(16),b=n(6),C=["children","className","component","disabled","error","filled","focused","margin","required","variant"],y=Object(d.a)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Object(f.a)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(a.a)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},Object(r.a)(t,"&.".concat(v.disabled),{color:n.palette.text.disabled}),Object(r.a)(t,"&.".concat(v.error),{color:n.palette.error.main}),t),"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),S=o.forwardRef((function(e,t){var n=Object(g.a)({props:e,name:"MuiFormHelperText"}),r=n.children,o=n.className,d=n.component,h=void 0===d?"p":d,p=Object(i.a)(n,C),v=Object(u.a)(),S=Object(c.a)({props:n,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),w=Object(a.a)({},n,{component:h,contained:"filled"===S.variant||"outlined"===S.variant,variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required}),T=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,c=e.required,u={root:["root",i&&"disabled",a&&"error",r&&"size".concat(Object(f.a)(r)),n&&"contained",s&&"focused",o&&"filled",c&&"required"]};return Object(l.a)(u,m,t)}(w);return Object(b.jsx)(y,Object(a.a)({as:h,ownerState:w,className:Object(s.a)(T.root,o),ref:t},p,{children:" "===r?Object(b.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))}));t.a=S},function(e,t,n){"use strict";var r=n(12),i=n(7),a=n(4),o=n(0),s=(n(9),n(13)),l=n(250),c=n(284),u=n(10),d=n(16),f=n(300),h=n(19),p=n(193),m=n(251);function v(e){return Object(p.a)("MuiButton",e)}var g=Object(m.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),b=n(6),C=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],y=function(e){return Object(a.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},S=Object(u.a)(f.a,{shouldForwardProp:function(e){return Object(u.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(h.a)(n.color))],t["size".concat(Object(h.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(h.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(a.a)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":Object(a.a)({textDecoration:"none",backgroundColor:Object(c.a)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===i.variant&&"inherit"!==i.color&&{backgroundColor:Object(c.a)(n.palette[i.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===i.variant&&"inherit"!==i.color&&{border:"1px solid ".concat(n.palette[i.color].main),backgroundColor:Object(c.a)(n.palette[i.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===i.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===i.variant&&"inherit"!==i.color&&{backgroundColor:n.palette[i.color].dark,"@media (hover: none)":{backgroundColor:n.palette[i.color].main}}),"&:active":Object(a.a)({},"contained"===i.variant&&{boxShadow:n.shadows[8]})},Object(r.a)(t,"&.".concat(g.focusVisible),Object(a.a)({},"contained"===i.variant&&{boxShadow:n.shadows[6]})),Object(r.a)(t,"&.".concat(g.disabled),Object(a.a)({color:n.palette.action.disabled},"outlined"===i.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===i.variant&&"secondary"===i.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===i.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===i.variant&&{padding:"6px 8px"},"text"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].main},"outlined"===i.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].main,border:"1px solid ".concat(Object(c.a)(n.palette[i.color].main,.5))},"contained"===i.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].contrastText,backgroundColor:n.palette[i.color].main},"inherit"===i.color&&{color:"inherit",borderColor:"currentColor"},"small"===i.size&&"text"===i.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"text"===i.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===i.size&&"outlined"===i.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"outlined"===i.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===i.size&&"contained"===i.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"contained"===i.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(g.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(g.disabled),{boxShadow:"none"}),t)})),w=Object(u.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(h.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},y(t))})),T=Object(u.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(h.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},y(t))})),I=o.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiButton"}),r=n.children,o=n.color,c=void 0===o?"primary":o,u=n.component,f=void 0===u?"button":u,p=n.disabled,m=void 0!==p&&p,g=n.disableElevation,y=void 0!==g&&g,I=n.disableFocusRipple,O=void 0!==I&&I,E=n.endIcon,R=n.focusVisibleClassName,k=n.fullWidth,M=void 0!==k&&k,_=n.size,A=void 0===_?"medium":_,x=n.startIcon,D=n.type,j=n.variant,P=void 0===j?"text":j,N=Object(i.a)(n,C),L=Object(a.a)({},n,{color:c,component:f,disabled:m,disableElevation:y,disableFocusRipple:O,fullWidth:M,size:A,type:D,variant:P}),U=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,s=e.classes,c={root:["root",o,"".concat(o).concat(Object(h.a)(t)),"size".concat(Object(h.a)(i)),"".concat(o,"Size").concat(Object(h.a)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(h.a)(i))],endIcon:["endIcon","iconSize".concat(Object(h.a)(i))]},u=Object(l.a)(c,v,s);return Object(a.a)({},s,u)}(L),F=x&&Object(b.jsx)(w,{className:U.startIcon,ownerState:L,children:x}),W=E&&Object(b.jsx)(T,{className:U.endIcon,ownerState:L,children:E});return Object(b.jsxs)(S,Object(a.a)({ownerState:L,component:f,disabled:m,focusRipple:!O,focusVisibleClassName:Object(s.a)(U.focusVisible,R),ref:t,type:D},N,{classes:U,children:[F,r,W]}))}));t.a=I}]]);
//# sourceMappingURL=2.85965591.chunk.js.map